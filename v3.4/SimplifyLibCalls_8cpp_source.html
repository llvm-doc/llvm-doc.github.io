<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: SimplifyLibCalls.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('SimplifyLibCalls_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SimplifyLibCalls.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SimplifyLibCalls_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===------ SimplifyLibCalls.cpp - Library calls simplifier ---------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This is a utility pass used for testing the InstructionSimplify analysis.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// The analysis is applied to every instruction, and if it simplifies then the</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// instruction is replaced by the simplification.  If you are looking for a pass</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// that performs serious instruction folding, use the instcombine pass instead.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SimplifyLibCalls_8h.html">llvm/Transforms/Utils/SimplifyLibCalls.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallString_8h.html">llvm/ADT/SmallString.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringMap_8h.html">llvm/ADT/StringMap.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Triple_8h.html">llvm/ADT/Triple.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Allocator_8h.html">llvm/Support/Allocator.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BuildLibCalls_8h.html">llvm/Transforms/Utils/BuildLibCalls.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<a class="code" href="SimplifyLibCalls_8cpp.html#a9eeed3271e836866068fe08f21dfdc6d">ColdErrorCalls</a>(<span class="stringliteral">&quot;error-reporting-is-cold&quot;</span>,  <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Treat error-reporting calls as cold&quot;</span>));</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// This class is the abstract base class for the set of optimizations that</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// corresponds to one library call.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span><span class="keyword">namespace </span>{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">class </span>LibCallOptimization {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LibCallSimplifier.html">LibCallSimplifier</a> *LCS;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a>* Context;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  LibCallOptimization() { }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">virtual</span> ~LibCallOptimization() {}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">  /// callOptimizer - This pure virtual method is implemented by base classes to</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">  /// do various optimizations.  If this returns null then no transformation was</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">  /// performed.  If it returns CI, then it transformed the call and CI is to be</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">  /// deleted.  If it returns something else, replace CI with the new value and</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">  /// delete CI.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    =0;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">  /// ignoreCallingConv - Returns false if this transformation could possibly</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">  /// change the calling convention.</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ignoreCallingConv() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *optimizeCall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LibCallSimplifier.html">LibCallSimplifier</a> *LCS, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    Caller = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    this-&gt;TD = TD;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    this-&gt;TLI = TLI;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    this-&gt;LCS = LCS;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>())</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      Context = &amp;CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// We never change the calling convention.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> (!ignoreCallingConv() &amp;&amp; CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a2a65eaf09953a013c2820f6857c647f0">getCallingConv</a>() != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a>)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> callOptimizer(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>(), CI, <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;};</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// Helper Functions</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/// isOnlyUsedInZeroEqualityComparison - Return true if it only matters that the</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/// value is equal or not-equal to zero.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isOnlyUsedInZeroEqualityComparison(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = V-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E = V-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;       UI != E; ++UI) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *IC = dyn_cast&lt;ICmpInst&gt;(*UI))</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">if</span> (IC-&gt;isEquality())</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(IC-&gt;getOperand(1)))</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue())</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// Unknown instruction.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">/// isOnlyUsedInEqualityComparison - Return true if it is only used in equality</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/// comparisons with With.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> isOnlyUsedInEqualityComparison(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *With) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = V-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E = V-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;       UI != E; ++UI) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *IC = dyn_cast&lt;ICmpInst&gt;(*UI))</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">if</span> (IC-&gt;isEquality() &amp;&amp; IC-&gt;getOperand(1) == With)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// Unknown instruction.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> callHasFloatingPointArgument(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html#ab829c5fd1bbf60f869608ba1143be151">CallInst::const_op_iterator</a> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> = CI-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>(), e = CI-&gt;<a class="code" href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>();</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;       <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a> != e; ++<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> ((*it)-&gt;getType()-&gt;isFloatingPointTy())</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/// \brief Check whether the overloaded unary floating point function</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">/// corresponing to \a Ty is available.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> hasUnaryFloatFn(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                            <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">LibFunc::Func</a> DoubleFn, <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">LibFunc::Func</a> FloatFn,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                            <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">LibFunc::Func</a> LongDoubleFn) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">switch</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">getTypeID</a>()) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">Type::FloatTyID</a>:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(FloatFn);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">Type::DoubleTyID</a>:</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(DoubleFn);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(LongDoubleFn);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// Fortified Library Call Optimizations</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">struct </span>FortifiedLibCallOptimization : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isFoldable(<span class="keywordtype">unsigned</span> SizeCIOp, <span class="keywordtype">unsigned</span> SizeArgOp,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordtype">bool</span> isString) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;};</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">struct </span>InstFortifiedLibCallOptimization : <span class="keyword">public</span> FortifiedLibCallOptimization {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">bool</span> isFoldable(<span class="keywordtype">unsigned</span> SizeCIOp, <span class="keywordtype">unsigned</span> SizeArgOp, <span class="keywordtype">bool</span> isString)<span class="keyword"> const </span>{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(SizeCIOp) == CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(SizeArgOp))</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SizeCI =</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                           dyn_cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(SizeCIOp))) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">if</span> (SizeCI-&gt;isAllOnesValue())</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">if</span> (isString) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(SizeArgOp));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="comment">// If the length is 0 we don&#39;t know how long it is and so we can&#39;t</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">// remove the check.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> SizeCI-&gt;getZExtValue() &gt;= Len;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Arg = dyn_cast&lt;ConstantInt&gt;(</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                                  CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(SizeArgOp)))</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> SizeCI-&gt;getZExtValue() &gt;= Arg-&gt;getZExtValue();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;};</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keyword">struct </span>MemCpyChkOpt : <span class="keyword">public</span> InstFortifiedLibCallOptimization {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    this-&gt;CI = CI;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>();</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// Check if this has the right signature.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 4 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context) ||</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(3) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context))</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (isFoldable(3, 2, <span class="keyword">false</span>)) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                     CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), 1);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;};</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keyword">struct </span>MemMoveChkOpt : <span class="keyword">public</span> InstFortifiedLibCallOptimization {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    this-&gt;CI = CI;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Check if this has the right signature.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 4 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context) ||</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(3) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context))</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (isFoldable(3, 2, <span class="keyword">false</span>)) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a248295120710baf72dbbd3a862c840e4">CreateMemMove</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                      CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), 1);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;};</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keyword">struct </span>MemSetChkOpt : <span class="keyword">public</span> InstFortifiedLibCallOptimization {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    this-&gt;CI = CI;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">// Check if this has the right signature.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 4 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context) ||</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(3) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context))</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (isFoldable(3, 2, <span class="keyword">false</span>)) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = B.<a class="code" href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">getInt8Ty</a>(),</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                   <span class="keyword">false</span>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a58f62481bd3a4bfc5d07102fe857741a">CreateMemSet</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), Val, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), 1);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;};</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keyword">struct </span>StrCpyChkOpt : <span class="keyword">public</span> InstFortifiedLibCallOptimization {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    this-&gt;CI = CI;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>();</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// Check if this has the right signature.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 ||</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(Context) ||</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context))</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (Dst == Src)      <span class="comment">// __strcpy_chk(x,x)  -&gt; x</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> Src;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// If a) we don&#39;t have any length information, or b) we know this will</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// fit then just lower to a plain strcpy. Otherwise we&#39;ll keep our</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// strcpy_chk call which may fail at runtime if the size is too long.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// TODO: It might be nice to get a maximum length out of the possible</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// string lengths for varying.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (isFoldable(2, 1, <span class="keyword">true</span>)) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a> = <a class="code" href="namespacellvm.html#ae601a37973544f791ae8c6bc8e57181f">EmitStrCpy</a>(Dst, Src, B, TD, TLI, Name.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(2, 6));</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="comment">// Maybe we can stil fold __strcpy_chk to __memcpy_chk.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="comment">// This optimization require DataLayout.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ret =</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="namespacellvm.html#a4c34d1c17a979d0df68f8eaebeb35629">EmitMemCpyChk</a>(Dst, Src,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                      <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context), Len),</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                      CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;};</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keyword">struct </span>StpCpyChkOpt : <span class="keyword">public</span> InstFortifiedLibCallOptimization {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    this-&gt;CI = CI;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name = Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// Check if this has the right signature.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 ||</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(Context) ||</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)))</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (Dst == Src) {  <span class="comment">// stpcpy(x,x)  -&gt; x+strlen(x)</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a2e7a6605c39fb458c0885513060fe2b0">StrLen</a> = <a class="code" href="namespacellvm.html#aeb757469668c1dfea81273148ccdf0ab">EmitStrLen</a>(Src, B, TD, TLI);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">return</span> StrLen ? B.<a class="code" href="classllvm_1_1IRBuilder.html#a1f5e8b8d535e593299355288aa0cbd67">CreateInBoundsGEP</a>(Dst, StrLen) : 0;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// If a) we don&#39;t have any length information, or b) we know this will</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// fit then just lower to a plain stpcpy. Otherwise we&#39;ll keep our</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">// stpcpy_chk call which may fail at runtime if the size is too long.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// TODO: It might be nice to get a maximum length out of the possible</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// string lengths for varying.</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (isFoldable(2, 1, <span class="keyword">true</span>)) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ret = <a class="code" href="namespacellvm.html#ae601a37973544f791ae8c6bc8e57181f">EmitStrCpy</a>(Dst, Src, B, TD, TLI, Name.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(2, 6));</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// Maybe we can stil fold __stpcpy_chk to __memcpy_chk.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// This optimization require DataLayout.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *PT = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *LenV = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(PT), Len);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *DstEnd = B.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(Dst,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                  <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(PT),</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                                   Len - 1));</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a4c34d1c17a979d0df68f8eaebeb35629">EmitMemCpyChk</a>(Dst, Src, LenV, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI))</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">return</span> DstEnd;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;};</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="keyword">struct </span>StrNCpyChkOpt : <span class="keyword">public</span> InstFortifiedLibCallOptimization {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    this-&gt;CI = CI;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name = Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>();</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// Check if this has the right signature.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 4 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(Context) ||</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(3) != TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(Context))</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (isFoldable(3, 2, <span class="keyword">false</span>)) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ret = <a class="code" href="namespacellvm.html#ae3766d58307260b74c7ea9258a1085b5">EmitStrNCpy</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                               CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                               Name.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(2, 7));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;};</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">// String and Memory Library Call Optimizations</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="keyword">struct </span>StrCatOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// Verify the &quot;strcat&quot; function prototype.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() ||</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>())</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// Extract some information from the instruction</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// See if we can get the length of the input string.</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    --Len;  <span class="comment">// Unbias length.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// Handle the simple, do-nothing case: strcat(x, &quot;&quot;) -&gt; x</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (Len == 0)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">return</span> Dst;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> emitStrLenMemCpy(Src, Dst, Len, B);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *emitStrLenMemCpy(<a class="code" href="classllvm_1_1Value.html">Value</a> *Src, <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst, uint64_t Len,</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                          <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// We need to find the end of the destination string.  That&#39;s where the</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// memory is to be moved to. We just generate a call to strlen.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *DstLen = <a class="code" href="namespacellvm.html#aeb757469668c1dfea81273148ccdf0ab">EmitStrLen</a>(Dst, B, TD, TLI);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (!DstLen)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// Now that we have the destination&#39;s length, we must index into the</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// destination&#39;s pointer to get the actual memcpy destination (end of</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">// the string .. we&#39;re concatenating).</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *CpyDst = B.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(Dst, DstLen, <span class="stringliteral">&quot;endptr&quot;</span>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// We have enough information to now generate the memcpy call to do the</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// concatenation for us.  Make a memcpy to copy the nul byte with align = 1.</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(CpyDst, Src,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                   <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(*Context), Len + 1), 1);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> Dst;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;};</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="keyword">struct </span>StrNCatOpt : <span class="keyword">public</span> StrCatOpt {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// Verify the &quot;strncat&quot; function prototype.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 ||</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() ||</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() ||</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// Extract some information from the instruction</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    uint64_t Len;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// We don&#39;t do anything if length is not constant</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LengthArg = dyn_cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2)))</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      Len = LengthArg-&gt;getZExtValue();</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// See if we can get the length of the input string.</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    uint64_t SrcLen = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> (SrcLen == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    --SrcLen;  <span class="comment">// Unbias length.</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// Handle the simple, do-nothing cases:</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// strncat(x, &quot;&quot;, c) -&gt; x</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// strncat(x,  c, 0) -&gt; x</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (SrcLen == 0 || Len == 0) <span class="keywordflow">return</span> Dst;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// We don&#39;t optimize this case</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> (Len &lt; SrcLen) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">// strncat(x, s, c) -&gt; strcat(x, s)</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">// s is constant so the strcat can be optimized further</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> emitStrLenMemCpy(Src, Dst, SrcLen, B);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;};</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="keyword">struct </span>StrChrOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// Verify the &quot;strchr&quot; function prototype.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() ||</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32))</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcStr = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// If the second operand is non-constant, see if we can compute the length</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// of the input string and turn this into memchr.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CharC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1));</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (CharC == 0) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(SrcStr);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">if</span> (Len == 0 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32))<span class="comment">// memchr needs i32.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a427bf8cb5a44f3f2c23ae7827889eb27">EmitMemChr</a>(SrcStr, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), <span class="comment">// include nul.</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(*Context), Len),</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        B, TD, TLI);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// Otherwise, the character is a constant, see if the first argument is</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// a string literal.  If so, we can constant fold.</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(SrcStr, Str))</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// Compute the offset, make sure to handle the case when we&#39;re searching for</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// zero (a weird way to spell strlen).</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = (0xFF &amp; CharC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>()) == 0 ?</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        Str.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() : Str.<a class="code" href="classllvm_1_1StringRef.html#a421e16456fe6d7b71fb4af736194165c">find</a>(CharC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>());</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (I == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a>) <span class="comment">// Didn&#39;t find the char.  strchr returns null.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// strchr(s+n,c)  -&gt; gep(s+n+i,c)</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(SrcStr, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a675da14f55ad277eae001b705c42be8b">getInt64</a>(I), <span class="stringliteral">&quot;strchr&quot;</span>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;};</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="keyword">struct </span>StrRChrOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// Verify the &quot;strrchr&quot; function prototype.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() ||</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32))</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcStr = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CharC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1));</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// Cannot fold anything if we&#39;re not looking for a constant.</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (!CharC)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(SrcStr, Str)) {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="comment">// strrchr(s, 0) -&gt; strchr(s, 0)</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">if</span> (TD &amp;&amp; CharC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>())</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a10e9d29cf69cbc46524b855cac23b289">EmitStrChr</a>(SrcStr, <span class="charliteral">&#39;\0&#39;</span>, B, TD, TLI);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// Compute the offset.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">size_t</span> I = (0xFF &amp; CharC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>()) == 0 ?</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        Str.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() : Str.<a class="code" href="classllvm_1_1StringRef.html#a87091ed60a621a3d430752da2996d27b">rfind</a>(CharC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>());</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (I == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a>) <span class="comment">// Didn&#39;t find the char. Return null.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// strrchr(s+n,c) -&gt; gep(s+n+i,c)</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(SrcStr, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a675da14f55ad277eae001b705c42be8b">getInt64</a>(I), <span class="stringliteral">&quot;strrchr&quot;</span>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;};</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="keyword">struct </span>StrCmpOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// Verify the &quot;strcmp&quot; function prototype.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) ||</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>())</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Str1P = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *Str2P = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (Str1P == Str2P)      <span class="comment">// strcmp(x,x)  -&gt; 0</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 0);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str1, Str2;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">bool</span> HasStr1 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(Str1P, Str1);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">bool</span> HasStr2 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(Str2P, Str2);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// strcmp(x, y)  -&gt; cnst  (if both x and y are constant strings)</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (HasStr1 &amp;&amp; HasStr2)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), Str1.compare(Str2));</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (HasStr1 &amp;&amp; Str1.empty()) <span class="comment">// strcmp(&quot;&quot;, x) -&gt; -*x</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a97ab781fefa6f6ff35ce5c4c7dac3a79">CreateNeg</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(Str2P, <span class="stringliteral">&quot;strcmpload&quot;</span>),</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()));</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (HasStr2 &amp;&amp; Str2.empty()) <span class="comment">// strcmp(x,&quot;&quot;) -&gt; *x</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(Str1P, <span class="stringliteral">&quot;strcmpload&quot;</span>), CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// strcmp(P, &quot;x&quot;) -&gt; memcmp(P, &quot;x&quot;, 2)</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    uint64_t Len1 = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Str1P);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    uint64_t Len2 = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Str2P);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (Len1 &amp;&amp; Len2) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af7368cf055e9edbd287f809ce476dba3">EmitMemCmp</a>(Str1P, Str2P,</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(*Context),</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                        std::min(Len1, Len2)), B, TD, TLI);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;};</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="keyword">struct </span>StrNCmpOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// Verify the &quot;strncmp&quot; function prototype.</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 ||</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) ||</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Str1P = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *Str2P = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (Str1P == Str2P)      <span class="comment">// strncmp(x,x,n)  -&gt; 0</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 0);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// Get the length argument if it is constant.</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    uint64_t Length;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LengthArg = dyn_cast&lt;ConstantInt&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2)))</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      Length = LengthArg-&gt;getZExtValue();</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (Length == 0) <span class="comment">// strncmp(x,y,0)   -&gt; 0</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 0);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> (TD &amp;&amp; Length == 1) <span class="comment">// strncmp(x,y,1) -&gt; memcmp(x,y,1)</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af7368cf055e9edbd287f809ce476dba3">EmitMemCmp</a>(Str1P, Str2P, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str1, Str2;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordtype">bool</span> HasStr1 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(Str1P, Str1);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordtype">bool</span> HasStr2 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(Str2P, Str2);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// strncmp(x, y)  -&gt; cnst  (if both x and y are constant strings)</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">if</span> (HasStr1 &amp;&amp; HasStr2) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SubStr1 = Str1.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(0, Length);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SubStr2 = Str2.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(0, Length);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), SubStr1.<a class="code" href="classllvm_1_1StringRef.html#aaad2ceb595181c43b5969814345ab198">compare</a>(SubStr2));</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span> (HasStr1 &amp;&amp; Str1.empty())  <span class="comment">// strncmp(&quot;&quot;, x, n) -&gt; -*x</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a97ab781fefa6f6ff35ce5c4c7dac3a79">CreateNeg</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(Str2P, <span class="stringliteral">&quot;strcmpload&quot;</span>),</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                      CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()));</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (HasStr2 &amp;&amp; Str2.empty())  <span class="comment">// strncmp(x, &quot;&quot;, n) -&gt; *x</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(Str1P, <span class="stringliteral">&quot;strcmpload&quot;</span>), CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;};</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="keyword">struct </span>StrCpyOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// Verify the &quot;strcpy&quot; function prototype.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>())</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span> (Dst == Src)      <span class="comment">// strcpy(x,x)  -&gt; x</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">return</span> Src;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// See if we can get the length of the input string.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// We have enough information to now generate the memcpy call to do the</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// copy for us.  Make a memcpy to copy the nul byte with align = 1.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(Dst, Src,</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;       <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;getIntPtrType(*Context), Len), 1);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> Dst;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;};</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="keyword">struct </span>StpCpyOpt: <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="comment">// Verify the &quot;stpcpy&quot; function prototype.</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>())</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (Dst == Src) {  <span class="comment">// stpcpy(x,x)  -&gt; x+strlen(x)</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *StrLen = <a class="code" href="namespacellvm.html#aeb757469668c1dfea81273148ccdf0ab">EmitStrLen</a>(Src, B, TD, TLI);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">return</span> StrLen ? B.<a class="code" href="classllvm_1_1IRBuilder.html#a1f5e8b8d535e593299355288aa0cbd67">CreateInBoundsGEP</a>(Dst, StrLen) : 0;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="comment">// See if we can get the length of the input string.</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *PT = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LenV = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;getIntPtrType(PT), Len);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *DstEnd = B.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(Dst,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                                <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;getIntPtrType(PT),</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                                 Len - 1));</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// We have enough information to now generate the memcpy call to do the</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// copy for us.  Make a memcpy to copy the nul byte with align = 1.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(Dst, Src, LenV, 1);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">return</span> DstEnd;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;};</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="keyword">struct </span>StrNCpyOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Dst = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LenOp = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// See if we can get the length of the input string.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    uint64_t SrcLen = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">if</span> (SrcLen == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    --SrcLen;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">if</span> (SrcLen == 0) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="comment">// strncpy(x, &quot;&quot;, y) -&gt; memset(x, &#39;\0&#39;, y, 1)</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a58f62481bd3a4bfc5d07102fe857741a">CreateMemSet</a>(Dst, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a52caf9c563fee52b23e0ee4875c6248f">getInt8</a>(<span class="charliteral">&#39;\0&#39;</span>), LenOp, 1);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keywordflow">return</span> Dst;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    uint64_t Len;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LengthArg = dyn_cast&lt;ConstantInt&gt;(LenOp))</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      Len = LengthArg-&gt;getZExtValue();</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> Dst; <span class="comment">// strncpy(x, y, 0) -&gt; x</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Let strncpy handle the zero padding</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">if</span> (Len &gt; SrcLen+1) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *PT = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// strncpy(x, s, c) -&gt; memcpy(x, s, c, 1) [s and c are constant]</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(Dst, Src,</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                   <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;getIntPtrType(PT), Len), 1);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> Dst;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;};</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="keyword">struct </span>StrLenOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ignoreCallingConv() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 ||</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// Constant folding: strlen(&quot;xyz&quot;) -&gt; 3</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(Src))</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), Len-1);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">// strlen(x) != 0 --&gt; *x != 0</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">// strlen(x) == 0 --&gt; *x == 0</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">if</span> (isOnlyUsedInZeroEqualityComparison(CI))</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(Src, <span class="stringliteral">&quot;strlenfirst&quot;</span>), CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;};</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="keyword">struct </span>StrPBrkOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0))</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> S1, S2;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordtype">bool</span> HasS1 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), S1);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordtype">bool</span> HasS2 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), S2);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// strpbrk(s, &quot;&quot;) -&gt; NULL</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// strpbrk(&quot;&quot;, s) -&gt; NULL</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> ((HasS1 &amp;&amp; S1.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>()) || (HasS2 &amp;&amp; S2.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>()))</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// Constant folding.</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (HasS1 &amp;&amp; HasS2) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keywordtype">size_t</span> I = S1.<a class="code" href="classllvm_1_1StringRef.html#a54b5863f31e0a39c204f3460f9ddde75">find_first_of</a>(S2);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">if</span> (I == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a>) <span class="comment">// No match.</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a675da14f55ad277eae001b705c42be8b">getInt64</a>(I), <span class="stringliteral">&quot;strpbrk&quot;</span>);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// strpbrk(s, &quot;a&quot;) -&gt; strchr(s, &#39;a&#39;)</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">if</span> (TD &amp;&amp; HasS2 &amp;&amp; S2.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() == 1)</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a10e9d29cf69cbc46524b855cac23b289">EmitStrChr</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), S2[0], <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;};</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="keyword">struct </span>StrToOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> ((FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 &amp;&amp; FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3) ||</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *EndPtr = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(EndPtr)) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="comment">// With a null EndPtr, this function won&#39;t capture the main argument.</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="comment">// It would be readonly too, except that it still may write to errno.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">addAttribute</a>(1, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5cc1fd181ee0ea215071ffbe1ea16780">Attribute::NoCapture</a>);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;};</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="keyword">struct </span>StrSpnOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> S1, S2;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordtype">bool</span> HasS1 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), S1);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordtype">bool</span> HasS2 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), S2);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// strspn(s, &quot;&quot;) -&gt; 0</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// strspn(&quot;&quot;, s) -&gt; 0</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> ((HasS1 &amp;&amp; S1.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>()) || (HasS2 &amp;&amp; S2.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>()))</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// Constant folding.</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (HasS1 &amp;&amp; HasS2) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordtype">size_t</span> Pos = S1.<a class="code" href="classllvm_1_1StringRef.html#ace8a9dc13034dc6a31a5dea627190c88">find_first_not_of</a>(S2);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">if</span> (Pos == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a>) Pos = S1.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>();</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), Pos);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;};</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="keyword">struct </span>StrCSpnOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>() ||</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> S1, S2;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordtype">bool</span> HasS1 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), S1);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordtype">bool</span> HasS2 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), S2);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// strcspn(&quot;&quot;, s) -&gt; 0</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (HasS1 &amp;&amp; S1.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>())</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// Constant folding.</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (HasS1 &amp;&amp; HasS2) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordtype">size_t</span> Pos = S1.<a class="code" href="classllvm_1_1StringRef.html#a54b5863f31e0a39c204f3460f9ddde75">find_first_of</a>(S2);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">if</span> (Pos == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a>) Pos = S1.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>();</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), Pos);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">// strcspn(s, &quot;&quot;) -&gt; strlen(s)</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (TD &amp;&amp; HasS2 &amp;&amp; S2.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>())</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aeb757469668c1dfea81273148ccdf0ab">EmitStrLen</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;};</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="keyword">struct </span>StrStrOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 ||</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="comment">// fold strstr(x, x) -&gt; x.</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0) == CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1))</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">CreateBitCast</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="comment">// fold strstr(a, b) == a -&gt; strncmp(a, b, strlen(b)) == 0</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">if</span> (TD &amp;&amp; isOnlyUsedInEqualityComparison(CI, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0))) {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *StrLen = <a class="code" href="namespacellvm.html#aeb757469668c1dfea81273148ccdf0ab">EmitStrLen</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="keywordflow">if</span> (!StrLen)</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a85e88afd3b8ba5be7537e1a30a087709">StrNCmp</a> = <a class="code" href="namespacellvm.html#a85870830b10065892c3b0355fc25a377">EmitStrNCmp</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                   <a class="code" href="namespacellvm.html#a2e7a6605c39fb458c0885513060fe2b0">StrLen</a>, <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="keywordflow">if</span> (!StrNCmp)</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = CI-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;           UI != UE; ) {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *Old = cast&lt;ICmpInst&gt;(*UI++);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Cmp = B.CreateICmp(Old-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>(), <a class="code" href="namespacellvm.html#a85e88afd3b8ba5be7537e1a30a087709">StrNCmp</a>,</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                  <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">ConstantInt::getNullValue</a>(StrNCmp-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()),</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                                  <span class="stringliteral">&quot;cmp&quot;</span>);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        LCS-&gt;<a class="code" href="classllvm_1_1LibCallSimplifier.html#a420c81fa4216737eabfbf384b4eab31d">replaceAllUsesWith</a>(Old, Cmp);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="keywordflow">return</span> CI;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">// See if either input string is a constant string.</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SearchStr, ToFindStr;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordtype">bool</span> HasStr1 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), SearchStr);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordtype">bool</span> HasStr2 = <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), ToFindStr);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="comment">// fold strstr(x, &quot;&quot;) -&gt; x.</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (HasStr2 &amp;&amp; ToFindStr.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>())</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordflow">return</span> B.CreateBitCast(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="comment">// If both strings are known, constant fold it.</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">if</span> (HasStr1 &amp;&amp; HasStr2) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordtype">size_t</span> Offset = SearchStr.<a class="code" href="classllvm_1_1StringRef.html#a421e16456fe6d7b71fb4af736194165c">find</a>(ToFindStr);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="keywordflow">if</span> (Offset == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a>) <span class="comment">// strstr(&quot;foo&quot;, &quot;bar&quot;) -&gt; null</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="comment">// strstr(&quot;abcd&quot;, &quot;bc&quot;) -&gt; gep((char*)&quot;abcd&quot;, 1)</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Result = <a class="code" href="namespacellvm.html#ac63e6fb194823d8e130f27312a749e1c">CastToCStr</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      Result = B.CreateConstInBoundsGEP1_64(Result, Offset, <span class="stringliteral">&quot;strstr&quot;</span>);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordflow">return</span> B.CreateBitCast(Result, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// fold strstr(x, &quot;y&quot;) -&gt; strchr(x, &#39;y&#39;).</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> (HasStr2 &amp;&amp; ToFindStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() == 1) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ac806d7f93424cefb1f2098b4dd7f8dbb">StrChr</a>= <a class="code" href="namespacellvm.html#a10e9d29cf69cbc46524b855cac23b289">EmitStrChr</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), ToFindStr[0], <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">return</span> StrChr ? B.CreateBitCast(StrChr, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) : 0;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;};</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="keyword">struct </span>MemCmpOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32))</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *RHS = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (LHS == RHS)  <span class="comment">// memcmp(s,s,x) -&gt; 0</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="comment">// Make sure we have a constant length.</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LenC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2));</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span> (!LenC) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    uint64_t Len = LenC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">if</span> (Len == 0) <span class="comment">// memcmp(s1,s2,0) -&gt; 0</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="comment">// memcmp(S1,S2,1) -&gt; *(unsigned char*)LHS - *(unsigned char*)RHS</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">if</span> (Len == 1) {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *LHSV = B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(<a class="code" href="namespacellvm.html#ac63e6fb194823d8e130f27312a749e1c">CastToCStr</a>(LHS, B), <span class="stringliteral">&quot;lhsc&quot;</span>),</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                 CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="stringliteral">&quot;lhsv&quot;</span>);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *RHSV = B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(<a class="code" href="namespacellvm.html#ac63e6fb194823d8e130f27312a749e1c">CastToCStr</a>(RHS, B), <span class="stringliteral">&quot;rhsc&quot;</span>),</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                                 CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="stringliteral">&quot;rhsv&quot;</span>);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#afa1cb82e021c7f516f65d40162fe6c53">CreateSub</a>(LHSV, RHSV, <span class="stringliteral">&quot;chardiff&quot;</span>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="comment">// Constant folding: memcmp(x, y, l) -&gt; cnst (all arguments are constant)</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> LHSStr, RHSStr;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(LHS, LHSStr) &amp;&amp;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(RHS, RHSStr)) {</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="comment">// Make sure we&#39;re not reading out-of-bounds memory.</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keywordflow">if</span> (Len &gt; LHSStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() || Len &gt; RHSStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>())</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="comment">// Fold the memcmp and normalize the result.  This way we get consistent</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="comment">// results across multiple platforms.</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      uint64_t Ret = 0;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordtype">int</span> Cmp = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3ac509b06abcd9a75f6676d6a65b0251">memcmp</a>(LHSStr.<a class="code" href="classllvm_1_1StringRef.html#a7d9b88d042ae1da8afd5509875c90a04">data</a>(), RHSStr.<a class="code" href="classllvm_1_1StringRef.html#a7d9b88d042ae1da8afd5509875c90a04">data</a>(), Len);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">if</span> (Cmp &lt; 0)</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        Ret = -1;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cmp &gt; 0)</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        Ret = 1;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    }</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;};</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="keyword">struct </span>MemCpyOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;getIntPtrType(*Context))</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// memcpy(x, y, n) -&gt; llvm.memcpy(x, y, n, 1)</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                   CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), 1);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;};</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="keyword">struct </span>MemMoveOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;getIntPtrType(*Context))</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="comment">// memmove(x, y, n) -&gt; llvm.memmove(x, y, n, 1)</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a248295120710baf72dbbd3a862c840e4">CreateMemMove</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), 1);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;};</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="keyword">struct </span>MemSetOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 3 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2) != TD-&gt;getIntPtrType(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)))</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// memset(p, v, n) -&gt; llvm.memset(p, v, n, 1)</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = B.<a class="code" href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">getInt8Ty</a>(), <span class="keyword">false</span>);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a58f62481bd3a4bfc5d07102fe857741a">CreateMemSet</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), Val, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), 1);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;};</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">// Math Library Optimizations</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">// Double -&gt; Float Shrinking Optimizations for Unary Functions like &#39;floor&#39;</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="keyword">struct </span>UnaryDoubleFPOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordtype">bool</span> CheckRetType;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  UnaryDoubleFPOpt(<span class="keywordtype">bool</span> CheckReturnType): CheckRetType(CheckReturnType) {}</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">isDoubleTy</a>() ||</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">isDoubleTy</a>())</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (CheckRetType) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="comment">// Check if all the uses for function like &#39;sin&#39; are converted to float.</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UseI = CI-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(); UseI != CI-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;          ++UseI) {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <a class="code" href="classllvm_1_1FPTruncInst.html">FPTruncInst</a> *Cast = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1FPTruncInst.html">FPTruncInst</a>&gt;(*UseI);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordflow">if</span> (Cast == 0 || !Cast-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>())</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;          <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// If this is something like &#39;floor((double)floatval)&#39;, convert to floorf.</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="classllvm_1_1FPExtInst.html">FPExtInst</a> *Cast = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1FPExtInst.html">FPExtInst</a>&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0));</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">if</span> (Cast == 0 || !Cast-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>())</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// floor((double)floatval) -&gt; (double)floorf(floatval)</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = Cast-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    V = <a class="code" href="namespacellvm.html#a77db76f1e31901d271ba6c2e3def4e94">EmitUnaryFloatFnCall</a>(V, Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>());</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a280ee6e142a03897a4663bfdfd97d18d">CreateFPExt</a>(V, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a20584f4f40ed5bd24173c40c4185551a">getDoubleTy</a>());</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;};</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="keyword">struct </span>UnsafeFPLibCallOptimization : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  UnsafeFPLibCallOptimization(<span class="keywordtype">bool</span> UnsafeFPShrink) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    this-&gt;UnsafeFPShrink = <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;};</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="keyword">struct </span>CosOpt : <span class="keyword">public</span> UnsafeFPLibCallOptimization {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  CosOpt(<span class="keywordtype">bool</span> <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>) : UnsafeFPLibCallOptimization(UnsafeFPShrink) {}</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Ret = NULL;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a> &amp;&amp; Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() == <span class="stringliteral">&quot;cos&quot;</span> &amp;&amp;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6facbe67d9e2920bce533f6874be1fe34c5">LibFunc::cosf</a>)) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      UnaryDoubleFPOpt <a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      Ret = <a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>.callOptimizer(Callee, CI, B);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// Just make sure this has 1 argument of FP type, which matches the</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="comment">// result type.</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a40113570b0c52a18c34cabed8359e2c8">isFloatingPointTy</a>())</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <span class="keywordflow">return</span> Ret;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="comment">// cos(-x) -&gt; cos(x)</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BinaryOperator.html#ab87cae7de3df7420fff131c5305d5b6f">BinaryOperator::isFNeg</a>(Op1)) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BinExpr = cast&lt;BinaryOperator&gt;(Op1);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a7e31b0c02df2aeed261b103b790cc01e">CreateCall</a>(Callee, BinExpr-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), <span class="stringliteral">&quot;cos&quot;</span>);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;};</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="keyword">struct </span>PowOpt : <span class="keyword">public</span> UnsafeFPLibCallOptimization {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  PowOpt(<span class="keywordtype">bool</span> <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>) : UnsafeFPLibCallOptimization(UnsafeFPShrink) {}</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Ret = NULL;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a> &amp;&amp; Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() == <span class="stringliteral">&quot;pow&quot;</span> &amp;&amp;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa62c8dfa59caa8250b9c988b6d49fc18c">LibFunc::powf</a>)) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      UnaryDoubleFPOpt <a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      Ret = <a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>.callOptimizer(Callee, CI, B);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="comment">// Just make sure this has 2 arguments of the same FP type, which match the</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="comment">// result type.</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1) ||</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a40113570b0c52a18c34cabed8359e2c8">isFloatingPointTy</a>())</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">return</span> Ret;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), *Op2 = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *Op1C = dyn_cast&lt;ConstantFP&gt;(Op1)) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="comment">// pow(1.0, x) -&gt; 1.0</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordflow">if</span> (Op1C-&gt;isExactlyValue(1.0))</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">return</span> Op1C;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="comment">// pow(2.0, x) -&gt; exp2(x)</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <span class="keywordflow">if</span> (Op1C-&gt;isExactlyValue(2.0) &amp;&amp;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;          hasUnaryFloatFn(TLI, Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1e752b4eaa4c9db56a2bbcef82f934b9">LibFunc::exp2</a>, <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa05508f8c6ed5aa858e634f44bebeabf9">LibFunc::exp2f</a>,</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                          <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa59bb423c84bc9293df624f68bad35332">LibFunc::exp2l</a>))</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a77db76f1e31901d271ba6c2e3def4e94">EmitUnaryFloatFnCall</a>(Op2, <span class="stringliteral">&quot;exp2&quot;</span>, B, Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>());</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    }</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *Op2C = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a>&gt;(Op2);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">if</span> (Op2C == 0) <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">if</span> (Op2C-&gt;getValueAPF().isZero())  <span class="comment">// pow(x, 0.0) -&gt; 1.0</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1.0);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span> (Op2C-&gt;isExactlyValue(0.5) &amp;&amp;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        hasUnaryFloatFn(TLI, Op2-&gt;getType(), <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac68935baf041f4139079dbd9ddc76698">LibFunc::sqrt</a>, <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5fe293a4388b5441e4c698d9ce6b0fdf">LibFunc::sqrtf</a>,</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                        <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac17090e4b053b9849f6f4fc20b1329be">LibFunc::sqrtl</a>) &amp;&amp;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        hasUnaryFloatFn(TLI, Op2-&gt;getType(), <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf3a65ea3339861d41948aa2de71ba2e4">LibFunc::fabs</a>, <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf017b93d43a8de0d5fe5680131ec14d6">LibFunc::fabsf</a>,</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                        <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa311d355a7612d8ed79a9d1f8c3f734fa">LibFunc::fabsl</a>)) {</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="comment">// Expand pow(x, 0.5) to (x == -infinity ? +infinity : fabs(sqrt(x))).</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="comment">// This is faster than calling pow, and still handles negative zero</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="comment">// and negative infinity correctly.</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="comment">// TODO: In fast-math mode, this could be just sqrt(x).</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="comment">// TODO: In finite-only mode, this could be just fabs(sqrt(x)).</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Inf = <a class="code" href="classllvm_1_1ConstantFP.html#afe0254496c59be7ea1f165f74242ef4d">ConstantFP::getInfinity</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NegInf = <a class="code" href="classllvm_1_1ConstantFP.html#afe0254496c59be7ea1f165f74242ef4d">ConstantFP::getInfinity</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Sqrt = <a class="code" href="namespacellvm.html#a77db76f1e31901d271ba6c2e3def4e94">EmitUnaryFloatFnCall</a>(Op1, <span class="stringliteral">&quot;sqrt&quot;</span>, B,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                                         Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>());</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *FAbs = <a class="code" href="namespacellvm.html#a77db76f1e31901d271ba6c2e3def4e94">EmitUnaryFloatFnCall</a>(Sqrt, <span class="stringliteral">&quot;fabs&quot;</span>, B,</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                                         Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>());</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *FCmp = B.<a class="code" href="classllvm_1_1IRBuilder.html#a4c4e0ddf48da714833f47875d2d3b95c">CreateFCmpOEQ</a>(Op1, NegInf);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Sel = B.<a class="code" href="classllvm_1_1IRBuilder.html#ae19d9d49f39d404703b42161ce788954">CreateSelect</a>(FCmp, Inf, FAbs);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">return</span> Sel;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    }</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">if</span> (Op2C-&gt;isExactlyValue(1.0))  <span class="comment">// pow(x, 1.0) -&gt; x</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">if</span> (Op2C-&gt;isExactlyValue(2.0))  <span class="comment">// pow(x, 2.0) -&gt; x*x</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#ad5fec5c08f31a41d968cc03b5426ee63">CreateFMul</a>(Op1, Op1, <span class="stringliteral">&quot;pow2&quot;</span>);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">if</span> (Op2C-&gt;isExactlyValue(-1.0)) <span class="comment">// pow(x, -1.0) -&gt; 1.0/x</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a9bee00a6f74634db85a7ef6bca378114">CreateFDiv</a>(<a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1.0),</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                          Op1, <span class="stringliteral">&quot;powrecip&quot;</span>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;};</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="keyword">struct </span>Exp2Opt : <span class="keyword">public</span> UnsafeFPLibCallOptimization {</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  Exp2Opt(<span class="keywordtype">bool</span> <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>) : UnsafeFPLibCallOptimization(UnsafeFPShrink) {}</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Ret = NULL;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a> &amp;&amp; Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() == <span class="stringliteral">&quot;exp2&quot;</span> &amp;&amp;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(LibFunc::exp2f)) {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      UnaryDoubleFPOpt <a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      Ret = <a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>.callOptimizer(Callee, CI, B);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">// Just make sure this has 1 argument of FP type, which matches the</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="comment">// result type.</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a40113570b0c52a18c34cabed8359e2c8">isFloatingPointTy</a>())</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">return</span> Ret;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// Turn exp2(sitofp(x)) -&gt; ldexp(1.0, sext(x))  if sizeof(x) &lt;= 32</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="comment">// Turn exp2(uitofp(x)) -&gt; ldexp(1.0, zext(x))  if sizeof(x) &lt; 32</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *LdExpArg = 0;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SIToFPInst.html">SIToFPInst</a> *OpC = dyn_cast&lt;SIToFPInst&gt;(Op)) {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">if</span> (OpC-&gt;getOperand(0)-&gt;getType()-&gt;getPrimitiveSizeInBits() &lt;= 32)</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        LdExpArg = B.<a class="code" href="classllvm_1_1IRBuilder.html#a2081b822b121723df82782c24314a37e">CreateSExt</a>(OpC-&gt;getOperand(0), B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>());</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1UIToFPInst.html">UIToFPInst</a> *OpC = dyn_cast&lt;UIToFPInst&gt;(Op)) {</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">if</span> (OpC-&gt;getOperand(0)-&gt;getType()-&gt;getPrimitiveSizeInBits() &lt; 32)</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        LdExpArg = B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(OpC-&gt;getOperand(0), B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>());</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> (LdExpArg) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">if</span> (Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>())</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        Name = <span class="stringliteral">&quot;ldexpf&quot;</span>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">isDoubleTy</a>())</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        Name = <span class="stringliteral">&quot;ldexp&quot;</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        Name = <span class="stringliteral">&quot;ldexpl&quot;</span>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *One = <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(*Context, <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(1.0<a class="code" href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a>));</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">if</span> (!Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>())</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        One = <a class="code" href="classllvm_1_1ConstantExpr.html#a2c37909c23e7fe0eefde68ccb31e12e5">ConstantExpr::getFPExtend</a>(One, Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = Caller-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Callee = M-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(Name, Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(),</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                                             Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(),</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                                             B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>(), NULL);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = B.<a class="code" href="classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">CreateCall2</a>(Callee, One, LdExpArg);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = dyn_cast&lt;Function&gt;(Callee-&gt;<a class="code" href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">stripPointerCasts</a>()))</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#acd74b2224788f8d010e47622bb3c2a04">setCallingConv</a>(<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getCallingConv());</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordflow">return</span> CI;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;};</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="keyword">struct </span>SinCosPiOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  SinCosPiOpt() {}</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// Make sure the prototype is as expected, otherwise the rest of the</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="comment">// function is probably invalid and likely to abort.</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">if</span> (!isTrigLibCall(CI))</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallInst *, 1&gt;</a> SinCalls;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallInst *, 1&gt;</a> CosCalls;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallInst *, 1&gt;</a> SinCosCalls;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordtype">bool</span> IsFloat = Arg-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>();</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="comment">// Look for all compatible sinpi, cospi and sincospi calls with the same</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// argument. If there are enough (in some sense) we can make the</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="comment">// substitution.</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = Arg-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = Arg-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;         UI != UE; ++UI)</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      classifyArgUse(*UI, CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>(), IsFloat, SinCalls, CosCalls,</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                     SinCosCalls);</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="comment">// It&#39;s only worthwhile if both sinpi and cospi are actually used.</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">if</span> (SinCosCalls.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; (SinCalls.empty() || CosCalls.empty()))</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Sin, *Cos, *SinCos;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    insertSinCosCall(B, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>(), Arg, IsFloat, Sin, Cos,</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                     SinCos);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    replaceTrigInsts(SinCalls, Sin);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    replaceTrigInsts(CosCalls, Cos);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    replaceTrigInsts(SinCosCalls, SinCos);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  }</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordtype">bool</span> isTrigLibCall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>();</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">// We can only hope to do anything useful if we can ignore things like errno</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="comment">// and floating-point exceptions.</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordtype">bool</span> AttributesSafe = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6abdd13c122726ee189cb2849a79ade1">hasFnAttr</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eab2069e9516e2309c471c1207ed8661f3">Attribute::NoUnwind</a>) &amp;&amp;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                          CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6abdd13c122726ee189cb2849a79ade1">hasFnAttr</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaa94162b0564176cc56e5688691877074">Attribute::ReadNone</a>);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="comment">// Other than that we need float(float) or double(double)</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">return</span> AttributesSafe &amp;&amp; FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() == 1 &amp;&amp;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;           FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() == FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) &amp;&amp;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;           (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>() ||</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">isDoubleTy</a>());</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordtype">void</span> classifyArgUse(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keywordtype">bool</span> IsFloat,</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;CallInst *&gt;</a> &amp;SinCalls,</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;CallInst *&gt;</a> &amp;CosCalls,</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;CallInst *&gt;</a> &amp;SinCosCalls) {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1CallInst.html">CallInst</a>&gt;(Val);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordflow">if</span> (!CI)</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>();</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="CPPBackend_8cpp.html#a42ec43d2298561e7465455e9574a229d">FuncName</a> = Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">LibFunc::Func</a> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a>;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">if</span> (!TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a2e29ccd61341a821011294b733173fda">getLibFunc</a>(FuncName, Func) || !TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(Func) ||</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        !isTrigLibCall(CI))</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">if</span> (IsFloat) {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="keywordflow">if</span> (Func == <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0037abb22ce7c98338835c8822c83d2a">LibFunc::sinpif</a>)</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        SinCalls.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(CI);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Func == <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa90cefa063016675ac56642a84773b03">LibFunc::cospif</a>)</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        CosCalls.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(CI);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Func == <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6905b71f8170499bd47d4c8a9dce101b">LibFunc::sincospi_stretf</a>)</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        SinCosCalls.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(CI);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <span class="keywordflow">if</span> (Func == <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee4cb0dba4fb401801069effd8a74297">LibFunc::sinpi</a>)</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        SinCalls.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(CI);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Func == <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa29b75128bbc15063e1f6bf843349916d">LibFunc::cospi</a>)</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        CosCalls.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(CI);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Func == <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4061bb081c791e9f95c2f6a6d8e14f92">LibFunc::sincospi_stret</a>)</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        SinCosCalls.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(CI);</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  }</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordtype">void</span> replaceTrigInsts(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;CallInst*&gt;</a> &amp;Calls, <a class="code" href="classllvm_1_1Value.html">Value</a> *Res) {</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;CallInst*&gt;::iterator</a> I = Calls.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;           E = Calls.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;         I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      LCS-&gt;<a class="code" href="classllvm_1_1LibCallSimplifier.html#a420c81fa4216737eabfbf384b4eab31d">replaceAllUsesWith</a>(*I, Res);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  }</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordtype">void</span> insertSinCosCall(<a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B, <a class="code" href="classllvm_1_1Function.html">Function</a> *OrigCallee, <a class="code" href="classllvm_1_1Value.html">Value</a> *Arg,</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                        <span class="keywordtype">bool</span> UseFloat, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Sin, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Cos,</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                        <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;SinCos) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy = Arg-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ResTy;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="classllvm_1_1Triple.html">Triple</a> <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a>(OrigCallee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>());</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span> (UseFloat) {</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      Name = <span class="stringliteral">&quot;__sincospi_stretf&quot;</span>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      assert(<a class="code" href="classT.html">T</a>.getArch() != <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">Triple::x86</a> &amp;&amp; <span class="stringliteral">&quot;x86 messy and unsupported for now&quot;</span>);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="comment">// x86_64 can&#39;t use {float, float} since that would be returned in both</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="comment">// xmm0 and xmm1, which isn&#39;t what a real struct would do.</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      ResTy = <a class="code" href="classT.html">T</a>.getArch() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                  ? <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1Type.html">Type</a> *<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">VectorType::get</a>(ArgTy, 2))</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                  : static_cast&lt;Type *&gt;(<a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(ArgTy, ArgTy, NULL));</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      Name = <span class="stringliteral">&quot;__sincospi_stret&quot;</span>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      ResTy = <a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(ArgTy, ArgTy, NULL);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> *M = OrigCallee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Callee = M-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(Name, OrigCallee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>(),</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                                           ResTy, ArgTy, NULL);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ArgInst = dyn_cast&lt;Instruction&gt;(Arg)) {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="comment">// If the argument is an instruction, it must dominate all uses so put our</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="comment">// sincos call there.</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> Loc = ArgInst;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(ArgInst-&gt;getParent(), ++Loc);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="comment">// Otherwise (e.g. for a constant) the beginning of the function is as</span></div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <span class="comment">// good a place as any.</span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;EntryBB = B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a05750ee4a9742f3ea2755efb4b747efe">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>();</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(&amp;EntryBB, EntryBB.<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>());</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    }</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    SinCos = B.<a class="code" href="classllvm_1_1IRBuilder.html#a7e31b0c02df2aeed261b103b790cc01e">CreateCall</a>(Callee, Arg, <span class="stringliteral">&quot;sincospi&quot;</span>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span> (SinCos-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">isStructTy</a>()) {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      Sin = B.<a class="code" href="classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">CreateExtractValue</a>(SinCos, 0, <span class="stringliteral">&quot;sinpi&quot;</span>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      Cos = B.<a class="code" href="classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">CreateExtractValue</a>(SinCos, 1, <span class="stringliteral">&quot;cospi&quot;</span>);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      Sin = B.<a class="code" href="classllvm_1_1IRBuilder.html#ad0affa936bea7c530da1597e9bb60bbd">CreateExtractElement</a>(SinCos, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>(), 0),</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                                   <span class="stringliteral">&quot;sinpi&quot;</span>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      Cos = B.<a class="code" href="classllvm_1_1IRBuilder.html#ad0affa936bea7c530da1597e9bb60bbd">CreateExtractElement</a>(SinCos, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>(), 1),</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                   <span class="stringliteral">&quot;cospi&quot;</span>);</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    }</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  }</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;};</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">// Integer Library Call Optimizations</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="keyword">struct </span>FFSOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// Just make sure this has 2 arguments of the same FP type, which match the</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// result type.</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 ||</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) ||</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="comment">// Constant fold.</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(Op)) {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;isZero()) <span class="comment">// ffs(0) -&gt; 0.</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(0);</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="comment">// ffs(c) -&gt; cttz(c)+1</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(CI-&gt;getValue().countTrailingZeros() + 1);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="comment">// ffs(x) -&gt; x != 0 ? (i32)llvm.cttz(x)+1 : 0</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgType = Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = <a class="code" href="namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">Intrinsic::getDeclaration</a>(Callee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>(),</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                         <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acf42e24475fdea623c2a8cb7b3f412c4">Intrinsic::cttz</a>, ArgType);</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = B.<a class="code" href="classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">CreateCall2</a>(F, Op, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a337deb4326c2dbbe852f77d2d213a9fb">getFalse</a>(), <span class="stringliteral">&quot;cttz&quot;</span>);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    V = B.<a class="code" href="classllvm_1_1IRBuilder.html#a112f87f5844b5d94c07940f3d47f1e99">CreateAdd</a>(V, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(V-&gt;getType(), 1));</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    V = B.<a class="code" href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(V, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>(), <span class="keyword">false</span>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Cond = B.<a class="code" href="classllvm_1_1IRBuilder.html#a609c7b4d7eb90f7c4627da58dc00fa42">CreateICmpNE</a>(Op, <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(ArgType));</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#ae19d9d49f39d404703b42161ce788954">CreateSelect</a>(Cond, V, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(0));</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;};</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="keyword">struct </span>AbsOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ignoreCallingConv() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="comment">// We require integer(integer) where the types agree.</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>())</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="comment">// abs(x) -&gt; x &gt;s -1 ? x : -x</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Pos = B.<a class="code" href="classllvm_1_1IRBuilder.html#a33a5c648796fb4593268c1d150f8582f">CreateICmpSGT</a>(Op, <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()),</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                                 <span class="stringliteral">&quot;ispos&quot;</span>);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Neg = B.<a class="code" href="classllvm_1_1IRBuilder.html#a97ab781fefa6f6ff35ce5c4c7dac3a79">CreateNeg</a>(Op, <span class="stringliteral">&quot;neg&quot;</span>);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#ae19d9d49f39d404703b42161ce788954">CreateSelect</a>(Pos, Op, Neg);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  }</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;};</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="keyword">struct </span>IsDigitOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="comment">// We require integer(i32)</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32))</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="comment">// isdigit(c) -&gt; (c-&#39;0&#39;) &lt;u 10</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    Op = B.<a class="code" href="classllvm_1_1IRBuilder.html#afa1cb82e021c7f516f65d40162fe6c53">CreateSub</a>(Op, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(<span class="charliteral">&#39;0&#39;</span>), <span class="stringliteral">&quot;isdigittmp&quot;</span>);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    Op = B.<a class="code" href="classllvm_1_1IRBuilder.html#a9c30c87af01068ceae02cd371748d175">CreateICmpULT</a>(Op, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(10), <span class="stringliteral">&quot;isdigit&quot;</span>);</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(Op, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  }</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;};</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="keyword">struct </span>IsAsciiOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="comment">// We require integer(i32)</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32))</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="comment">// isascii(c) -&gt; c &lt;u 128</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    Op = B.<a class="code" href="classllvm_1_1IRBuilder.html#a9c30c87af01068ceae02cd371748d175">CreateICmpULT</a>(Op, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(128), <span class="stringliteral">&quot;isascii&quot;</span>);</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(Op, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  }</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;};</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="keyword">struct </span>ToAsciiOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="comment">// We require i32(i32)</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 1 || FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>() != FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0) ||</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32))</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="comment">// toascii(c) -&gt; c &amp; 0x7f</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0),</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                       <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(),0x7F));</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;};</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">// Formatting and IO Library Call Optimizations</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="keyword">struct </span>ErrorReportingOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  ErrorReportingOpt(<span class="keywordtype">int</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = -1) : StreamArg(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {}</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;) {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="comment">// Error reporting calls should be cold, mark them as such.</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="comment">// This applies even to non-builtin calls: it is only a hint and applies to</span></div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">// functions that the frontend might not understand as builtins.</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="comment">// This heuristic was suggested in:</span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="comment">// Improving Static Branch Prediction in a Compiler</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="comment">// Brian L. Deitrich, Ben-Chung Cheng, Wen-mei W. Hwu</span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="comment">// Proceedings of PACT&#39;98, Oct. 1998, IEEE</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6abdd13c122726ee189cb2849a79ade1">hasFnAttr</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eac19f5b66a7786cb09db001652e4081ad">Attribute::Cold</a>) &amp;&amp; isReportingError(Callee, CI)) {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">addAttribute</a>(AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eac19f5b66a7786cb09db001652e4081ad">Attribute::Cold</a>);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  }</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordtype">bool</span> isReportingError(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="SimplifyLibCalls_8cpp.html#a9eeed3271e836866068fe08f21dfdc6d">ColdErrorCalls</a>)</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160; </div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (!Callee || !Callee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>())</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span> (StreamArg &lt; 0)</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="comment">// These functions might be considered cold, but only if their stream</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="comment">// argument is stderr.</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">if</span> (StreamArg &gt;= (<span class="keywordtype">int</span>) CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">getNumArgOperands</a>())</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(StreamArg));</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> (!LI)</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>&gt;(LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>());</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keywordflow">if</span> (!GV || !GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>())</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">return</span> GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() == <span class="stringliteral">&quot;stderr&quot;</span>;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  }</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordtype">int</span> StreamArg;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;};</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="keyword">struct </span>PrintFOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *optimizeFixedFormatString(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI,</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                                   <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// Check for a fixed format string.</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FormatStr;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), FormatStr))</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="comment">// Empty format string -&gt; noop.</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">if</span> (FormatStr.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>())  <span class="comment">// Tolerate printf&#39;s declared void.</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">return</span> CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>() ? (<a class="code" href="classllvm_1_1Value.html">Value</a>*)CI :</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                               <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 0);</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="comment">// Do not do any of the following transformations if the printf return value</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="comment">// is used, in general the printf return value is not compatible with either</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="comment">// putchar() or puts().</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>())</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="comment">// printf(&quot;x&quot;) -&gt; putchar(&#39;x&#39;), even for &#39;%&#39;.</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordflow">if</span> (FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() == 1) {</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="namespacellvm.html#ada64980893ff275559110bf8ac928052">EmitPutChar</a>(B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(FormatStr[0]), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>() || !Res) <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(Res, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="comment">// printf(&quot;foo\n&quot;) --&gt; puts(&quot;foo&quot;)</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">if</span> (FormatStr[FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>()-1] == <span class="charliteral">&#39;\n&#39;</span> &amp;&amp;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        FormatStr.<a class="code" href="classllvm_1_1StringRef.html#a421e16456fe6d7b71fb4af736194165c">find</a>(<span class="charliteral">&#39;%&#39;</span>) == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a>) { <span class="comment">// No format characters.</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="comment">// Create a string literal with no \n on it.  We expect the constant merge</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="comment">// pass to be run after this pass, to merge duplicate strings.</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      FormatStr = FormatStr.<a class="code" href="classllvm_1_1StringRef.html#adb927d9c3777f22883b7a9e98dc20759">drop_back</a>();</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *GV = B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a0e600b8bfca49f636e691495ab5cc640">CreateGlobalString</a>(FormatStr, <span class="stringliteral">&quot;str&quot;</span>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewCI = <a class="code" href="namespacellvm.html#a2a55dc1fc3303f1860c003b1518dc08b">EmitPutS</a>(GV, B, TD, TLI);</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      <span class="keywordflow">return</span> (CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>() || !NewCI) ?</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;              NewCI :</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>()+1);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="comment">// Optimize specific format strings.</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="comment">// printf(&quot;%c&quot;, chr) --&gt; putchar(chr)</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">if</span> (FormatStr == <span class="stringliteral">&quot;%c&quot;</span> &amp;&amp; CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">getNumArgOperands</a>() &gt; 1 &amp;&amp;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="namespacellvm.html#ada64980893ff275559110bf8ac928052">EmitPutChar</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>() || !Res) <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(Res, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    }</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="comment">// printf(&quot;%s\n&quot;, str) --&gt; puts(str)</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">if</span> (FormatStr == <span class="stringliteral">&quot;%s\n&quot;</span> &amp;&amp; CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">getNumArgOperands</a>() &gt; 1 &amp;&amp;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2a55dc1fc3303f1860c003b1518dc08b">EmitPutS</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    }</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  }</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="comment">// Require one fixed pointer argument and an integer/void result.</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() &lt; 1 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        !(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;          FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()))</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = optimizeFixedFormatString(Callee, CI, B)) {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    }</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="comment">// printf(format, ...) -&gt; iprintf(format, ...) if no floating point</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="comment">// arguments.</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">if</span> (TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6facfb48939ccc9ccaca476f448f4b40612">LibFunc::iprintf</a>) &amp;&amp; !callHasFloatingPointArgument(CI)) {</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> *M = B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a05750ee4a9742f3ea2755efb4b747efe">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *IPrintFFn =</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        M-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;iprintf&quot;</span>, FT, Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>());</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *New = cast&lt;CallInst&gt;(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#af6aad0c9ba7b8720130235c9621b55b5">clone</a>());</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      New-&gt;<a class="code" href="classllvm_1_1CallInst.html#a61f747edd1ca001427e02e02a320b709">setCalledFunction</a>(IPrintFFn);</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilder.html#abd3da4c9a7bdee3fb759a06410095f75">Insert</a>(New);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordflow">return</span> New;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    }</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  }</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;};</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="keyword">struct </span>SPrintFOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *OptimizeFixedFormatString(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI,</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                                   <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="comment">// Check for a fixed format string.</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FormatStr;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), FormatStr))</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="comment">// If we just have a format string (nothing else crazy) transform it.</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">getNumArgOperands</a>() == 2) {</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="comment">// Make sure there&#39;s no % in the constant array.  We could try to handle</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <span class="comment">// %% -&gt; % in the future if we cared.</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="keywordflow">if</span> (FormatStr[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;%&#39;</span>)</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;          <span class="keywordflow">return</span> 0; <span class="comment">// we found a format specifier, bail out.</span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="comment">// sprintf(str, fmt) -&gt; llvm.memcpy(str, fmt, strlen(fmt)+1, 1)</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                     <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;getIntPtrType(*Context), <span class="comment">// Copy the</span></div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                                      FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() + 1), 1);   <span class="comment">// nul byte.</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>());</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    }</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="comment">// The remaining optimizations require the format string to be &quot;%s&quot; or &quot;%c&quot;</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="comment">// and have an extra operand.</span></div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">if</span> (FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() != 2 || FormatStr[0] != <span class="charliteral">&#39;%&#39;</span> ||</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">getNumArgOperands</a>() &lt; 3)</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">// Decode the second character of the format string.</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span> (FormatStr[1] == <span class="charliteral">&#39;c&#39;</span>) {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="comment">// sprintf(dst, &quot;%c&quot;, chr) --&gt; *(i8*)dst = chr; *((i8*)dst+1) = 0</span></div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *V = B.<a class="code" href="classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">CreateTrunc</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">getInt8Ty</a>(), <span class="stringliteral">&quot;char&quot;</span>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ptr = <a class="code" href="namespacellvm.html#ac63e6fb194823d8e130f27312a749e1c">CastToCStr</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilder.html#a43f7fa52a3fbe01e44c40d9db278ab3e">CreateStore</a>(V, Ptr);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      Ptr = B.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(Ptr, B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(1), <span class="stringliteral">&quot;nul&quot;</span>);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilder.html#a43f7fa52a3fbe01e44c40d9db278ab3e">CreateStore</a>(B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a52caf9c563fee52b23e0ee4875c6248f">getInt8</a>(0), Ptr);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    }</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">if</span> (FormatStr[1] == <span class="charliteral">&#39;s&#39;</span>) {</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="comment">// sprintf(dest, &quot;%s&quot;, str) -&gt; llvm.memcpy(dest, str, strlen(str)+1, 1)</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Len = <a class="code" href="namespacellvm.html#aeb757469668c1dfea81273148ccdf0ab">EmitStrLen</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <span class="keywordflow">if</span> (!Len)</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *IncLen = B.<a class="code" href="classllvm_1_1IRBuilder.html#a112f87f5844b5d94c07940f3d47f1e99">CreateAdd</a>(Len,</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                                  <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(Len-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1),</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                                  <span class="stringliteral">&quot;leninc&quot;</span>);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">CreateMemCpy</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), IncLen, 1);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="comment">// The sprintf result is the unincremented number of bytes in the string.</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(Len, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">false</span>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    }</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  }</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="comment">// Require two fixed pointer arguments and an integer result.</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = OptimizeFixedFormatString(Callee, CI, B)) {</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="comment">// sprintf(str, format, ...) -&gt; siprintf(str, format, ...) if no floating</span></div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="comment">// point arguments.</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">if</span> (TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf56db94c5d9f1e3f8d431697376dd71f">LibFunc::siprintf</a>) &amp;&amp; !callHasFloatingPointArgument(CI)) {</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> *M = B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a05750ee4a9742f3ea2755efb4b747efe">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *SIPrintFFn =</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        M-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;siprintf&quot;</span>, FT, Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>());</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *New = cast&lt;CallInst&gt;(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#af6aad0c9ba7b8720130235c9621b55b5">clone</a>());</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      New-&gt;<a class="code" href="classllvm_1_1CallInst.html#a61f747edd1ca001427e02e02a320b709">setCalledFunction</a>(SIPrintFFn);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilder.html#abd3da4c9a7bdee3fb759a06410095f75">Insert</a>(New);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="keywordflow">return</span> New;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    }</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  }</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;};</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="keyword">struct </span>FPrintFOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *optimizeFixedFormatString(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI,</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                                   <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    ErrorReportingOpt ER(<span class="comment">/* StreamArg = */</span> 0);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    (void) ER.callOptimizer(Callee, CI, B);</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="comment">// All the optimizations depend on the format string.</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FormatStr;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), FormatStr))</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="comment">// Do not do any of the following transformations if the fprintf return</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="comment">// value is used, in general the fprintf return value is not compatible</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="comment">// with fwrite(), fputc() or fputs().</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>())</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="comment">// fprintf(F, &quot;foo&quot;) --&gt; fwrite(&quot;foo&quot;, 3, 1, F)</span></div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">getNumArgOperands</a>() == 2) {</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        <span class="keywordflow">if</span> (FormatStr[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;%&#39;</span>)  <span class="comment">// Could handle %% -&gt; % if we cared.</span></div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;          <span class="keywordflow">return</span> 0; <span class="comment">// We found a format specifier.</span></div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a87d14fb8ce6caf9275465116dc19b6d6">EmitFWrite</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1),</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                        <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;getIntPtrType(*Context),</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                                         FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>()),</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                        CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    }</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="comment">// The remaining optimizations require the format string to be &quot;%s&quot; or &quot;%c&quot;</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="comment">// and have an extra operand.</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">if</span> (FormatStr.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() != 2 || FormatStr[0] != <span class="charliteral">&#39;%&#39;</span> ||</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">getNumArgOperands</a>() &lt; 3)</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="comment">// Decode the second character of the format string.</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span> (FormatStr[1] == <span class="charliteral">&#39;c&#39;</span>) {</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      <span class="comment">// fprintf(F, &quot;%c&quot;, chr) --&gt; fputc(chr, F)</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ab2fa00bbe056dcbe45429fadf56489d6">EmitFPutC</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    }</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">if</span> (FormatStr[1] == <span class="charliteral">&#39;s&#39;</span>) {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <span class="comment">// fprintf(F, &quot;%s&quot;, str) --&gt; fputs(str, F)</span></div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      <span class="keywordflow">if</span> (!CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aae265c866f1ecf18fe6422bda13eaecd">EmitFPutS</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2), CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    }</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  }</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="comment">// Require two fixed paramters as pointers and integer result.</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = optimizeFixedFormatString(Callee, CI, B)) {</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="comment">// fprintf(stream, format, ...) -&gt; fiprintf(stream, format, ...) if no</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="comment">// floating point arguments.</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">if</span> (TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa85b457ecd49627dcfc69e2675eb79f46">LibFunc::fiprintf</a>) &amp;&amp; !callHasFloatingPointArgument(CI)) {</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <a class="code" href="classllvm_1_1Module.html">Module</a> *M = B.<a class="code" href="classllvm_1_1IRBuilderBase.html#a05750ee4a9742f3ea2755efb4b747efe">GetInsertBlock</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *FIPrintFFn =</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        M-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;fiprintf&quot;</span>, FT, Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>());</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *New = cast&lt;CallInst&gt;(CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#af6aad0c9ba7b8720130235c9621b55b5">clone</a>());</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      New-&gt;<a class="code" href="classllvm_1_1CallInst.html#a61f747edd1ca001427e02e02a320b709">setCalledFunction</a>(FIPrintFFn);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      B.<a class="code" href="classllvm_1_1IRBuilder.html#abd3da4c9a7bdee3fb759a06410095f75">Insert</a>(New);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <span class="keywordflow">return</span> New;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    }</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  }</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;};</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="keyword">struct </span>FWriteOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    ErrorReportingOpt ER(<span class="comment">/* StreamArg = */</span> 3);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    (void) ER.callOptimizer(Callee, CI, B);</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="comment">// Require a pointer, an integer, an integer, a pointer, returning integer.</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 4 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(3)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">// Get the element size and count.</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SizeC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1));</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CountC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(2));</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">if</span> (!SizeC || !CountC) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    uint64_t Bytes = SizeC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>()*CountC-&gt;getZExtValue();</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="comment">// If this is writing zero records, remove the call (it&#39;s a noop).</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">if</span> (Bytes == 0)</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 0);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="comment">// If this is writing one byte, turn it into fputc.</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="comment">// This optimisation is only valid, if the return value is unused.</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordflow">if</span> (Bytes == 1 &amp;&amp; CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {  <span class="comment">// fwrite(S,1,1,F) -&gt; fputc(S[0],F)</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Char = B.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(<a class="code" href="namespacellvm.html#ac63e6fb194823d8e130f27312a749e1c">CastToCStr</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>), <span class="stringliteral">&quot;char&quot;</span>);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NewCI = <a class="code" href="namespacellvm.html#ab2fa00bbe056dcbe45429fadf56489d6">EmitFPutC</a>(Char, CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(3), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <span class="keywordflow">return</span> NewCI ? <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1) : 0;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    }</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  }</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;};</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="keyword">struct </span>FPutsOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    ErrorReportingOpt ER(<span class="comment">/* StreamArg = */</span> 1);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    (void) ER.callOptimizer(Callee, CI, B);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="comment">// These optimizations require DataLayout.</span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="comment">// Require two pointers.  Also, we can&#39;t optimize if return value is used.</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() != 2 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        !CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>())</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="comment">// fputs(s,F) --&gt; fwrite(s,1,strlen(s),F)</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    uint64_t Len = <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">GetStringLength</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0));</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">if</span> (!Len) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="comment">// Known to have no uses (see above).</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a87d14fb8ce6caf9275465116dc19b6d6">EmitFWrite</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0),</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                      <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(TD-&gt;getIntPtrType(*Context), Len-1),</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                      CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  }</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;};</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="keyword">struct </span>PutsOpt : <span class="keyword">public</span> LibCallOptimization {</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *callOptimizer(<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;B) {</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="comment">// Require one fixed pointer argument and an integer/void result.</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() &lt; 1 || !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ||</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        !(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() ||</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;          FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()))</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="comment">// Check for a constant string.</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0), Str))</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (Str.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>() &amp;&amp; CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="comment">// puts(&quot;&quot;) -&gt; putchar(&#39;\n&#39;)</span></div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Res = <a class="code" href="namespacellvm.html#ada64980893ff275559110bf8ac928052">EmitPutChar</a>(B.<a class="code" href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">getInt32</a>(<span class="charliteral">&#39;\n&#39;</span>), <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, TD, TLI);</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>() || !Res) <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="keywordflow">return</span> B.<a class="code" href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(Res, CI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    }</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  }</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;};</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;} <span class="comment">// End anonymous namespace.</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div><div class="line"><a name="l01910"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifierImpl.html"> 1910</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1LibCallSimplifierImpl.html">LibCallSimplifierImpl</a> {</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LibCallSimplifier.html">LibCallSimplifier</a> *LCS;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <span class="comment">// Math library call optimizations.</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  CosOpt Cos;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  PowOpt Pow;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  Exp2Opt Exp2;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l01921"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifierImpl.html#afe1d909187c6c0bbf6ca85f05e386847"> 1921</a></span>&#160;  <a class="code" href="classllvm_1_1LibCallSimplifierImpl.html#afe1d909187c6c0bbf6ca85f05e386847">LibCallSimplifierImpl</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1LibCallSimplifier.html">LibCallSimplifier</a> *LCS,</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                        <span class="keywordtype">bool</span> UnsafeFPShrink = <span class="keyword">false</span>)</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    : Cos(UnsafeFPShrink), Pow(UnsafeFPShrink), Exp2(UnsafeFPShrink) {</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    this-&gt;TD = TD;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    this-&gt;TLI = TLI;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    this-&gt;LCS = LCS;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    this-&gt;UnsafeFPShrink = <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  }</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *optimizeCall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI);</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  LibCallOptimization *lookupOptimization(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI);</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="keywordtype">bool</span> hasFloatVersion(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FuncName);</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;};</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifierImpl.html#abc3347a78598de548ab0035b2ab1edb3"> 1936</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LibCallSimplifierImpl.html#abc3347a78598de548ab0035b2ab1edb3">LibCallSimplifierImpl::hasFloatVersion</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FuncName) {</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">LibFunc::Func</a> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a>;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;20&gt;</a> FloatFuncName = <a class="code" href="CPPBackend_8cpp.html#a42ec43d2298561e7465455e9574a229d">FuncName</a>;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  FloatFuncName += <span class="charliteral">&#39;f&#39;</span>;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <span class="keywordflow">if</span> (TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a2e29ccd61341a821011294b733173fda">getLibFunc</a>(FloatFuncName, Func))</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <span class="keywordflow">return</span> TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(Func);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;}</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="comment">// Fortified library call optimizations.</span></div><div class="line"><a name="l01946"></a><span class="lineno"><a class="line" href="namespacellvm.html#a465f8796ec80404bb4b15bb16c0f5cc3"> 1946</a></span>&#160;<span class="keyword">static</span> MemCpyChkOpt <a class="code" href="namespacellvm.html#a465f8796ec80404bb4b15bb16c0f5cc3">MemCpyChk</a>;</div><div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="namespacellvm.html#aaf1b36cc76906c7826eb1aade22f9e14"> 1947</a></span>&#160;<span class="keyword">static</span> MemMoveChkOpt <a class="code" href="namespacellvm.html#aaf1b36cc76906c7826eb1aade22f9e14">MemMoveChk</a>;</div><div class="line"><a name="l01948"></a><span class="lineno"><a class="line" href="namespacellvm.html#af0d6cd2e7bbe75e1ea438f86b504dc19"> 1948</a></span>&#160;<span class="keyword">static</span> MemSetChkOpt <a class="code" href="namespacellvm.html#af0d6cd2e7bbe75e1ea438f86b504dc19">MemSetChk</a>;</div><div class="line"><a name="l01949"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa1f047325bddd234b00705d00d2178d9"> 1949</a></span>&#160;<span class="keyword">static</span> StrCpyChkOpt <a class="code" href="namespacellvm.html#aa1f047325bddd234b00705d00d2178d9">StrCpyChk</a>;</div><div class="line"><a name="l01950"></a><span class="lineno"><a class="line" href="namespacellvm.html#a50d465eb054f3fcf309c2a9b5480581d"> 1950</a></span>&#160;<span class="keyword">static</span> StpCpyChkOpt <a class="code" href="namespacellvm.html#a50d465eb054f3fcf309c2a9b5480581d">StpCpyChk</a>;</div><div class="line"><a name="l01951"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1559e011f5eb57b4da907ff9716d96df"> 1951</a></span>&#160;<span class="keyword">static</span> StrNCpyChkOpt <a class="code" href="namespacellvm.html#a1559e011f5eb57b4da907ff9716d96df">StrNCpyChk</a>;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="comment">// String library call optimizations.</span></div><div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="namespacellvm.html#acffee0569fbd759b55a0bd63f4e0d9ed"> 1954</a></span>&#160;<span class="keyword">static</span> StrCatOpt <a class="code" href="namespacellvm.html#acffee0569fbd759b55a0bd63f4e0d9ed">StrCat</a>;</div><div class="line"><a name="l01955"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae33e1c633f9956c02230013e4e9b0919"> 1955</a></span>&#160;<span class="keyword">static</span> StrNCatOpt <a class="code" href="namespacellvm.html#ae33e1c633f9956c02230013e4e9b0919">StrNCat</a>;</div><div class="line"><a name="l01956"></a><span class="lineno"><a class="line" href="namespacellvm.html#ac806d7f93424cefb1f2098b4dd7f8dbb"> 1956</a></span>&#160;<span class="keyword">static</span> StrChrOpt <a class="code" href="namespacellvm.html#ac806d7f93424cefb1f2098b4dd7f8dbb">StrChr</a>;</div><div class="line"><a name="l01957"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8a490581f553c225fabe9fedecbf1792"> 1957</a></span>&#160;<span class="keyword">static</span> StrRChrOpt <a class="code" href="namespacellvm.html#a8a490581f553c225fabe9fedecbf1792">StrRChr</a>;</div><div class="line"><a name="l01958"></a><span class="lineno"><a class="line" href="namespacellvm.html#abe123d53c7d5eccca020f27a5b1b9133"> 1958</a></span>&#160;<span class="keyword">static</span> StrCmpOpt <a class="code" href="namespacellvm.html#abe123d53c7d5eccca020f27a5b1b9133">StrCmp</a>;</div><div class="line"><a name="l01959"></a><span class="lineno"><a class="line" href="namespacellvm.html#a85e88afd3b8ba5be7537e1a30a087709"> 1959</a></span>&#160;<span class="keyword">static</span> StrNCmpOpt <a class="code" href="namespacellvm.html#a85e88afd3b8ba5be7537e1a30a087709">StrNCmp</a>;</div><div class="line"><a name="l01960"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1a95bc5d0227958ec69a609d4ce45918"> 1960</a></span>&#160;<span class="keyword">static</span> StrCpyOpt <a class="code" href="namespacellvm.html#a1a95bc5d0227958ec69a609d4ce45918">StrCpy</a>;</div><div class="line"><a name="l01961"></a><span class="lineno"><a class="line" href="namespacellvm.html#a23e5cc09119fac4f94b6c4390a5d5dac"> 1961</a></span>&#160;<span class="keyword">static</span> StpCpyOpt <a class="code" href="namespacellvm.html#a23e5cc09119fac4f94b6c4390a5d5dac">StpCpy</a>;</div><div class="line"><a name="l01962"></a><span class="lineno"><a class="line" href="namespacellvm.html#a91c721f70cea2c6912e445cb7f207f48"> 1962</a></span>&#160;<span class="keyword">static</span> StrNCpyOpt <a class="code" href="namespacellvm.html#a91c721f70cea2c6912e445cb7f207f48">StrNCpy</a>;</div><div class="line"><a name="l01963"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2e7a6605c39fb458c0885513060fe2b0"> 1963</a></span>&#160;<span class="keyword">static</span> StrLenOpt <a class="code" href="namespacellvm.html#a2e7a6605c39fb458c0885513060fe2b0">StrLen</a>;</div><div class="line"><a name="l01964"></a><span class="lineno"><a class="line" href="namespacellvm.html#abcb2f6113281b8b997fa886830bb3597"> 1964</a></span>&#160;<span class="keyword">static</span> StrPBrkOpt <a class="code" href="namespacellvm.html#abcb2f6113281b8b997fa886830bb3597">StrPBrk</a>;</div><div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2aba4a7a1a2a9472a6fd72aa47594f1f"> 1965</a></span>&#160;<span class="keyword">static</span> StrToOpt <a class="code" href="namespacellvm.html#a2aba4a7a1a2a9472a6fd72aa47594f1f">StrTo</a>;</div><div class="line"><a name="l01966"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8344c5d224fdb9ece0352f329a384ac4"> 1966</a></span>&#160;<span class="keyword">static</span> StrSpnOpt <a class="code" href="namespacellvm.html#a8344c5d224fdb9ece0352f329a384ac4">StrSpn</a>;</div><div class="line"><a name="l01967"></a><span class="lineno"><a class="line" href="namespacellvm.html#aae7abc38b904a070d2ee9b329637c261"> 1967</a></span>&#160;<span class="keyword">static</span> StrCSpnOpt <a class="code" href="namespacellvm.html#aae7abc38b904a070d2ee9b329637c261">StrCSpn</a>;</div><div class="line"><a name="l01968"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa2a56d13277194464b5479573997e59d"> 1968</a></span>&#160;<span class="keyword">static</span> StrStrOpt <a class="code" href="namespacellvm.html#aa2a56d13277194464b5479573997e59d">StrStr</a>;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="comment">// Memory library call optimizations.</span></div><div class="line"><a name="l01971"></a><span class="lineno"><a class="line" href="namespacellvm.html#aae2bd93efcb7619fa6526e72f4a205a0"> 1971</a></span>&#160;<span class="keyword">static</span> MemCmpOpt <a class="code" href="namespacellvm.html#aae2bd93efcb7619fa6526e72f4a205a0">MemCmp</a>;</div><div class="line"><a name="l01972"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa5df040b72433a3c103527073f092624"> 1972</a></span>&#160;<span class="keyword">static</span> MemCpyOpt <a class="code" href="namespacellvm.html#aa5df040b72433a3c103527073f092624">MemCpy</a>;</div><div class="line"><a name="l01973"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab1475537ba81e0f618c55bdd154f5ab5"> 1973</a></span>&#160;<span class="keyword">static</span> MemMoveOpt <a class="code" href="namespacellvm.html#ab1475537ba81e0f618c55bdd154f5ab5">MemMove</a>;</div><div class="line"><a name="l01974"></a><span class="lineno"><a class="line" href="namespacellvm.html#ac53f3eb38a544d0402d1e79fac10a0b2"> 1974</a></span>&#160;<span class="keyword">static</span> MemSetOpt <a class="code" href="namespacellvm.html#ac53f3eb38a544d0402d1e79fac10a0b2">MemSet</a>;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="comment">// Math library call optimizations.</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="keyword">static</span> UnaryDoubleFPOpt <a class="code" href="namespacellvm.html#afa5546387e93f9b39132085ab5a53850">UnaryDoubleFP</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="keyword">static</span> UnaryDoubleFPOpt <a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01979"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad92e466b2a2d720dd49c000f210d7499"> 1979</a></span>&#160;<span class="keyword">static</span> SinCosPiOpt <a class="code" href="namespacellvm.html#ad92e466b2a2d720dd49c000f210d7499">SinCosPi</a>;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="comment">// Integer library call optimizations.</span></div><div class="line"><a name="l01982"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2bde91a082170a71ca7bfcd9f57034f8"> 1982</a></span>&#160;<span class="keyword">static</span> FFSOpt <a class="code" href="namespacellvm.html#a2bde91a082170a71ca7bfcd9f57034f8">FFS</a>;</div><div class="line"><a name="l01983"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0bedb8b972c7fc826438d14f42304fd5"> 1983</a></span>&#160;<span class="keyword">static</span> AbsOpt <a class="code" href="namespacellvm.html#a0bedb8b972c7fc826438d14f42304fd5">Abs</a>;</div><div class="line"><a name="l01984"></a><span class="lineno"><a class="line" href="namespacellvm.html#a503978d10f890e3373d36905d8fce8b5"> 1984</a></span>&#160;<span class="keyword">static</span> IsDigitOpt <a class="code" href="namespacellvm.html#a503978d10f890e3373d36905d8fce8b5">IsDigit</a>;</div><div class="line"><a name="l01985"></a><span class="lineno"><a class="line" href="namespacellvm.html#a23e6da179ab17b4c74520997a5491b03"> 1985</a></span>&#160;<span class="keyword">static</span> IsAsciiOpt <a class="code" href="namespacellvm.html#a23e6da179ab17b4c74520997a5491b03">IsAscii</a>;</div><div class="line"><a name="l01986"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab497d8212ee5663efb60e37486b24fd6"> 1986</a></span>&#160;<span class="keyword">static</span> ToAsciiOpt <a class="code" href="namespacellvm.html#ab497d8212ee5663efb60e37486b24fd6">ToAscii</a>;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">// Formatting and IO library call optimizations.</span></div><div class="line"><a name="l01989"></a><span class="lineno"><a class="line" href="namespacellvm.html#a66320f0ae6990eb4bca4aaaf638281bb"> 1989</a></span>&#160;<span class="keyword">static</span> ErrorReportingOpt <a class="code" href="namespacellvm.html#a66320f0ae6990eb4bca4aaaf638281bb">ErrorReporting</a>;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="keyword">static</span> ErrorReportingOpt <a class="code" href="namespacellvm.html#a707fbb3b1d26e1ba4d38dbb2a6bc1262">ErrorReporting0</a>(0);</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="keyword">static</span> ErrorReportingOpt <a class="code" href="namespacellvm.html#a69bb570f573c9fa895fa654bd0c25077">ErrorReporting1</a>(1);</div><div class="line"><a name="l01992"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab47931cd5fdb800631c61b068d08800f"> 1992</a></span>&#160;<span class="keyword">static</span> PrintFOpt <a class="code" href="namespacellvm.html#ab47931cd5fdb800631c61b068d08800f">PrintF</a>;</div><div class="line"><a name="l01993"></a><span class="lineno"><a class="line" href="namespacellvm.html#a87afc76abf455a610549b2aeefa4bb4c"> 1993</a></span>&#160;<span class="keyword">static</span> SPrintFOpt <a class="code" href="namespacellvm.html#a87afc76abf455a610549b2aeefa4bb4c">SPrintF</a>;</div><div class="line"><a name="l01994"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad5ce09d21e6bdf6847fc2aaf35384524"> 1994</a></span>&#160;<span class="keyword">static</span> FPrintFOpt <a class="code" href="namespacellvm.html#ad5ce09d21e6bdf6847fc2aaf35384524">FPrintF</a>;</div><div class="line"><a name="l01995"></a><span class="lineno"><a class="line" href="namespacellvm.html#a324053b01532866a246eb69eca06fa32"> 1995</a></span>&#160;<span class="keyword">static</span> FWriteOpt <a class="code" href="namespacellvm.html#a324053b01532866a246eb69eca06fa32">FWrite</a>;</div><div class="line"><a name="l01996"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa7c5c1d7de2484b059934e48eb370c52"> 1996</a></span>&#160;<span class="keyword">static</span> FPutsOpt <a class="code" href="namespacellvm.html#aa7c5c1d7de2484b059934e48eb370c52">FPuts</a>;</div><div class="line"><a name="l01997"></a><span class="lineno"><a class="line" href="namespacellvm.html#af8642f4f0c1a833d5accc46870adaca5"> 1997</a></span>&#160;<span class="keyword">static</span> PutsOpt <a class="code" href="namespacellvm.html#af8642f4f0c1a833d5accc46870adaca5">Puts</a>;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div><div class="line"><a name="l01999"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifierImpl.html#a5b2bca63c4764e142ac948ebe7cd60b4"> 1999</a></span>&#160;LibCallOptimization *<a class="code" href="classllvm_1_1LibCallSimplifierImpl.html#a5b2bca63c4764e142ac948ebe7cd60b4">LibCallSimplifierImpl::lookupOptimization</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">LibFunc::Func</a> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a>;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>();</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FuncName = Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="comment">// Next check for intrinsics.</span></div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(CI)) {</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90af387c9295462cb7394f13fc3b9276dc0">Intrinsic::pow</a>:</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;       <span class="keywordflow">return</span> &amp;Pow;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a7a35a0c20884a2a1b608229116ff92b1">Intrinsic::exp2</a>:</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;       <span class="keywordflow">return</span> &amp;Exp2;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;       <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    }</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  }</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <span class="comment">// Then check for known library functions.</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <span class="keywordflow">if</span> (TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a2e29ccd61341a821011294b733173fda">getLibFunc</a>(FuncName, Func) &amp;&amp; TLI-&gt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">has</a>(Func)) {</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordflow">switch</span> (Func) {</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf46a9a65ff8ff48a87f575fe056fcec1">LibFunc::strcat</a>:</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#acffee0569fbd759b55a0bd63f4e0d9ed">StrCat</a>;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faaf7f323cc371044c729cb295eaea743b">LibFunc::strncat</a>:</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ae33e1c633f9956c02230013e4e9b0919">StrNCat</a>;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fade48d0dc69a747ba01fc3c12f01653cd">LibFunc::strchr</a>:</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ac806d7f93424cefb1f2098b4dd7f8dbb">StrChr</a>;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee70aeb2c7b735c7e2a93944659ead9b">LibFunc::strrchr</a>:</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a8a490581f553c225fabe9fedecbf1792">StrRChr</a>;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa8574b01ba1bbc031cb5dd73572783e94">LibFunc::strcmp</a>:</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#abe123d53c7d5eccca020f27a5b1b9133">StrCmp</a>;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac655d7183272e27b95516887e3f24702">LibFunc::strncmp</a>:</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a85e88afd3b8ba5be7537e1a30a087709">StrNCmp</a>;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9359403a52c2d2696ad24d7c0045ee81">LibFunc::strcpy</a>:</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a1a95bc5d0227958ec69a609d4ce45918">StrCpy</a>;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6e9f2317a7900e39381b5138320278f6">LibFunc::stpcpy</a>:</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a23e5cc09119fac4f94b6c4390a5d5dac">StpCpy</a>;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3880572b66ab5faef56c79335acdcc0e">LibFunc::strncpy</a>:</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a91c721f70cea2c6912e445cb7f207f48">StrNCpy</a>;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0b976adf6aef24ee68598686784f3d66">LibFunc::strlen</a>:</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a2e7a6605c39fb458c0885513060fe2b0">StrLen</a>;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7172501859424081873c331c7ca23189">LibFunc::strpbrk</a>:</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#abcb2f6113281b8b997fa886830bb3597">StrPBrk</a>;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa2022ce5a2e7608261db877aa721e775d">LibFunc::strtol</a>:</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7d1e83ebe72db5ad7c189b5434562030">LibFunc::strtod</a>:</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5e8bd9d6b203267801b4f016c9b01436">LibFunc::strtof</a>:</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4e93efe839b2321386ee08b553eb821b">LibFunc::strtoul</a>:</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0257b83e8fec15243ce44446b98a3159">LibFunc::strtoll</a>:</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad66cc3d6beae7a9ea1ae025d586114ea">LibFunc::strtold</a>:</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa2a81239703d025e7504c36158df85bb2">LibFunc::strtoull</a>:</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a2aba4a7a1a2a9472a6fd72aa47594f1f">StrTo</a>;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa418e4acf5b7683561af9f1a77ca44fa7">LibFunc::strspn</a>:</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a8344c5d224fdb9ece0352f329a384ac4">StrSpn</a>;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9af5bb475a799bf459affaf6aa69a1d4">LibFunc::strcspn</a>:</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#aae7abc38b904a070d2ee9b329637c261">StrCSpn</a>;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa387c780d9bcac7dade149925a20812d4">LibFunc::strstr</a>:</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#aa2a56d13277194464b5479573997e59d">StrStr</a>;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3ac509b06abcd9a75f6676d6a65b0251">LibFunc::memcmp</a>:</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#aae2bd93efcb7619fa6526e72f4a205a0">MemCmp</a>;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad5203242bc89eaa644dc7b7ba2371c1d">LibFunc::memcpy</a>:</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#aa5df040b72433a3c103527073f092624">MemCpy</a>;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9e02525b88a00a1d0e8dcded032acbee">LibFunc::memmove</a>:</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ab1475537ba81e0f618c55bdd154f5ab5">MemMove</a>;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9f7f1b6be1144152902121f2463d0368">LibFunc::memset</a>:</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ac53f3eb38a544d0402d1e79fac10a0b2">MemSet</a>;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6facbe67d9e2920bce533f6874be1fe34c5">LibFunc::cosf</a>:</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fab5ad1d91e85f029b6fa7ee26cbb9e122">LibFunc::cos</a>:</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fae21b44ea5af90d5a8682f5f7242146e7">LibFunc::cosl</a>:</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keywordflow">return</span> &amp;Cos;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0037abb22ce7c98338835c8822c83d2a">LibFunc::sinpif</a>:</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee4cb0dba4fb401801069effd8a74297">LibFunc::sinpi</a>:</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa90cefa063016675ac56642a84773b03">LibFunc::cospif</a>:</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa29b75128bbc15063e1f6bf843349916d">LibFunc::cospi</a>:</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ad92e466b2a2d720dd49c000f210d7499">SinCosPi</a>;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa62c8dfa59caa8250b9c988b6d49fc18c">LibFunc::powf</a>:</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3f6287461c2cfdc3ad7b2c9a67ee27fd">LibFunc::pow</a>:</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa859af3ad03ff3b3116d2158c652fbab9">LibFunc::powl</a>:</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="keywordflow">return</span> &amp;Pow;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa59bb423c84bc9293df624f68bad35332">LibFunc::exp2l</a>:</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1e752b4eaa4c9db56a2bbcef82f934b9">LibFunc::exp2</a>:</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="keywordflow">case</span> LibFunc::exp2f:</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="keywordflow">return</span> &amp;Exp2;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7b6039589d26e9a03ffc9dedb4126ad4">LibFunc::ffs</a>:</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9b02a4bd6df09ab6c61d394d23cc3469">LibFunc::ffsl</a>:</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf4a8b742bdcc0d84a1b70969d74abb65">LibFunc::ffsll</a>:</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a2bde91a082170a71ca7bfcd9f57034f8">FFS</a>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac7d965d1f23189a93f8a5a4aed5bf161">LibFunc::abs</a>:</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa49b2a698572bb6b315471658cd25c805">LibFunc::labs</a>:</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5581a75a52b0adeb0c6862abc15c622f">LibFunc::llabs</a>:</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a0bedb8b972c7fc826438d14f42304fd5">Abs</a>;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1b86c536c749111457415f25b11244ee">LibFunc::isdigit</a>:</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a503978d10f890e3373d36905d8fce8b5">IsDigit</a>;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad120fd3b62c936a6ea1e1188005800b3">LibFunc::isascii</a>:</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a23e6da179ab17b4c74520997a5491b03">IsAscii</a>;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0b2448484e5bcc456e6208695c8ae6bd">LibFunc::toascii</a>:</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ab497d8212ee5663efb60e37486b24fd6">ToAscii</a>;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">LibFunc::printf</a>:</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ab47931cd5fdb800631c61b068d08800f">PrintF</a>;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa803e1ed0f626405d7808490a6abef2d7">LibFunc::sprintf</a>:</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a87afc76abf455a610549b2aeefa4bb4c">SPrintF</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">LibFunc::fprintf</a>:</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#ad5ce09d21e6bdf6847fc2aaf35384524">FPrintF</a>;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf2789e854208bc0ad60972756abc9afd">LibFunc::fwrite</a>:</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a324053b01532866a246eb69eca06fa32">FWrite</a>;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4a8c8d091f5ba42ce62053cb01c157d5">LibFunc::fputs</a>:</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#aa7c5c1d7de2484b059934e48eb370c52">FPuts</a>;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac896435a18cbac5eedb8eff2615180fa">LibFunc::puts</a>:</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#af8642f4f0c1a833d5accc46870adaca5">Puts</a>;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fafa39a03787d6fdb46bb82e4f935e40ef">LibFunc::perror</a>:</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a66320f0ae6990eb4bca4aaaf638281bb">ErrorReporting</a>;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0be68ec686aa24bfb1e9f17850b7adb6">LibFunc::vfprintf</a>:</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa85b457ecd49627dcfc69e2675eb79f46">LibFunc::fiprintf</a>:</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a707fbb3b1d26e1ba4d38dbb2a6bc1262">ErrorReporting0</a>;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa77fbc7a4cc74a172aa9e31e1fe5da243">LibFunc::fputc</a>:</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a69bb570f573c9fa895fa654bd0c25077">ErrorReporting1</a>;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa782c4e760a1f85a047f0f445fe9a166">LibFunc::ceil</a>:</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf3a65ea3339861d41948aa2de71ba2e4">LibFunc::fabs</a>:</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa56063a1f5d567e59c1b1dbdd82307afc">LibFunc::floor</a>:</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7d3fc30f043c58272273d77c908d5db8">LibFunc::rint</a>:</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac87ea230161f1f2247a5f72da886a23d">LibFunc::round</a>:</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7b4b4719f17bfc590fe1f8726d049e30">LibFunc::nearbyint</a>:</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad0a09e2728a769f54ffea5bb54747daa">LibFunc::trunc</a>:</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <span class="keywordflow">if</span> (hasFloatVersion(FuncName))</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;          <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#afa5546387e93f9b39132085ab5a53850">UnaryDoubleFP</a>;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4770aea851c9dc08978fc46cca26e089">LibFunc::acos</a>:</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fabcc0cb55013ee572d6d2641dd2451c99">LibFunc::acosh</a>:</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa112ae9dfa30a067791601d4190cd7179">LibFunc::asin</a>:</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5a30459863c4080c7acb310d4d022861">LibFunc::asinh</a>:</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa775dcab59dfe83389f4b2490a91a7d00">LibFunc::atan</a>:</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faea03317071ed150a02d71c83ceab58a2">LibFunc::atanh</a>:</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac0cd1a310949c5394085b8e53714f2a9">LibFunc::cbrt</a>:</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa73f734c537bf20dba7d0ae56a421f445">LibFunc::cosh</a>:</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa29e412513f719e77341b9a59c0ec4efd">LibFunc::exp</a>:</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac5b88f06f8e46e42dcef61457cd6ee92">LibFunc::exp10</a>:</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa2a756b1bc73a13ff5f93723b88d098af">LibFunc::expm1</a>:</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fafa3f73bf84a733da4c5652bd21b378a9">LibFunc::log</a>:</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa59df814479e1f13712ebb50a1159bd19">LibFunc::log10</a>:</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa59df75a822b860888babc0ba76040d7d">LibFunc::log1p</a>:</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa881ba9a89b3bc1f75154c0b3e4abea7a">LibFunc::log2</a>:</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa6d34a296e2c48916e900ef873014122">LibFunc::logb</a>:</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7187926b06529564381106c98bd3a1b7">LibFunc::sin</a>:</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa50a30db290430e9a098d120896378ea">LibFunc::sinh</a>:</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac68935baf041f4139079dbd9ddc76698">LibFunc::sqrt</a>:</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6c7521c4f5a3c83fa3fbba039befbbd7">LibFunc::tan</a>:</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faac115b90273355560db8fb49e1a37b74">LibFunc::tanh</a>:</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a> &amp;&amp; hasFloatVersion(FuncName))</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;         <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">UnsafeUnaryDoubleFP</a>;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1feac624846d4b3b383f4d6d78a5bf63">LibFunc::memcpy_chk</a>:</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a465f8796ec80404bb4b15bb16c0f5cc3">MemCpyChk</a>;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      }</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  }</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="comment">// Finally check for fortified library calls.</span></div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">if</span> (FuncName.<a class="code" href="classllvm_1_1StringRef.html#aa95e67973ed570584965dbbbd996d2f0">endswith</a>(<span class="stringliteral">&quot;_chk&quot;</span>)) {</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">if</span> (FuncName == <span class="stringliteral">&quot;__memmove_chk&quot;</span>)</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#aaf1b36cc76906c7826eb1aade22f9e14">MemMoveChk</a>;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FuncName == <span class="stringliteral">&quot;__memset_chk&quot;</span>)</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#af0d6cd2e7bbe75e1ea438f86b504dc19">MemSetChk</a>;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FuncName == <span class="stringliteral">&quot;__strcpy_chk&quot;</span>)</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#aa1f047325bddd234b00705d00d2178d9">StrCpyChk</a>;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FuncName == <span class="stringliteral">&quot;__stpcpy_chk&quot;</span>)</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a50d465eb054f3fcf309c2a9b5480581d">StpCpyChk</a>;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FuncName == <span class="stringliteral">&quot;__strncpy_chk&quot;</span>)</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a1559e011f5eb57b4da907ff9716d96df">StrNCpyChk</a>;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FuncName == <span class="stringliteral">&quot;__stpncpy_chk&quot;</span>)</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="namespacellvm.html#a1559e011f5eb57b4da907ff9716d96df">StrNCpyChk</a>;</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  }</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;}</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div><div class="line"><a name="l02174"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifierImpl.html#a1ac07b375522fc6aceb15ffe3c9b5281"> 2174</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classllvm_1_1LibCallSimplifierImpl.html#a1ac07b375522fc6aceb15ffe3c9b5281">LibCallSimplifierImpl::optimizeCall</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  LibCallOptimization *LCO = lookupOptimization(CI);</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="keywordflow">if</span> (LCO) {</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> Builder(CI);</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">return</span> LCO-&gt;optimizeCall(CI, TD, TLI, LCS, Builder);</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  }</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;}</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifier.html#a6708113cfe65591df20b4f423761ef85"> 2183</a></span>&#160;<a class="code" href="classllvm_1_1LibCallSimplifier.html#a6708113cfe65591df20b4f423761ef85">LibCallSimplifier::LibCallSimplifier</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                                     <span class="keywordtype">bool</span> <a class="code" href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a>) {</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  Impl = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LibCallSimplifierImpl.html">LibCallSimplifierImpl</a>(TD, TLI, <span class="keyword">this</span>, UnsafeFPShrink);</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;}</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;</div><div class="line"><a name="l02189"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifier.html#a5deededee2797c9bbf45ea94fee2fa83"> 2189</a></span>&#160;<a class="code" href="classllvm_1_1LibCallSimplifier.html#a5deededee2797c9bbf45ea94fee2fa83">LibCallSimplifier::~LibCallSimplifier</a>() {</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <span class="keyword">delete</span> Impl;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;}</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;</div><div class="line"><a name="l02193"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifier.html#a720db84f33d3d265af10e8703a0611b9"> 2193</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classllvm_1_1LibCallSimplifier.html#a720db84f33d3d265af10e8703a0611b9">LibCallSimplifier::optimizeCall</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI) {</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a0572c1477b66cd8c081821f4275dc59d">isNoBuiltin</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">return</span> Impl-&gt;optimizeCall(CI);</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;}</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div><div class="line"><a name="l02198"></a><span class="lineno"><a class="line" href="classllvm_1_1LibCallSimplifier.html#a420c81fa4216737eabfbf384b4eab31d"> 2198</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LibCallSimplifier.html#a420c81fa4216737eabfbf384b4eab31d">LibCallSimplifier::replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <a class="code" href="classllvm_1_1Value.html">Value</a> *With)<span class="keyword"> const </span>{</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  I-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(With);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;}</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;}</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment">// TODO:</span></div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment">//   Additional cases that we need to add to this file:</span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="comment">// cbrt:</span></div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="comment">//   * cbrt(expN(X))  -&gt; expN(x/3)</span></div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="comment">//   * cbrt(sqrt(x))  -&gt; pow(x,1/6)</span></div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="comment">//   * cbrt(sqrt(x))  -&gt; pow(x,1/9)</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="comment">// exp, expf, expl:</span></div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment">//   * exp(log(x))  -&gt; x</span></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">// log, logf, logl:</span></div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">//   * log(exp(x))   -&gt; x</span></div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;<span class="comment">//   * log(x**y)     -&gt; y*log(x)</span></div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="comment">//   * log(exp(y))   -&gt; y*log(e)</span></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="comment">//   * log(exp2(y))  -&gt; y*log(2)</span></div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="comment">//   * log(exp10(y)) -&gt; y*log(10)</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">//   * log(sqrt(x))  -&gt; 0.5*log(x)</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">//   * log(pow(x,y)) -&gt; y*log(x)</span></div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="comment">// lround, lroundf, lroundl:</span></div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="comment">//   * lround(cnst) -&gt; cnst&#39;</span></div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">// pow, powf, powl:</span></div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="comment">//   * pow(exp(x),y)  -&gt; exp(x*y)</span></div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="comment">//   * pow(sqrt(x),y) -&gt; pow(x,y*0.5)</span></div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="comment">//   * pow(pow(x,y),z)-&gt; pow(x,y*z)</span></div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="comment">// round, roundf, roundl:</span></div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="comment">//   * round(cnst) -&gt; cnst&#39;</span></div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;<span class="comment">// signbit:</span></div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<span class="comment">//   * signbit(cnst) -&gt; cnst&#39;</span></div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;<span class="comment">//   * signbit(nncst) -&gt; 0 (if pstv is a non-negative constant)</span></div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="comment">// sqrt, sqrtf, sqrtl:</span></div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;<span class="comment">//   * sqrt(expN(x))  -&gt; expN(x*0.5)</span></div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="comment">//   * sqrt(Nroot(x)) -&gt; pow(x,1/(2*N))</span></div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="comment">//   * sqrt(pow(x,y)) -&gt; pow(|x|,y*0.5)</span></div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="comment">// strchr:</span></div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="comment">//   * strchr(p, 0) -&gt; strlen(p)</span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="comment">// tan, tanf, tanl:</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment">//   * tan(atan(x)) -&gt; x</span></div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="comment">// trunc, truncf, truncl:</span></div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="comment">//   * trunc(cnst) -&gt; cnst&#39;</span></div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="comment">//</span></div><div class="ttc" id="namespacellvm_html_a1559e011f5eb57b4da907ff9716d96df"><div class="ttname"><a href="namespacellvm.html#a1559e011f5eb57b4da907ff9716d96df">llvm::StrNCpyChk</a></div><div class="ttdeci">static StrNCpyChkOpt StrNCpyChk</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01951">SimplifyLibCalls.cpp:1951</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_ac46176b523c8a76a9ccdb5683279db94"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">llvm::IRBuilder::CreateGEP</a></div><div class="ttdeci">Value * CreateGEP(Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00931">IRBuilder.h:931</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa8574b01ba1bbc031cb5dd73572783e94"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa8574b01ba1bbc031cb5dd73572783e94">llvm::LibFunc::strcmp</a></div><div class="ttdoc">int strcmp(const char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00539">TargetLibraryInfo.h:539</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifier_html"><div class="ttname"><a href="classllvm_1_1LibCallSimplifier.html">llvm::LibCallSimplifier</a></div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8h_source.html#l00029">SimplifyLibCalls.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a0eefa3e53db25b90828e42c64b138648">llvm::Triple::x86</a></div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00066">Triple.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifier_html_a5deededee2797c9bbf45ea94fee2fa83"><div class="ttname"><a href="classllvm_1_1LibCallSimplifier.html#a5deededee2797c9bbf45ea94fee2fa83">llvm::LibCallSimplifier::~LibCallSimplifier</a></div><div class="ttdeci">virtual ~LibCallSimplifier()</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l02189">SimplifyLibCalls.cpp:2189</a></div></div>
<div class="ttc" id="namespacellvm_html_aae7abc38b904a070d2ee9b329637c261"><div class="ttname"><a href="namespacellvm.html#aae7abc38b904a070d2ee9b329637c261">llvm::StrCSpn</a></div><div class="ttdeci">static StrCSpnOpt StrCSpn</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01967">SimplifyLibCalls.cpp:1967</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa803e1ed0f626405d7808490a6abef2d7"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa803e1ed0f626405d7808490a6abef2d7">llvm::LibFunc::sprintf</a></div><div class="ttdoc">int sprintf(char *str, const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00511">TargetLibraryInfo.h:511</a></div></div>
<div class="ttc" id="namespacellvm_html_a6592393edcc944aa0fae70e18b5fbe0a"><div class="ttname"><a href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">llvm::GetStringLength</a></div><div class="ttdeci">uint64_t GetStringLength(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01888">ValueTracking.cpp:1888</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_af440b535b3b4e8d0d089dd0ed2283a0f"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">llvm::IRBuilder::CreateLoad</a></div><div class="ttdeci">LoadInst * CreateLoad(Value *Ptr, const char *Name)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00879">IRBuilder.h:879</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00167">Function.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00072">Instruction.cpp:72</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fad5203242bc89eaa644dc7b7ba2371c1d"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad5203242bc89eaa644dc7b7ba2371c1d">llvm::LibFunc::memcpy</a></div><div class="ttdoc">void *memcpy(void *s1, const void *s2, size_t n); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00390">TargetLibraryInfo.h:390</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faa50a30db290430e9a098d120896378ea"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa50a30db290430e9a098d120896378ea">llvm::LibFunc::sinh</a></div><div class="ttdoc">double sinh(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00499">TargetLibraryInfo.h:499</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_af68d5ebdb576d7481ea2766151b875d4"><div class="ttname"><a href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">llvm::StringRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the string size. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00113">StringRef.h:113</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="namespacellvm_html_a23e5cc09119fac4f94b6c4390a5d5dac"><div class="ttname"><a href="namespacellvm.html#a23e5cc09119fac4f94b6c4390a5d5dac">llvm::StpCpy</a></div><div class="ttdeci">static StpCpyOpt StpCpy</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01961">SimplifyLibCalls.cpp:1961</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_afdd8a08bfcbd94f60d166a71a3e79ff3"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">llvm::IRBuilder::CreateIntCast</a></div><div class="ttdeci">Value * CreateIntCast(Value *V, Type *DestTy, bool isSigned, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01180">IRBuilder.h:1180</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa7172501859424081873c331c7ca23189"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7172501859424081873c331c7ca23189">llvm::LibFunc::strpbrk</a></div><div class="ttdoc">char *strpbrk(const char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00563">TargetLibraryInfo.h:563</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac7d965d1f23189a93f8a5a4aed5bf161"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac7d965d1f23189a93f8a5a4aed5bf161">llvm::LibFunc::abs</a></div><div class="ttdoc">int abs(int j); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00089">TargetLibraryInfo.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a97cf043af111c14bb4d03a99cf42af03"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">llvm::FunctionType::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00133">DerivedTypes.h:133</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa7d3fc30f043c58272273d77c908d5db8"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7d3fc30f043c58272273d77c908d5db8">llvm::LibFunc::rint</a></div><div class="ttdoc">double rint(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00472">TargetLibraryInfo.h:472</a></div></div>
<div class="ttc" id="namespacellvm_html_a0bedb8b972c7fc826438d14f42304fd5"><div class="ttname"><a href="namespacellvm.html#a0bedb8b972c7fc826438d14f42304fd5">llvm::Abs</a></div><div class="ttdeci">static AbsOpt Abs</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01983">SimplifyLibCalls.cpp:1983</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">llvm::Type::FloatTyID</a></div><div class="ttdoc">2: 32-bit floating point type </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00057">Type.h:57</a></div></div>
<div class="ttc" id="namespacellvm_html_ab47931cd5fdb800631c61b068d08800f"><div class="ttname"><a href="namespacellvm.html#ab47931cd5fdb800631c61b068d08800f">llvm::PrintF</a></div><div class="ttdeci">static PrintFOpt PrintF</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01992">SimplifyLibCalls.cpp:1992</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faac115b90273355560db8fb49e1a37b74"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faac115b90273355560db8fb49e1a37b74">llvm::LibFunc::tanh</a></div><div class="ttdoc">double tanh(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00598">TargetLibraryInfo.h:598</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00442">TargetLibraryInfo.h:442</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="namespacellvm_html_aae2bd93efcb7619fa6526e72f4a205a0"><div class="ttname"><a href="namespacellvm.html#aae2bd93efcb7619fa6526e72f4a205a0">llvm::MemCmp</a></div><div class="ttdeci">static MemCmpOpt MemCmp</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01971">SimplifyLibCalls.cpp:1971</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifierImpl_html_afe1d909187c6c0bbf6ca85f05e386847"><div class="ttname"><a href="classllvm_1_1LibCallSimplifierImpl.html#afe1d909187c6c0bbf6ca85f05e386847">llvm::LibCallSimplifierImpl::LibCallSimplifierImpl</a></div><div class="ttdeci">LibCallSimplifierImpl(const DataLayout *TD, const TargetLibraryInfo *TLI, const LibCallSimplifier *LCS, bool UnsafeFPShrink=false)</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01921">SimplifyLibCalls.cpp:1921</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa2022ce5a2e7608261db877aa721e775d"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa2022ce5a2e7608261db877aa721e775d">llvm::LibFunc::strtol</a></div><div class="ttdoc">long int strtol(const char *nptr, char **endptr, int base); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00579">TargetLibraryInfo.h:579</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a421e16456fe6d7b71fb4af736194165c"><div class="ttname"><a href="classllvm_1_1StringRef.html#a421e16456fe6d7b71fb4af736194165c">llvm::StringRef::find</a></div><div class="ttdeci">size_t find(char C, size_t From=0) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00233">StringRef.h:233</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00031">CallingConv.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_aa95e67973ed570584965dbbbd996d2f0"><div class="ttname"><a href="classllvm_1_1StringRef.html#aa95e67973ed570584965dbbbd996d2f0">llvm::StringRef::endswith</a></div><div class="ttdeci">bool endswith(StringRef Suffix) const </div><div class="ttdoc">Check if this string ends with the given Suffix. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00217">StringRef.h:217</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fab5ad1d91e85f029b6fa7ee26cbb9e122"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fab5ad1d91e85f029b6fa7ee26cbb9e122">llvm::LibFunc::cos</a></div><div class="ttdoc">double cos(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00177">TargetLibraryInfo.h:177</a></div></div>
<div class="ttc" id="SimplifyLibCalls_8h_html"><div class="ttname"><a href="SimplifyLibCalls_8h.html">SimplifyLibCalls.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="Triple_8h_html"><div class="ttname"><a href="Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa5e8bd9d6b203267801b4f016c9b01436"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5e8bd9d6b203267801b4f016c9b01436">llvm::LibFunc::strtof</a></div><div class="ttdoc">float strtof(const char *nptr, char **endptr); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00573">TargetLibraryInfo.h:573</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a87091ed60a621a3d430752da2996d27b"><div class="ttname"><a href="classllvm_1_1StringRef.html#a87091ed60a621a3d430752da2996d27b">llvm::StringRef::rfind</a></div><div class="ttdeci">size_t rfind(char C, size_t From=npos) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00250">StringRef.h:250</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa05508f8c6ed5aa858e634f44bebeabf9"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa05508f8c6ed5aa858e634f44bebeabf9">llvm::LibFunc::exp2f</a></div><div class="ttdoc">float exp2f(float x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00201">TargetLibraryInfo.h:201</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a3d0712956e53687d1894ba17b84aeffa"><div class="ttname"><a href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">llvm::StringRef::substr</a></div><div class="ttdeci">StringRef substr(size_t Start, size_t N=npos) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00392">StringRef.h:392</a></div></div>
<div class="ttc" id="classllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">llvm::Triple::x86_64</a></div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00067">Triple.h:67</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ac67ad08d36c989a872a887caa72803c6"><div class="ttname"><a href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">llvm::Type::isDoubleTy</a></div><div class="ttdeci">bool isDoubleTy() const </div><div class="ttdoc">isDoubleTy - Return true if this is &amp;#39;double&amp;#39;, a 64-bit IEEE fp type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00149">Type.h:149</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faee4cb0dba4fb401801069effd8a74297"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee4cb0dba4fb401801069effd8a74297">llvm::LibFunc::sinpi</a></div><div class="ttdoc">double __sinpi(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00073">TargetLibraryInfo.h:73</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a7a35a0c20884a2a1b608229116ff92b1"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a7a35a0c20884a2a1b608229116ff92b1">llvm::Intrinsic::exp2</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00384">Intrinsics.h:384</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a9c30c87af01068ceae02cd371748d175"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a9c30c87af01068ceae02cd371748d175">llvm::IRBuilder::CreateICmpULT</a></div><div class="ttdeci">Value * CreateICmpULT(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01218">IRBuilder.h:1218</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa1b86c536c749111457415f25b11244ee"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1b86c536c749111457415f25b11244ee">llvm::LibFunc::isdigit</a></div><div class="ttdoc">int isdigit(int c); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00338">TargetLibraryInfo.h:338</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa7b4b4719f17bfc590fe1f8726d049e30"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7b4b4719f17bfc590fe1f8726d049e30">llvm::LibFunc::nearbyint</a></div><div class="ttdoc">double nearbyint(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00410">TargetLibraryInfo.h:410</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf46a9a65ff8ff48a87f575fe056fcec1"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf46a9a65ff8ff48a87f575fe056fcec1">llvm::LibFunc::strcat</a></div><div class="ttdoc">char *strcat(char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00535">TargetLibraryInfo.h:535</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa7b6039589d26e9a03ffc9dedb4126ad4"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7b6039589d26e9a03ffc9dedb4126ad4">llvm::LibFunc::ffs</a></div><div class="ttdoc">int ffs(int i); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00231">TargetLibraryInfo.h:231</a></div></div>
<div class="ttc" id="namespacellvm_html_acffee0569fbd759b55a0bd63f4e0d9ed"><div class="ttname"><a href="namespacellvm.html#acffee0569fbd759b55a0bd63f4e0d9ed">llvm::StrCat</a></div><div class="ttdeci">static StrCatOpt StrCat</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01954">SimplifyLibCalls.cpp:1954</a></div></div>
<div class="ttc" id="SimplifyLibCalls_8cpp_html_a9eeed3271e836866068fe08f21dfdc6d"><div class="ttname"><a href="SimplifyLibCalls_8cpp.html#a9eeed3271e836866068fe08f21dfdc6d">ColdErrorCalls</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ColdErrorCalls(&quot;error-reporting-is-cold&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Treat error-reporting calls as cold&quot;))</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_adb927d9c3777f22883b7a9e98dc20759"><div class="ttname"><a href="classllvm_1_1StringRef.html#adb927d9c3777f22883b7a9e98dc20759">llvm::StringRef::drop_back</a></div><div class="ttdeci">StringRef drop_back(size_t N=1) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00406">StringRef.h:406</a></div></div>
<div class="ttc" id="namespacellvm_html_ac53f3eb38a544d0402d1e79fac10a0b2"><div class="ttname"><a href="namespacellvm.html#ac53f3eb38a544d0402d1e79fac10a0b2">llvm::MemSet</a></div><div class="ttdeci">static MemSetOpt MemSet</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01974">SimplifyLibCalls.cpp:1974</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa59df75a822b860888babc0ba76040d7d"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa59df75a822b860888babc0ba76040d7d">llvm::LibFunc::log1p</a></div><div class="ttdoc">double log1p(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00354">TargetLibraryInfo.h:354</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a0572c1477b66cd8c081821f4275dc59d"><div class="ttname"><a href="classllvm_1_1CallInst.html#a0572c1477b66cd8c081821f4275dc59d">llvm::CallInst::isNoBuiltin</a></div><div class="ttdeci">bool isNoBuiltin() const </div><div class="ttdoc">Return true if the call should not be treated as a call to a builtin. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01289">Instructions.h:1289</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a40da6cb8652ba35211cdc58b07399754"><div class="ttname"><a href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">llvm::Module::getTargetTriple</a></div><div class="ttdeci">const std::string &amp; getTargetTriple() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00237">Module.h:237</a></div></div>
<div class="ttc" id="namespacellvm_html_a707fbb3b1d26e1ba4d38dbb2a6bc1262"><div class="ttname"><a href="namespacellvm.html#a707fbb3b1d26e1ba4d38dbb2a6bc1262">llvm::ErrorReporting0</a></div><div class="ttdeci">static ErrorReportingOpt ErrorReporting0(0)</div></div>
<div class="ttc" id="classllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00116">User.h:116</a></div></div>
<div class="ttc" id="namespacellvm_html_af9c98674b37c21b7045f5107092a2a86"><div class="ttname"><a href="namespacellvm.html#af9c98674b37c21b7045f5107092a2a86">llvm::UnsafeUnaryDoubleFP</a></div><div class="ttdeci">static UnaryDoubleFPOpt UnsafeUnaryDoubleFP(true)</div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_afa1cb82e021c7f516f65d40162fe6c53"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#afa1cb82e021c7f516f65d40162fe6c53">llvm::IRBuilder::CreateSub</a></div><div class="ttdeci">Value * CreateSub(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00637">IRBuilder.h:637</a></div></div>
<div class="ttc" id="Allocator_8h_html"><div class="ttname"><a href="Allocator_8h.html">Allocator.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa7d1e83ebe72db5ad7c189b5434562030"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7d1e83ebe72db5ad7c189b5434562030">llvm::LibFunc::strtod</a></div><div class="ttdoc">double strtod(const char *nptr, char **endptr); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00571">TargetLibraryInfo.h:571</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_abd3da4c9a7bdee3fb759a06410095f75"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#abd3da4c9a7bdee3fb759a06410095f75">llvm::IRBuilder::Insert</a></div><div class="ttdeci">InstTy * Insert(InstTy *I, const Twine &amp;Name=&quot;&quot;) const </div><div class="ttdoc">Insert and return the specified instruction. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00475">IRBuilder.h:475</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fad0a09e2728a769f54ffea5bb54747daa"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad0a09e2728a769f54ffea5bb54747daa">llvm::LibFunc::trunc</a></div><div class="ttdoc">double trunc(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00614">TargetLibraryInfo.h:614</a></div></div>
<div class="ttc" id="namespacellvm_html_a10e9d29cf69cbc46524b855cac23b289"><div class="ttname"><a href="namespacellvm.html#a10e9d29cf69cbc46524b855cac23b289">llvm::EmitStrChr</a></div><div class="ttdeci">Value * EmitStrChr(Value *Ptr, char C, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00094">BuildLibCalls.cpp:94</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa5fe293a4388b5441e4c698d9ce6b0fdf"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5fe293a4388b5441e4c698d9ce6b0fdf">llvm::LibFunc::sqrtf</a></div><div class="ttdoc">float sqrtf(float x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00515">TargetLibraryInfo.h:515</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00111">Constants.cpp:111</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac896435a18cbac5eedb8eff2615180fa"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac896435a18cbac5eedb8eff2615180fa">llvm::LibFunc::puts</a></div><div class="ttdoc">int puts(const char *s); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00448">TargetLibraryInfo.h:448</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_acd74b2224788f8d010e47622bb3c2a04"><div class="ttname"><a href="classllvm_1_1CallInst.html#acd74b2224788f8d010e47622bb3c2a04">llvm::CallInst::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01253">Instructions.h:1253</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a6ee1d1e7a13072ef579558d64b208d3c"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">llvm::IRBuilderBase::getInt32Ty</a></div><div class="ttdeci">IntegerType * getInt32Ty()</div><div class="ttdoc">Fetch the type representing a 32-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00310">IRBuilder.h:310</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_aaad2ceb595181c43b5969814345ab198"><div class="ttname"><a href="classllvm_1_1StringRef.html#aaad2ceb595181c43b5969814345ab198">llvm::StringRef::compare</a></div><div class="ttdeci">int compare(StringRef RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00141">StringRef.h:141</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_ad5fec5c08f31a41d968cc03b5426ee63"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#ad5fec5c08f31a41d968cc03b5426ee63">llvm::IRBuilder::CreateFMul</a></div><div class="ttdeci">Value * CreateFMul(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, MDNode *FPMathTag=0)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00673">IRBuilder.h:673</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a248295120710baf72dbbd3a862c840e4"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a248295120710baf72dbbd3a862c840e4">llvm::IRBuilderBase::CreateMemMove</a></div><div class="ttdeci">CallInst * CreateMemMove(Value *Dst, Value *Src, uint64_t Size, unsigned Align, bool isVolatile=false, MDNode *TBAATag=0)</div><div class="ttdoc">Create and insert a memmove between the specified pointers. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00381">IRBuilder.h:381</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa311d355a7612d8ed79a9d1f8c3f734fa"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa311d355a7612d8ed79a9d1f8c3f734fa">llvm::LibFunc::fabsl</a></div><div class="ttdoc">long double fabsl(long double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00219">TargetLibraryInfo.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a478d9db5034ad1bef340198c3aaf861a"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">llvm::IRBuilder::CreateExtractValue</a></div><div class="ttdeci">Value * CreateExtractValue(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01375">IRBuilder.h:1375</a></div></div>
<div class="ttc" id="namespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00044">GraphWriter.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fae21b44ea5af90d5a8682f5f7242146e7"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fae21b44ea5af90d5a8682f5f7242146e7">llvm::LibFunc::cosl</a></div><div class="ttdoc">long double cosl(long double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00187">TargetLibraryInfo.h:187</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac87ea230161f1f2247a5f72da886a23d"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac87ea230161f1f2247a5f72da886a23d">llvm::LibFunc::round</a></div><div class="ttdoc">double round(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00480">TargetLibraryInfo.h:480</a></div></div>
<div class="ttc" id="namespacellvm_html_a23e6da179ab17b4c74520997a5491b03"><div class="ttname"><a href="namespacellvm.html#a23e6da179ab17b4c74520997a5491b03">llvm::IsAscii</a></div><div class="ttdeci">static IsAsciiOpt IsAscii</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01985">SimplifyLibCalls.cpp:1985</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html_a2e29ccd61341a821011294b733173fda"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a2e29ccd61341a821011294b733173fda">llvm::TargetLibraryInfo::getLibFunc</a></div><div class="ttdeci">bool getLibFunc(StringRef funcName, LibFunc::Func &amp;F) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00659">TargetLibraryInfo.cpp:659</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa4061bb081c791e9f95c2f6a6d8e14f92"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4061bb081c791e9f95c2f6a6d8e14f92">llvm::LibFunc::sincospi_stret</a></div><div class="ttdoc">double __sincospi_stret(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00069">TargetLibraryInfo.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html_a986085d3cd43522192d93e84bc660978"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html#a986085d3cd43522192d93e84bc660978">llvm::TargetLibraryInfo::has</a></div><div class="ttdeci">bool has(LibFunc::Func F) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00688">TargetLibraryInfo.h:688</a></div></div>
<div class="ttc" id="namespacellvm_html_a77db76f1e31901d271ba6c2e3def4e94"><div class="ttname"><a href="namespacellvm.html#a77db76f1e31901d271ba6c2e3def4e94">llvm::EmitUnaryFloatFnCall</a></div><div class="ttdeci">Value * EmitUnaryFloatFnCall(Value *Op, StringRef Name, IRBuilder&lt;&gt; &amp;B, const AttributeSet &amp;Attrs)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00293">BuildLibCalls.cpp:293</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a4c4e0ddf48da714833f47875d2d3b95c"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a4c4e0ddf48da714833f47875d2d3b95c">llvm::IRBuilder::CreateFCmpOEQ</a></div><div class="ttdeci">Value * CreateFCmpOEQ(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01237">IRBuilder.h:1237</a></div></div>
<div class="ttc" id="SmallString_8h_html"><div class="ttname"><a href="SmallString_8h.html">SmallString.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_ac88b95273e6c753188f6a54d65548579"><div class="ttname"><a href="classllvm_1_1CallInst.html#ac88b95273e6c753188f6a54d65548579">llvm::CallInst::getNumArgOperands</a></div><div class="ttdeci">unsigned getNumArgOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01241">Instructions.h:1241</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00421">IRBuilder.h:421</a></div></div>
<div class="ttc" id="namespacellvm_html_a465f8796ec80404bb4b15bb16c0f5cc3"><div class="ttname"><a href="namespacellvm.html#a465f8796ec80404bb4b15bb16c0f5cc3">llvm::MemCpyChk</a></div><div class="ttdeci">static MemCpyChkOpt MemCpyChk</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01946">SimplifyLibCalls.cpp:1946</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa59df814479e1f13712ebb50a1159bd19"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa59df814479e1f13712ebb50a1159bd19">llvm::LibFunc::log10</a></div><div class="ttdoc">double log10(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00348">TargetLibraryInfo.h:348</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fade48d0dc69a747ba01fc3c12f01653cd"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fade48d0dc69a747ba01fc3c12f01653cd">llvm::LibFunc::strchr</a></div><div class="ttdoc">char *strchr(const char *s, int c); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00537">TargetLibraryInfo.h:537</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_af6aad0c9ba7b8720130235c9621b55b5"><div class="ttname"><a href="classllvm_1_1Instruction.html#af6aad0c9ba7b8720130235c9621b55b5">llvm::Instruction::clone</a></div><div class="ttdeci">Instruction * clone() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00541">Instruction.cpp:541</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a33a5c648796fb4593268c1d150f8582f"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a33a5c648796fb4593268c1d150f8582f">llvm::IRBuilder::CreateICmpSGT</a></div><div class="ttdeci">Value * CreateICmpSGT(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01224">IRBuilder.h:1224</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="TargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eaa94162b0564176cc56e5688691877074"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaa94162b0564176cc56e5688691877074">llvm::Attribute::ReadNone</a></div><div class="ttdoc">Function does not access memory. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00093">Attributes.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea5cc1fd181ee0ea215071ffbe1ea16780"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5cc1fd181ee0ea215071ffbe1ea16780">llvm::Attribute::NoCapture</a></div><div class="ttdoc">Function creates no aliases of pointer. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00082">Attributes.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a6edd823ba5e4e1effc8280ca8a1194ef"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Return the zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00116">Constants.h:116</a></div></div>
<div class="ttc" id="namespacellvm_html_ab1475537ba81e0f618c55bdd154f5ab5"><div class="ttname"><a href="namespacellvm.html#ab1475537ba81e0f618c55bdd154f5ab5">llvm::MemMove</a></div><div class="ttdeci">static MemMoveOpt MemMove</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01973">SimplifyLibCalls.cpp:1973</a></div></div>
<div class="ttc" id="namespacellvm_html_ad5ce09d21e6bdf6847fc2aaf35384524"><div class="ttname"><a href="namespacellvm.html#ad5ce09d21e6bdf6847fc2aaf35384524">llvm::FPrintF</a></div><div class="ttdeci">static FPrintFOpt FPrintF</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01994">SimplifyLibCalls.cpp:1994</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a197d5dd77cad4560a082900962a830aa"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">llvm::IRBuilder::CreateAnd</a></div><div class="ttdeci">Value * CreateAnd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00789">IRBuilder.h:789</a></div></div>
<div class="ttc" id="namespacellvm_html_ae33e1c633f9956c02230013e4e9b0919"><div class="ttname"><a href="namespacellvm.html#ae33e1c633f9956c02230013e4e9b0919">llvm::StrNCat</a></div><div class="ttdeci">static StrNCatOpt StrNCat</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01955">SimplifyLibCalls.cpp:1955</a></div></div>
<div class="ttc" id="namespacellvm_html_a8a490581f553c225fabe9fedecbf1792"><div class="ttname"><a href="namespacellvm.html#a8a490581f553c225fabe9fedecbf1792">llvm::StrRChr</a></div><div class="ttdeci">static StrRChrOpt StrRChr</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01957">SimplifyLibCalls.cpp:1957</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a6abdd13c122726ee189cb2849a79ade1"><div class="ttname"><a href="classllvm_1_1CallInst.html#a6abdd13c122726ee189cb2849a79ade1">llvm::CallInst::hasFnAttr</a></div><div class="ttdeci">bool hasFnAttr(Attribute::AttrKind A) const </div><div class="ttdoc">Determine whether this call has the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01273">Instructions.h:1273</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a7d9b88d042ae1da8afd5509875c90a04"><div class="ttname"><a href="classllvm_1_1StringRef.html#a7d9b88d042ae1da8afd5509875c90a04">llvm::StringRef::data</a></div><div class="ttdeci">const char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00107">StringRef.h:107</a></div></div>
<div class="ttc" id="namespacellvm_html_aaf1b36cc76906c7826eb1aade22f9e14"><div class="ttname"><a href="namespacellvm.html#aaf1b36cc76906c7826eb1aade22f9e14">llvm::MemMoveChk</a></div><div class="ttdeci">static MemMoveChkOpt MemMoveChk</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01947">SimplifyLibCalls.cpp:1947</a></div></div>
<div class="ttc" id="Mips16ISelLowering_8cpp_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00349">Mips16ISelLowering.cpp:349</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa0257b83e8fec15243ce44446b98a3159"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0257b83e8fec15243ce44446b98a3159">llvm::LibFunc::strtoll</a></div><div class="ttdoc">long long int strtoll(const char *nptr, char **endptr, int base); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00583">TargetLibraryInfo.h:583</a></div></div>
<div class="ttc" id="CPPBackend_8cpp_html_a42ec43d2298561e7465455e9574a229d"><div class="ttname"><a href="CPPBackend_8cpp.html#a42ec43d2298561e7465455e9574a229d">FuncName</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; FuncName(&quot;cppfname&quot;, cl::desc(&quot;Specify the name of the generated function&quot;), cl::value_desc(&quot;function name&quot;))</div></div>
<div class="ttc" id="namespacellvm_html_a427bf8cb5a44f3f2c23ae7827889eb27"><div class="ttname"><a href="namespacellvm.html#a427bf8cb5a44f3f2c23ae7827889eb27">llvm::EmitMemChr</a></div><div class="ttdeci">Value * EmitMemChr(Value *Ptr, Value *Val, Value *Len, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00231">BuildLibCalls.cpp:231</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac68935baf041f4139079dbd9ddc76698"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac68935baf041f4139079dbd9ddc76698">llvm::LibFunc::sqrt</a></div><div class="ttdoc">double sqrt(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00513">TargetLibraryInfo.h:513</a></div></div>
<div class="ttc" id="namespacellvm_html_a85e88afd3b8ba5be7537e1a30a087709"><div class="ttname"><a href="namespacellvm.html#a85e88afd3b8ba5be7537e1a30a087709">llvm::StrNCmp</a></div><div class="ttdeci">static StrNCmpOpt StrNCmp</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01959">SimplifyLibCalls.cpp:1959</a></div></div>
<div class="ttc" id="classllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallString_8h_source.html#l00025">SmallString.h:25</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8e08dfcb75ff1b4b38c352bc0d9db223"><div class="ttname"><a href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">llvm::Type::getTypeID</a></div><div class="ttdeci">TypeID getTypeID() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00137">Type.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a40113570b0c52a18c34cabed8359e2c8"><div class="ttname"><a href="classllvm_1_1Type.html#a40113570b0c52a18c34cabed8359e2c8">llvm::Type::isFloatingPointTy</a></div><div class="ttdeci">bool isFloatingPointTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00162">Type.h:162</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac5b88f06f8e46e42dcef61457cd6ee92"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac5b88f06f8e46e42dcef61457cd6ee92">llvm::LibFunc::exp10</a></div><div class="ttdoc">double exp10(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00193">TargetLibraryInfo.h:193</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a842176a2c8c60a94bc788454b0828ea2"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=None)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00683">Function.cpp:683</a></div></div>
<div class="ttc" id="namespacellvm_html_a2aba4a7a1a2a9472a6fd72aa47594f1f"><div class="ttname"><a href="namespacellvm.html#a2aba4a7a1a2a9472a6fd72aa47594f1f">llvm::StrTo</a></div><div class="ttdeci">static StrToOpt StrTo</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01965">SimplifyLibCalls.cpp:1965</a></div></div>
<div class="ttc" id="namespacellvm_html_afa5546387e93f9b39132085ab5a53850"><div class="ttname"><a href="namespacellvm.html#afa5546387e93f9b39132085ab5a53850">llvm::UnaryDoubleFP</a></div><div class="ttdeci">static UnaryDoubleFPOpt UnaryDoubleFP(false)</div></div>
<div class="ttc" id="classllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00303">Value.cpp:303</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa881ba9a89b3bc1f75154c0b3e4abea7a"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa881ba9a89b3bc1f75154c0b3e4abea7a">llvm::LibFunc::log2</a></div><div class="ttdoc">double log2(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00360">TargetLibraryInfo.h:360</a></div></div>
<div class="ttc" id="namespacellvm_html_aa1f047325bddd234b00705d00d2178d9"><div class="ttname"><a href="namespacellvm.html#aa1f047325bddd234b00705d00d2178d9">llvm::StrCpyChk</a></div><div class="ttdeci">static StrCpyChkOpt StrCpyChk</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01949">SimplifyLibCalls.cpp:1949</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a43f7fa52a3fbe01e44c40d9db278ab3e"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a43f7fa52a3fbe01e44c40d9db278ab3e">llvm::IRBuilder::CreateStore</a></div><div class="ttdeci">StoreInst * CreateStore(Value *Val, Value *Ptr, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00888">IRBuilder.h:888</a></div></div>
<div class="ttc" id="namespacellvm_html_ab497d8212ee5663efb60e37486b24fd6"><div class="ttname"><a href="namespacellvm.html#ab497d8212ee5663efb60e37486b24fd6">llvm::ToAscii</a></div><div class="ttdeci">static ToAsciiOpt ToAscii</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01986">SimplifyLibCalls.cpp:1986</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa9b02a4bd6df09ab6c61d394d23cc3469"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9b02a4bd6df09ab6c61d394d23cc3469">llvm::LibFunc::ffsl</a></div><div class="ttdoc">int ffsl(long int i); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00233">TargetLibraryInfo.h:233</a></div></div>
<div class="ttc" id="namespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">llvm::lltok::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00182">LLToken.h:182</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_ace45cae6925c65e9d6916e09dd5b17cc"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">llvm::IRBuilderBase::SetInsertPoint</a></div><div class="ttdeci">void SetInsertPoint(BasicBlock *TheBB)</div><div class="ttdoc">This specifies that created instructions should be appended to the end of the specified block...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00083">IRBuilder.h:83</a></div></div>
<div class="ttc" id="namespacellvm_html_af8642f4f0c1a833d5accc46870adaca5"><div class="ttname"><a href="namespacellvm.html#af8642f4f0c1a833d5accc46870adaca5">llvm::Puts</a></div><div class="ttdeci">static PutsOpt Puts</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01997">SimplifyLibCalls.cpp:1997</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf2789e854208bc0ad60972756abc9afd"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf2789e854208bc0ad60972756abc9afd">llvm::LibFunc::fwrite</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00310">TargetLibraryInfo.h:310</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a07179526071d22a8e84f95b120d49124"><div class="ttname"><a href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">llvm::CallInst::addAttribute</a></div><div class="ttdeci">void addAttribute(unsigned i, Attribute::AttrKind attr)</div><div class="ttdoc">addAttribute - adds the attribute to the list of attributes. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00334">Instructions.cpp:334</a></div></div>
<div class="ttc" id="namespacellvm_html_ae3766d58307260b74c7ea9258a1085b5"><div class="ttname"><a href="namespacellvm.html#ae3766d58307260b74c7ea9258a1085b5">llvm::EmitStrNCpy</a></div><div class="ttdeci">Value * EmitStrNCpy(Value *Dst, Value *Src, Value *Len, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI, StringRef Name=&quot;strncpy&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00176">BuildLibCalls.cpp:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa3ac509b06abcd9a75f6676d6a65b0251"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3ac509b06abcd9a75f6676d6a65b0251">llvm::LibFunc::memcmp</a></div><div class="ttdoc">int memcmp(const void *s1, const void *s2, size_t n); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00388">TargetLibraryInfo.h:388</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a20584f4f40ed5bd24173c40c4185551a"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a20584f4f40ed5bd24173c40c4185551a">llvm::IRBuilderBase::getDoubleTy</a></div><div class="ttdeci">Type * getDoubleTy()</div><div class="ttdoc">Fetch the type representing a 64-bit floating point value. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00325">IRBuilder.h:325</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a176b84b12bc19326444728c6404dd068"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">llvm::FunctionType::getParamType</a></div><div class="ttdeci">Type * getParamType(unsigned i) const </div><div class="ttdoc">Parameter type accessors. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00128">DerivedTypes.h:128</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64ISD_html_a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">llvm::AArch64ISD::Ret</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00060">AArch64ISelLowering.h:60</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faee70aeb2c7b735c7e2a93944659ead9b"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee70aeb2c7b735c7e2a93944659ead9b">llvm::LibFunc::strrchr</a></div><div class="ttdoc">char *strrchr(const char *s, int c); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="BuildLibCalls_8h_html"><div class="ttname"><a href="BuildLibCalls_8h.html">BuildLibCalls.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa0be68ec686aa24bfb1e9f17850b7adb6"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0be68ec686aa24bfb1e9f17850b7adb6">llvm::LibFunc::vfprintf</a></div><div class="ttdoc">int vfprintf(FILE *stream, const char *format, va_list ap); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00634">TargetLibraryInfo.h:634</a></div></div>
<div class="ttc" id="namespacellvm_html_af0d6cd2e7bbe75e1ea438f86b504dc19"><div class="ttname"><a href="namespacellvm.html#af0d6cd2e7bbe75e1ea438f86b504dc19">llvm::MemSetChk</a></div><div class="ttdeci">static MemSetChkOpt MemSetChk</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01948">SimplifyLibCalls.cpp:1948</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a96581205e1149f5d70b56f9a83bc841a"><div class="ttname"><a href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">llvm::Module::getOrInsertFunction</a></div><div class="ttdeci">Constant * getOrInsertFunction(StringRef Name, FunctionType *T, AttributeSet AttributeList)</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00138">Module.cpp:138</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00037">LLVMContext.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a112f87f5844b5d94c07940f3d47f1e99"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a112f87f5844b5d94c07940f3d47f1e99">llvm::IRBuilder::CreateAdd</a></div><div class="ttdeci">Value * CreateAdd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00615">IRBuilder.h:615</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa73f734c537bf20dba7d0ae56a421f445"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa73f734c537bf20dba7d0ae56a421f445">llvm::LibFunc::cosh</a></div><div class="ttdoc">double cosh(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00181">TargetLibraryInfo.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="InstructionCombining_8cpp_html_a85b6b7c082723d74f04ac701c91daa47"><div class="ttname"><a href="InstructionCombining_8cpp.html#a85b6b7c082723d74f04ac701c91daa47">UnsafeFPShrink</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; UnsafeFPShrink(&quot;enable-double-float-shrink&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Enable unsafe double to float &quot;&quot;shrinking for math lib calls&quot;))</div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifierImpl_html_a5b2bca63c4764e142ac948ebe7cd60b4"><div class="ttname"><a href="classllvm_1_1LibCallSimplifierImpl.html#a5b2bca63c4764e142ac948ebe7cd60b4">llvm::LibCallSimplifierImpl::lookupOptimization</a></div><div class="ttdeci">LibCallOptimization * lookupOptimization(CallInst *CI)</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01999">SimplifyLibCalls.cpp:1999</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aeb06cf0f813f643b62d8dd98db0bc249"><div class="ttname"><a href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">llvm::Type::isFloatTy</a></div><div class="ttdeci">bool isFloatTy() const </div><div class="ttdoc">isFloatTy - Return true if this is &amp;#39;float&amp;#39;, a 32-bit IEEE fp type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00146">Type.h:146</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6facbe67d9e2920bce533f6874be1fe34c5"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6facbe67d9e2920bce533f6874be1fe34c5">llvm::LibFunc::cosf</a></div><div class="ttdoc">float cosf(float x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00179">TargetLibraryInfo.h:179</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html"><div class="ttname"><a href="classllvm_1_1ConstantFP.html">llvm::ConstantFP</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00232">Constants.h:232</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fad66cc3d6beae7a9ea1ae025d586114ea"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad66cc3d6beae7a9ea1ae025d586114ea">llvm::LibFunc::strtold</a></div><div class="ttdoc">long double strtold(const char *nptr, char **endptr); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00581">TargetLibraryInfo.h:581</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_af41f58e730804d10b91fcff39b035f74"><div class="ttname"><a href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">llvm::User::op_end</a></div><div class="ttdeci">op_iterator op_end()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00118">User.h:118</a></div></div>
<div class="ttc" id="namespacellvm_html_a87afc76abf455a610549b2aeefa4bb4c"><div class="ttname"><a href="namespacellvm.html#a87afc76abf455a610549b2aeefa4bb4c">llvm::SPrintF</a></div><div class="ttdeci">static SPrintFOpt SPrintF</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01993">SimplifyLibCalls.cpp:1993</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf017b93d43a8de0d5fe5680131ec14d6"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf017b93d43a8de0d5fe5680131ec14d6">llvm::LibFunc::fabsf</a></div><div class="ttdoc">float fabsf(float x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00217">TargetLibraryInfo.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00911">Instructions.h:911</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa6905b71f8170499bd47d4c8a9dce101b"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6905b71f8170499bd47d4c8a9dce101b">llvm::LibFunc::sincospi_stretf</a></div><div class="ttdoc">float __sincospi_stretf(float x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00071">TargetLibraryInfo.h:71</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fafa3f73bf84a733da4c5652bd21b378a9"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fafa3f73bf84a733da4c5652bd21b378a9">llvm::LibFunc::log</a></div><div class="ttdoc">double log(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00346">TargetLibraryInfo.h:346</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa3f6287461c2cfdc3ad7b2c9a67ee27fd"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3f6287461c2cfdc3ad7b2c9a67ee27fd">llvm::LibFunc::pow</a></div><div class="ttdoc">double pow(double x, double y); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00434">TargetLibraryInfo.h:434</a></div></div>
<div class="ttc" id="namespacellvm_html_ada64980893ff275559110bf8ac928052"><div class="ttname"><a href="namespacellvm.html#ada64980893ff275559110bf8ac928052">llvm::EmitPutChar</a></div><div class="ttdeci">Value * EmitPutChar(Value *Char, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00319">BuildLibCalls.cpp:319</a></div></div>
<div class="ttc" id="namespacellvm_html_aa5df040b72433a3c103527073f092624"><div class="ttname"><a href="namespacellvm.html#aa5df040b72433a3c103527073f092624">llvm::MemCpy</a></div><div class="ttdeci">static MemCpyOpt MemCpy</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01972">SimplifyLibCalls.cpp:1972</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00223">Instructions.h:223</a></div></div>
<div class="ttc" id="StringMap_8h_html"><div class="ttname"><a href="StringMap_8h.html">StringMap.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fafa39a03787d6fdb46bb82e4f935e40ef"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fafa39a03787d6fdb46bb82e4f935e40ef">llvm::LibFunc::perror</a></div><div class="ttdoc">void perror(const char *s); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00428">TargetLibraryInfo.h:428</a></div></div>
<div class="ttc" id="namespacellvm_html_aeb757469668c1dfea81273148ccdf0ab"><div class="ttname"><a href="namespacellvm.html#aeb757469668c1dfea81273148ccdf0ab">llvm::EmitStrLen</a></div><div class="ttdeci">Value * EmitStrLen(Value *Ptr, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00035">BuildLibCalls.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eab2069e9516e2309c471c1207ed8661f3"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eab2069e9516e2309c471c1207ed8661f3">llvm::Attribute::NoUnwind</a></div><div class="ttdoc">Function doesn&amp;#39;t unwind stack. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00090">Attributes.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a675da14f55ad277eae001b705c42be8b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a675da14f55ad277eae001b705c42be8b">llvm::IRBuilderBase::getInt64</a></div><div class="ttdeci">ConstantInt * getInt64(uint64_t C)</div><div class="ttdoc">Get a constant 64-bit value. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00281">IRBuilder.h:281</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00714">InstrTypes.h:714</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6f"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">llvm::LibFunc::Func</a></div><div class="ttdeci">Func</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00020">TargetLibraryInfo.h:20</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa9e02525b88a00a1d0e8dcded032acbee"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9e02525b88a00a1d0e8dcded032acbee">llvm::LibFunc::memmove</a></div><div class="ttdoc">void *memmove(void *s1, const void *s2, size_t n); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00392">TargetLibraryInfo.h:392</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eac19f5b66a7786cb09db001652e4081ad"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eac19f5b66a7786cb09db001652e4081ad">llvm::Attribute::Cold</a></div><div class="ttdoc">Marks function as being in a cold path. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00074">Attributes.h:74</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifier_html_a6708113cfe65591df20b4f423761ef85"><div class="ttname"><a href="classllvm_1_1LibCallSimplifier.html#a6708113cfe65591df20b4f423761ef85">llvm::LibCallSimplifier::LibCallSimplifier</a></div><div class="ttdeci">LibCallSimplifier(const DataLayout *TD, const TargetLibraryInfo *TLI, bool UnsafeFPShrink)</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l02183">SimplifyLibCalls.cpp:2183</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_a4d51384de6e1798bb6aa875aebeea9f0"><div class="ttname"><a href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">llvm::Constant::getAllOnesValue</a></div><div class="ttdeci">static Constant * getAllOnesValue(Type *Ty)</div><div class="ttdoc">Get the all ones value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00163">Constants.cpp:163</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_afb354c8aea0150628f8aa06c7f4a4168"><div class="ttname"><a href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a></div><div class="ttdeci">vector float f(vector float a, vector float b)</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00205">README_ALTIVEC.txt:205</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifierImpl_html"><div class="ttname"><a href="classllvm_1_1LibCallSimplifierImpl.html">llvm::LibCallSimplifierImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01910">SimplifyLibCalls.cpp:1910</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a1f5e8b8d535e593299355288aa0cbd67"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a1f5e8b8d535e593299355288aa0cbd67">llvm::IRBuilder::CreateInBoundsGEP</a></div><div class="ttdeci">Value * CreateInBoundsGEP(Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00944">IRBuilder.h:944</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a2c37909c23e7fe0eefde68ccb31e12e5"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a2c37909c23e7fe0eefde68ccb31e12e5">llvm::ConstantExpr::getFPExtend</a></div><div class="ttdeci">static Constant * getFPExtend(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01592">Constants.cpp:1592</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_ace8a9dc13034dc6a31a5dea627190c88"><div class="ttname"><a href="classllvm_1_1StringRef.html#ace8a9dc13034dc6a31a5dea627190c88">llvm::StringRef::find_first_not_of</a></div><div class="ttdeci">size_t find_first_not_of(char C, size_t From=0) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8cpp_source.html#l00213">StringRef.cpp:213</a></div></div>
<div class="ttc" id="namespacellvm_html_ad92e466b2a2d720dd49c000f210d7499"><div class="ttname"><a href="namespacellvm.html#ad92e466b2a2d720dd49c000f210d7499">llvm::SinCosPi</a></div><div class="ttdeci">static SinCosPiOpt SinCosPi</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01979">SimplifyLibCalls.cpp:1979</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa387c780d9bcac7dade149925a20812d4"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa387c780d9bcac7dade149925a20812d4">llvm::LibFunc::strstr</a></div><div class="ttdoc">char *strstr(const char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00569">TargetLibraryInfo.h:569</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa775dcab59dfe83389f4b2490a91a7d00"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa775dcab59dfe83389f4b2490a91a7d00">llvm::LibFunc::atan</a></div><div class="ttdoc">double atan(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00117">TargetLibraryInfo.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a7badbb741cd23e73ad063428c9cd5fea"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">llvm::IRBuilderBase::getInt8PtrTy</a></div><div class="ttdeci">PointerType * getInt8PtrTy(unsigned AddrSpace=0)</div><div class="ttdoc">Fetch the type representing a pointer to an 8-bit integer value. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00335">IRBuilder.h:335</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00284">Type.cpp:284</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa29e412513f719e77341b9a59c0ec4efd"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa29e412513f719e77341b9a59c0ec4efd">llvm::LibFunc::exp</a></div><div class="ttdoc">double exp(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00191">TargetLibraryInfo.h:191</a></div></div>
<div class="ttc" id="namespacellvm_html_a4c34d1c17a979d0df68f8eaebeb35629"><div class="ttname"><a href="namespacellvm.html#a4c34d1c17a979d0df68f8eaebeb35629">llvm::EmitMemCpyChk</a></div><div class="ttdeci">Value * EmitMemCpyChk(Value *Dst, Value *Src, Value *Len, Value *ObjSize, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00203">BuildLibCalls.cpp:203</a></div></div>
<div class="ttc" id="classllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa4a8c8d091f5ba42ce62053cb01c157d5"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4a8c8d091f5ba42ce62053cb01c157d5">llvm::LibFunc::fputs</a></div><div class="ttdoc">int fputs(const char *s, FILE *stream); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00269">TargetLibraryInfo.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_ae84bb2408dfffa4e8b5fe2ce0714a3bd"><div class="ttname"><a href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">llvm::DataLayout::getIntPtrType</a></div><div class="ttdeci">IntegerType * getIntPtrType(LLVMContext &amp;C, unsigned AddressSpace=0) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00610">DataLayout.cpp:610</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa4770aea851c9dc08978fc46cca26e089"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4770aea851c9dc08978fc46cca26e089">llvm::LibFunc::acos</a></div><div class="ttdoc">double acos(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00093">TargetLibraryInfo.h:93</a></div></div>
<div class="ttc" id="namespacellvm_html_ae601a37973544f791ae8c6bc8e57181f"><div class="ttname"><a href="namespacellvm.html#ae601a37973544f791ae8c6bc8e57181f">llvm::EmitStrCpy</a></div><div class="ttdeci">Value * EmitStrCpy(Value *Dst, Value *Src, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI, StringRef Name=&quot;strcpy&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00152">BuildLibCalls.cpp:152</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faaf7f323cc371044c729cb295eaea743b"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faaf7f323cc371044c729cb295eaea743b">llvm::LibFunc::strncat</a></div><div class="ttdoc">char *strncat(char *s1, const char *s2, size_t n); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00553">TargetLibraryInfo.h:553</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa1feac624846d4b3b383f4d6d78a5bf63"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1feac624846d4b3b383f4d6d78a5bf63">llvm::LibFunc::memcpy_chk</a></div><div class="ttdoc">void *__memcpy_chk(void *s1, const void *s2, size_t n, size_t s1size); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00067">TargetLibraryInfo.h:67</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa85b457ecd49627dcfc69e2675eb79f46"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa85b457ecd49627dcfc69e2675eb79f46">llvm::LibFunc::fiprintf</a></div><div class="ttdoc">int fiprintf(FILE *stream, const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00245">TargetLibraryInfo.h:245</a></div></div>
<div class="ttc" id="namespacellvm_html_a8344c5d224fdb9ece0352f329a384ac4"><div class="ttname"><a href="namespacellvm.html#a8344c5d224fdb9ece0352f329a384ac4">llvm::StrSpn</a></div><div class="ttdeci">static StrSpnOpt StrSpn</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01966">SimplifyLibCalls.cpp:1966</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="namespacellvm_html_ac63e6fb194823d8e130f27312a749e1c"><div class="ttname"><a href="namespacellvm.html#ac63e6fb194823d8e130f27312a749e1c">llvm::CastToCStr</a></div><div class="ttdeci">Value * CastToCStr(Value *V, IRBuilder&lt;&gt; &amp;B)</div><div class="ttdoc">CastToCStr - Return V if it is an i8*, otherwise cast it to i8*. </div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00029">BuildLibCalls.cpp:29</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_ad0affa936bea7c530da1597e9bb60bbd"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#ad0affa936bea7c530da1597e9bb60bbd">llvm::IRBuilder::CreateExtractElement</a></div><div class="ttdeci">Value * CreateExtractElement(Value *Vec, Value *Idx, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01349">IRBuilder.h:1349</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a277dfeaad2a2ada72a6024b0eedc5301"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">llvm::IRBuilder::CreateZExt</a></div><div class="ttdeci">Value * CreateZExt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01071">IRBuilder.h:1071</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faea03317071ed150a02d71c83ceab58a2"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faea03317071ed150a02d71c83ceab58a2">llvm::LibFunc::atanh</a></div><div class="ttdoc">double atanh(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00127">TargetLibraryInfo.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifierImpl_html_a1ac07b375522fc6aceb15ffe3c9b5281"><div class="ttname"><a href="classllvm_1_1LibCallSimplifierImpl.html#a1ac07b375522fc6aceb15ffe3c9b5281">llvm::LibCallSimplifierImpl::optimizeCall</a></div><div class="ttdeci">Value * optimizeCall(CallInst *CI)</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l02174">SimplifyLibCalls.cpp:2174</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a18fc4545474c6ebb6f7c547f64f4fb31"><div class="ttname"><a href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">llvm::StructType::get</a></div><div class="ttdeci">static StructType * get(LLVMContext &amp;Context, ArrayRef&lt; Type * &gt; Elements, bool isPacked=false)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00405">Type.cpp:405</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">llvm::LibFunc::fprintf</a></div><div class="ttdoc">int fprintf(FILE *stream, const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00265">TargetLibraryInfo.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a87b363b9dad9f5040ea7e29ea9e60ff5"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">llvm::IRBuilder::CreateBitCast</a></div><div class="ttdeci">Value * CreateBitCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01132">IRBuilder.h:1132</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac0cd1a310949c5394085b8e53714f2a9"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac0cd1a310949c5394085b8e53714f2a9">llvm::LibFunc::cbrt</a></div><div class="ttdoc">double cbrt(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00151">TargetLibraryInfo.h:151</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa9af5bb475a799bf459affaf6aa69a1d4"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9af5bb475a799bf459affaf6aa69a1d4">llvm::LibFunc::strcspn</a></div><div class="ttdoc">size_t strcspn(const char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00545">TargetLibraryInfo.h:545</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa4e93efe839b2321386ee08b553eb821b"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4e93efe839b2321386ee08b553eb821b">llvm::LibFunc::strtoul</a></div><div class="ttdoc">unsigned long int strtoul(const char *nptr, char **endptr, int base); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00585">TargetLibraryInfo.h:585</a></div></div>
<div class="ttc" id="namespacellvm_html_abcb2f6113281b8b997fa886830bb3597"><div class="ttname"><a href="namespacellvm.html#abcb2f6113281b8b997fa886830bb3597">llvm::StrPBrk</a></div><div class="ttdeci">static StrPBrkOpt StrPBrk</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01964">SimplifyLibCalls.cpp:1964</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa49b2a698572bb6b315471658cd25c805"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa49b2a698572bb6b315471658cd25c805">llvm::LibFunc::labs</a></div><div class="ttdoc">long int labs(long int j); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00340">TargetLibraryInfo.h:340</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_ac0e8c554bf1c1e117a74d51df89c137d"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ac0e8c554bf1c1e117a74d51df89c137d">llvm::IRBuilderBase::getInt32</a></div><div class="ttdeci">ConstantInt * getInt32(uint32_t C)</div><div class="ttdoc">Get a constant 32-bit value. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00276">IRBuilder.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a05750ee4a9742f3ea2755efb4b747efe"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a05750ee4a9742f3ea2755efb4b747efe">llvm::IRBuilderBase::GetInsertBlock</a></div><div class="ttdeci">BasicBlock * GetInsertBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00077">IRBuilder.h:77</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a38ea12c04523d63adda732b9c5d6da0a"><div class="ttname"><a href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">Value * stripPointerCasts()</div><div class="ttdoc">Strips off any unneeded pointer casts, all-zero GEPs and aliases from the specified value...</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00385">Value.cpp:385</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa9f7f1b6be1144152902121f2463d0368"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9f7f1b6be1144152902121f2463d0368">llvm::LibFunc::memset</a></div><div class="ttdoc">void *memset(void *b, int c, size_t len); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00396">TargetLibraryInfo.h:396</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa112ae9dfa30a067791601d4190cd7179"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa112ae9dfa30a067791601d4190cd7179">llvm::LibFunc::asin</a></div><div class="ttdoc">double asin(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00105">TargetLibraryInfo.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a0bcd4131e1a1d92215f5385b4e16cd2e"><div class="ttname"><a href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">llvm::CallInst::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01357">Instructions.h:1357</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf3a65ea3339861d41948aa2de71ba2e4"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf3a65ea3339861d41948aa2de71ba2e4">llvm::LibFunc::fabs</a></div><div class="ttdoc">double fabs(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00215">TargetLibraryInfo.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a30f2c362631e3728d2f47a8203071ade"><div class="ttname"><a href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00380">Function.h:380</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html_a5eb8f7a5d3cfdd127ad9db2e425e14eb"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">llvm::ConstantFP::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, double V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00557">Constants.cpp:557</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa0b976adf6aef24ee68598686784f3d66"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0b976adf6aef24ee68598686784f3d66">llvm::LibFunc::strlen</a></div><div class="ttdoc">size_t strlen(const char *s); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00549">TargetLibraryInfo.h:549</a></div></div>
<div class="ttc" id="namespacellvm_html_a69bb570f573c9fa895fa654bd0c25077"><div class="ttname"><a href="namespacellvm.html#a69bb570f573c9fa895fa654bd0c25077">llvm::ErrorReporting1</a></div><div class="ttdeci">static ErrorReportingOpt ErrorReporting1(1)</div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa6e9f2317a7900e39381b5138320278f6"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6e9f2317a7900e39381b5138320278f6">llvm::LibFunc::stpcpy</a></div><div class="ttdoc">char *stpcpy(char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00529">TargetLibraryInfo.h:529</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf4a8b742bdcc0d84a1b70969d74abb65"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf4a8b742bdcc0d84a1b70969d74abb65">llvm::LibFunc::ffsll</a></div><div class="ttdoc">int ffsll(long long int i); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00235">TargetLibraryInfo.h:235</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a150b33ecedbc8c7803c2db8040fbe3f8"><div class="ttname"><a href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">llvm::CallInst::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01245">Instructions.h:1245</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_ae19d9d49f39d404703b42161ce788954"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#ae19d9d49f39d404703b42161ce788954">llvm::IRBuilder::CreateSelect</a></div><div class="ttdeci">Value * CreateSelect(Value *C, Value *True, Value *False, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01336">IRBuilder.h:1336</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa62c8dfa59caa8250b9c988b6d49fc18c"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa62c8dfa59caa8250b9c988b6d49fc18c">llvm::LibFunc::powf</a></div><div class="ttdoc">float powf(float x, float y); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00436">TargetLibraryInfo.h:436</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a9bee00a6f74634db85a7ef6bca378114"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a9bee00a6f74634db85a7ef6bca378114">llvm::IRBuilder::CreateFDiv</a></div><div class="ttdeci">Value * CreateFDiv(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, MDNode *FPMathTag=0)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00705">IRBuilder.h:705</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a7a71da01c646618b7f43d303d563b41b"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7a71da01c646618b7f43d303d563b41b">llvm::IRBuilderBase::getInt8Ty</a></div><div class="ttdeci">IntegerType * getInt8Ty()</div><div class="ttdoc">Fetch the type representing an 8-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00300">IRBuilder.h:300</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a87d14fb8ce6caf9275465116dc19b6d6"><div class="ttname"><a href="namespacellvm.html#a87d14fb8ce6caf9275465116dc19b6d6">llvm::EmitFWrite</a></div><div class="ttdeci">Value * EmitFWrite(Value *Ptr, Value *Size, Value *File, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00430">BuildLibCalls.cpp:430</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa77fbc7a4cc74a172aa9e31e1fe5da243"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa77fbc7a4cc74a172aa9e31e1fe5da243">llvm::LibFunc::fputc</a></div><div class="ttdoc">int fputc(int c, FILE *stream); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00267">TargetLibraryInfo.h:267</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa7187926b06529564381106c98bd3a1b7"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa7187926b06529564381106c98bd3a1b7">llvm::LibFunc::sin</a></div><div class="ttdoc">double sin(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00495">TargetLibraryInfo.h:495</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa0b2448484e5bcc456e6208695c8ae6bd"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0b2448484e5bcc456e6208695c8ae6bd">llvm::LibFunc::toascii</a></div><div class="ttdoc">int toascii(int c); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00612">TargetLibraryInfo.h:612</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a337deb4326c2dbbe852f77d2d213a9fb"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a337deb4326c2dbbe852f77d2d213a9fb">llvm::IRBuilderBase::getFalse</a></div><div class="ttdeci">ConstantInt * getFalse()</div><div class="ttdoc">Get the constant value for i1 false. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00261">IRBuilder.h:261</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aed87738661d539150b3fc4bb46e36aa3"><div class="ttname"><a href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">llvm::Type::isStructTy</a></div><div class="ttdeci">bool isStructTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00212">Type.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa29b75128bbc15063e1f6bf843349916d"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa29b75128bbc15063e1f6bf843349916d">llvm::LibFunc::cospi</a></div><div class="ttdoc">double __cospi(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00050">TargetLibraryInfo.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa2a756b1bc73a13ff5f93723b88d098af"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa2a756b1bc73a13ff5f93723b88d098af">llvm::LibFunc::expm1</a></div><div class="ttdoc">double expm1(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00209">TargetLibraryInfo.h:209</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa5a30459863c4080c7acb310d4d022861"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5a30459863c4080c7acb310d4d022861">llvm::LibFunc::asinh</a></div><div class="ttdoc">double asinh(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00109">TargetLibraryInfo.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a61f747edd1ca001427e02e02a320b709"><div class="ttname"><a href="classllvm_1_1CallInst.html#a61f747edd1ca001427e02e02a320b709">llvm::CallInst::setCalledFunction</a></div><div class="ttdeci">void setCalledFunction(Value *Fn)</div><div class="ttdoc">setCalledFunction - Set the function called. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01367">Instructions.h:1367</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="namespacellvm_html_ac806d7f93424cefb1f2098b4dd7f8dbb"><div class="ttname"><a href="namespacellvm.html#ac806d7f93424cefb1f2098b4dd7f8dbb">llvm::StrChr</a></div><div class="ttdeci">static StrChrOpt StrChr</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01956">SimplifyLibCalls.cpp:1956</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faa782c4e760a1f85a047f0f445fe9a166"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa782c4e760a1f85a047f0f445fe9a166">llvm::LibFunc::ceil</a></div><div class="ttdoc">double ceil(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00157">TargetLibraryInfo.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a7414af479a1a88b0631120a4fc681e20"><div class="ttname"><a href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">llvm::StringRef::npos</a></div><div class="ttdeci">static const size_t npos</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00045">StringRef.h:45</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faa6d34a296e2c48916e900ef873014122"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa6d34a296e2c48916e900ef873014122">llvm::LibFunc::logb</a></div><div class="ttdoc">double logb(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00366">TargetLibraryInfo.h:366</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="Intrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="namespacellvm_html_aa2a56d13277194464b5479573997e59d"><div class="ttname"><a href="namespacellvm.html#aa2a56d13277194464b5479573997e59d">llvm::StrStr</a></div><div class="ttdeci">static StrStrOpt StrStr</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01968">SimplifyLibCalls.cpp:1968</a></div></div>
<div class="ttc" id="namespacellvm_html_a66320f0ae6990eb4bca4aaaf638281bb"><div class="ttname"><a href="namespacellvm.html#a66320f0ae6990eb4bca4aaaf638281bb">llvm::ErrorReporting</a></div><div class="ttdeci">static ErrorReportingOpt ErrorReporting</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01989">SimplifyLibCalls.cpp:1989</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifier_html_a420c81fa4216737eabfbf384b4eab31d"><div class="ttname"><a href="classllvm_1_1LibCallSimplifier.html#a420c81fa4216737eabfbf384b4eab31d">llvm::LibCallSimplifier::replaceAllUsesWith</a></div><div class="ttdeci">virtual void replaceAllUsesWith(Instruction *I, Value *With) const </div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l02198">SimplifyLibCalls.cpp:2198</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_ab87cae7de3df7420fff131c5305d5b6f"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#ab87cae7de3df7420fff131c5305d5b6f">llvm::BinaryOperator::isFNeg</a></div><div class="ttdeci">static bool isFNeg(const Value *V, bool IgnoreZeroSign=false)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01934">Instructions.cpp:1934</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a2081b822b121723df82782c24314a37e"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a2081b822b121723df82782c24314a37e">llvm::IRBuilder::CreateSExt</a></div><div class="ttdeci">Value * CreateSExt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01074">IRBuilder.h:1074</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa56063a1f5d567e59c1b1dbdd82307afc"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa56063a1f5d567e59c1b1dbdd82307afc">llvm::LibFunc::floor</a></div><div class="ttdoc">double floor(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00249">TargetLibraryInfo.h:249</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_adf66d58e85fb4e46e9c1ae55186a6930"><div class="ttname"><a href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00171">Function.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1UIToFPInst_html"><div class="ttname"><a href="classllvm_1_1UIToFPInst.html">llvm::UIToFPInst</a></div><div class="ttdoc">This class represents a cast unsigned integer to floating point. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03355">Instructions.h:3355</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a58f62481bd3a4bfc5d07102fe857741a"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a58f62481bd3a4bfc5d07102fe857741a">llvm::IRBuilderBase::CreateMemSet</a></div><div class="ttdeci">CallInst * CreateMemSet(Value *Ptr, Value *Val, uint64_t Size, unsigned Align, bool isVolatile=false, MDNode *TBAATag=0)</div><div class="ttdoc">Create and insert a memset to the specified pointer and the specified value. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00353">IRBuilder.h:353</a></div></div>
<div class="ttc" id="namespacellvm_html_a1a95bc5d0227958ec69a609d4ce45918"><div class="ttname"><a href="namespacellvm.html#a1a95bc5d0227958ec69a609d4ce45918">llvm::StrCpy</a></div><div class="ttdeci">static StrCpyOpt StrCpy</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01960">SimplifyLibCalls.cpp:1960</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a609c7b4d7eb90f7c4627da58dc00fa42"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a609c7b4d7eb90f7c4627da58dc00fa42">llvm::IRBuilder::CreateICmpNE</a></div><div class="ttdeci">Value * CreateICmpNE(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01209">IRBuilder.h:1209</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a54b5863f31e0a39c204f3460f9ddde75"><div class="ttname"><a href="classllvm_1_1StringRef.html#a54b5863f31e0a39c204f3460f9ddde75">llvm::StringRef::find_first_of</a></div><div class="ttdeci">size_t find_first_of(char C, size_t From=0) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00269">StringRef.h:269</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa5581a75a52b0adeb0c6862abc15c622f"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa5581a75a52b0adeb0c6862abc15c622f">llvm::LibFunc::llabs</a></div><div class="ttdoc">long long int llabs(long long int j); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00344">TargetLibraryInfo.h:344</a></div></div>
<div class="ttc" id="namespacellvm_html_a503978d10f890e3373d36905d8fce8b5"><div class="ttname"><a href="namespacellvm.html#a503978d10f890e3373d36905d8fce8b5">llvm::IsDigit</a></div><div class="ttdeci">static IsDigitOpt IsDigit</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01984">SimplifyLibCalls.cpp:1984</a></div></div>
<div class="ttc" id="IRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a91c721f70cea2c6912e445cb7f207f48"><div class="ttname"><a href="namespacellvm.html#a91c721f70cea2c6912e445cb7f207f48">llvm::StrNCpy</a></div><div class="ttdeci">static StrNCpyOpt StrNCpy</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01962">SimplifyLibCalls.cpp:1962</a></div></div>
<div class="ttc" id="namespacellvm_html_a66d195fefcf9fab4b08703860991c14c"><div class="ttname"><a href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">llvm::getConstantStringInfo</a></div><div class="ttdeci">bool getConstantStringInfo(const Value *V, StringRef &amp;Str, uint64_t Offset=0, bool TrimAtNul=true)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01754">ValueTracking.cpp:1754</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifier_html_a720db84f33d3d265af10e8703a0611b9"><div class="ttname"><a href="classllvm_1_1LibCallSimplifier.html#a720db84f33d3d265af10e8703a0611b9">llvm::LibCallSimplifier::optimizeCall</a></div><div class="ttdeci">Value * optimizeCall(CallInst *CI)</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l02193">SimplifyLibCalls.cpp:2193</a></div></div>
<div class="ttc" id="LLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">llvm::Type::DoubleTyID</a></div><div class="ttdoc">3: 64-bit floating point type </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00058">Type.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac38c53f76ef532f91f1666c8a87370e9"><div class="ttname"><a href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00149">Value.h:149</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90acf42e24475fdea623c2a8cb7b3f412c4"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acf42e24475fdea623c2a8cb7b3f412c4">llvm::Intrinsic::cttz</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00367">Intrinsics.h:367</a></div></div>
<div class="ttc" id="classllvm_1_1SIToFPInst_html"><div class="ttname"><a href="classllvm_1_1SIToFPInst.html">llvm::SIToFPInst</a></div><div class="ttdoc">This class represents a cast from signed integer to floating point. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03391">Instructions.h:3391</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a902af4d6cb3a421a7f5723d0fc81efd1"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">llvm::IRBuilder::CreateCall2</a></div><div class="ttdeci">CallInst * CreateCall2(Value *Callee, Value *Arg1, Value *Arg2, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01310">IRBuilder.h:1310</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90af387c9295462cb7394f13fc3b9276dc0"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90af387c9295462cb7394f13fc3b9276dc0">llvm::Intrinsic::pow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02216">Intrinsics.h:2216</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a9eda832d6e80bc19b98f22f4ec714e3f"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00121">DerivedTypes.h:121</a></div></div>
<div class="ttc" id="namespacellvm_html_aa7c5c1d7de2484b059934e48eb370c52"><div class="ttname"><a href="namespacellvm.html#aa7c5c1d7de2484b059934e48eb370c52">llvm::FPuts</a></div><div class="ttdeci">static FPutsOpt FPuts</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01996">SimplifyLibCalls.cpp:1996</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ad652423d9d91271ba153eb86482b2f55"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">llvm::BasicBlock::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">Get the context in which this basic block lives. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00033">BasicBlock.cpp:33</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a97ab781fefa6f6ff35ce5c4c7dac3a79"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a97ab781fefa6f6ff35ce5c4c7dac3a79">llvm::IRBuilder::CreateNeg</a></div><div class="ttdeci">Value * CreateNeg(Value *V, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00842">IRBuilder.h:842</a></div></div>
<div class="ttc" id="classllvm_1_1FPTruncInst_html"><div class="ttname"><a href="classllvm_1_1FPTruncInst.html">llvm::FPTruncInst</a></div><div class="ttdoc">This class represents a truncation of floating point types. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03283">Instructions.h:3283</a></div></div>
<div class="ttc" id="namespacellvm_html_a2a55dc1fc3303f1860c003b1518dc08b"><div class="ttname"><a href="namespacellvm.html#a2a55dc1fc3303f1860c003b1518dc08b">llvm::EmitPutS</a></div><div class="ttdeci">Value * EmitPutS(Value *Str, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00341">BuildLibCalls.cpp:341</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_aa933549689e79685bb67de64dddc9f7c"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">llvm::IRBuilder::CreateTrunc</a></div><div class="ttdeci">Value * CreateTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01068">IRBuilder.h:1068</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="namespacellvm_html_a2bde91a082170a71ca7bfcd9f57034f8"><div class="ttname"><a href="namespacellvm.html#a2bde91a082170a71ca7bfcd9f57034f8">llvm::FFS</a></div><div class="ttdeci">static FFSOpt FFS</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01982">SimplifyLibCalls.cpp:1982</a></div></div>
<div class="ttc" id="namespacellvm_html_a2e7a6605c39fb458c0885513060fe2b0"><div class="ttname"><a href="namespacellvm.html#a2e7a6605c39fb458c0885513060fe2b0">llvm::StrLen</a></div><div class="ttdeci">static StrLenOpt StrLen</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01963">SimplifyLibCalls.cpp:1963</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a7e31b0c02df2aeed261b103b790cc01e"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a7e31b0c02df2aeed261b103b790cc01e">llvm::IRBuilder::CreateCall</a></div><div class="ttdeci">CallInst * CreateCall(Value *Callee, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01304">IRBuilder.h:1304</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html_ab43657ed1abe2e2ed3a6a394f233ebd0"><div class="ttname"><a href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">llvm::VectorType::get</a></div><div class="ttdeci">static VectorType * get(Type *ElementType, unsigned NumElements)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00706">Type.cpp:706</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fabcc0cb55013ee572d6d2641dd2451c99"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fabcc0cb55013ee572d6d2641dd2451c99">llvm::LibFunc::acosh</a></div><div class="ttdoc">double acosh(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00097">TargetLibraryInfo.h:97</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa59bb423c84bc9293df624f68bad35332"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa59bb423c84bc9293df624f68bad35332">llvm::LibFunc::exp2l</a></div><div class="ttdoc">long double exp2l(long double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00203">TargetLibraryInfo.h:203</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa1e752b4eaa4c9db56a2bbcef82f934b9"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1e752b4eaa4c9db56a2bbcef82f934b9">llvm::LibFunc::exp2</a></div><div class="ttdoc">double exp2(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00199">TargetLibraryInfo.h:199</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa9359403a52c2d2696ad24d7c0045ee81"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9359403a52c2d2696ad24d7c0045ee81">llvm::LibFunc::strcpy</a></div><div class="ttdoc">char *strcpy(char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00543">TargetLibraryInfo.h:543</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a52caf9c563fee52b23e0ee4875c6248f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a52caf9c563fee52b23e0ee4875c6248f">llvm::IRBuilderBase::getInt8</a></div><div class="ttdeci">ConstantInt * getInt8(uint8_t C)</div><div class="ttdoc">Get a constant 8-bit value. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00266">IRBuilder.h:266</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa2a81239703d025e7504c36158df85bb2"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa2a81239703d025e7504c36158df85bb2">llvm::LibFunc::strtoull</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00588">TargetLibraryInfo.h:588</a></div></div>
<div class="ttc" id="namespacellvm_html_aae265c866f1ecf18fe6422bda13eaecd"><div class="ttname"><a href="namespacellvm.html#aae265c866f1ecf18fe6422bda13eaecd">llvm::EmitFPutS</a></div><div class="ttdeci">Value * EmitFPutS(Value *Str, Value *File, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00398">BuildLibCalls.cpp:398</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa0037abb22ce7c98338835c8822c83d2a"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0037abb22ce7c98338835c8822c83d2a">llvm::LibFunc::sinpif</a></div><div class="ttdoc">float __sinpif(float x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00075">TargetLibraryInfo.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a0e600b8bfca49f636e691495ab5cc640"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a0e600b8bfca49f636e691495ab5cc640">llvm::IRBuilderBase::CreateGlobalString</a></div><div class="ttdeci">Value * CreateGlobalString(StringRef Str, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdoc">Make a new global variable with initializer type i8*. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8cpp_source.html#l00026">IRBuilder.cpp:26</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a2a65eaf09953a013c2820f6857c647f0"><div class="ttname"><a href="classllvm_1_1CallInst.html#a2a65eaf09953a013c2820f6857c647f0">llvm::CallInst::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01250">Instructions.h:1250</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf56db94c5d9f1e3f8d431697376dd71f"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf56db94c5d9f1e3f8d431697376dd71f">llvm::LibFunc::siprintf</a></div><div class="ttdoc">int siprintf(char *str, const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00507">TargetLibraryInfo.h:507</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac655d7183272e27b95516887e3f24702"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac655d7183272e27b95516887e3f24702">llvm::LibFunc::strncmp</a></div><div class="ttdoc">int strncmp(const char *s1, const char *s2, size_t n); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00555">TargetLibraryInfo.h:555</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a280ee6e142a03897a4663bfdfd97d18d"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a280ee6e142a03897a4663bfdfd97d18d">llvm::IRBuilder::CreateFPExt</a></div><div class="ttdeci">Value * CreateFPExt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01121">IRBuilder.h:1121</a></div></div>
<div class="ttc" id="classllvm_1_1FPExtInst_html"><div class="ttname"><a href="classllvm_1_1FPExtInst.html">llvm::FPExtInst</a></div><div class="ttdoc">This class represents an extension of floating point types. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03319">Instructions.h:3319</a></div></div>
<div class="ttc" id="namespacellvm_html_a50d465eb054f3fcf309c2a9b5480581d"><div class="ttname"><a href="namespacellvm.html#a50d465eb054f3fcf309c2a9b5480581d">llvm::StpCpyChk</a></div><div class="ttdeci">static StpCpyChkOpt StpCpyChk</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01950">SimplifyLibCalls.cpp:1950</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a097c2d42e4deffabe6d54b007ad83367"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">llvm::ConstantInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const </div><div class="ttdoc">Return the sign extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00124">Constants.h:124</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa859af3ad03ff3b3116d2158c652fbab9"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa859af3ad03ff3b3116d2158c652fbab9">llvm::LibFunc::powl</a></div><div class="ttdoc">long double powl(long double x, long double y); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00438">TargetLibraryInfo.h:438</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa6c7521c4f5a3c83fa3fbba039befbbd7"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6c7521c4f5a3c83fa3fbba039befbbd7">llvm::LibFunc::tan</a></div><div class="ttdoc">double tan(double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00594">TargetLibraryInfo.h:594</a></div></div>
<div class="ttc" id="namespacellvm_html_af7368cf055e9edbd287f809ce476dba3"><div class="ttname"><a href="namespacellvm.html#af7368cf055e9edbd287f809ce476dba3">llvm::EmitMemCmp</a></div><div class="ttdeci">Value * EmitMemCmp(Value *Ptr1, Value *Ptr2, Value *Len, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdoc">EmitMemCmp - Emit a call to the memcmp function. </div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00259">BuildLibCalls.cpp:259</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fad120fd3b62c936a6ea1e1188005800b3"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fad120fd3b62c936a6ea1e1188005800b3">llvm::LibFunc::isascii</a></div><div class="ttdoc">int isascii(int c); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00336">TargetLibraryInfo.h:336</a></div></div>
<div class="ttc" id="namespacellvm_html_abe123d53c7d5eccca020f27a5b1b9133"><div class="ttname"><a href="namespacellvm.html#abe123d53c7d5eccca020f27a5b1b9133">llvm::StrCmp</a></div><div class="ttdeci">static StrCmpOpt StrCmp</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01958">SimplifyLibCalls.cpp:1958</a></div></div>
<div class="ttc" id="namespacellvm_html_a324053b01532866a246eb69eca06fa32"><div class="ttname"><a href="namespacellvm.html#a324053b01532866a246eb69eca06fa32">llvm::FWrite</a></div><div class="ttdeci">static FWriteOpt FWrite</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01995">SimplifyLibCalls.cpp:1995</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6facfb48939ccc9ccaca476f448f4b40612"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6facfb48939ccc9ccaca476f448f4b40612">llvm::LibFunc::iprintf</a></div><div class="ttdoc">int iprintf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00334">TargetLibraryInfo.h:334</a></div></div>
<div class="ttc" id="namespacellvm_html_a85870830b10065892c3b0355fc25a377"><div class="ttname"><a href="namespacellvm.html#a85870830b10065892c3b0355fc25a377">llvm::EmitStrNCmp</a></div><div class="ttdeci">Value * EmitStrNCmp(Value *Ptr1, Value *Ptr2, Value *Len, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdoc">EmitStrNCmp - Emit a call to the strncmp function to the builder. </div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00119">BuildLibCalls.cpp:119</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faa90cefa063016675ac56642a84773b03"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa90cefa063016675ac56642a84773b03">llvm::LibFunc::cospif</a></div><div class="ttdoc">float __cospif(float x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00052">TargetLibraryInfo.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_abb4ce3bc3096a12d4b93460bf78bcf95"><div class="ttname"><a href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in it</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00053">README-SSE.txt:53</a></div></div>
<div class="ttc" id="namespacellvm_html_ab2fa00bbe056dcbe45429fadf56489d6"><div class="ttname"><a href="namespacellvm.html#ab2fa00bbe056dcbe45429fadf56489d6">llvm::EmitFPutC</a></div><div class="ttdeci">Value * EmitFPutC(Value *Char, Value *File, IRBuilder&lt;&gt; &amp;B, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="BuildLibCalls_8cpp_source.html#l00365">BuildLibCalls.cpp:365</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa418e4acf5b7683561af9f1a77ca44fa7"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa418e4acf5b7683561af9f1a77ca44fa7">llvm::LibFunc::strspn</a></div><div class="ttdoc">size_t strspn(const char *s1, const char *s2); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00567">TargetLibraryInfo.h:567</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html_afe0254496c59be7ea1f165f74242ef4d"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#afe0254496c59be7ea1f165f74242ef4d">llvm::ConstantFP::getInfinity</a></div><div class="ttdeci">static ConstantFP * getInfinity(Type *Ty, bool Negative=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00638">Constants.cpp:638</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a849b50da820a274b4d001fbeadaf5cd7"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a849b50da820a274b4d001fbeadaf5cd7">llvm::IRBuilderBase::CreateMemCpy</a></div><div class="ttdeci">CallInst * CreateMemCpy(Value *Dst, Value *Src, uint64_t Size, unsigned Align, bool isVolatile=false, MDNode *TBAATag=0, MDNode *TBAAStructTag=0)</div><div class="ttdoc">Create and insert a memcpy between the specified pointers. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00365">IRBuilder.h:365</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_af5c7041df3ad5edffe5da17b5264c1fc"><div class="ttname"><a href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const </div><div class="ttdoc">isVoidTy - Return true if this is &amp;#39;void&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fac17090e4b053b9849f6f4fc20b1329be"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fac17090e4b053b9849f6f4fc20b1329be">llvm::LibFunc::sqrtl</a></div><div class="ttdoc">long double sqrtl(long double x); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00517">TargetLibraryInfo.h:517</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_ad7e292682516000f8b472f4510a2acf7"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">llvm::StringRef::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">empty - Check if the string is empty. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00110">StringRef.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1LibCallSimplifierImpl_html_abc3347a78598de548ab0035b2ab1edb3"><div class="ttname"><a href="classllvm_1_1LibCallSimplifierImpl.html#abc3347a78598de548ab0035b2ab1edb3">llvm::LibCallSimplifierImpl::hasFloatVersion</a></div><div class="ttdeci">bool hasFloatVersion(StringRef FuncName)</div><div class="ttdef"><b>Definition:</b> <a href="SimplifyLibCalls_8cpp_source.html#l01936">SimplifyLibCalls.cpp:1936</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_ab829c5fd1bbf60f869608ba1143be151"><div class="ttname"><a href="classllvm_1_1User.html#ab829c5fd1bbf60f869608ba1143be151">llvm::User::const_op_iterator</a></div><div class="ttdeci">const Use * const_op_iterator</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00114">User.h:114</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa3880572b66ab5faef56c79335acdcc0e"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3880572b66ab5faef56c79335acdcc0e">llvm::LibFunc::strncpy</a></div><div class="ttdoc">char *strncpy(char *s1, const char *s2, size_t n); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00557">TargetLibraryInfo.h:557</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:02:09 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
