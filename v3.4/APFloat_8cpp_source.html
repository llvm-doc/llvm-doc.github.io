<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: APFloat.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('APFloat_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">APFloat.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="APFloat_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- APFloat.cpp - Implement APFloat class -----------------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements a class to represent arbitrary precision floating</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// point values and provide a variety of arithmetic operations on them.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APFloat_8h.html">llvm/ADT/APFloat.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APSInt_8h.html">llvm/ADT/APSInt.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FoldingSet_8h.html">llvm/ADT/FoldingSet.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Hashing_8h.html">llvm/ADT/Hashing.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringExtras_8h.html">llvm/ADT/StringExtras.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// A macro used to combine two fcCategory enums into one key which can be used</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// in a switch statement to classify how the interaction of two APFloat&#39;s</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// categories affects an operation.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/// TODO: If clang source code is ever allowed to use constexpr in its own</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// codebase, change this into a static inline function.</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">   34</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define PackCategoriesIntoKey(_lhs, _rhs) ((_lhs) * 4 + (_rhs))</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/* Assumed in hexadecimal significand parsing, and conversion to</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">   hexadecimal strings.  */</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a7a14f772ba33630fcb09163ed22e4f2e">   38</a></span>&#160;<span class="preprocessor">#define COMPILE_TIME_ASSERT(cond) extern int CTAssert[(cond) ? 1 : -1]</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="APFloat_8cpp.html#a7a14f772ba33630fcb09163ed22e4f2e">COMPILE_TIME_ASSERT</a>(<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> % 4 == 0);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">/* Represents floating point arithmetic semantics.  */</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structllvm_1_1fltSemantics.html">   44</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">/* The largest E such that 2^E is representable; this matches the</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">       definition of IEEE 754.  */</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structllvm_1_1fltSemantics.html#a8593235b6ee0c6eecd490123336721a6">   47</a></span>&#160;    <a class="code" href="classllvm_1_1APFloat.html#a8f8541fa404bf604d50bf278d2066dfb">APFloat::ExponentType</a> <a class="code" href="structllvm_1_1fltSemantics.html#a8593235b6ee0c6eecd490123336721a6">maxExponent</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">/* The smallest E such that 2^E is a normalized number; this</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">       matches the definition of IEEE 754.  */</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">   51</a></span>&#160;    <a class="code" href="classllvm_1_1APFloat.html#a8f8541fa404bf604d50bf278d2066dfb">APFloat::ExponentType</a> <a class="code" href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">minExponent</a>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">/* Number of bits in the significand.  This includes the integer</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">       bit.  */</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">   55</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  };</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> <a class="code" href="classllvm_1_1APFloat.html#acd77961b2028e148c829b18ceaef81c4">APFloat::IEEEhalf</a> = { 15, -14, 11 };</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> <a class="code" href="classllvm_1_1APFloat.html#a43f6e79227388f373628e8ddd27df965">APFloat::IEEEsingle</a> = { 127, -126, 24 };</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> <a class="code" href="classllvm_1_1APFloat.html#aac03c2635e359347d396ddf4d7963b89">APFloat::IEEEdouble</a> = { 1023, -1022, 53 };</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> <a class="code" href="classllvm_1_1APFloat.html#a05a01faa391a74f808c372231207cf1a">APFloat::IEEEquad</a> = { 16383, -16382, 113 };</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> <a class="code" href="classllvm_1_1APFloat.html#a8fb913b1bed6dfe011696fe4e287ca70">APFloat::x87DoubleExtended</a> = { 16383, -16382, 64 };</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> <a class="code" href="classllvm_1_1APFloat.html#af6ed1a67bcd006fbc1e13b4c24aecb46">APFloat::Bogus</a> = { 0, 0, 0 };</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">/* The PowerPC format consists of two doubles.  It does not map cleanly</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     onto the usual format above.  It is approximated using twice the</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">     mantissa bits.  Note that for exponents near the double minimum,</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">     we no longer can represent the full 106 mantissa bits, so those</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">     will be treated as denormal numbers.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     FIXME: While this approximation is equivalent to what GCC uses for</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     compile-time arithmetic on PPC double-double numbers, it is not able</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">     to represent all possible values held by a PPC double-double number,</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">     for example: (long double) 1.0 + (long double) 0x1p-106</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">     Should this be replaced by a full emulation of PPC double-double?  */</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> <a class="code" href="classllvm_1_1APFloat.html#a2065ce1bee75d8e883077a752dc33081">APFloat::PPCDoubleDouble</a> = { 1023, -1022 + 53, 53 + 53 };</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">/* A tight upper bound on number of parts required to hold the value</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">     pow(5, power) is</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">       power * 815 / (351 * integerPartWidth) + 1</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">     However, whilst the result may require only this many parts,</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">     because we are multiplying two values to get it, the</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">     multiplication may require an extra part with the excess part</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">     being zero (consider the trivial case of 1 * 1, tcFullMultiply</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">     requires two parts to hold the single-part result).  So we add an</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">     extra one to guarantee enough space whilst multiplying.  */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa2356c8c049af2c0e4a5e4892e5a48d1">   89</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structllvm_1_1fltSemantics.html#a8593235b6ee0c6eecd490123336721a6">maxExponent</a> = 16383;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4fc0551303dc77bf30c5487aea4b4c5e">   90</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a4fc0551303dc77bf30c5487aea4b4c5e">maxPrecision</a> = 113;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4642be0121438a6a6e4e28ad42a98b60">   91</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a4642be0121438a6a6e4e28ad42a98b60">maxPowerOfFiveExponent</a> = maxExponent + maxPrecision - 1;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="namespacellvm.html#a769f4d371efd3462f20b02b7cd8fba79">   92</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#a769f4d371efd3462f20b02b7cd8fba79">maxPowerOfFiveParts</a> = 2 + ((maxPowerOfFiveExponent * 815)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                                / (351 * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>));</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">/* A bunch of private, handy routines.  */</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">   99</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> ((bits) + <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - 1) / <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">/* Returns 0U-9U.  Return values &gt;= 10U are not digits.  */</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">  106</a></span>&#160;<a class="code" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a>)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">return</span> c - <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">/* Return the value of a decimal exponent of the form</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">   [+-]ddddddd.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">   If the exponent overflows, returns a large exponent with the</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">   appropriate sign.  */</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a74f900d08953d743bd204e6cb480cadc">  117</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a74f900d08953d743bd204e6cb480cadc">readExponent</a>(<a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a>, <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordtype">bool</span> isNegative;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> absExponent;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> overlargeExponent = 24000;  <span class="comment">/* FIXME.  */</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = <a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  assert(p != end &amp;&amp; <span class="stringliteral">&quot;Exponent has no digits&quot;</span>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  isNegative = (*p == <span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;-&#39;</span> || *p == <span class="charliteral">&#39;+&#39;</span>) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    p++;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    assert(p != end &amp;&amp; <span class="stringliteral">&quot;Exponent has no digits&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  absExponent = <a class="code" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a>(*p++);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  assert(absExponent &lt; 10U &amp;&amp; <span class="stringliteral">&quot;Invalid character in exponent&quot;</span>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">for</span> (; p != <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>; ++<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    value = <a class="code" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a>(*p);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    assert(value &lt; 10U &amp;&amp; <span class="stringliteral">&quot;Invalid character in exponent&quot;</span>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    value += absExponent * 10;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (absExponent &gt;= overlargeExponent) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      absExponent = overlargeExponent;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      p = <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>;  <span class="comment">/* outwit assert below */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    absExponent = value;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  assert(p == end &amp;&amp; <span class="stringliteral">&quot;Invalid exponent in exponent&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (isNegative)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> -(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>) absExponent;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) absExponent;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">/* This is ugly and needs cleaning up, but I don&#39;t immediately see</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">   how whilst remaining safe.  */</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a3bdf019ebb92670864ec41312e0e8421">  161</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a3bdf019ebb92670864ec41312e0e8421">totalExponent</a>(<a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>, <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>,</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;              <span class="keywordtype">int</span> exponentAdjustment)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">int</span> unsignedExponent;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">bool</span> negative, overflow;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">int</span> exponent = 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  assert(p != end &amp;&amp; <span class="stringliteral">&quot;Exponent has no digits&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  negative = *p == <span class="charliteral">&#39;-&#39;</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;-&#39;</span> || *p == <span class="charliteral">&#39;+&#39;</span>) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    p++;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    assert(p != end &amp;&amp; <span class="stringliteral">&quot;Exponent has no digits&quot;</span>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  unsignedExponent = 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  overflow = <span class="keyword">false</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">for</span> (; p != <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>; ++<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    value = <a class="code" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a>(*p);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    assert(value &lt; 10U &amp;&amp; <span class="stringliteral">&quot;Invalid character in exponent&quot;</span>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    unsignedExponent = unsignedExponent * 10 + value;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (unsignedExponent &gt; 32767) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      overflow = <span class="keyword">true</span>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">if</span> (exponentAdjustment &gt; 32767 || exponentAdjustment &lt; -32768)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    overflow = <span class="keyword">true</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">if</span> (!overflow) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    exponent = unsignedExponent;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (negative)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      exponent = -exponent;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    exponent += exponentAdjustment;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (exponent &gt; 32767 || exponent &lt; -32768)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      overflow = <span class="keyword">true</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span> (overflow)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    exponent = negative ? -32768: 32767;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">return</span> exponent;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a></div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#ab19689a7583f4396682fe3dad076354f">  210</a></span>&#160;<a class="code" href="APFloat_8cpp.html#ab19689a7583f4396682fe3dad076354f">skipLeadingZeroesAndAnyDot</a>(<a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a>, <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                           <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> *dot)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = <a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  *dot = <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">while</span> (*p == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; p != end)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    p++;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    *dot = p++;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    assert(end - begin != 1 &amp;&amp; <span class="stringliteral">&quot;Significand has no digits&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">while</span> (*p == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; p != end)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      p++;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">/* Given a normal decimal floating point number of the form</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">     dddd.dddd[eE][+-]ddd</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">   where the decimal point and exponent are optional, fill out the</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">   structure D.  Exponent is appropriate if the significand is</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">   treated as an integer, and normalizedExponent if the significand</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">   is taken to have the decimal point after a single leading</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">   non-zero digit.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">   If the value is zero, V-&gt;firstSigDigit points to a non-digit, and</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">   the return exponent is zero.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="structdecimalInfo.html">  243</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdecimalInfo.html">decimalInfo</a> {</div><div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">  244</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a>;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structdecimalInfo.html#a494df17d17f18d1dea6340877fc598ea">  245</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdecimalInfo.html#a494df17d17f18d1dea6340877fc598ea">lastSigDigit</a>;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">  246</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">exponent</a>;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">  247</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">normalizedExponent</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;};</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a669d56bdff1ba3eb178fe8c9cbaf7f52">  251</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a669d56bdff1ba3eb178fe8c9cbaf7f52">interpretDecimal</a>(<a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a>, <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                 <a class="code" href="structdecimalInfo.html">decimalInfo</a> *D)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> dot = <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = <a class="code" href="APFloat_8cpp.html#ab19689a7583f4396682fe3dad076354f">skipLeadingZeroesAndAnyDot</a> (begin, end, &amp;dot);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  D-&gt;<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a> = <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  D-&gt;<a class="code" href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">exponent</a> = 0;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  D-&gt;<a class="code" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">normalizedExponent</a> = 0;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">for</span> (; p != <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>; ++<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      assert(dot == end &amp;&amp; <span class="stringliteral">&quot;String contains multiple dots&quot;</span>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      dot = p++;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">if</span> (p == end)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a>(*p) &gt;= 10U)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (p != end) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    assert((*p == <span class="charliteral">&#39;e&#39;</span> || *p == <span class="charliteral">&#39;E&#39;</span>) &amp;&amp; <span class="stringliteral">&quot;Invalid character in significand&quot;</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    assert(p != begin &amp;&amp; <span class="stringliteral">&quot;Significand has no digits&quot;</span>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    assert((dot == end || p - begin != 1) &amp;&amp; <span class="stringliteral">&quot;Significand has no digits&quot;</span>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">/* p points to the first non-digit in the string */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    D-&gt;<a class="code" href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">exponent</a> = <a class="code" href="APFloat_8cpp.html#a74f900d08953d743bd204e6cb480cadc">readExponent</a>(p + 1, end);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">/* Implied decimal point?  */</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (dot == end)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      dot = <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">/* If number is all zeroes accept any exponent.  */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (p != D-&gt;<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a>) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">/* Drop insignificant trailing zeroes.  */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (p != begin) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">do</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">do</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          p--;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">while</span> (p != begin &amp;&amp; *p == <span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">while</span> (p != begin &amp;&amp; *p == <span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">/* Adjust the exponents for any decimal point.  */</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    D-&gt;<a class="code" href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">exponent</a> += <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1APFloat.html#a8f8541fa404bf604d50bf278d2066dfb">APFloat::ExponentType</a><span class="keyword">&gt;</span>((dot - <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>) - (dot &gt; p));</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    D-&gt;<a class="code" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">normalizedExponent</a> = (D-&gt;<a class="code" href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">exponent</a> +</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;              <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1APFloat.html#a8f8541fa404bf604d50bf278d2066dfb">APFloat::ExponentType</a><span class="keyword">&gt;</span>((p - D-&gt;<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a>)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                      - (dot &gt; D-&gt;<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a> &amp;&amp; dot &lt; p)));</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  D-&gt;<a class="code" href="structdecimalInfo.html#a494df17d17f18d1dea6340877fc598ea">lastSigDigit</a> = <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">/* Return the trailing fraction of a hexadecimal number.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">   DIGITVALUE is the first hex digit of the fraction, P points to</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">   the next digit.  */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#aea19fbfc9a25e79db6edd3bdce73e223">  310</a></span>&#160;<a class="code" href="APFloat_8cpp.html#aea19fbfc9a25e79db6edd3bdce73e223">trailingHexadecimalFraction</a>(<a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>, <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> digitValue)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hexDigit;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">/* If the first trailing digit isn&#39;t 0 or 8 we can work out the</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">     fraction immediately.  */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">if</span> (digitValue &gt; 8)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (digitValue &lt; 8 &amp;&amp; digitValue &gt; 0)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// Otherwise we need to find the first non-zero digit.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">while</span> (p != end &amp;&amp; (*p == <span class="charliteral">&#39;0&#39;</span> || *p == <span class="charliteral">&#39;.&#39;</span>))</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    p++;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  assert(p != end &amp;&amp; <span class="stringliteral">&quot;Invalid trailing hexadecimal fraction!&quot;</span>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  hexDigit = <a class="code" href="namespacellvm.html#a890979060161a7477ee136722f57b171">hexDigitValue</a>(*p);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">/* If we ran off the end it is exactly zero or one-half, otherwise</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">     a little more.  */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">if</span> (hexDigit == -1U)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> digitValue == 0 ? <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>: <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6">lfExactlyHalf</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span> digitValue == 0 ? <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>: <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">/* Return the fraction lost were a bignum truncated losing the least</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">   significant BITS bits.  */</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">  341</a></span>&#160;<a class="code" href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">lostFractionThroughTruncation</a>(<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *parts,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partCount,</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lsb;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  lsb = <a class="code" href="classllvm_1_1APInt.html#a08a1c76eb1face84272c736e6349562d">APInt::tcLSB</a>(parts, partCount);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">/* Note this is guaranteed true if bits == 0, or LSB == -1U.  */</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> (bits &lt;= lsb)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">if</span> (bits == lsb + 1)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6">lfExactlyHalf</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">if</span> (bits &lt;= partCount * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> &amp;&amp;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">APInt::tcExtractBit</a>(parts, bits - 1))</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">/* Shift DST right BITS bits noting lost fraction.  */</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#aa9b0da389e5fb14fc522819904e4fa24">  363</a></span>&#160;<a class="code" href="APFloat_8cpp.html#aa9b0da389e5fb14fc522819904e4fa24">shiftRight</a>(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *dst, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> parts, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits)</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  lost_fraction = <a class="code" href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">lostFractionThroughTruncation</a>(dst, parts, bits);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a5be8eecedb07dfb3c6cb06fefefb8836">APInt::tcShiftRight</a>(dst, parts, bits);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">return</span> lost_fraction;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">/* Combine the effect of two lost fractions.  */</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a3abab7f1d3f67611acf79520a03f2769">  376</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a3abab7f1d3f67611acf79520a03f2769">combineLostFractions</a>(<a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> moreSignificant,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                     <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lessSignificant)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">if</span> (lessSignificant != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (moreSignificant == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      moreSignificant = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (moreSignificant == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6">lfExactlyHalf</a>)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      moreSignificant = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">return</span> moreSignificant;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">/* The error from the true value, in half-ulps, on multiplying two</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">   floating point numbers, which differ from the value they</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">   approximate by at most HUE1 and HUE2 half-ulps, is strictly less</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">   than the returned value.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">   See &quot;How to Read Floating Point Numbers Accurately&quot; by William D</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">   Clinger.  */</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#ac0e2174b46ccea3f1de0a0edafcbc4c8">  397</a></span>&#160;<a class="code" href="APFloat_8cpp.html#ac0e2174b46ccea3f1de0a0edafcbc4c8">HUerrBound</a>(<span class="keywordtype">bool</span> inexactMultiply, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> HUerr1, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> HUerr2)</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  assert(HUerr1 &lt; 2 || HUerr2 &lt; 2 || (HUerr1 + HUerr2 &lt; 8));</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span> (HUerr1 + HUerr2 == 0)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">return</span> inexactMultiply * 2;  <span class="comment">/* &lt;= inexactMultiply half-ulps.  */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> inexactMultiply + 2 * (HUerr1 + HUerr2);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">/* The number of ulps from the boundary (zero, or half if ISNEAREST)</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">   when the least significant BITS are truncated.  BITS cannot be</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">   zero.  */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a></div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a6dcd1d74694d39c377bf23f58d70db37">  411</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a6dcd1d74694d39c377bf23f58d70db37">ulpsFromBoundary</a>(<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *parts, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits, <span class="keywordtype">bool</span> isNearest)</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count, partBits;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> part, boundary;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  assert(bits != 0);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  bits--;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  count = bits / <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  partBits = bits % <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> + 1;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  part = parts[count] &amp; (~(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>) 0 &gt;&gt; (<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - partBits));</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (isNearest)</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    boundary = (<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>) 1 &lt;&lt; (partBits - 1);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    boundary = 0;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (count == 0) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (part - boundary &lt;= boundary - part)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">return</span> part - boundary;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">return</span> boundary - part;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span> (part == boundary) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">while</span> (--count)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keywordflow">if</span> (parts[count])</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">return</span> ~(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>) 0; <span class="comment">/* A lot.  */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> parts[0];</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (part == boundary - 1) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">while</span> (--count)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">if</span> (~parts[count])</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">return</span> ~(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>) 0; <span class="comment">/* A lot.  */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span> -parts[0];</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">return</span> ~(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>) 0; <span class="comment">/* A lot.  */</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">/* Place pow(5, power) in DST, and return the number of parts used.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">   DST must be at least one part larger than size of the answer.  */</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a96301256190ab1a39c3ff646d467345c">  456</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a96301256190ab1a39c3ff646d467345c">powerOf5</a>(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *dst, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> power)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> firstEightPowers[] = { 1, 5, 25, 125, 625, 3125,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                                  15625, 78125 };</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> pow5s[maxPowerOfFiveParts * 2 + 5];</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  pow5s[0] = 78125 * 5;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partsCount[16] = { 1 };</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> scratch[<a class="code" href="namespacellvm.html#a769f4d371efd3462f20b02b7cd8fba79">maxPowerOfFiveParts</a>], *p1, *p2, *pow5;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  assert(power &lt;= maxExponent);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  p1 = dst;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  p2 = scratch;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  *p1 = firstEightPowers[power &amp; 7];</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  power &gt;&gt;= 3;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  result = 1;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  pow5 = pow5s;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; power; power &gt;&gt;= 1, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>++) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2ARM_2README_8txt.html#a80b901cd4dec078ef8dc85ec1a3bb9e4">pc</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    pc = partsCount[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>];</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">/* Calculate pow(5,pow(2,n+3)) if we haven&#39;t yet.  */</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (pc == 0) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      pc = partsCount[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> - 1];</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a6164c05fd6cfc95aeb6bb8b00a194fa0">APInt::tcFullMultiply</a>(pow5, pow5 - pc, pow5 - pc, pc, pc);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      pc *= 2;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="keywordflow">if</span> (pow5[pc - 1] == 0)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        pc--;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      partsCount[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] = <a class="code" href="Target_2ARM_2README_8txt.html#a80b901cd4dec078ef8dc85ec1a3bb9e4">pc</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">if</span> (power &amp; 1) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *<a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a6164c05fd6cfc95aeb6bb8b00a194fa0">APInt::tcFullMultiply</a>(p2, p1, pow5, result, pc);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      result += <a class="code" href="Target_2ARM_2README_8txt.html#a80b901cd4dec078ef8dc85ec1a3bb9e4">pc</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">if</span> (p2[result - 1] == 0)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        result--;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="comment">/* Now result is in p1 with partsCount parts and p2 is scratch</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">         space.  */</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      tmp = p1, p1 = p2, p2 = <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    pow5 += <a class="code" href="Target_2ARM_2README_8txt.html#a80b901cd4dec078ef8dc85ec1a3bb9e4">pc</a>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (p1 != dst)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a0075077383b560290d112b29a155db08">APInt::tcAssign</a>(dst, p1, result);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">/* Zero at the end to avoid modular arithmetic when adding one; used</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">   when rounding up during hexadecimal output.  */</span></div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#af9abe1eccbdf18c2b773fbbedac485f7">  516</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="APFloat_8cpp.html#af9abe1eccbdf18c2b773fbbedac485f7">hexDigitsLower</a>[] = <span class="stringliteral">&quot;0123456789abcdef0&quot;</span>;</div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a7f2bc01bca929634845a725ed2606ac8">  517</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="APFloat_8cpp.html#a7f2bc01bca929634845a725ed2606ac8">hexDigitsUpper</a>[] = <span class="stringliteral">&quot;0123456789ABCDEF0&quot;</span>;</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a0977e6844c4d5463565fdd9bc4b6c44d">  518</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="APFloat_8cpp.html#a0977e6844c4d5463565fdd9bc4b6c44d">infinityL</a>[] = <span class="stringliteral">&quot;infinity&quot;</span>;</div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a7a9dcda856681ca710637c95323ce9c6">  519</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="APFloat_8cpp.html#a7a9dcda856681ca710637c95323ce9c6">infinityU</a>[] = <span class="stringliteral">&quot;INFINITY&quot;</span>;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#ad415bb19cda3e6f052af23868a7bd415">  520</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="APFloat_8cpp.html#ad415bb19cda3e6f052af23868a7bd415">NaNL</a>[] = <span class="stringliteral">&quot;nan&quot;</span>;</div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a7c308edd4d5bd059ee5cbae38f464084">  521</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="APFloat_8cpp.html#a7c308edd4d5bd059ee5cbae38f464084">NaNU</a>[] = <span class="stringliteral">&quot;NAN&quot;</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">/* Write out an integerPart in hexadecimal, starting with the most</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">   significant nibble.  Write out exactly COUNT hexdigits, return</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">   COUNT.  */</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#addf55de6ea6941c9fabcbaa054128767">  527</a></span>&#160;<a class="code" href="APFloat_8cpp.html#addf55de6ea6941c9fabcbaa054128767">partAsHex</a> (<span class="keywordtype">char</span> *dst, <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> part, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count,</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;           <span class="keyword">const</span> <span class="keywordtype">char</span> *hexDigitChars)</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;{</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a> = count;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  assert(count != 0 &amp;&amp; count &lt;= <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> / 4);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  part &gt;&gt;= (<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - 4 * count);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">while</span> (count--) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    dst[count] = hexDigitChars[part &amp; 0xf];</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    part &gt;&gt;= 4;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">/* Write out an unsigned decimal integer.  */</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#aca57d1ea20b3d3179854ecc81aae3314">  545</a></span>&#160;<a class="code" href="APFloat_8cpp.html#aca57d1ea20b3d3179854ecc81aae3314">writeUnsignedDecimal</a> (<span class="keywordtype">char</span> *dst, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordtype">char</span> buff[40], *<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  p = buff;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">do</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    *p++ = <span class="charliteral">&#39;0&#39;</span> + n % 10;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">while</span> (n /= 10);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">do</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    *dst++ = *--<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">while</span> (p != buff);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">return</span> dst;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;}</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">/* Write out a signed decimal integer.  */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="APFloat_8cpp.html#a185b730c3849640bd95163f73225b7b6">  563</a></span>&#160;<a class="code" href="APFloat_8cpp.html#a185b730c3849640bd95163f73225b7b6">writeSignedDecimal</a> (<span class="keywordtype">char</span> *dst, <span class="keywordtype">int</span> value)</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span> (value &lt; 0) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    *dst++ = <span class="charliteral">&#39;-&#39;</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    dst = <a class="code" href="APFloat_8cpp.html#aca57d1ea20b3d3179854ecc81aae3314">writeUnsignedDecimal</a>(dst, -(<span class="keywordtype">unsigned</span>) value);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    dst = <a class="code" href="APFloat_8cpp.html#aca57d1ea20b3d3179854ecc81aae3314">writeUnsignedDecimal</a>(dst, value);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">return</span> dst;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">/* Constructors.  */</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;APFloat::initialize(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> *ourSemantics)</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;{</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  semantics = ourSemantics;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  count = partCount();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (count &gt; 1)</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    significand.parts = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[count];</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;APFloat::freeSignificand()</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">if</span> (needsCleanup())</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keyword">delete</span> [] significand.parts;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;APFloat::assign(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;{</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  assert(semantics == rhs.semantics);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  sign = rhs.sign;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  category = rhs.category;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  exponent = rhs.exponent;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero() || category == fcNaN)</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    copySignificand(rhs);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;}</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;APFloat::copySignificand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;{</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  assert(isFiniteNonZero() || category == fcNaN);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  assert(rhs.partCount() &gt;= partCount());</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a0075077383b560290d112b29a155db08">APInt::tcAssign</a>(significandParts(), rhs.significandParts(),</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                  partCount());</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">/* Make this number a NaN, with an arbitrary but deterministic value</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">   for the significand.  If double or longer, this is a signalling NaN,</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">   which may not be ideal.  If float, this is QNaN(0).  */</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="keywordtype">void</span> APFloat::makeNaN(<span class="keywordtype">bool</span> SNaN, <span class="keywordtype">bool</span> Negative, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *fill)</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  category = fcNaN;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  sign = Negative;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *significand = significandParts();</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordtype">unsigned</span> numParts = partCount();</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">// Set the significand bits to the fill.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">if</span> (!fill || fill-&gt;<a class="code" href="classllvm_1_1APInt.html#a2c9ce2ec88f5ffa60ab1b16527caa1f4">getNumWords</a>() &lt; numParts)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(significand, 0, numParts);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> (fill) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a0075077383b560290d112b29a155db08">APInt::tcAssign</a>(significand, fill-&gt;<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>(),</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    std::min(fill-&gt;<a class="code" href="classllvm_1_1APInt.html#a2c9ce2ec88f5ffa60ab1b16527caa1f4">getNumWords</a>(), numParts));</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// Zero out the excess bits of the significand.</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordtype">unsigned</span> bitsToPreserve = semantics-&gt;precision - 1;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordtype">unsigned</span> part = bitsToPreserve / 64;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    bitsToPreserve %= 64;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    significand[part] &amp;= ((1ULL &lt;&lt; bitsToPreserve) - 1);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">for</span> (part++; part != numParts; ++part)</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      significand[part] = 0;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  }</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordtype">unsigned</span> QNaNBit = semantics-&gt;precision - 2;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">if</span> (SNaN) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// We always have to clear the QNaN bit to make it an SNaN.</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a251c87c3f5fe9e6b7c5e666c4c92acc9">APInt::tcClearBit</a>(significand, QNaNBit);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// If there are no bits set in the payload, we have to set</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// *something* to make it a NaN instead of an infinity;</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// conventionally, this is the next bit down from the QNaN bit.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1APInt.html#aeb6c84063610d7556e6a6c83d4b2500d">APInt::tcIsZero</a>(significand, numParts))</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">APInt::tcSetBit</a>(significand, QNaNBit - 1);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// We always have to set the QNaN bit to make it a QNaN.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">APInt::tcSetBit</a>(significand, QNaNBit);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// For x87 extended precision, we want to make a NaN, not a</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// pseudo-NaN.  Maybe we should expose the ability to make</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">// pseudo-NaNs?</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">if</span> (semantics == &amp;APFloat::x87DoubleExtended)</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">APInt::tcSetBit</a>(significand, QNaNBit + 1);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<a class="code" href="classllvm_1_1APFloat.html">APFloat</a> APFloat::makeNaN(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;Sem, <span class="keywordtype">bool</span> SNaN, <span class="keywordtype">bool</span> Negative,</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *fill) {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> value(Sem, uninitialized);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  value.makeNaN(SNaN, Negative, fill);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">return</span> value;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;</div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a3a922c89fc319a3673735f3c1d1aece1">  673</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a3a922c89fc319a3673735f3c1d1aece1">APFloat::operator=</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;{</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;rhs) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (semantics != rhs.semantics) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      freeSignificand();</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(rhs.semantics);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    assign(rhs);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ad2c475a7d583b7e5e3fdb6ea6ae1fec5">  687</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#ad2c475a7d583b7e5e3fdb6ea6ae1fec5">APFloat::isDenormal</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">return</span> isFiniteNonZero() &amp;&amp; (exponent == semantics-&gt;minExponent) &amp;&amp;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;         (<a class="code" href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">APInt::tcExtractBit</a>(significandParts(), </div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                              semantics-&gt;precision - 1) == 0);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a782516eb1739bd6c82c5fd9007cb4845">  694</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a782516eb1739bd6c82c5fd9007cb4845">APFloat::isSmallest</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// The smallest number by magnitude in our format will be the smallest</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// denormal, i.e. the floating point number with exponent being minimum</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// exponent and significand bitwise equal to 1 (i.e. with MSB equal to 0).</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">return</span> isFiniteNonZero() &amp;&amp; exponent == semantics-&gt;minExponent &amp;&amp;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    significandMSB() == 0;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="keywordtype">bool</span> APFloat::isSignificandAllOnes()<span class="keyword"> const </span>{</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="comment">// Test if the significand excluding the integral bit is all ones. This allows</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="comment">// us to test for binade boundaries.</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *Parts = significandParts();</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> PartCount = partCount();</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; PartCount - 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (~Parts[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">// Set the unused high bits to all ones when we compare.</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumHighBits =</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    PartCount*<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - semantics-&gt;precision + 1;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  assert(NumHighBits &lt;= <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> &amp;&amp; <span class="stringliteral">&quot;Can not have more high bits to &quot;</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         <span class="stringliteral">&quot;fill than integerPartWidth&quot;</span>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> HighBitFill =</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    ~<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>(0) &lt;&lt; (<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - NumHighBits);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">if</span> (~(Parts[PartCount - 1] | HighBitFill))</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keywordtype">bool</span> APFloat::isSignificandAllZeros()<span class="keyword"> const </span>{</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// Test if the significand excluding the integral bit is all zeros. This</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// allows us to test for binade boundaries.</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *Parts = significandParts();</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> PartCount = partCount();</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; PartCount - 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> (Parts[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumHighBits =</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    PartCount*<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - semantics-&gt;precision + 1;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  assert(NumHighBits &lt;= <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> &amp;&amp; <span class="stringliteral">&quot;Can not have more high bits to &quot;</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;         <span class="stringliteral">&quot;clear than integerPartWidth&quot;</span>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> HighBitMask = ~<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>(0) &gt;&gt; NumHighBits;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">if</span> (Parts[PartCount - 1] &amp; HighBitMask)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#aaa319dfe8635a1549e81bf949d9f0fe3">  747</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#aaa319dfe8635a1549e81bf949d9f0fe3">APFloat::isLargest</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// The largest number by magnitude in our format will be the floating point</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="comment">// number with maximum exponent and with significand that is all ones.</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">return</span> isFiniteNonZero() &amp;&amp; exponent == semantics-&gt;maxExponent</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    &amp;&amp; isSignificandAllOnes();</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a3cb841598edc02b220abea0820e9510f">  755</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a3cb841598edc02b220abea0820e9510f">APFloat::bitwiseIsEqual</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)<span class="keyword"> const </span>{</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">this</span> == &amp;rhs)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">if</span> (semantics != rhs.semantics ||</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      category != rhs.category ||</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      sign != rhs.sign)</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">if</span> (category==fcZero || category==fcInfinity)</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isFiniteNonZero() &amp;&amp; exponent!=rhs.exponent)</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>= partCount();</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>* <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>=significandParts();</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>* q=rhs.significandParts();</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">for</span> (; i&gt;0; i--, p++, q++) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">if</span> (*p != *q)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a0606a05c8c05af7e339b0f10c692e522">  778</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;ourSemantics, <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> value) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;ourSemantics);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  sign = 0;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  category = fcNormal;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  zeroSignificand();</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  exponent = ourSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - 1;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  significandParts()[0] = value;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  normalize(rmNearestTiesToEven, <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">  788</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;ourSemantics) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;ourSemantics);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  category = fcZero;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  sign = <span class="keyword">false</span>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ac6ddcd5bc4546710097422b9730637bd">  794</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;ourSemantics, <a class="code" href="classllvm_1_1APFloat.html#a338b34e3237b8cb43909b3edc73529bf">uninitializedTag</a> tag) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// Allocates storage if necessary but does not initialize it.</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;ourSemantics);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a0c1f03c56a8abb3298f6fa502ee3ee74">  799</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;ourSemantics, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> text) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;ourSemantics);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  convertFromString(text, rmNearestTiesToEven);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ab8d0149a28824e43ebe4b9e080033049">  804</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(rhs.semantics);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  assign(rhs);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a888659de112656d0bd17b116d1095ac8">  809</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a888659de112656d0bd17b116d1095ac8">APFloat::~APFloat</a>()</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  freeSignificand();</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">// Profile - This method &#39;profiles&#39; an APFloat for use with FoldingSet.</span></div><div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a446e9a6df128d5cd7d00984e94e94d8c">  815</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1APFloat.html#a446e9a6df128d5cd7d00984e94e94d8c">APFloat::Profile</a>(<a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a>&amp; <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#ae75832b6dfaefd06c8e1c2e7e4f4a3de">Add</a>(bitcastToAPInt());</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;APFloat::partCount()<span class="keyword"> const</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(semantics-&gt;precision + 1);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a8ea88db77f6159f4f8215b0867dc3fc3">  826</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a8ea88db77f6159f4f8215b0867dc3fc3">APFloat::semanticsPrecision</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;semantics)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordflow">return</span> semantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;APFloat::significandParts()<span class="keyword"> const</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;significandParts();</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;APFloat::significandParts()</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;{</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">if</span> (partCount() &gt; 1)</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">return</span> significand.parts;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">return</span> &amp;significand.part;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;APFloat::zeroSignificand()</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;{</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(significandParts(), 0, partCount());</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">/* Increment an fcNormal floating point number&#39;s significand.  */</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;APFloat::incrementSignificand()</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;{</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> carry;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  carry = <a class="code" href="classllvm_1_1APInt.html#ac09793e735cac4c8e8136dadd22ee725">APInt::tcIncrement</a>(significandParts(), partCount());</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">/* Our callers should never cause us to overflow.  */</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  assert(carry == 0);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  (void)carry;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">/* Add the significand of the RHS.  Returns the carry flag.  */</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;APFloat::addSignificand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *parts;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  parts = significandParts();</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  assert(semantics == rhs.semantics);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  assert(exponent == rhs.exponent);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html#a3fa8f810bfbbfeb2b3892b15814b031a">APInt::tcAdd</a>(parts, rhs.significandParts(), 0, partCount());</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">/* Subtract the significand of the RHS with a borrow flag.  Returns</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">   the borrow flag.  */</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;APFloat::subtractSignificand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> borrow)</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;{</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *parts;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  parts = significandParts();</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  assert(semantics == rhs.semantics);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  assert(exponent == rhs.exponent);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html#a77f0f5be0da47f6a6e508ee0ec484f63">APInt::tcSubtract</a>(parts, rhs.significandParts(), borrow,</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                           partCount());</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;}</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">/* Multiply the significand of the RHS.  If ADDEND is non-NULL, add it</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">   on to the full-precision result of the multiplication.  Returns the</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">   lost fraction.  */</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;APFloat::multiplySignificand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *addend)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;{</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> omsb;        <span class="comment">// One, not zero, based MSB.</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partsCount, newPartsCount, <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *lhsSignificand;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> scratch[4];</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *fullSignificand;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordtype">bool</span> ignored;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  assert(semantics == rhs.semantics);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  precision = semantics-&gt;precision;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  newPartsCount = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(precision * 2);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (newPartsCount &gt; 4)</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    fullSignificand = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[newPartsCount];</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    fullSignificand = scratch;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  lhsSignificand = significandParts();</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  partsCount = partCount();</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a6164c05fd6cfc95aeb6bb8b00a194fa0">APInt::tcFullMultiply</a>(fullSignificand, lhsSignificand,</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                        rhs.significandParts(), partsCount, partsCount);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  omsb = <a class="code" href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">APInt::tcMSB</a>(fullSignificand, newPartsCount) + 1;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  exponent += rhs.exponent;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// Assume the operands involved in the multiplication are single-precision</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// FP, and the two multiplicants are:</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">//   *this = a23 . a22 ... a0 * 2^e1</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">//     rhs = b23 . b22 ... b0 * 2^e2</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// the result of multiplication is:</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">//   *this = c47 c46 . c45 ... c0 * 2^(e1+e2)</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="comment">// Note that there are two significant bits at the left-hand side of the </span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">// radix point. Move the radix point toward left by one bit, and adjust</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="comment">// exponent accordingly.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  exponent += 1;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">if</span> (addend) {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="comment">// The intermediate result of the multiplication has &quot;2 * precision&quot; </span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="comment">// signicant bit; adjust the addend to be consistent with mul result.</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    Significand savedSignificand = significand;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> *savedSemantics = semantics;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> extendedSemantics;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a65c5fe2953375fe7c8c64bb7481c54a4">status</a>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> extendedPrecision;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="comment">/* Normalize our MSB.  */</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    extendedPrecision = 2 * <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">if</span> (omsb != extendedPrecision) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      assert(extendedPrecision &gt; omsb);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(fullSignificand, newPartsCount,</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                         extendedPrecision - omsb);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      exponent -= extendedPrecision - omsb;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="comment">/* Create new semantics.  */</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    extendedSemantics = *semantics;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    extendedSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> = extendedPrecision;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">if</span> (newPartsCount == 1)</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      significand.part = fullSignificand[0];</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      significand.parts = fullSignificand;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    semantics = &amp;extendedSemantics;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> extendedAddend(*addend);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    status = extendedAddend.<a class="code" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">convert</a>(extendedSemantics, rmTowardZero, &amp;ignored);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    assert(status == opOK);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    (void)status;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    lost_fraction = addOrSubtractSignificand(extendedAddend, <span class="keyword">false</span>);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="comment">/* Restore our state.  */</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (newPartsCount == 1)</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      fullSignificand[0] = significand.part;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    significand = savedSignificand;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    semantics = savedSemantics;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    omsb = <a class="code" href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">APInt::tcMSB</a>(fullSignificand, newPartsCount) + 1;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// Convert the result having &quot;2 * precision&quot; significant-bits back to the one</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">// having &quot;precision&quot; significant-bits. First, move the radix point from </span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">// poision &quot;2*precision - 1&quot; to &quot;precision - 1&quot;. The exponent need to be</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// adjusted by &quot;2*precision - 1&quot; - &quot;precision - 1&quot; = &quot;precision&quot;.</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  exponent -= <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">// In case MSB resides at the left-hand side of radix point, shift the</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="comment">// mantissa right by some amount to make sure the MSB reside right before</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// the radix point (i.e. &quot;MSB . rest-significant-bits&quot;).</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="comment">// Note that the result is not normalized when &quot;omsb &lt; precision&quot;. So, the</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="comment">// caller needs to call APFloat::normalize() if normalized value is expected.</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">if</span> (omsb &gt; precision) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits, significantParts;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lf;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    bits = omsb - <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    significantParts = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(omsb);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    lf = <a class="code" href="APFloat_8cpp.html#aa9b0da389e5fb14fc522819904e4fa24">shiftRight</a>(fullSignificand, significantParts, bits);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    lost_fraction = <a class="code" href="APFloat_8cpp.html#a3abab7f1d3f67611acf79520a03f2769">combineLostFractions</a>(lf, lost_fraction);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    exponent += bits;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a0075077383b560290d112b29a155db08">APInt::tcAssign</a>(lhsSignificand, fullSignificand, partsCount);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">if</span> (newPartsCount &gt; 4)</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keyword">delete</span> [] fullSignificand;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">return</span> lost_fraction;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">/* Multiply the significands of LHS and RHS to DST.  */</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;APFloat::divideSignificand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;{</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a>, <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, partsCount;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *rhsSignificand;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *lhsSignificand, *dividend, *divisor;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> scratch[4];</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  assert(semantics == rhs.semantics);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  lhsSignificand = significandParts();</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  rhsSignificand = rhs.significandParts();</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  partsCount = partCount();</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (partsCount &gt; 2)</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    dividend = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[partsCount * 2];</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    dividend = scratch;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  divisor = dividend + partsCount;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="comment">/* Copy the dividend and divisor as they will be modified in-place.  */</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; partsCount; i++) {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    dividend[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = lhsSignificand[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    divisor[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = rhsSignificand[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    lhsSignificand[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  exponent -= rhs.exponent;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> = semantics-&gt;precision;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="comment">/* Normalize the divisor.  */</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  bit = precision - <a class="code" href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">APInt::tcMSB</a>(divisor, partsCount) - 1;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">if</span> (bit) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    exponent += <a class="code" href="Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(divisor, partsCount, bit);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  }</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="comment">/* Normalize the dividend.  */</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  bit = precision - <a class="code" href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">APInt::tcMSB</a>(dividend, partsCount) - 1;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">if</span> (bit) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    exponent -= <a class="code" href="Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(dividend, partsCount, bit);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="comment">/* Ensure the dividend &gt;= divisor initially for the loop below.</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">     Incidentally, this means that the division loop below is</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">     guaranteed to set the integer bit to one.  */</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1APInt.html#aae15c2f059ac14fc2b3b7ef8fa645889">APInt::tcCompare</a>(dividend, divisor, partsCount) &lt; 0) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    exponent--;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(dividend, partsCount, 1);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    assert(<a class="code" href="classllvm_1_1APInt.html#aae15c2f059ac14fc2b3b7ef8fa645889">APInt::tcCompare</a>(dividend, divisor, partsCount) &gt;= 0);</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  }</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="comment">/* Long division.  */</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">for</span> (bit = precision; <a class="code" href="Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a>; bit -= 1) {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1APInt.html#aae15c2f059ac14fc2b3b7ef8fa645889">APInt::tcCompare</a>(dividend, divisor, partsCount) &gt;= 0) {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a77f0f5be0da47f6a6e508ee0ec484f63">APInt::tcSubtract</a>(dividend, divisor, 0, partsCount);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">APInt::tcSetBit</a>(lhsSignificand, bit - 1);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    }</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(dividend, partsCount, 1);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">/* Figure out the lost fraction.  */</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Target_2X86_2README_8txt.html#ad5da9a19280b84509a8d1cac2290a0ad">cmp</a> = <a class="code" href="classllvm_1_1APInt.html#aae15c2f059ac14fc2b3b7ef8fa645889">APInt::tcCompare</a>(dividend, divisor, partsCount);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">if</span> (cmp &gt; 0)</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmp == 0)</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6">lfExactlyHalf</a>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1APInt.html#aeb6c84063610d7556e6a6c83d4b2500d">APInt::tcIsZero</a>(dividend, partsCount))</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">if</span> (partsCount &gt; 2)</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keyword">delete</span> [] dividend;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordflow">return</span> lost_fraction;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;}</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;APFloat::significandMSB()<span class="keyword"> const</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">APInt::tcMSB</a>(significandParts(), partCount());</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;APFloat::significandLSB()<span class="keyword"> const</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html#a08a1c76eb1face84272c736e6349562d">APInt::tcLSB</a>(significandParts(), partCount());</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;}</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">/* Note that a zero result is NOT normalized to fcZero.  */</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;APFloat::shiftSignificandRight(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits)</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;{</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="comment">/* Our exponent should not overflow.  */</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  assert((<a class="code" href="classllvm_1_1APFloat.html#a8f8541fa404bf604d50bf278d2066dfb">ExponentType</a>) (exponent + bits) &gt;= exponent);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  exponent += bits;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="APFloat_8cpp.html#aa9b0da389e5fb14fc522819904e4fa24">shiftRight</a>(significandParts(), partCount(), bits);</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;}</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">/* Shift the significand left BITS bits, subtract BITS from its exponent.  */</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;APFloat::shiftSignificandLeft(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits)</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;{</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  assert(bits &lt; semantics-&gt;<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordflow">if</span> (bits) {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partsCount = partCount();</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(significandParts(), partsCount, bits);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    exponent -= bits;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    assert(!<a class="code" href="classllvm_1_1APInt.html#aeb6c84063610d7556e6a6c83d4b2500d">APInt::tcIsZero</a>(significandParts(), partsCount));</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a4e23a3f51df9950595056234827ca4ba">APFloat::cmpResult</a></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;APFloat::compareAbsoluteValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)<span class="keyword"> const</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keywordtype">int</span> compare;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  assert(semantics == rhs.semantics);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  assert(isFiniteNonZero());</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  assert(rhs.<a class="code" href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">isFiniteNonZero</a>());</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  compare = exponent - rhs.exponent;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">/* If exponents are equal, do an unsigned bignum comparison of the</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">     significands.  */</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">if</span> (compare == 0)</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    compare = <a class="code" href="classllvm_1_1APInt.html#aae15c2f059ac14fc2b3b7ef8fa645889">APInt::tcCompare</a>(significandParts(), rhs.significandParts(),</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                               partCount());</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">if</span> (compare &gt; 0)</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> cmpGreaterThan;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (compare &lt; 0)</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">return</span> cmpLessThan;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">return</span> cmpEqual;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">/* Handle overflow.  Sign is preserved.  We either become infinity or</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">   the largest finite number.  */</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;APFloat::handleOverflow(<a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;{</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">/* Infinity?  */</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="keywordflow">if</span> (rounding_mode == rmNearestTiesToEven ||</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      rounding_mode == rmNearestTiesToAway ||</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      (rounding_mode == rmTowardPositive &amp;&amp; !sign) ||</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      (rounding_mode == rmTowardNegative &amp;&amp; sign)) {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a>) (opOverflow | opInexact);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  }</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="comment">/* Otherwise we become the largest finite number.  */</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  category = fcNormal;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  exponent = semantics-&gt;maxExponent;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a9893ee6e3d9d51101c6854c2548189ba">APInt::tcSetLeastSignificantBits</a>(significandParts(), partCount(),</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                                   semantics-&gt;precision);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">return</span> opInexact;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;}</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">/* Returns TRUE if, when truncating the current number, with BIT the</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">   new LSB, with the given lost fraction and rounding mode, the result</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">   would need to be rounded away from zero (i.e., by increasing the</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">   signficand).  This routine must work for fcZero of both signs, and</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">   fcNormal numbers.  */</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;APFloat::roundAwayFromZero(<a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode,</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                           <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction,</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a>)<span class="keyword"> const</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">/* NaNs and infinities should not have lost fractions.  */</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  assert(isFiniteNonZero() || category == fcZero);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="comment">/* Current callers never pass this so we don&#39;t handle it.  */</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  assert(lost_fraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordflow">switch</span> (rounding_mode) {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">case</span> rmNearestTiesToAway:</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">return</span> lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6">lfExactlyHalf</a> || lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">case</span> rmNearestTiesToEven:</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>)</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="comment">/* Our zeroes don&#39;t have a significand to test.  */</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span> (lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6">lfExactlyHalf</a> &amp;&amp; category != fcZero)</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">APInt::tcExtractBit</a>(significandParts(), bit);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">case</span> rmTowardZero:</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordflow">case</span> rmTowardPositive:</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">return</span> sign == <span class="keyword">false</span>;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">case</span> rmTowardNegative:</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">return</span> sign == <span class="keyword">true</span>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid rounding mode found&quot;</span>);</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;APFloat::normalize(<a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode,</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                   <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction)</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;{</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> omsb;                <span class="comment">/* One, not zero, based MSB.  */</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordtype">int</span> exponentChange;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">if</span> (!isFiniteNonZero())</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">/* Before rounding normalize the exponent of fcNormal numbers.  */</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  omsb = significandMSB() + 1;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordflow">if</span> (omsb) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="comment">/* OMSB is numbered from 1.  We want to place it in the integer</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">       bit numbered PRECISION if possible, with a compensating change in</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">       the exponent.  */</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    exponentChange = omsb - semantics-&gt;precision;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">/* If the resulting exponent is too high, overflow according to</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">       the rounding mode.  */</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (exponent + exponentChange &gt; semantics-&gt;maxExponent)</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">return</span> handleOverflow(rounding_mode);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="comment">/* Subnormal numbers have exponent minExponent, and their MSB</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">       is forced based on that.  */</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">if</span> (exponent + exponentChange &lt; semantics-&gt;<a class="code" href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">minExponent</a>)</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      exponentChange = semantics-&gt;minExponent - exponent;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="comment">/* Shifting left is easy as we don&#39;t lose precision.  */</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">if</span> (exponentChange &lt; 0) {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      assert(lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      shiftSignificandLeft(-exponentChange);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">if</span> (exponentChange &gt; 0) {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lf;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="comment">/* Shift right and capture any new lost fraction.  */</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      lf = shiftSignificandRight(exponentChange);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      lost_fraction = <a class="code" href="APFloat_8cpp.html#a3abab7f1d3f67611acf79520a03f2769">combineLostFractions</a>(lf, lost_fraction);</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="comment">/* Keep OMSB up-to-date.  */</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordflow">if</span> (omsb &gt; (<span class="keywordtype">unsigned</span>) exponentChange)</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        omsb -= exponentChange;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        omsb = 0;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="comment">/* Now round the number according to rounding_mode given the lost</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">     fraction.  */</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="comment">/* As specified in IEEE 754, since we do not trap we do not report</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">     underflow for exact results.  */</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">if</span> (lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>) {</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">/* Canonicalize zeroes.  */</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordflow">if</span> (omsb == 0)</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      category = fcZero;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="comment">/* Increment the significand if we&#39;re rounding away from zero.  */</span></div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">if</span> (roundAwayFromZero(rounding_mode, lost_fraction, 0)) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (omsb == 0)</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      exponent = semantics-&gt;minExponent;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    incrementSignificand();</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    omsb = significandMSB() + 1;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="comment">/* Did the significand increment overflow?  */</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">if</span> (omsb == (<span class="keywordtype">unsigned</span>) semantics-&gt;precision + 1) {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="comment">/* Renormalize by incrementing the exponent and shifting our</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">         significand right one.  However if we already have the</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">         maximum exponent we overflow to infinity.  */</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="keywordflow">if</span> (exponent == semantics-&gt;maxExponent) {</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        category = fcInfinity;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a>) (opOverflow | opInexact);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      shiftSignificandRight(1);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">return</span> opInexact;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="comment">/* The normal case - we were and are not denormal, and any</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment">     significand increment above didn&#39;t overflow.  */</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="keywordflow">if</span> (omsb == semantics-&gt;precision)</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">return</span> opInexact;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">/* We have a non-zero denormal.  */</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  assert(omsb &lt; semantics-&gt;<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="comment">/* Canonicalize zeroes.  */</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">if</span> (omsb == 0)</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    category = fcZero;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="comment">/* The fcZero case is a denormal that underflowed to zero.  */</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a>) (opUnderflow | opInexact);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;}</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;APFloat::addOrSubtractSpecials(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <span class="keywordtype">bool</span> subtract)</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;{</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(category, rhs.category)) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(0);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcZero):</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNormal):</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcInfinity):</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNaN):</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcZero):</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNormal):</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcZero):</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNaN):</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNaN):</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNaN):</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    sign = <span class="keyword">false</span>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    category = fcNaN;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    copySignificand(rhs);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcInfinity):</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcInfinity):</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    sign = rhs.sign ^ subtract;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNormal):</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    assign(rhs);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    sign = rhs.sign ^ subtract;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcZero):</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="comment">/* Sign depends on rounding mode; handled by caller.  */</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcInfinity):</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="comment">/* Differently signed infinities can only be validly</span></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">       subtracted.  */</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">if</span> (((sign ^ rhs.sign)!=0) != subtract) {</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      makeNaN();</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNormal):</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">return</span> opDivByZero;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;}</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment">/* Add or subtract two normal numbers.  */</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;APFloat::addOrSubtractSignificand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <span class="keywordtype">bool</span> subtract)</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;{</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> carry;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordtype">int</span> bits;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="comment">/* Determine if the operation on the absolute values is effectively</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">     an addition or subtraction.  */</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  subtract ^= (sign ^ rhs.sign) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="comment">/* Are we bigger exponent-wise than the RHS?  */</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  bits = exponent - rhs.exponent;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="comment">/* Subtraction is more subtle than one might naively expect.  */</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="keywordflow">if</span> (subtract) {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> temp_rhs(rhs);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordtype">bool</span> reverse;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">if</span> (bits == 0) {</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      reverse = compareAbsoluteValue(temp_rhs) == cmpLessThan;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bits &gt; 0) {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      lost_fraction = temp_rhs.shiftSignificandRight(bits - 1);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      shiftSignificandLeft(1);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      reverse = <span class="keyword">false</span>;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      lost_fraction = shiftSignificandRight(-bits - 1);</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      temp_rhs.shiftSignificandLeft(1);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      reverse = <span class="keyword">true</span>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    }</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (reverse) {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      carry = temp_rhs.subtractSignificand</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        (*<span class="keyword">this</span>, lost_fraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      copySignificand(temp_rhs);</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      sign = !sign;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      carry = subtractSignificand</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        (temp_rhs, lost_fraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>);</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">/* Invert the lost fraction - it was on the RHS and</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment">       subtracted.  */</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordflow">if</span> (lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>)</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">lfMoreThanHalf</a>)</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="comment">/* The code above is intended to ensure that no borrow is</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment">       necessary.  */</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    assert(!carry);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    (void)carry;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> (bits &gt; 0) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> temp_rhs(rhs);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      lost_fraction = temp_rhs.shiftSignificandRight(bits);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      carry = addSignificand(temp_rhs);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      lost_fraction = shiftSignificandRight(-bits);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      carry = addSignificand(rhs);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">/* We have a guard bit; generating a carry cannot happen.  */</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    assert(!carry);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    (void)carry;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  }</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">return</span> lost_fraction;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;APFloat::multiplySpecials(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;{</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(category, rhs.category)) {</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(0);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcZero):</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNormal):</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcInfinity):</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNaN):</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    sign = <span class="keyword">false</span>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNaN):</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNaN):</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNaN):</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    sign = <span class="keyword">false</span>;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    category = fcNaN;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    copySignificand(rhs);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcInfinity):</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNormal):</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcInfinity):</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNormal):</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcZero):</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcZero):</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    category = fcZero;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcInfinity):</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcZero):</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    makeNaN();</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNormal):</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;}</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;APFloat::divideSpecials(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;{</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(category, rhs.category)) {</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(0);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNaN):</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNaN):</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNaN):</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    category = fcNaN;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    copySignificand(rhs);</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcZero):</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNormal):</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcInfinity):</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNaN):</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    sign = <span class="keyword">false</span>;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcZero):</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNormal):</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcInfinity):</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNormal):</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcInfinity):</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    category = fcZero;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcZero):</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">return</span> opDivByZero;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcInfinity):</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcZero):</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    makeNaN();</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNormal):</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  }</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;APFloat::modSpecials(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;{</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(category, rhs.category)) {</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(0);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcZero):</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNormal):</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcInfinity):</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNaN):</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcInfinity):</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNormal):</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcInfinity):</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNaN):</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNaN):</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNaN):</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    sign = <span class="keyword">false</span>;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    category = fcNaN;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    copySignificand(rhs);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcZero):</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcZero):</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNormal):</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcInfinity):</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcZero):</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    makeNaN();</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNormal):</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  }</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="comment">/* Change sign.  */</span></div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01589"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ab5131b6b960e5e4687016d5b6f64069b"> 1589</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#ab5131b6b960e5e4687016d5b6f64069b">APFloat::changeSign</a>()</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;{</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="comment">/* Look mummy, this one&#39;s easy.  */</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  sign = !sign;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;}</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01596"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#af446a362b3f76186bbad24f269c3352b"> 1596</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#af446a362b3f76186bbad24f269c3352b">APFloat::clearSign</a>()</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;{</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">/* So is this one. */</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  sign = 0;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01603"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ad2bcfec23bb7a4e8f7d27426728a6cad"> 1603</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#ad2bcfec23bb7a4e8f7d27426728a6cad">APFloat::copySign</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;{</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="comment">/* And this one. */</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  sign = rhs.sign;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;}</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">/* Normalized addition or subtraction.  */</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;APFloat::addOrSubtract(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode,</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                       <span class="keywordtype">bool</span> subtract)</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;{</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  fs = addOrSubtractSpecials(rhs, subtract);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="comment">/* This return code means it was not a simple case.  */</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <span class="keywordflow">if</span> (fs == opDivByZero) {</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    lost_fraction = addOrSubtractSignificand(rhs, subtract);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    fs = normalize(rounding_mode, lost_fraction);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="comment">/* Can only be zero if we lost no fraction.  */</span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    assert(category != fcZero || lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  }</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="comment">/* If two numbers add (exactly) to zero, IEEE 754 decrees it is a</span></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">     positive zero unless rounding to minus infinity, except that</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">     adding two like-signed zeroes gives that zero.  */</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">if</span> (category == fcZero) {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">if</span> (rhs.category != fcZero || (sign == rhs.sign) == subtract)</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      sign = (rounding_mode == rmTowardNegative);</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  }</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;}</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">/* Normalized addition.  */</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a8c2e1efe8d928179051cf852405f3fff"> 1642</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a8c2e1efe8d928179051cf852405f3fff">APFloat::add</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;{</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordflow">return</span> addOrSubtract(rhs, rounding_mode, <span class="keyword">false</span>);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;}</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">/* Normalized subtraction.  */</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01649"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a7578f9a82a4ae3c7f4d2ac7cad91f24f"> 1649</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7578f9a82a4ae3c7f4d2ac7cad91f24f">APFloat::subtract</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;{</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">return</span> addOrSubtract(rhs, rounding_mode, <span class="keyword">true</span>);</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;}</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">/* Normalized multiply.  */</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01656"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#abb4696c1a55081dea6ccf5269d51ea7d"> 1656</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#abb4696c1a55081dea6ccf5269d51ea7d">APFloat::multiply</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;{</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  sign ^= rhs.sign;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  fs = multiplySpecials(rhs);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction = multiplySignificand(rhs, 0);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    fs = normalize(rounding_mode, lost_fraction);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">if</span> (lost_fraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>)</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      fs = (<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a>) (fs | opInexact);</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  }</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;}</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="comment">/* Normalized divide.  */</span></div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01675"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a7b22f406d0d5381bae105045caca60ea"> 1675</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7b22f406d0d5381bae105045caca60ea">APFloat::divide</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;{</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  sign ^= rhs.sign;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  fs = divideSpecials(rhs);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction = divideSignificand(rhs);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    fs = normalize(rounding_mode, lost_fraction);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">if</span> (lost_fraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>)</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      fs = (<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a>) (fs | opInexact);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  }</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;}</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment">/* Normalized remainder.  This is not currently correct in all cases.  */</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01694"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#af69577ad3abaf55c2cf999763956be03"> 1694</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#af69577ad3abaf55c2cf999763956be03">APFloat::remainder</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;{</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> V = *<span class="keyword">this</span>;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> origSign = sign;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  fs = V.<a class="code" href="classllvm_1_1APFloat.html#a7b22f406d0d5381bae105045caca60ea">divide</a>(rhs, rmNearestTiesToEven);</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">if</span> (fs == opDivByZero)</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keywordtype">int</span> parts = partCount();</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a> = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[parts];</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="keywordtype">bool</span> ignored;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  fs = V.<a class="code" href="classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6">convertToInteger</a>(x, parts * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>, <span class="keyword">true</span>,</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;                          rmNearestTiesToEven, &amp;ignored);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">if</span> (fs==opInvalidOp)</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  fs = V.<a class="code" href="classllvm_1_1APFloat.html#a5d622e69958a2ec2b141f3fd21f2bc16">convertFromZeroExtendedInteger</a>(x, parts * integerPartWidth, <span class="keyword">true</span>,</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                                        rmNearestTiesToEven);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  assert(fs==opOK);   <span class="comment">// should always work</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  fs = V.<a class="code" href="classllvm_1_1APFloat.html#abb4696c1a55081dea6ccf5269d51ea7d">multiply</a>(rhs, rmNearestTiesToEven);</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  assert(fs==opOK || fs==opInexact);   <span class="comment">// should not overflow or underflow</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  fs = subtract(V, rmNearestTiesToEven);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  assert(fs==opOK || fs==opInexact);   <span class="comment">// likewise</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Lint_8cpp.html#a6cd8c36c54045fd5897b54d4c30e0044">isZero</a>())</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    sign = origSign;    <span class="comment">// IEEE754 requires this</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;}</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment">/* Normalized llvm frem (C fmod).</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">   This is not currently correct in all cases.  */</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01731"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a83b4800438a41f40863a7b3ef9613386"> 1731</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a83b4800438a41f40863a7b3ef9613386">APFloat::mod</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;{</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  fs = modSpecials(rhs);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero() &amp;&amp; rhs.<a class="code" href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">isFiniteNonZero</a>()) {</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> V = *<span class="keyword">this</span>;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> origSign = sign;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    fs = V.<a class="code" href="classllvm_1_1APFloat.html#a7b22f406d0d5381bae105045caca60ea">divide</a>(rhs, rmNearestTiesToEven);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span> (fs == opDivByZero)</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordtype">int</span> parts = partCount();</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a> = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[parts];</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordtype">bool</span> ignored;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    fs = V.<a class="code" href="classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6">convertToInteger</a>(x, parts * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>, <span class="keyword">true</span>,</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                            rmTowardZero, &amp;ignored);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">if</span> (fs==opInvalidOp)</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    fs = V.<a class="code" href="classllvm_1_1APFloat.html#a5d622e69958a2ec2b141f3fd21f2bc16">convertFromZeroExtendedInteger</a>(x, parts * integerPartWidth, <span class="keyword">true</span>,</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                                          rmNearestTiesToEven);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    assert(fs==opOK);   <span class="comment">// should always work</span></div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    fs = V.<a class="code" href="classllvm_1_1APFloat.html#abb4696c1a55081dea6ccf5269d51ea7d">multiply</a>(rhs, rounding_mode);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    assert(fs==opOK || fs==opInexact);   <span class="comment">// should not overflow or underflow</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    fs = subtract(V, rounding_mode);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    assert(fs==opOK || fs==opInexact);   <span class="comment">// likewise</span></div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Lint_8cpp.html#a6cd8c36c54045fd5897b54d4c30e0044">isZero</a>())</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      sign = origSign;    <span class="comment">// IEEE754 requires this</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keyword">delete</span>[] <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  }</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;}</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="comment">/* Normalized fused-multiply-add.  */</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01771"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#af6c6144719863ca10aa51be09615b22b"> 1771</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#af6c6144719863ca10aa51be09615b22b">APFloat::fusedMultiplyAdd</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;multiplicand,</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;addend,</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                          <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;{</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="comment">/* Post-multiplication sign, before addition.  */</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  sign ^= multiplicand.sign;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="comment">/* If and only if all arguments are normal do we need to do an</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment">     extended-precision calculation.  */</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero() &amp;&amp;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      multiplicand.<a class="code" href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">isFiniteNonZero</a>() &amp;&amp;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      addend.<a class="code" href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">isFiniteNonZero</a>()) {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    lost_fraction = multiplySignificand(multiplicand, &amp;addend);</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    fs = normalize(rounding_mode, lost_fraction);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">if</span> (lost_fraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>)</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      fs = (<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a>) (fs | opInexact);</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="comment">/* If two numbers add (exactly) to zero, IEEE 754 decrees it is a</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment">       positive zero unless rounding to minus infinity, except that</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment">       adding two like-signed zeroes gives that zero.  */</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">if</span> (category == fcZero &amp;&amp; sign != addend.sign)</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      sign = (rounding_mode == rmTowardNegative);</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    fs = multiplySpecials(multiplicand);</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="comment">/* FS can only be opOK or opInvalidOp.  There is no more work</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="comment">       to do in the latter case.  The IEEE-754R standard says it is</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="comment">       implementation-defined in this case whether, if ADDEND is a</span></div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="comment">       quiet NaN, we raise invalid op; this implementation does so.</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="comment">       If we need to do the addition we can do so with normal</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="comment">       precision.  */</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">if</span> (fs == opOK)</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      fs = addOrSubtract(addend, rounding_mode, <span class="keyword">false</span>);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;}</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="comment">/* Rounding-mode corrrect round to integral value.  */</span></div><div class="line"><a name="l01815"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a6ed423a156aae77bf5c1f560c998d9b4"> 1815</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a> <a class="code" href="classllvm_1_1APFloat.html#a6ed423a156aae77bf5c1f560c998d9b4">APFloat::roundToIntegral</a>(<a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode) {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="comment">// If the exponent is large enough, we know that this value is already</span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <span class="comment">// integral, and the arithmetic below would potentially cause it to saturate</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="comment">// to +/-Inf.  Bail out early instead.</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero() &amp;&amp; exponent+1 &gt;= (<span class="keywordtype">int</span>)semanticsPrecision(*semantics))</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="comment">// The algorithm here is quite simple: we add 2^(p-1), where p is the</span></div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="comment">// precision of our format, and then subtract it back off again.  The choice</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="comment">// of rounding modes for the addition/subtraction determines the rounding mode</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="comment">// for our integral rounding as well.</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="comment">// NOTE: When the input value is negative, we do subtraction followed by</span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// addition instead.</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> IntegerConstant(<a class="code" href="namespacellvm.html#a0490c32aa8dd63ddc56bb046fd0258c7">NextPowerOf2</a>(semanticsPrecision(*semantics)), 1);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  IntegerConstant &lt;&lt;= semanticsPrecision(*semantics)-1;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> MagicConstant(*semantics);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  fs = MagicConstant.<a class="code" href="classllvm_1_1APFloat.html#a768aa39cef837274da386788b7294ffe">convertFromAPInt</a>(IntegerConstant, <span class="keyword">false</span>,</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                                      rmNearestTiesToEven);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  MagicConstant.<a class="code" href="classllvm_1_1APFloat.html#ad2bcfec23bb7a4e8f7d27426728a6cad">copySign</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="keywordflow">if</span> (fs != opOK)</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="comment">// Preserve the input sign so that we can handle 0.0/-0.0 cases correctly.</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keywordtype">bool</span> inputSign = isNegative();</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  fs = <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">add</a>(MagicConstant, rounding_mode);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keywordflow">if</span> (fs != opOK &amp;&amp; fs != opInexact)</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  fs = subtract(MagicConstant, rounding_mode);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="comment">// Restore the input sign.</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="keywordflow">if</span> (inputSign != isNegative())</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    changeSign();</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;}</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="comment">/* Comparison requires normalized numbers.  */</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a4e23a3f51df9950595056234827ca4ba">APFloat::cmpResult</a></div><div class="line"><a name="l01859"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#aaf5c2c00b5485b2f34bf776e73e88394"> 1859</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#aaf5c2c00b5485b2f34bf776e73e88394">APFloat::compare</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;rhs)<span class="keyword"> const</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a4e23a3f51df9950595056234827ca4ba">cmpResult</a> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  assert(semantics == rhs.semantics);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(category, rhs.category)) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(0);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcZero):</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNormal):</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcInfinity):</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNaN, fcNaN):</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNaN):</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNaN):</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNaN):</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="keywordflow">return</span> cmpUnordered;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcNormal):</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcZero):</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcZero):</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">if</span> (sign)</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      <span class="keywordflow">return</span> cmpLessThan;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <span class="keywordflow">return</span> cmpGreaterThan;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcInfinity):</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcInfinity):</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcNormal):</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">if</span> (rhs.sign)</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keywordflow">return</span> cmpGreaterThan;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">return</span> cmpLessThan;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcInfinity, fcInfinity):</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (sign == rhs.sign)</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="keywordflow">return</span> cmpEqual;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sign)</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <span class="keywordflow">return</span> cmpLessThan;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="keywordflow">return</span> cmpGreaterThan;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcZero, fcZero):</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">return</span> cmpEqual;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a>(fcNormal, fcNormal):</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  }</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="comment">/* Two normal numbers.  Do they have the same sign?  */</span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="keywordflow">if</span> (sign != rhs.sign) {</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">if</span> (sign)</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      result = cmpLessThan;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      result = cmpGreaterThan;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="comment">/* Compare absolute values; invert result if negative.  */</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    result = compareAbsoluteValue(rhs);</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="keywordflow">if</span> (sign) {</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <span class="keywordflow">if</span> (result == cmpLessThan)</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        result = cmpGreaterThan;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == cmpGreaterThan)</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        result = cmpLessThan;</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    }</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  }</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;}</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment">/// APFloat::convert - convert a value of one floating point type to another.</span></div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment">/// The return value corresponds to the IEEE754 exceptions.  *losesInfo</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">/// records whether the transformation lost information, i.e. whether</span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="comment">/// converting the result back to the original type will produce the</span></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="comment">/// original value (this is almost the same as return value==fsOK, but there</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment">/// are edge cases where this is not so).</span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l01938"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e"> 1938</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">APFloat::convert</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;toSemantics,</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                 <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode, <span class="keywordtype">bool</span> *losesInfo)</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;{</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a>;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newPartCount, oldPartCount;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a>;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;fromSemantics = *semantics;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  lostFraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  newPartCount = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(toSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> + 1);</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  oldPartCount = partCount();</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  shift = toSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - fromSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="keywordtype">bool</span> X86SpecialNan = <span class="keyword">false</span>;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keywordflow">if</span> (&amp;fromSemantics == &amp;APFloat::x87DoubleExtended &amp;&amp;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      &amp;toSemantics != &amp;APFloat::x87DoubleExtended &amp;&amp; category == fcNaN &amp;&amp;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      (!(*significandParts() &amp; 0x8000000000000000ULL) ||</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;       !(*significandParts() &amp; 0x4000000000000000ULL))) {</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="comment">// x86 has some unusual NaNs which cannot be represented in any other</span></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="comment">// format; note them here.</span></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    X86SpecialNan = <span class="keyword">true</span>;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  }</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="comment">// If this is a truncation of a denormal number, and the target semantics</span></div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="comment">// has larger exponent range than the source semantics (this can happen</span></div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="comment">// when truncating from PowerPC double-double to double format), the</span></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="comment">// right shift could lose result mantissa bits.  Adjust exponent instead</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="comment">// of performing excessive shift.</span></div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">if</span> (shift &lt; 0 &amp;&amp; isFiniteNonZero()) {</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordtype">int</span> exponentChange = significandMSB() + 1 - fromSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="keywordflow">if</span> (exponent + exponentChange &lt; toSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">minExponent</a>)</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      exponentChange = toSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">minExponent</a> - exponent;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">if</span> (exponentChange &lt; shift)</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      exponentChange = <a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a>;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="keywordflow">if</span> (exponentChange &lt; 0) {</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      shift -= exponentChange;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      exponent += exponentChange;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    }</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  }</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="comment">// If this is a truncation, perform the shift before we narrow the storage.</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="keywordflow">if</span> (shift &lt; 0 &amp;&amp; (isFiniteNonZero() || category==fcNaN))</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    lostFraction = <a class="code" href="APFloat_8cpp.html#aa9b0da389e5fb14fc522819904e4fa24">shiftRight</a>(significandParts(), oldPartCount, -shift);</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="comment">// Fix the storage so it can hold to new value.</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">if</span> (newPartCount &gt; oldPartCount) {</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="comment">// The new type requires more storage; make it available.</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *newParts;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    newParts = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[newPartCount];</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(newParts, 0, newPartCount);</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">if</span> (isFiniteNonZero() || category==fcNaN)</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a0075077383b560290d112b29a155db08">APInt::tcAssign</a>(newParts, significandParts(), oldPartCount);</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    freeSignificand();</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    significand.parts = newParts;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (newPartCount == 1 &amp;&amp; oldPartCount != 1) {</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="comment">// Switch to built-in storage for a single part.</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> newPart = 0;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">if</span> (isFiniteNonZero() || category==fcNaN)</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      newPart = significandParts()[0];</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    freeSignificand();</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    significand.part = newPart;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  }</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="comment">// Now that we have the right storage, switch the semantics.</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  semantics = &amp;toSemantics;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="comment">// If this is an extension, perform the shift now that the storage is</span></div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="comment">// available.</span></div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">if</span> (shift &gt; 0 &amp;&amp; (isFiniteNonZero() || category==fcNaN))</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(significandParts(), newPartCount, shift);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    fs = normalize(rounding_mode, lostFraction);</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    *losesInfo = (fs != opOK);</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category == fcNaN) {</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    *losesInfo = lostFraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a> || X86SpecialNan;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="comment">// For x87 extended precision, we want to make a NaN, not a special NaN if</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="comment">// the input wasn&#39;t special either.</span></div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordflow">if</span> (!X86SpecialNan &amp;&amp; semantics == &amp;APFloat::x87DoubleExtended)</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">APInt::tcSetBit</a>(significandParts(), semantics-&gt;precision - 1);</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">// gcc forces the Quiet bit on, which means (float)(double)(float_sNan)</span></div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="comment">// does not give you back the same bits.  This is dubious, and we</span></div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="comment">// don&#39;t currently do it.  You&#39;re really supposed to get</span></div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="comment">// an invalid operation signal at runtime, but nobody does that.</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    fs = opOK;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    *losesInfo = <span class="keyword">false</span>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    fs = opOK;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  }</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;}</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">/* Convert a floating point number to an integer according to the</span></div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="comment">   rounding mode.  If the rounded integer value is out of range this</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment">   returns an invalid operation exception and the contents of the</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment">   destination parts are unspecified.  If the rounded value is in</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">   range but the floating point number is not the exact integer, the C</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">   standard doesn&#39;t require an inexact exception to be raised.  IEEE</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="comment">   854 does require it so we do that.</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="comment">   Note that for conversions to integer type the C standard requires</span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="comment">   round-to-zero to always be used.  */</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;APFloat::convertToSignExtendedInteger(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *parts, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width,</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                                      <span class="keywordtype">bool</span> isSigned,</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                                      <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode,</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                                      <span class="keywordtype">bool</span> *isExact)<span class="keyword"> const</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *src;</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dstPartsCount, truncatedBits;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  *isExact = <span class="keyword">false</span>;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="comment">/* Handle the three special cases first.  */</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">if</span> (category == fcInfinity || category == fcNaN)</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  dstPartsCount = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(width);</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keywordflow">if</span> (category == fcZero) {</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(parts, 0, dstPartsCount);</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="comment">// Negative zero can&#39;t be represented as an int.</span></div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    *isExact = !sign;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  }</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  src = significandParts();</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="comment">/* Step 1: place our absolute value, with any fraction truncated, in</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="comment">     the destination.  */</span></div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keywordflow">if</span> (exponent &lt; 0) {</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="comment">/* Our absolute value is less than one; truncate everything.  */</span></div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(parts, 0, dstPartsCount);</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="comment">/* For exponent -1 the integer bit represents .5, look at that.</span></div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;<span class="comment">       For smaller exponents leftmost truncated bit is 0. */</span></div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    truncatedBits = semantics-&gt;precision -1U - exponent;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="comment">/* We want the most significant (exponent + 1) bits; the rest are</span></div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;<span class="comment">       truncated.  */</span></div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits = exponent + 1U;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="comment">/* Hopelessly large in magnitude?  */</span></div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">if</span> (bits &gt; width)</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">if</span> (bits &lt; semantics-&gt;<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>) {</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="comment">/* We truncate (semantics-&gt;precision - bits) bits.  */</span></div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      truncatedBits = semantics-&gt;precision - bits;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a2ba89ff853f7bb8ea4862d17326426e4">APInt::tcExtract</a>(parts, dstPartsCount, src, bits, truncatedBits);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;      <span class="comment">/* We want at least as many bits as are available.  */</span></div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a2ba89ff853f7bb8ea4862d17326426e4">APInt::tcExtract</a>(parts, dstPartsCount, src, semantics-&gt;precision, 0);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(parts, dstPartsCount, bits - semantics-&gt;precision);</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      truncatedBits = 0;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    }</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="comment">/* Step 2: work out any lost fraction, and increment the absolute</span></div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="comment">     value if we would round away from zero.  */</span></div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <span class="keywordflow">if</span> (truncatedBits) {</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    lost_fraction = <a class="code" href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">lostFractionThroughTruncation</a>(src, partCount(),</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                                                  truncatedBits);</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">if</span> (lost_fraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a> &amp;&amp;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        roundAwayFromZero(rounding_mode, lost_fraction, truncatedBits)) {</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1APInt.html#ac09793e735cac4c8e8136dadd22ee725">APInt::tcIncrement</a>(parts, dstPartsCount))</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        <span class="keywordflow">return</span> opInvalidOp;     <span class="comment">/* Overflow.  */</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    }</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  }</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="comment">/* Step 3: check if we fit in the destination.  */</span></div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> omsb = <a class="code" href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">APInt::tcMSB</a>(parts, dstPartsCount) + 1;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">if</span> (sign) {</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">if</span> (!isSigned) {</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <span class="comment">/* Negative numbers cannot be represented as unsigned.  */</span></div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keywordflow">if</span> (omsb != 0)</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="comment">/* It takes omsb bits to represent the unsigned integer value.</span></div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<span class="comment">         We lose a bit for the sign, but care is needed as the</span></div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;<span class="comment">         maximally negative integer is a special case.  */</span></div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">if</span> (omsb == width &amp;&amp; <a class="code" href="classllvm_1_1APInt.html#a08a1c76eb1face84272c736e6349562d">APInt::tcLSB</a>(parts, dstPartsCount) + 1 != omsb)</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <span class="comment">/* This case can happen because of rounding.  */</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="keywordflow">if</span> (omsb &gt; width)</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    }</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a921850a778a64dd3cd68b3f3b2e2b110">APInt::tcNegate</a> (parts, dstPartsCount);</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keywordflow">if</span> (omsb &gt;= width + !isSigned)</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <span class="keywordflow">return</span> opInvalidOp;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">if</span> (lost_fraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>) {</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    *isExact = <span class="keyword">true</span>;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordflow">return</span> opInexact;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="comment">/* Same as convertToSignExtendedInteger, except we provide</span></div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="comment">   deterministic values in case of an invalid operation exception,</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment">   namely zero for NaNs and the minimal or maximal value respectively</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="comment">   for underflow or overflow.</span></div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;<span class="comment">   The *isExact output tells whether the result is exact, in the sense</span></div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="comment">   that converting it back to the original floating point type produces</span></div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="comment">   the original value.  This is almost equivalent to result==opOK,</span></div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;<span class="comment">   except for negative zeroes.</span></div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02157"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6"> 2157</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6">APFloat::convertToInteger</a>(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *parts, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width,</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;                          <span class="keywordtype">bool</span> isSigned,</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                          <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode, <span class="keywordtype">bool</span> *isExact)<span class="keyword"> const</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  fs = convertToSignExtendedInteger(parts, width, isSigned, rounding_mode,</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                                    isExact);</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keywordflow">if</span> (fs == opInvalidOp) {</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits, dstPartsCount;</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    dstPartsCount = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(width);</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">if</span> (category == fcNaN)</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      bits = 0;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sign)</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      bits = isSigned;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      bits = width - isSigned;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a9893ee6e3d9d51101c6854c2548189ba">APInt::tcSetLeastSignificantBits</a>(parts, dstPartsCount, bits);</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <span class="keywordflow">if</span> (sign &amp;&amp; isSigned)</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">APInt::tcShiftLeft</a>(parts, dstPartsCount, width - 1);</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  }</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;}</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="comment">/* Same as convertToInteger(integerPart*, ...), except the result is returned in</span></div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;<span class="comment">   an APSInt, whose initial bit-width and signed-ness are used to determine the</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="comment">   precision of the conversion.</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02191"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#aa685c2953655ec0668b116d231e05465"> 2191</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6">APFloat::convertToInteger</a>(<a class="code" href="classllvm_1_1APSInt.html">APSInt</a> &amp;<a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>,</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;                          <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode, <span class="keywordtype">bool</span> *isExact)<span class="keyword"> const</span></div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordtype">unsigned</span> bitWidth = result.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;uint64_t, 4&gt;</a> parts(result.<a class="code" href="classllvm_1_1APInt.html#a2c9ce2ec88f5ffa60ab1b16527caa1f4">getNumWords</a>());</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a65c5fe2953375fe7c8c64bb7481c54a4">status</a> = convertToInteger(</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    parts.data(), bitWidth, result.<a class="code" href="classllvm_1_1APSInt.html#ac9d653a7e9ebf9b69bae3411a723abf4">isSigned</a>(), rounding_mode, isExact);</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="comment">// Keeps the original signed-ness.</span></div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  result = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(bitWidth, parts);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a65c5fe2953375fe7c8c64bb7481c54a4">status</a>;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;}</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<span class="comment">/* Convert an unsigned integer SRC to a floating point number,</span></div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="comment">   rounding according to ROUNDING_MODE.  The sign of the floating</span></div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment">   point number is not modified.  */</span></div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;APFloat::convertFromUnsignedParts(<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *src,</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> srcCount,</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                                  <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;{</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> omsb, <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>, dstCount;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *dst;</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  category = fcNormal;</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  omsb = <a class="code" href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">APInt::tcMSB</a>(src, srcCount) + 1;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  dst = significandParts();</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  dstCount = partCount();</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  precision = semantics-&gt;precision;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">/* We want the most significant PRECISION bits of SRC.  There may not</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">     be that many; extract what we can.  */</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">if</span> (precision &lt;= omsb) {</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    exponent = omsb - 1;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    lost_fraction = <a class="code" href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">lostFractionThroughTruncation</a>(src, srcCount,</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                                                  omsb - precision);</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a2ba89ff853f7bb8ea4862d17326426e4">APInt::tcExtract</a>(dst, dstCount, src, precision, omsb - precision);</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    exponent = precision - 1;</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a2ba89ff853f7bb8ea4862d17326426e4">APInt::tcExtract</a>(dst, dstCount, src, omsb, 0);</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  }</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="keywordflow">return</span> normalize(rounding_mode, lost_fraction);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;}</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02238"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a768aa39cef837274da386788b7294ffe"> 2238</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a768aa39cef837274da386788b7294ffe">APFloat::convertFromAPInt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Val,</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                          <span class="keywordtype">bool</span> isSigned,</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                          <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;{</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partCount = Val.<a class="code" href="classllvm_1_1APInt.html#a2c9ce2ec88f5ffa60ab1b16527caa1f4">getNumWords</a>();</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> api = Val;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  sign = <span class="keyword">false</span>;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <span class="keywordflow">if</span> (isSigned &amp;&amp; api.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>()) {</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    sign = <span class="keyword">true</span>;</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    api = -api;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  }</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">return</span> convertFromUnsignedParts(api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>(), partCount, rounding_mode);</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;}</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="comment">/* Convert a two&#39;s complement integer SRC to a floating point number,</span></div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<span class="comment">   rounding according to ROUNDING_MODE.  ISSIGNED is true if the</span></div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="comment">   integer is signed, in which case it must be sign-extended.  */</span></div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02258"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#aab86e955f748f3ac392c174f1b6cf947"> 2258</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#aab86e955f748f3ac392c174f1b6cf947">APFloat::convertFromSignExtendedInteger</a>(<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *src,</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> srcCount,</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                                        <span class="keywordtype">bool</span> isSigned,</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                                        <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;{</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a65c5fe2953375fe7c8c64bb7481c54a4">status</a>;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="keywordflow">if</span> (isSigned &amp;&amp;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">APInt::tcExtractBit</a>(src, srcCount * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - 1)) {</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *copy;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="comment">/* If we&#39;re signed and negative negate a copy.  */</span></div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    sign = <span class="keyword">true</span>;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    copy = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[srcCount];</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a0075077383b560290d112b29a155db08">APInt::tcAssign</a>(copy, src, srcCount);</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a921850a778a64dd3cd68b3f3b2e2b110">APInt::tcNegate</a>(copy, srcCount);</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    status = convertFromUnsignedParts(copy, srcCount, rounding_mode);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keyword">delete</span> [] copy;</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    sign = <span class="keyword">false</span>;</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    status = convertFromUnsignedParts(src, srcCount, rounding_mode);</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  }</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1sys_1_1fs.html#a65c5fe2953375fe7c8c64bb7481c54a4">status</a>;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;}</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">/* FIXME: should this just take a const APInt reference?  */</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02286"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a5d622e69958a2ec2b141f3fd21f2bc16"> 2286</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a5d622e69958a2ec2b141f3fd21f2bc16">APFloat::convertFromZeroExtendedInteger</a>(<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *parts,</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> width, <span class="keywordtype">bool</span> isSigned,</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                                        <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;{</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partCount = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(width);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> api = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(width, <a class="code" href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">makeArrayRef</a>(parts, partCount));</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  sign = <span class="keyword">false</span>;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="keywordflow">if</span> (isSigned &amp;&amp; <a class="code" href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">APInt::tcExtractBit</a>(parts, width - 1)) {</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    sign = <span class="keyword">true</span>;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    api = -api;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  }</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordflow">return</span> convertFromUnsignedParts(api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>(), partCount, rounding_mode);</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;}</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;APFloat::convertFromHexadecimalString(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;{</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> lost_fraction = <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  category = fcNormal;</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  zeroSignificand();</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  exponent = 0;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *significand = significandParts();</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="keywordtype">unsigned</span> partsCount = partCount();</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <span class="keywordtype">unsigned</span> bitPos = partsCount * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  <span class="keywordtype">bool</span> computedTrailingFraction = <span class="keyword">false</span>;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="comment">// Skip leading zeroes and any (hexa)decimal point.</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a> = s.<a class="code" href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">begin</a>();</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a> = s.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>();</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> dot;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = <a class="code" href="APFloat_8cpp.html#ab19689a7583f4396682fe3dad076354f">skipLeadingZeroesAndAnyDot</a>(begin, end, &amp;dot);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> firstSignificantDigit = <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <span class="keywordflow">while</span> (p != end) {</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> hex_value;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      assert(dot == end &amp;&amp; <span class="stringliteral">&quot;String contains multiple dots&quot;</span>);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      dot = p++;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    }</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    hex_value = <a class="code" href="namespacellvm.html#a890979060161a7477ee136722f57b171">hexDigitValue</a>(*p);</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="keywordflow">if</span> (hex_value == -1U)</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    p++;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="comment">// Store the number while we have space.</span></div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="keywordflow">if</span> (bitPos) {</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      bitPos -= 4;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      hex_value &lt;&lt;= bitPos % <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      significand[bitPos / <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>] |= hex_value;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!computedTrailingFraction) {</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;      lost_fraction = <a class="code" href="APFloat_8cpp.html#aea19fbfc9a25e79db6edd3bdce73e223">trailingHexadecimalFraction</a>(p, end, hex_value);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;      computedTrailingFraction = <span class="keyword">true</span>;</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    }</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  }</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <span class="comment">/* Hex floats require an exponent but not a hexadecimal point.  */</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  assert(p != end &amp;&amp; <span class="stringliteral">&quot;Hex strings require an exponent&quot;</span>);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  assert((*p == <span class="charliteral">&#39;p&#39;</span> || *p == <span class="charliteral">&#39;P&#39;</span>) &amp;&amp; <span class="stringliteral">&quot;Invalid character in significand&quot;</span>);</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  assert(p != begin &amp;&amp; <span class="stringliteral">&quot;Significand has no digits&quot;</span>);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  assert((dot == end || p - begin != 1) &amp;&amp; <span class="stringliteral">&quot;Significand has no digits&quot;</span>);</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <span class="comment">/* Ignore the exponent if we are zero.  */</span></div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">if</span> (p != firstSignificantDigit) {</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="keywordtype">int</span> expAdjustment;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <span class="comment">/* Implicit hexadecimal point?  */</span></div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">if</span> (dot == end)</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      dot = <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <span class="comment">/* Calculate the exponent adjustment implicit in the number of</span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="comment">       significant digits.  */</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    expAdjustment = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(dot - firstSignificantDigit);</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">if</span> (expAdjustment &lt; 0)</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      expAdjustment++;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    expAdjustment = expAdjustment * 4 - 1;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="comment">/* Adjust for writing the significand starting at the most</span></div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">       significant nibble.  */</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    expAdjustment += semantics-&gt;precision;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    expAdjustment -= partsCount * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="comment">/* Adjust for the given exponent.  */</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    exponent = <a class="code" href="APFloat_8cpp.html#a3bdf019ebb92670864ec41312e0e8421">totalExponent</a>(p + 1, end, expAdjustment);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  }</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <span class="keywordflow">return</span> normalize(rounding_mode, lost_fraction);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;}</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;APFloat::roundSignificandWithExponent(<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *decSigParts,</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;                                      <span class="keywordtype">unsigned</span> sigPartCount, <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa3d4911fd70a787382c691646d119ff4">exp</a>,</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;                                      <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;{</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> parts, pow5PartCount;</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> calcSemantics = { 32767, -32767, 0 };</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> pow5Parts[<a class="code" href="namespacellvm.html#a769f4d371efd3462f20b02b7cd8fba79">maxPowerOfFiveParts</a>];</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="keywordtype">bool</span> isNearest;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  isNearest = (rounding_mode == rmNearestTiesToEven ||</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;               rounding_mode == rmNearestTiesToAway);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  parts = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(semantics-&gt;precision + 11);</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="comment">/* Calculate pow(5, abs(exp)).  */</span></div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  pow5PartCount = <a class="code" href="APFloat_8cpp.html#a96301256190ab1a39c3ff646d467345c">powerOf5</a>(pow5Parts, exp &gt;= 0 ? exp: -exp);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="keywordflow">for</span> (;; parts *= 2) {</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> sigStatus, powStatus;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> excessPrecision, truncatedBits;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    calcSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> = parts * <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - 1;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    excessPrecision = calcSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - semantics-&gt;precision;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    truncatedBits = excessPrecision;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> decSig = <a class="code" href="classllvm_1_1APFloat.html#af591f8d18d0d9773192a0ffcca41796e">APFloat::getZero</a>(calcSemantics, sign);</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> pow5(calcSemantics);</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    sigStatus = decSig.convertFromUnsignedParts(decSigParts, sigPartCount,</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                                                rmNearestTiesToEven);</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    powStatus = pow5.convertFromUnsignedParts(pow5Parts, pow5PartCount,</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                                              rmNearestTiesToEven);</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="comment">/* Add exp, as 10^n = 5^n * 2^n.  */</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    decSig.exponent += <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa3d4911fd70a787382c691646d119ff4">exp</a>;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> calcLostFraction;</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> HUerr, HUdistance;</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> powHUerr;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="keywordflow">if</span> (exp &gt;= 0) {</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      <span class="comment">/* multiplySignificand leaves the precision-th bit set to 1.  */</span></div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      calcLostFraction = decSig.multiplySignificand(pow5, NULL);</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      powHUerr = powStatus != opOK;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      calcLostFraction = decSig.divideSignificand(pow5);</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      <span class="comment">/* Denormal numbers have less precision.  */</span></div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="keywordflow">if</span> (decSig.exponent &lt; semantics-&gt;minExponent) {</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        excessPrecision += (semantics-&gt;minExponent - decSig.exponent);</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        truncatedBits = excessPrecision;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        <span class="keywordflow">if</span> (excessPrecision &gt; calcSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>)</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;          excessPrecision = calcSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      }</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <span class="comment">/* Extra half-ulp lost in reciprocal of exponent.  */</span></div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      powHUerr = (powStatus == opOK &amp;&amp; calcLostFraction == <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>) ? 0:2;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    }</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="comment">/* Both multiplySignificand and divideSignificand return the</span></div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;<span class="comment">       result with the integer bit set.  */</span></div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    assert(<a class="code" href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">APInt::tcExtractBit</a></div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;           (decSig.significandParts(), calcSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - 1) == 1);</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    HUerr = <a class="code" href="APFloat_8cpp.html#ac0e2174b46ccea3f1de0a0edafcbc4c8">HUerrBound</a>(calcLostFraction != <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">lfExactlyZero</a>, sigStatus != opOK,</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                       powHUerr);</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    HUdistance = 2 * <a class="code" href="APFloat_8cpp.html#a6dcd1d74694d39c377bf23f58d70db37">ulpsFromBoundary</a>(decSig.significandParts(),</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                                      excessPrecision, isNearest);</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="comment">/* Are we guaranteed to round correctly if we truncate?  */</span></div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    <span class="keywordflow">if</span> (HUdistance &gt;= HUerr) {</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a2ba89ff853f7bb8ea4862d17326426e4">APInt::tcExtract</a>(significandParts(), partCount(), decSig.significandParts(),</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                       calcSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - excessPrecision,</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                       excessPrecision);</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      <span class="comment">/* Take the exponent of decSig.  If we tcExtract-ed less bits</span></div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;<span class="comment">         above we must adjust our exponent to compensate for the</span></div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="comment">         implicit right shift.  */</span></div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;      exponent = (decSig.exponent + semantics-&gt;precision</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                  - (calcSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - excessPrecision));</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;      calcLostFraction = <a class="code" href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">lostFractionThroughTruncation</a>(decSig.significandParts(),</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                                                       decSig.partCount(),</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                                                       truncatedBits);</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      <span class="keywordflow">return</span> normalize(rounding_mode, calcLostFraction);</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    }</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  }</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;}</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;APFloat::convertFromDecimalString(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> str, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;{</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <a class="code" href="structdecimalInfo.html">decimalInfo</a> D;</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="comment">/* Scan the text.  */</span></div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = str.<a class="code" href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">begin</a>();</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <a class="code" href="APFloat_8cpp.html#a669d56bdff1ba3eb178fe8c9cbaf7f52">interpretDecimal</a>(p, str.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>(), &amp;D);</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="comment">/* Handle the quick cases.  First the case of no significant digits,</span></div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="comment">     i.e. zero, and then exponents that are obviously too large or too</span></div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;<span class="comment">     small.  Writing L for log 10 / log 2, a number d.ddddd*10^exp</span></div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="comment">     definitely overflows if</span></div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;<span class="comment">           (exp - 1) * L &gt;= maxExponent</span></div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">     and definitely underflows to zero where</span></div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">           (exp + 1) * L &lt;= minExponent - precision</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;<span class="comment">     With integer arithmetic the tightest bounds for L are</span></div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;<span class="comment">           93/28 &lt; L &lt; 196/59            [ numerator &lt;= 256 ]</span></div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;<span class="comment">           42039/12655 &lt; L &lt; 28738/8651  [ numerator &lt;= 65536 ]</span></div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="comment">// Test if we have a zero number allowing for strings with no null terminators</span></div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="comment">// and zero decimals with non-zero exponents.</span></div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="comment">// </span></div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="comment">// We computed firstSigDigit by ignoring all zeros and dots. Thus if</span></div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="comment">// D-&gt;firstSigDigit equals str.end(), every digit must be a zero and there can</span></div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="comment">// be at most one dot. On the other hand, if we have a zero with a non-zero</span></div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="comment">// exponent, then we know that D.firstSigDigit will be non-numeric.</span></div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordflow">if</span> (D.<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a> == str.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>() || <a class="code" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a>(*D.<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a>) &gt;= 10U) {</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    category = fcZero;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    fs = opOK;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <span class="comment">/* Check whether the normalized exponent is high enough to overflow</span></div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;<span class="comment">     max during the log-rebasing in the max-exponent check below. */</span></div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (D.<a class="code" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">normalizedExponent</a> - 1 &gt; INT_MAX / 42039) {</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    fs = handleOverflow(rounding_mode);</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <span class="comment">/* If it wasn&#39;t, then it also wasn&#39;t high enough to overflow max</span></div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;<span class="comment">     during the log-rebasing in the min-exponent check.  Check that it</span></div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;<span class="comment">     won&#39;t overflow min in either check, then perform the min-exponent</span></div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;<span class="comment">     check. */</span></div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (D.<a class="code" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">normalizedExponent</a> - 1 &lt; INT_MIN / 42039 ||</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;             (D.<a class="code" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">normalizedExponent</a> + 1) * 28738 &lt;=</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;               8651 * (semantics-&gt;minExponent - (<span class="keywordtype">int</span>) semantics-&gt;precision)) {</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="comment">/* Underflow to zero and round.  */</span></div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    category = fcNormal;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    zeroSignificand();</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    fs = normalize(rounding_mode, <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">lfLessThanHalf</a>);</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="comment">/* We can finally safely perform the max-exponent check. */</span></div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((D.<a class="code" href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">normalizedExponent</a> - 1) * 42039</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;             &gt;= 12655 * semantics-&gt;maxExponent) {</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="comment">/* Overflow and round.  */</span></div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    fs = handleOverflow(rounding_mode);</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *decSignificand;</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partCount;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    <span class="comment">/* A tight upper bound on number of bits required to hold an</span></div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="comment">       N-digit decimal integer is N * 196 / 59.  Allocate enough space</span></div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="comment">       to hold the full significand, and an extra part required by</span></div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="comment">       tcMultiplyPart.  */</span></div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    partCount = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(D.<a class="code" href="structdecimalInfo.html#a494df17d17f18d1dea6340877fc598ea">lastSigDigit</a> - D.<a class="code" href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">firstSigDigit</a>) + 1;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    partCount = <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(1 + 196 * partCount / 59);</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    decSignificand = <span class="keyword">new</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>[partCount + 1];</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    partCount = 0;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="comment">/* Convert to binary efficiently - we do almost all multiplication</span></div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="comment">       in an integerPart.  When this would overflow do we do a single</span></div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="comment">       bignum multiplication, and then revert again to multiplication</span></div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="comment">       in an integerPart.  */</span></div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> decValue, <a class="code" href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a>, multiplier;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      val = 0;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;      multiplier = 1;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;          p++;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;          <span class="keywordflow">if</span> (p == str.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>()) {</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;          }</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        }</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        decValue = <a class="code" href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a>(*p++);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        assert(decValue &lt; 10U &amp;&amp; <span class="stringliteral">&quot;Invalid character in significand&quot;</span>);</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        multiplier *= 10;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        val = val * 10 + decValue;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        <span class="comment">/* The maximum number that can be multiplied by ten with any</span></div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="comment">           digit added without overflowing an integerPart.  */</span></div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      } <span class="keywordflow">while</span> (p &lt;= D.<a class="code" href="structdecimalInfo.html#a494df17d17f18d1dea6340877fc598ea">lastSigDigit</a> &amp;&amp; multiplier &lt;= (~ (<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>) 0 - 9) / 10);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      <span class="comment">/* Multiply out the current part.  */</span></div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a06ba78863e3a3b9971b1022e7d999aab">APInt::tcMultiplyPart</a>(decSignificand, decSignificand, multiplier, val,</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;                            partCount, partCount + 1, <span class="keyword">false</span>);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <span class="comment">/* If we used another part (likely but not guaranteed), increase</span></div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;<span class="comment">         the count.  */</span></div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <span class="keywordflow">if</span> (decSignificand[partCount])</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        partCount++;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    } <span class="keywordflow">while</span> (p &lt;= D.<a class="code" href="structdecimalInfo.html#a494df17d17f18d1dea6340877fc598ea">lastSigDigit</a>);</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    category = fcNormal;</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    fs = roundSignificandWithExponent(decSignificand, partCount,</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                                      D.<a class="code" href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">exponent</a>, rounding_mode);</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="keyword">delete</span> [] decSignificand;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  }</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <span class="keywordflow">return</span> fs;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;}</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;APFloat::convertFromStringSpecials(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> str) {</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="keywordflow">if</span> (str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;inf&quot;</span>) || str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;INFINITY&quot;</span>)) {</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    makeInf(<span class="keyword">false</span>);</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  }</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <span class="keywordflow">if</span> (str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;-inf&quot;</span>) || str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;-INFINITY&quot;</span>)) {</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    makeInf(<span class="keyword">true</span>);</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  }</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="keywordflow">if</span> (str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;nan&quot;</span>) || str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;NaN&quot;</span>)) {</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    makeNaN(<span class="keyword">false</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  }</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="keywordflow">if</span> (str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;-nan&quot;</span>) || str.<a class="code" href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">equals</a>(<span class="stringliteral">&quot;-NaN&quot;</span>)) {</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    makeNaN(<span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  }</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;}</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a></div><div class="line"><a name="l02611"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ac46f9ecbe00750394fec5b940b56ac0e"> 2611</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#ac46f9ecbe00750394fec5b940b56ac0e">APFloat::convertFromString</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> str, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;{</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  assert(!str.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Invalid string length&quot;</span>);</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="comment">// Handle special cases.</span></div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="keywordflow">if</span> (convertFromStringSpecials(str))</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keywordflow">return</span> opOK;</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  <span class="comment">/* Handle a leading minus sign.  */</span></div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">StringRef::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = str.<a class="code" href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">begin</a>();</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="keywordtype">size_t</span> slen = str.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>();</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  sign = *p == <span class="charliteral">&#39;-&#39;</span> ? 1 : 0;</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;-&#39;</span> || *p == <span class="charliteral">&#39;+&#39;</span>) {</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    p++;</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    slen--;</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    assert(slen &amp;&amp; <span class="stringliteral">&quot;String has no digits&quot;</span>);</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  }</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <span class="keywordflow">if</span> (slen &gt;= 2 &amp;&amp; p[0] == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; (p[1] == <span class="charliteral">&#39;x&#39;</span> || p[1] == <span class="charliteral">&#39;X&#39;</span>)) {</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    assert(slen - 2 &amp;&amp; <span class="stringliteral">&quot;Invalid string&quot;</span>);</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordflow">return</span> convertFromHexadecimalString(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(p + 2, slen - 2),</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;                                        rounding_mode);</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  }</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  <span class="keywordflow">return</span> convertFromDecimalString(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(p, slen), rounding_mode);</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;}</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="comment">/* Write out a hexadecimal representation of the floating point value</span></div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;<span class="comment">   to DST, which must be of sufficient size, in the C99 form</span></div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;<span class="comment">   [-]0xh.hhhhp[+-]d.  Return the number of characters written,</span></div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;<span class="comment">   excluding the terminating NUL.</span></div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;<span class="comment">   If UPPERCASE, the output is in upper case, otherwise in lower case.</span></div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="comment">   HEXDIGITS digits appear altogether, rounding the value if</span></div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;<span class="comment">   necessary.  If HEXDIGITS is 0, the minimal precision to display the</span></div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;<span class="comment">   number precisely is used instead.  If nothing would appear after</span></div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;<span class="comment">   the decimal point it is suppressed.</span></div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;<span class="comment">   The decimal exponent is always printed and has at least one digit.</span></div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;<span class="comment">   Zero values display an exponent of zero.  Infinities and NaNs</span></div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="comment">   appear as &quot;infinity&quot; or &quot;nan&quot; respectively.</span></div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="comment">   The above rules are as specified by C99.  There is ambiguity about</span></div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;<span class="comment">   what the leading hexadecimal digit should be.  This implementation</span></div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<span class="comment">   uses whatever is necessary so that the exponent is displayed as</span></div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;<span class="comment">   stored.  This implies the exponent will fall within the IEEE format</span></div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="comment">   range, and the leading hexadecimal digit will be 0 (for denormals),</span></div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;<span class="comment">   1 (normal numbers) or 2 (normal numbers rounded-away-from-zero with</span></div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;<span class="comment">   any other digits zero).</span></div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div><div class="line"><a name="l02663"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a75a94f14098db903476027bbacf307d5"> 2663</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a75a94f14098db903476027bbacf307d5">APFloat::convertToHexString</a>(<span class="keywordtype">char</span> *dst, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hexDigits,</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                            <span class="keywordtype">bool</span> upperCase, <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)<span class="keyword"> const</span></div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  p = dst;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="keywordflow">if</span> (sign)</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    *dst++ = <span class="charliteral">&#39;-&#39;</span>;</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <span class="keywordflow">switch</span> (category) {</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <span class="keywordflow">case</span> fcInfinity:</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">memcpy</a> (dst, upperCase ? infinityU: infinityL, <span class="keyword">sizeof</span> infinityU - 1);</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    dst += <span class="keyword">sizeof</span> infinityL - 1;</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="keywordflow">case</span> fcNaN:</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">memcpy</a> (dst, upperCase ? NaNU: NaNL, <span class="keyword">sizeof</span> NaNU - 1);</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    dst += <span class="keyword">sizeof</span> NaNU - 1;</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <span class="keywordflow">case</span> fcZero:</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    *dst++ = <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    *dst++ = upperCase ? <span class="charliteral">&#39;X&#39;</span>: <span class="charliteral">&#39;x&#39;</span>;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    *dst++ = <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="keywordflow">if</span> (hexDigits &gt; 1) {</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;      *dst++ = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a> (dst, <span class="charliteral">&#39;0&#39;</span>, hexDigits - 1);</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      dst += hexDigits - 1;</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    }</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    *dst++ = upperCase ? <span class="charliteral">&#39;P&#39;</span>: <span class="charliteral">&#39;p&#39;</span>;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    *dst++ = <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keywordflow">case</span> fcNormal:</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    dst = convertNormalToHexString (dst, hexDigits, upperCase, rounding_mode);</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  }</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  *dst = 0;</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(dst - <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>);</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;}</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="comment">/* Does the hard work of outputting the correctly rounded hexadecimal</span></div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;<span class="comment">   form of a normal floating point number with the specified number of</span></div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;<span class="comment">   hexadecimal digits.  If HEXDIGITS is zero the minimum number of</span></div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;<span class="comment">   digits necessary to print the value precisely is output.  */</span></div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;<span class="keywordtype">char</span> *</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;APFloat::convertNormalToHexString(<span class="keywordtype">char</span> *dst, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hexDigits,</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                                  <span class="keywordtype">bool</span> upperCase,</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;                                  <a class="code" href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">roundingMode</a> rounding_mode)<span class="keyword"> const</span></div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count, valueBits, <a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a>, partsCount, outputDigits;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *hexDigitChars;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *significand;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="keywordtype">bool</span> roundUp;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  *dst++ = <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  *dst++ = upperCase ? <span class="charliteral">&#39;X&#39;</span>: <span class="charliteral">&#39;x&#39;</span>;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  roundUp = <span class="keyword">false</span>;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  hexDigitChars = upperCase ? hexDigitsUpper: <a class="code" href="APFloat_8cpp.html#af9abe1eccbdf18c2b773fbbedac485f7">hexDigitsLower</a>;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  significand = significandParts();</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  partsCount = partCount();</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="comment">/* +3 because the first digit only uses the single integer bit, so</span></div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="comment">     we have 3 virtual zero most-significant-bits.  */</span></div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  valueBits = semantics-&gt;precision + 3;</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  shift = <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - valueBits % <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  <span class="comment">/* The natural number of digits required ignoring trailing</span></div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="comment">     insignificant zeroes.  */</span></div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  outputDigits = (valueBits - significandLSB () + 3) / 4;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="comment">/* hexDigits of zero means use the required number for the</span></div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;<span class="comment">     precision.  Otherwise, see if we are truncating.  If we are,</span></div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;<span class="comment">     find out if we need to round away from zero.  */</span></div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordflow">if</span> (hexDigits) {</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordflow">if</span> (hexDigits &lt; outputDigits) {</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;      <span class="comment">/* We are dropping non-zero bits, so need to check how to round.</span></div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;<span class="comment">         &quot;bits&quot; is the number of dropped bits.  */</span></div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits;</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      <a class="code" href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">lostFraction</a> fraction;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;      bits = valueBits - hexDigits * 4;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;      fraction = <a class="code" href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">lostFractionThroughTruncation</a> (significand, partsCount, bits);</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      roundUp = roundAwayFromZero(rounding_mode, fraction, bits);</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    }</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    outputDigits = hexDigits;</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  }</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="comment">/* Write the digits consecutively, and start writing in the location</span></div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="comment">     of the hexadecimal point.  We move the most significant digit</span></div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="comment">     left and add the hexadecimal point later.  */</span></div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  p = ++dst;</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  count = (valueBits + <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - 1) / <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>;</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="keywordflow">while</span> (outputDigits &amp;&amp; count) {</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> part;</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="comment">/* Put the most significant integerPartWidth bits in &quot;part&quot;.  */</span></div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">if</span> (--count == partsCount)</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;      part = 0;  <span class="comment">/* An imaginary higher zero part.  */</span></div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;      part = significand[count] &lt;&lt; <a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a>;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <span class="keywordflow">if</span> (count &amp;&amp; shift)</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;      part |= significand[count - 1] &gt;&gt; (<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - <a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a>);</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <span class="comment">/* Convert as much of &quot;part&quot; to hexdigits as we can.  */</span></div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curDigits = <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> / 4;</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <span class="keywordflow">if</span> (curDigits &gt; outputDigits)</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;      curDigits = outputDigits;</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    dst += <a class="code" href="APFloat_8cpp.html#addf55de6ea6941c9fabcbaa054128767">partAsHex</a> (dst, part, curDigits, hexDigitChars);</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    outputDigits -= curDigits;</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  }</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  <span class="keywordflow">if</span> (roundUp) {</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <span class="keywordtype">char</span> *q = dst;</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    <span class="comment">/* Note that hexDigitChars has a trailing &#39;0&#39;.  */</span></div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;      q--;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;      *q = hexDigitChars[<a class="code" href="namespacellvm.html#a890979060161a7477ee136722f57b171">hexDigitValue</a> (*q) + 1];</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    } <span class="keywordflow">while</span> (*q == <span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    assert(q &gt;= p);</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="comment">/* Add trailing zeroes.  */</span></div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a> (dst, <span class="charliteral">&#39;0&#39;</span>, outputDigits);</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    dst += outputDigits;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  }</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <span class="comment">/* Move the most significant digit to before the point, and if there</span></div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;<span class="comment">     is something after the decimal point add it.  This must come</span></div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="comment">     after rounding above.  */</span></div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  p[-1] = p[0];</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;  <span class="keywordflow">if</span> (dst -1 == p)</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    dst--;</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    p[0] = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <span class="comment">/* Finally output the exponent.  */</span></div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  *dst++ = upperCase ? <span class="charliteral">&#39;P&#39;</span>: <span class="charliteral">&#39;p&#39;</span>;</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="APFloat_8cpp.html#a185b730c3849640bd95163f73225b7b6">writeSignedDecimal</a> (dst, exponent);</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;}</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;</div><div class="line"><a name="l02814"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4dd787942e0bd9f46c0cc2642cce0a4c"> 2814</a></span>&#160;<a class="code" href="classllvm_1_1hash__code.html">hash_code</a> <a class="code" href="namespacellvm.html#a4dd787942e0bd9f46c0cc2642cce0a4c">llvm::hash_value</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> &amp;Arg) {</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="keywordflow">if</span> (!Arg.<a class="code" href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">isFiniteNonZero</a>())</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2b33f2166f38124ec3081c2fd59672f7">hash_combine</a>((uint8_t)Arg.category,</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                        <span class="comment">// NaN has no sign, fix it at zero.</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                        Arg.<a class="code" href="classllvm_1_1APFloat.html#a9f3ff4f659fd49bd86d7a35f69142e11">isNaN</a>() ? (uint8_t)0 : (uint8_t)Arg.sign,</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;                        Arg.semantics-&gt;<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>);</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <span class="comment">// Normal floats need their exponent and significand hashed.</span></div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2b33f2166f38124ec3081c2fd59672f7">hash_combine</a>((uint8_t)Arg.category, (uint8_t)Arg.sign,</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;                      Arg.semantics-&gt;<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>, Arg.exponent,</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;                      <a class="code" href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">hash_combine_range</a>(</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                        Arg.significandParts(),</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;                        Arg.significandParts() + Arg.partCount()));</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;}</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<span class="comment">// Conversion from APFloat to/from host float/double.  It may eventually be</span></div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="comment">// possible to eliminate these and have everybody deal with APFloats, but that</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;<span class="comment">// will take a while.  This approach will not easily extend to long double.</span></div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;<span class="comment">// Current implementation requires integerPartWidth==64, which is correct at</span></div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;<span class="comment">// the moment but could be made more general.</span></div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="comment">// Denormals have exponent minExponent in APFloat, but minExponent-1 in</span></div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="comment">// the actual IEEE respresentations.  We compensate for that here.</span></div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a></div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;APFloat::convertF80LongDoubleAPFloatToAPInt()<span class="keyword"> const</span></div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;x87DoubleExtended);</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  assert(partCount()==2);</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  uint64_t myexponent, mysignificand;</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    myexponent = exponent+16383; <span class="comment">//bias</span></div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    mysignificand = significandParts()[0];</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="keywordflow">if</span> (myexponent==1 &amp;&amp; !(mysignificand &amp; 0x8000000000000000ULL))</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;      myexponent = 0;   <span class="comment">// denormal</span></div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcZero) {</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    myexponent = 0;</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    mysignificand = 0;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcInfinity) {</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    myexponent = 0x7fff;</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    mysignificand = 0x8000000000000000ULL;</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    assert(category == fcNaN &amp;&amp; <span class="stringliteral">&quot;Unknown category&quot;</span>);</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    myexponent = 0x7fff;</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    mysignificand = significandParts()[0];</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  }</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  uint64_t words[2];</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  words[0] = mysignificand;</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  words[1] =  ((uint64_t)(sign &amp; 1) &lt;&lt; 15) |</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;              (myexponent &amp; 0x7fffLL);</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(80, words);</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;}</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a></div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;APFloat::convertPPCDoubleDoubleAPFloatToAPInt()<span class="keyword"> const</span></div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;PPCDoubleDouble);</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  assert(partCount()==2);</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  uint64_t words[2];</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  opStatus fs;</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;  <span class="keywordtype">bool</span> losesInfo;</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  <span class="comment">// Convert number to double.  To avoid spurious underflows, we re-</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="comment">// normalize against the &quot;double&quot; minExponent first, and only *then*</span></div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  <span class="comment">// truncate the mantissa.  The result of that second conversion</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <span class="comment">// may be inexact, but should never underflow.</span></div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="comment">// Declare fltSemantics before APFloat that uses it (and</span></div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="comment">// saves pointer to it) to ensure correct destruction order.</span></div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> extendedSemantics = *semantics;</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  extendedSemantics.<a class="code" href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">minExponent</a> = IEEEdouble.minExponent;</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> <a class="code" href="Target_2LLVMBuild_8txt.html#a99345b14df86239a42d860f988532dc5">extended</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  fs = extended.<a class="code" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">convert</a>(extendedSemantics, rmNearestTiesToEven, &amp;losesInfo);</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  assert(fs == opOK &amp;&amp; !losesInfo);</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  (void)fs;</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> u(extended);</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  fs = u.<a class="code" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">convert</a>(IEEEdouble, rmNearestTiesToEven, &amp;losesInfo);</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  assert(fs == opOK || fs == opInexact);</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  (void)fs;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  words[0] = *u.convertDoubleAPFloatToAPInt().<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>();</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  <span class="comment">// If conversion was exact or resulted in a special case, we&#39;re done;</span></div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="comment">// just set the second double to zero.  Otherwise, re-convert back to</span></div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <span class="comment">// the extended format and compute the difference.  This now should</span></div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  <span class="comment">// convert exactly to double.</span></div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;  <span class="keywordflow">if</span> (u.<a class="code" href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">isFiniteNonZero</a>() &amp;&amp; losesInfo) {</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    fs = u.<a class="code" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">convert</a>(extendedSemantics, rmNearestTiesToEven, &amp;losesInfo);</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    assert(fs == opOK &amp;&amp; !losesInfo);</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    (void)fs;</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> v(extended);</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    v.<a class="code" href="classllvm_1_1APFloat.html#a7578f9a82a4ae3c7f4d2ac7cad91f24f">subtract</a>(u, rmNearestTiesToEven);</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    fs = v.<a class="code" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">convert</a>(IEEEdouble, rmNearestTiesToEven, &amp;losesInfo);</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    assert(fs == opOK &amp;&amp; !losesInfo);</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    (void)fs;</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    words[1] = *v.convertDoubleAPFloatToAPInt().<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>();</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    words[1] = 0;</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  }</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(128, words);</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;}</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a></div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;APFloat::convertQuadrupleAPFloatToAPInt()<span class="keyword"> const</span></div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEquad);</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  assert(partCount()==2);</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  uint64_t myexponent, mysignificand, mysignificand2;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    myexponent = exponent+16383; <span class="comment">//bias</span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    mysignificand = significandParts()[0];</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    mysignificand2 = significandParts()[1];</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <span class="keywordflow">if</span> (myexponent==1 &amp;&amp; !(mysignificand2 &amp; 0x1000000000000LL))</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;      myexponent = 0;   <span class="comment">// denormal</span></div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcZero) {</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    myexponent = 0;</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    mysignificand = mysignificand2 = 0;</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcInfinity) {</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    myexponent = 0x7fff;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    mysignificand = mysignificand2 = 0;</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    assert(category == fcNaN &amp;&amp; <span class="stringliteral">&quot;Unknown category!&quot;</span>);</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    myexponent = 0x7fff;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    mysignificand = significandParts()[0];</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    mysignificand2 = significandParts()[1];</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  }</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  uint64_t words[2];</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  words[0] = mysignificand;</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  words[1] = ((uint64_t)(sign &amp; 1) &lt;&lt; 63) |</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;             ((myexponent &amp; 0x7fff) &lt;&lt; 48) |</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;             (mysignificand2 &amp; 0xffffffffffffLL);</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(128, words);</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;}</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a></div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;APFloat::convertDoubleAPFloatToAPInt()<span class="keyword"> const</span></div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEdouble);</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  assert(partCount()==1);</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  uint64_t myexponent, mysignificand;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    myexponent = exponent+1023; <span class="comment">//bias</span></div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    mysignificand = *significandParts();</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    <span class="keywordflow">if</span> (myexponent==1 &amp;&amp; !(mysignificand &amp; 0x10000000000000LL))</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;      myexponent = 0;   <span class="comment">// denormal</span></div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcZero) {</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    myexponent = 0;</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    mysignificand = 0;</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcInfinity) {</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    myexponent = 0x7ff;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    mysignificand = 0;</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    assert(category == fcNaN &amp;&amp; <span class="stringliteral">&quot;Unknown category!&quot;</span>);</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    myexponent = 0x7ff;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    mysignificand = *significandParts();</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  }</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(64, ((((uint64_t)(sign &amp; 1) &lt;&lt; 63) |</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                     ((myexponent &amp; 0x7ff) &lt;&lt;  52) |</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                     (mysignificand &amp; 0xfffffffffffffLL))));</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;}</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a></div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;APFloat::convertFloatAPFloatToAPInt()<span class="keyword"> const</span></div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEsingle);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  assert(partCount()==1);</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  uint32_t myexponent, mysignificand;</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    myexponent = exponent+127; <span class="comment">//bias</span></div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    mysignificand = (uint32_t)*significandParts();</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordflow">if</span> (myexponent == 1 &amp;&amp; !(mysignificand &amp; 0x800000))</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;      myexponent = 0;   <span class="comment">// denormal</span></div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcZero) {</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    myexponent = 0;</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    mysignificand = 0;</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcInfinity) {</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    myexponent = 0xff;</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    mysignificand = 0;</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    assert(category == fcNaN &amp;&amp; <span class="stringliteral">&quot;Unknown category!&quot;</span>);</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;    myexponent = 0xff;</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    mysignificand = (uint32_t)*significandParts();</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;  }</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, (((sign&amp;1) &lt;&lt; 31) | ((myexponent&amp;0xff) &lt;&lt; 23) |</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;                    (mysignificand &amp; 0x7fffff)));</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;}</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a></div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;APFloat::convertHalfAPFloatToAPInt()<span class="keyword"> const</span></div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEhalf);</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  assert(partCount()==1);</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  uint32_t myexponent, mysignificand;</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    myexponent = exponent+15; <span class="comment">//bias</span></div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    mysignificand = (uint32_t)*significandParts();</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    <span class="keywordflow">if</span> (myexponent == 1 &amp;&amp; !(mysignificand &amp; 0x400))</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      myexponent = 0;   <span class="comment">// denormal</span></div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcZero) {</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    myexponent = 0;</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    mysignificand = 0;</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==fcInfinity) {</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    myexponent = 0x1f;</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    mysignificand = 0;</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    assert(category == fcNaN &amp;&amp; <span class="stringliteral">&quot;Unknown category!&quot;</span>);</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    myexponent = 0x1f;</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    mysignificand = (uint32_t)*significandParts();</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  }</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>(16, (((sign&amp;1) &lt;&lt; 15) | ((myexponent&amp;0x1f) &lt;&lt; 10) |</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;                    (mysignificand &amp; 0x3ff)));</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;}</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;<span class="comment">// This function creates an APInt that is just a bit map of the floating</span></div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<span class="comment">// point constant as it would appear in memory.  It is not a conversion,</span></div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<span class="comment">// and treating the result as a normal integer is unlikely to be useful.</span></div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<a class="code" href="classllvm_1_1APInt.html">APInt</a></div><div class="line"><a name="l03050"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ae98bca797c2e2ea2fb639935b01da1ae"> 3050</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#ae98bca797c2e2ea2fb639935b01da1ae">APFloat::bitcastToAPInt</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  <span class="keywordflow">if</span> (semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEhalf)</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <span class="keywordflow">return</span> convertHalfAPFloatToAPInt();</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordflow">if</span> (semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEsingle)</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <span class="keywordflow">return</span> convertFloatAPFloatToAPInt();</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  <span class="keywordflow">if</span> (semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEdouble)</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    <span class="keywordflow">return</span> convertDoubleAPFloatToAPInt();</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  <span class="keywordflow">if</span> (semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEquad)</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">return</span> convertQuadrupleAPFloatToAPInt();</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  <span class="keywordflow">if</span> (semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;PPCDoubleDouble)</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="keywordflow">return</span> convertPPCDoubleDoubleAPFloatToAPInt();</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;x87DoubleExtended &amp;&amp;</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;         <span class="stringliteral">&quot;unknown format!&quot;</span>);</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;  <span class="keywordflow">return</span> convertF80LongDoubleAPFloatToAPInt();</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;}</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<span class="keywordtype">float</span></div><div class="line"><a name="l03073"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a6ff0b1a4e71ed8e1612ef4dc158a31bd"> 3073</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a6ff0b1a4e71ed8e1612ef4dc158a31bd">APFloat::convertToFloat</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEsingle &amp;&amp;</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;         <span class="stringliteral">&quot;Float semantics are not IEEEsingle&quot;</span>);</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> api = bitcastToAPInt();</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="keywordflow">return</span> api.<a class="code" href="classllvm_1_1APInt.html#a26647e6f12a673e00ae384054897ca85">bitsToFloat</a>();</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;}</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;<span class="keywordtype">double</span></div><div class="line"><a name="l03082"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ac1d22ff29d33e8d6d7dc8103adf696bf"> 3082</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#ac1d22ff29d33e8d6d7dc8103adf696bf">APFloat::convertToDouble</a>()<span class="keyword"> const</span></div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  assert(semantics == (<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a>*)&amp;IEEEdouble &amp;&amp;</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;         <span class="stringliteral">&quot;Float semantics are not IEEEdouble&quot;</span>);</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> api = bitcastToAPInt();</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="keywordflow">return</span> api.<a class="code" href="classllvm_1_1APInt.html#a95a104def8fd1339c19655ac95f4811e">bitsToDouble</a>();</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;}</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;<span class="comment">/// Integer bit is explicit in this format.  Intel hardware (387 and later)</span></div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;<span class="comment">/// does not support these bit patterns:</span></div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;<span class="comment">///  exponent = all 1&#39;s, integer bit 0, significand 0 (&quot;pseudoinfinity&quot;)</span></div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;<span class="comment">///  exponent = all 1&#39;s, integer bit 0, significand nonzero (&quot;pseudoNaN&quot;)</span></div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;<span class="comment">///  exponent = 0, integer bit 1 (&quot;pseudodenormal&quot;)</span></div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;<span class="comment">///  exponent!=0 nor all 1&#39;s, integer bit 0 (&quot;unnormal&quot;)</span></div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;<span class="comment">/// At the moment, the first two are treated as NaNs, the second two as Normal.</span></div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;<span class="comment"></span><span class="keywordtype">void</span></div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;APFloat::initFromF80LongDoubleAPInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;api)</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;{</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  assert(api.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()==80);</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  uint64_t i1 = api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>()[0];</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  uint64_t i2 = api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>()[1];</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  uint64_t myexponent = (i2 &amp; 0x7fff);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  uint64_t mysignificand = i1;</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;APFloat::x87DoubleExtended);</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  assert(partCount()==2);</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  sign = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(i2&gt;&gt;15);</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <span class="keywordflow">if</span> (myexponent==0 &amp;&amp; mysignificand==0) {</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    category = fcZero;</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x7fff &amp;&amp; mysignificand==0x8000000000000000ULL) {</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x7fff &amp;&amp; mysignificand!=0x8000000000000000ULL) {</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="comment">// exponent meaningless</span></div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    category = fcNaN;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    significandParts()[0] = mysignificand;</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    significandParts()[1] = 0;</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    category = fcNormal;</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    exponent = myexponent - 16383;</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    significandParts()[0] = mysignificand;</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    significandParts()[1] = 0;</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">if</span> (myexponent==0)          <span class="comment">// denormal</span></div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      exponent = -16382;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  }</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;}</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;APFloat::initFromPPCDoubleDoubleAPInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;api)</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;{</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  assert(api.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()==128);</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  uint64_t i1 = api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>()[0];</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  uint64_t i2 = api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>()[1];</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> fs;</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="keywordtype">bool</span> losesInfo;</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  <span class="comment">// Get the first double and convert to our format.</span></div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  initFromDoubleAPInt(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(64, i1));</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  fs = convert(PPCDoubleDouble, rmNearestTiesToEven, &amp;losesInfo);</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  assert(fs == opOK &amp;&amp; !losesInfo);</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  (void)fs;</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  <span class="comment">// Unless we have a special case, add in second double.</span></div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  <span class="keywordflow">if</span> (isFiniteNonZero()) {</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> v(IEEEdouble, <a class="code" href="classllvm_1_1APInt.html">APInt</a>(64, i2));</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    fs = v.<a class="code" href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">convert</a>(PPCDoubleDouble, rmNearestTiesToEven, &amp;losesInfo);</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    assert(fs == opOK &amp;&amp; !losesInfo);</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    (void)fs;</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;    <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">add</a>(v, rmNearestTiesToEven);</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;  }</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;}</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;APFloat::initFromQuadrupleAPInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;api)</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;{</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  assert(api.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()==128);</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;  uint64_t i1 = api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>()[0];</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  uint64_t i2 = api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>()[1];</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;  uint64_t myexponent = (i2 &gt;&gt; 48) &amp; 0x7fff;</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  uint64_t mysignificand  = i1;</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  uint64_t mysignificand2 = i2 &amp; 0xffffffffffffLL;</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;APFloat::IEEEquad);</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  assert(partCount()==2);</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  sign = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(i2&gt;&gt;63);</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  <span class="keywordflow">if</span> (myexponent==0 &amp;&amp;</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      (mysignificand==0 &amp;&amp; mysignificand2==0)) {</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    category = fcZero;</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x7fff &amp;&amp;</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;             (mysignificand==0 &amp;&amp; mysignificand2==0)) {</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x7fff &amp;&amp;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;             (mysignificand!=0 || mysignificand2 !=0)) {</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="comment">// exponent meaningless</span></div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    category = fcNaN;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    significandParts()[0] = mysignificand;</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    significandParts()[1] = mysignificand2;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    category = fcNormal;</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    exponent = myexponent - 16383;</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    significandParts()[0] = mysignificand;</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    significandParts()[1] = mysignificand2;</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="keywordflow">if</span> (myexponent==0)          <span class="comment">// denormal</span></div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      exponent = -16382;</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;      significandParts()[1] |= 0x1000000000000LL;  <span class="comment">// integer bit</span></div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  }</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;}</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;APFloat::initFromDoubleAPInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;api)</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;{</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  assert(api.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()==64);</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  uint64_t <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = *api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>();</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  uint64_t myexponent = (i &gt;&gt; 52) &amp; 0x7ff;</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  uint64_t mysignificand = i &amp; 0xfffffffffffffLL;</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;APFloat::IEEEdouble);</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  assert(partCount()==1);</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  sign = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(i&gt;&gt;63);</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  <span class="keywordflow">if</span> (myexponent==0 &amp;&amp; mysignificand==0) {</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    category = fcZero;</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x7ff &amp;&amp; mysignificand==0) {</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x7ff &amp;&amp; mysignificand!=0) {</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="comment">// exponent meaningless</span></div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    category = fcNaN;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    *significandParts() = mysignificand;</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    category = fcNormal;</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    exponent = myexponent - 1023;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    *significandParts() = mysignificand;</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">if</span> (myexponent==0)          <span class="comment">// denormal</span></div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      exponent = -1022;</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;      *significandParts() |= 0x10000000000000LL;  <span class="comment">// integer bit</span></div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;  }</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;}</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;APFloat::initFromFloatAPInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp; api)</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;{</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;  assert(api.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()==32);</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  uint32_t <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = (uint32_t)*api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>();</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;  uint32_t myexponent = (i &gt;&gt; 23) &amp; 0xff;</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  uint32_t mysignificand = i &amp; 0x7fffff;</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;APFloat::IEEEsingle);</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  assert(partCount()==1);</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  sign = i &gt;&gt; 31;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  <span class="keywordflow">if</span> (myexponent==0 &amp;&amp; mysignificand==0) {</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    category = fcZero;</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0xff &amp;&amp; mysignificand==0) {</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0xff &amp;&amp; mysignificand!=0) {</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    <span class="comment">// sign, exponent, significand meaningless</span></div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    category = fcNaN;</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    *significandParts() = mysignificand;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    category = fcNormal;</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    exponent = myexponent - 127;  <span class="comment">//bias</span></div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    *significandParts() = mysignificand;</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    <span class="keywordflow">if</span> (myexponent==0)    <span class="comment">// denormal</span></div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;      exponent = -126;</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;      *significandParts() |= 0x800000; <span class="comment">// integer bit</span></div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  }</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;}</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;APFloat::initFromHalfAPInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp; api)</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;{</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  assert(api.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()==16);</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  uint32_t <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = (uint32_t)*api.<a class="code" href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">getRawData</a>();</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  uint32_t myexponent = (i &gt;&gt; 10) &amp; 0x1f;</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  uint32_t mysignificand = i &amp; 0x3ff;</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a>(&amp;APFloat::IEEEhalf);</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;  assert(partCount()==1);</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  sign = i &gt;&gt; 15;</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  <span class="keywordflow">if</span> (myexponent==0 &amp;&amp; mysignificand==0) {</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    category = fcZero;</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x1f &amp;&amp; mysignificand==0) {</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="comment">// exponent, significand meaningless</span></div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    category = fcInfinity;</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myexponent==0x1f &amp;&amp; mysignificand!=0) {</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <span class="comment">// sign, exponent, significand meaningless</span></div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    category = fcNaN;</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    *significandParts() = mysignificand;</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    category = fcNormal;</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    exponent = myexponent - 15;  <span class="comment">//bias</span></div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    *significandParts() = mysignificand;</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    <span class="keywordflow">if</span> (myexponent==0)    <span class="comment">// denormal</span></div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;      exponent = -14;</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;      *significandParts() |= 0x400; <span class="comment">// integer bit</span></div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;  }</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;}</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;<span class="comment">/// Treat api as containing the bits of a floating point number.  Currently</span></div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;<span class="comment">/// we infer the floating point type from the size of the APInt.  The</span></div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;<span class="comment">/// isIEEE argument distinguishes between PPC128 and IEEE128 (not meaningful</span></div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;<span class="comment">/// when the size is anything else).</span></div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;<span class="comment"></span><span class="keywordtype">void</span></div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;APFloat::initFromAPInt(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a>* Sem, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>&amp; api)</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;{</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;  <span class="keywordflow">if</span> (Sem == &amp;IEEEhalf)</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <span class="keywordflow">return</span> initFromHalfAPInt(api);</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  <span class="keywordflow">if</span> (Sem == &amp;IEEEsingle)</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <span class="keywordflow">return</span> initFromFloatAPInt(api);</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;  <span class="keywordflow">if</span> (Sem == &amp;IEEEdouble)</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <span class="keywordflow">return</span> initFromDoubleAPInt(api);</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  <span class="keywordflow">if</span> (Sem == &amp;x87DoubleExtended)</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    <span class="keywordflow">return</span> initFromF80LongDoubleAPInt(api);</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;  <span class="keywordflow">if</span> (Sem == &amp;IEEEquad)</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;    <span class="keywordflow">return</span> initFromQuadrupleAPInt(api);</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;  <span class="keywordflow">if</span> (Sem == &amp;PPCDoubleDouble)</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <span class="keywordflow">return</span> initFromPPCDoubleDoubleAPInt(api);</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(0);</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;}</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;<a class="code" href="classllvm_1_1APFloat.html">APFloat</a></div><div class="line"><a name="l03320"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a41aedbd16f8e4389c1bcf0ce4331ff2c"> 3320</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a41aedbd16f8e4389c1bcf0ce4331ff2c">APFloat::getAllOnesValue</a>(<span class="keywordtype">unsigned</span> BitWidth, <span class="keywordtype">bool</span> isIEEE)</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;{</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;  <span class="keywordflow">switch</span> (BitWidth) {</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(IEEEhalf, <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth));</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(IEEEsingle, <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth));</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <span class="keywordflow">case</span> 64:</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(IEEEdouble, <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth));</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  <span class="keywordflow">case</span> 80:</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(x87DoubleExtended, <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth));</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  <span class="keywordflow">case</span> 128:</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="keywordflow">if</span> (isIEEE)</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(IEEEquad, <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth));</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(PPCDoubleDouble, <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth));</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown floating bit width&quot;</span>);</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;  }</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;}</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;<span class="comment">/// Make this number the largest magnitude normal number in the given</span></div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;<span class="comment">/// semantics.</span></div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> APFloat::makeLargest(<span class="keywordtype">bool</span> Negative) {</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="comment">// We want (in interchange format):</span></div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <span class="comment">//   sign = {Negative}</span></div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  <span class="comment">//   exponent = 1..10</span></div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <span class="comment">//   significand = 1..1</span></div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  category = fcNormal;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  sign = Negative;</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  exponent = semantics-&gt;maxExponent;</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="comment">// Use memset to set all but the highest integerPart to all ones.</span></div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *significand = significandParts();</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <span class="keywordtype">unsigned</span> PartCount = partCount();</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a>(significand, 0xFF, <span class="keyword">sizeof</span>(<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>)*(PartCount - 1));</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <span class="comment">// Set the high integerPart especially setting all unused top bits for</span></div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  <span class="comment">// internal consistency.</span></div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumUnusedHighBits =</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    PartCount*<a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a> - semantics-&gt;precision;</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;  significand[PartCount - 1] = ~<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>(0) &gt;&gt; NumUnusedHighBits;</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;}</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;<span class="comment">/// Make this number the smallest magnitude denormal number in the given</span></div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="comment">/// semantics.</span></div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> APFloat::makeSmallest(<span class="keywordtype">bool</span> Negative) {</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="comment">// We want (in interchange format):</span></div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <span class="comment">//   sign = {Negative}</span></div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;  <span class="comment">//   exponent = 0..0</span></div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;  <span class="comment">//   significand = 0..01</span></div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  category = fcNormal;</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;  sign = Negative;</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;  exponent = semantics-&gt;minExponent;</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(significandParts(), 1, partCount());</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;}</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;</div><div class="line"><a name="l03377"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a47879d3bac8e6a9275edc165c65b433d"> 3377</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html">APFloat</a> <a class="code" href="classllvm_1_1APFloat.html#a47879d3bac8e6a9275edc165c65b433d">APFloat::getLargest</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;Sem, <span class="keywordtype">bool</span> Negative) {</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  <span class="comment">// We want (in interchange format):</span></div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;  <span class="comment">//   sign = {Negative}</span></div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <span class="comment">//   exponent = 1..10</span></div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;  <span class="comment">//   significand = 1..1</span></div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> Val(Sem, uninitialized);</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;  Val.makeLargest(Negative);</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;}</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;</div><div class="line"><a name="l03387"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ac24627a51fbb0552438075ccf42dc433"> 3387</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html">APFloat</a> <a class="code" href="classllvm_1_1APFloat.html#ac24627a51fbb0552438075ccf42dc433">APFloat::getSmallest</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;Sem, <span class="keywordtype">bool</span> Negative) {</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  <span class="comment">// We want (in interchange format):</span></div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  <span class="comment">//   sign = {Negative}</span></div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;  <span class="comment">//   exponent = 0..0</span></div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;  <span class="comment">//   significand = 0..01</span></div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> Val(Sem, uninitialized);</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;  Val.makeSmallest(Negative);</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;  <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;}</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;</div><div class="line"><a name="l03397"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#adfee76ed5e20f77cbcfe297df31b9cda"> 3397</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html">APFloat</a> <a class="code" href="classllvm_1_1APFloat.html#adfee76ed5e20f77cbcfe297df31b9cda">APFloat::getSmallestNormalized</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;Sem, <span class="keywordtype">bool</span> Negative) {</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> Val(Sem, uninitialized);</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;  <span class="comment">// We want (in interchange format):</span></div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;  <span class="comment">//   sign = {Negative}</span></div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;  <span class="comment">//   exponent = 0..0</span></div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;  <span class="comment">//   significand = 10..0</span></div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;  Val.category = fcNormal;</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;  Val.zeroSignificand();</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  Val.sign = Negative;</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  Val.exponent = Sem.<a class="code" href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">minExponent</a>;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;  Val.significandParts()[<a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(Sem.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a>)-1] |=</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    (((<a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a>) 1) &lt;&lt; ((Sem.<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - 1) % <a class="code" href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">integerPartWidth</a>));</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;}</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;</div><div class="line"><a name="l03415"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#aa248fcb5c31a5df6d66d52b473d8e3e2"> 3415</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1fltSemantics.html">fltSemantics</a> &amp;Sem, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;API) {</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;  initFromAPInt(&amp;Sem, API);</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;}</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;</div><div class="line"><a name="l03419"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a8eb8b7d4e5c002956e110ddb7499a557"> 3419</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keywordtype">float</span> <a class="code" href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a>) {</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  initFromAPInt(&amp;IEEEsingle, <a class="code" href="classllvm_1_1APInt.html#a6526582b9bb4a0c7eda6ce48fed915b0">APInt::floatToBits</a>(f));</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;}</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;</div><div class="line"><a name="l03423"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a43130e11bf73da2790526bb78a5f1307"> 3423</a></span>&#160;<a class="code" href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">APFloat::APFloat</a>(<span class="keywordtype">double</span> <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>) {</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  initFromAPInt(&amp;IEEEdouble, <a class="code" href="classllvm_1_1APInt.html#a3410bf65fe73ab24b00d19523bb895d9">APInt::doubleToBits</a>(d));</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;}</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">append</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;char&gt;</a> &amp;Buffer, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Str) {</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    Buffer.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(Str.<a class="code" href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">begin</a>(), Str.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>());</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  }</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;<span class="comment">  /// Removes data from the given significand until it is no more</span></div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;<span class="comment">  /// precise than is required for the desired precision.</span></div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> AdjustToPrecision(<a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;significand,</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                         <span class="keywordtype">int</span> &amp;exp, <span class="keywordtype">unsigned</span> FormatPrecision) {</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <span class="keywordtype">unsigned</span> bits = significand.<a class="code" href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">getActiveBits</a>();</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    <span class="comment">// 196/59 is a very slight overestimate of lg_2(10).</span></div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <span class="keywordtype">unsigned</span> bitsRequired = (FormatPrecision * 196 + 58) / 59;</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keywordflow">if</span> (bits &lt;= bitsRequired) <span class="keywordflow">return</span>;</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <span class="keywordtype">unsigned</span> tensRemovable = (bits - bitsRequired) * 59 / 196;</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <span class="keywordflow">if</span> (!tensRemovable) <span class="keywordflow">return</span>;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    exp += tensRemovable;</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> divisor(significand.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), 1);</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> powten(significand.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), 10);</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;      <span class="keywordflow">if</span> (tensRemovable &amp; 1)</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;        divisor *= powten;</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;      tensRemovable &gt;&gt;= 1;</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;      <span class="keywordflow">if</span> (!tensRemovable) <span class="keywordflow">break</span>;</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;      powten *= powten;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    }</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    significand = significand.<a class="code" href="classllvm_1_1APInt.html#a793f3a97421b79af6bab764524a9b532">udiv</a>(divisor);</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="comment">// Truncate the significand down to its active bit count.</span></div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    significand = significand.<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(significand.<a class="code" href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">getActiveBits</a>());</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  }</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  <span class="keywordtype">void</span> AdjustToPrecision(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;char&gt;</a> &amp;buffer,</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;                         <span class="keywordtype">int</span> &amp;exp, <span class="keywordtype">unsigned</span> FormatPrecision) {</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = buffer.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    <span class="keywordflow">if</span> (N &lt;= FormatPrecision) <span class="keywordflow">return</span>;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <span class="comment">// The most significant figures are the last ones in the buffer.</span></div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <span class="keywordtype">unsigned</span> FirstSignificant = N - FormatPrecision;</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="comment">// Round.</span></div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <span class="comment">// FIXME: this probably shouldn&#39;t use &#39;round half up&#39;.</span></div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="comment">// Rounding down is just a truncation, except we also want to drop</span></div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <span class="comment">// trailing zeros from the new result.</span></div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <span class="keywordflow">if</span> (buffer[FirstSignificant - 1] &lt; <span class="charliteral">&#39;5&#39;</span>) {</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;      <span class="keywordflow">while</span> (FirstSignificant &lt; N &amp;&amp; buffer[FirstSignificant] == <span class="charliteral">&#39;0&#39;</span>)</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;        FirstSignificant++;</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;      exp += FirstSignificant;</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;      buffer.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(&amp;buffer[0], &amp;buffer[FirstSignificant]);</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    }</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <span class="comment">// Rounding up requires a decimal add-with-carry.  If we continue</span></div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="comment">// the carry, the newly-introduced zeros will just be truncated.</span></div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FirstSignificant; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;      <span class="keywordflow">if</span> (buffer[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="charliteral">&#39;9&#39;</span>) {</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        FirstSignificant++;</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        buffer[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]++;</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      }</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    }</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="comment">// If we carried through, we have exactly one digit of precision.</span></div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    <span class="keywordflow">if</span> (FirstSignificant == N) {</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;      exp += FirstSignificant;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;      buffer.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;      buffer.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;1&#39;</span>);</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    }</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    exp += FirstSignificant;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    buffer.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(&amp;buffer[0], &amp;buffer[FirstSignificant]);</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  }</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;}</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;</div><div class="line"><a name="l03511"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#aeefbcd393327313a3362c68baa91f536"> 3511</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1APFloat.html#aeefbcd393327313a3362c68baa91f536">APFloat::toString</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;char&gt;</a> &amp;Str,</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;                       <span class="keywordtype">unsigned</span> FormatPrecision,</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;                       <span class="keywordtype">unsigned</span> FormatMaxPadding)<span class="keyword"> const </span>{</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  <span class="keywordflow">switch</span> (category) {</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;  <span class="keywordflow">case</span> fcInfinity:</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="keywordflow">if</span> (isNegative())</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">append</a>(Str, <span class="stringliteral">&quot;-Inf&quot;</span>);</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">append</a>(Str, <span class="stringliteral">&quot;+Inf&quot;</span>);</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  <span class="keywordflow">case</span> fcNaN: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">append</a>(Str, <span class="stringliteral">&quot;NaN&quot;</span>);</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  <span class="keywordflow">case</span> fcZero:</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    <span class="keywordflow">if</span> (isNegative())</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    <span class="keywordflow">if</span> (!FormatMaxPadding)</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;      <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">append</a>(Str, <span class="stringliteral">&quot;0.0E+0&quot;</span>);</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;  <span class="keywordflow">case</span> fcNormal:</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  }</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;  <span class="keywordflow">if</span> (isNegative())</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;  <span class="comment">// Decompose the number into an APInt and an exponent.</span></div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  <span class="keywordtype">int</span> exp = exponent - ((<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>) semantics-&gt;precision - 1);</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> significand(semantics-&gt;precision,</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;                    <a class="code" href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">makeArrayRef</a>(significandParts(),</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;                                 <a class="code" href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a>(semantics-&gt;precision)));</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  <span class="comment">// Set FormatPrecision if zero.  We want to do this before we</span></div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;  <span class="comment">// truncate trailing zeros, as those are part of the precision.</span></div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  <span class="keywordflow">if</span> (!FormatPrecision) {</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    <span class="comment">// We use enough digits so the number can be round-tripped back to an</span></div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <span class="comment">// APFloat. The formula comes from &quot;How to Print Floating-Point Numbers</span></div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="comment">// Accurately&quot; by Steele and White.</span></div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <span class="comment">// FIXME: Using a formula based purely on the precision is conservative;</span></div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <span class="comment">// we can print fewer digits depending on the actual value being printed.</span></div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <span class="comment">// FormatPrecision = 2 + floor(significandBits / lg_2(10))</span></div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    FormatPrecision = 2 + semantics-&gt;precision * 59 / 196;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  }</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  <span class="comment">// Ignore trailing binary zeros.</span></div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;  <span class="keywordtype">int</span> trailingZeros = significand.<a class="code" href="classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">countTrailingZeros</a>();</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  exp += trailingZeros;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  significand = significand.<a class="code" href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">lshr</a>(trailingZeros);</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="comment">// Change the exponent from 2^e to 10^e.</span></div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <span class="keywordflow">if</span> (exp == 0) {</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <span class="comment">// Nothing to do.</span></div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (exp &gt; 0) {</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <span class="comment">// Just shift left.</span></div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    significand = significand.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(semantics-&gt;precision + exp);</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    significand &lt;&lt;= <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa3d4911fd70a787382c691646d119ff4">exp</a>;</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    exp = 0;</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  } <span class="keywordflow">else</span> { <span class="comment">/* exp &lt; 0 */</span></div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <span class="keywordtype">int</span> texp = -<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa3d4911fd70a787382c691646d119ff4">exp</a>;</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <span class="comment">// We transform this using the identity:</span></div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    <span class="comment">//   (N)(2^-e) == (N)(5^e)(10^-e)</span></div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <span class="comment">// This means we have to multiply N (the significand) by 5^e.</span></div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <span class="comment">// To avoid overflow, we have to operate on numbers large</span></div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    <span class="comment">// enough to store N * 5^e:</span></div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    <span class="comment">//   log2(N * 5^e) == log2(N) + e * log2(5)</span></div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <span class="comment">//                 &lt;= semantics-&gt;precision + e * 137 / 59</span></div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    <span class="comment">//   (log_2(5) ~ 2.321928 &lt; 2.322034 ~ 137/59)</span></div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> = semantics-&gt;precision + (137 * texp + 136) / 59;</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="comment">// Multiply significand by 5^e.</span></div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    <span class="comment">//   N * 5^0101 == N * 5^(1*1) * 5^(0*2) * 5^(1*4) * 5^(0*8)</span></div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    significand = significand.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(precision);</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> five_to_the_i(precision, 5);</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;      <span class="keywordflow">if</span> (texp &amp; 1) significand *= five_to_the_i;</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;      texp &gt;&gt;= 1;</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;      <span class="keywordflow">if</span> (!texp) <span class="keywordflow">break</span>;</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;      five_to_the_i *= five_to_the_i;</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    }</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;  }</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;  AdjustToPrecision(significand, exp, FormatPrecision);</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;char, 256&gt;</a> buffer;</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <span class="comment">// Fill the buffer.</span></div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> = significand.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> ten(precision, 10);</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> digit(precision, 0);</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <span class="keywordtype">bool</span> inTrail = <span class="keyword">true</span>;</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <span class="keywordflow">while</span> (significand != 0) {</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="comment">// digit &lt;- significand % 10</span></div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    <span class="comment">// significand &lt;- significand / 10</span></div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    <a class="code" href="classllvm_1_1APInt.html#a0f0a665210e453bb16b4bf1861dbdd58">APInt::udivrem</a>(significand, ten, significand, digit);</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a> = digit.<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>();</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    <span class="comment">// Drop trailing zeros.</span></div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="keywordflow">if</span> (inTrail &amp;&amp; !d) exp++;</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;      buffer.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>((<span class="keywordtype">char</span>) (<span class="charliteral">&#39;0&#39;</span> + d));</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;      inTrail = <span class="keyword">false</span>;</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;    }</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;  }</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  assert(!buffer.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; <span class="stringliteral">&quot;no characters in buffer!&quot;</span>);</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;  <span class="comment">// Drop down to FormatPrecision.</span></div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <span class="comment">// TODO: don&#39;t do more precise calculations above than are required.</span></div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  AdjustToPrecision(buffer, exp, FormatPrecision);</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <span class="keywordtype">unsigned</span> NDigits = buffer.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;  <span class="comment">// Check whether we should use scientific notation.</span></div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  <span class="keywordtype">bool</span> FormatScientific;</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  <span class="keywordflow">if</span> (!FormatMaxPadding)</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    FormatScientific = <span class="keyword">true</span>;</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    <span class="keywordflow">if</span> (exp &gt;= 0) {</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;      <span class="comment">// 765e3 --&gt; 765000</span></div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;      <span class="comment">//              ^^^</span></div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;      <span class="comment">// But we shouldn&#39;t make the number look more precise than it is.</span></div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      FormatScientific = ((unsigned) exp &gt; FormatMaxPadding ||</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;                          NDigits + (<span class="keywordtype">unsigned</span>) exp &gt; FormatPrecision);</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      <span class="comment">// Power of the most significant digit.</span></div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      <span class="keywordtype">int</span> MSD = exp + (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>) (NDigits - 1);</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;      <span class="keywordflow">if</span> (MSD &gt;= 0) {</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;        <span class="comment">// 765e-2 == 7.65</span></div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;        FormatScientific = <span class="keyword">false</span>;</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;        <span class="comment">// 765e-5 == 0.00765</span></div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;        <span class="comment">//           ^ ^^</span></div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;        FormatScientific = ((unsigned) -MSD) &gt; FormatMaxPadding;</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;      }</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    }</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  }</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <span class="comment">// Scientific formatting is pretty straightforward.</span></div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <span class="keywordflow">if</span> (FormatScientific) {</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    exp += (NDigits - 1);</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(buffer[NDigits-1]);</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keywordflow">if</span> (NDigits == 1)</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != NDigits; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;        Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(buffer[NDigits-1-<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;E&#39;</span>);</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(exp &gt;= 0 ? <span class="charliteral">&#39;+&#39;</span> : <span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <span class="keywordflow">if</span> (exp &lt; 0) exp = -<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa3d4911fd70a787382c691646d119ff4">exp</a>;</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;char, 6&gt;</a> expbuf;</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;      expbuf.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>((<span class="keywordtype">char</span>) (<span class="charliteral">&#39;0&#39;</span> + (exp % 10)));</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;      exp /= 10;</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    } <span class="keywordflow">while</span> (exp);</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, E = expbuf.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(expbuf[E-1-<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;  }</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  <span class="comment">// Non-scientific, positive exponents.</span></div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="keywordflow">if</span> (exp &gt;= 0) {</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != NDigits; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(buffer[NDigits-1-<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != (unsigned) exp; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  }</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  <span class="comment">// Non-scientific, negative exponents.</span></div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="comment">// The number of digits to the left of the decimal point.</span></div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="keywordtype">int</span> NWholeDigits = exp + (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>) NDigits;</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0;</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <span class="keywordflow">if</span> (NWholeDigits &gt; 0) {</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    <span class="keywordflow">for</span> (; I != (unsigned) NWholeDigits; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(buffer[NDigits-I-1]);</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <span class="keywordtype">unsigned</span> NZeros = 1 + (unsigned) -NWholeDigits;</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Z = 1; Z != NZeros; ++Z)</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;      Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  }</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  <span class="keywordflow">for</span> (; I != NDigits; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    Str.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(buffer[NDigits-I-1]);</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;}</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;</div><div class="line"><a name="l03714"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#ae05012c5159493832065a06aecc4f954"> 3714</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1APFloat.html#ae05012c5159493832065a06aecc4f954">APFloat::getExactInverse</a>(<a class="code" href="classllvm_1_1APFloat.html">APFloat</a> *inv)<span class="keyword"> const </span>{</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;  <span class="comment">// Special floats and denormals have no exact inverse.</span></div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  <span class="keywordflow">if</span> (!isFiniteNonZero())</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="comment">// Check that the number is a power of two by making sure that only the</span></div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  <span class="comment">// integer bit is set in the significand.</span></div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  <span class="keywordflow">if</span> (significandLSB() != semantics-&gt;precision - 1)</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <span class="comment">// Get the inverse.</span></div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html">APFloat</a> reciprocal(*semantics, 1ULL);</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  <span class="keywordflow">if</span> (reciprocal.<a class="code" href="classllvm_1_1APFloat.html#a7b22f406d0d5381bae105045caca60ea">divide</a>(*<span class="keyword">this</span>, rmNearestTiesToEven) != opOK)</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  <span class="comment">// Avoid multiplication with a denormal, it is not safe on all platforms and</span></div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  <span class="comment">// may be slower than a normal division.</span></div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  <span class="keywordflow">if</span> (reciprocal.<a class="code" href="classllvm_1_1APFloat.html#ad2c475a7d583b7e5e3fdb6ea6ae1fec5">isDenormal</a>())</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  assert(reciprocal.<a class="code" href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">isFiniteNonZero</a>() &amp;&amp;</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;         reciprocal.significandLSB() == reciprocal.semantics-&gt;<a class="code" href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">precision</a> - 1);</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  <span class="keywordflow">if</span> (inv)</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    *inv = reciprocal;</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;}</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;</div><div class="line"><a name="l03743"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a9e54f2f570302df07b9f00a11b9368a2"> 3743</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1APFloat.html#a9e54f2f570302df07b9f00a11b9368a2">APFloat::isSignaling</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  <span class="keywordflow">if</span> (!isNaN())</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="comment">// IEEE-754R 2008 6.2.1: A signaling NaN bit string should be encoded with the</span></div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  <span class="comment">// first bit of the trailing significand being 0.</span></div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">APInt::tcExtractBit</a>(significandParts(), semantics-&gt;precision - 2);</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;}</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;<span class="comment">/// IEEE-754R 2008 5.3.1: nextUp/nextDown.</span></div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;<span class="comment">/// *NOTE* since nextDown(x) = -nextUp(-x), we only implement nextUp with</span></div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;<span class="comment">/// appropriate sign switching before/after the computation.</span></div><div class="line"><a name="l03756"></a><span class="lineno"><a class="line" href="classllvm_1_1APFloat.html#a5596e1b418241306e4394dedd7c92117"> 3756</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">APFloat::opStatus</a> <a class="code" href="classllvm_1_1APFloat.html#a5596e1b418241306e4394dedd7c92117">APFloat::next</a>(<span class="keywordtype">bool</span> nextDown) {</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <span class="comment">// If we are performing nextDown, swap sign so we have -x.</span></div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  <span class="keywordflow">if</span> (nextDown)</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    changeSign();</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <span class="comment">// Compute nextUp(x)</span></div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;  <a class="code" href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">opStatus</a> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a> = opOK;</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;  <span class="comment">// Handle each float category separately.</span></div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <span class="keywordflow">switch</span> (category) {</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="keywordflow">case</span> fcInfinity:</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <span class="comment">// nextUp(+inf) = +inf</span></div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="keywordflow">if</span> (!isNegative())</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <span class="comment">// nextUp(-inf) = -getLargest()</span></div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    makeLargest(<span class="keyword">true</span>);</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  <span class="keywordflow">case</span> fcNaN:</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <span class="comment">// IEEE-754R 2008 6.2 Par 2: nextUp(sNaN) = qNaN. Set Invalid flag.</span></div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <span class="comment">// IEEE-754R 2008 6.2: nextUp(qNaN) = qNaN. Must be identity so we do not</span></div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    <span class="comment">//                     change the payload.</span></div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    <span class="keywordflow">if</span> (isSignaling()) {</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;      result = opInvalidOp;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;      <span class="comment">// For consistency, propogate the sign of the sNaN to the qNaN.</span></div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;      makeNaN(<span class="keyword">false</span>, isNegative(), 0);</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    }</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <span class="keywordflow">case</span> fcZero:</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    <span class="comment">// nextUp(pm 0) = +getSmallest()</span></div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    makeSmallest(<span class="keyword">false</span>);</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;  <span class="keywordflow">case</span> fcNormal:</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    <span class="comment">// nextUp(-getSmallest()) = -0</span></div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;    <span class="keywordflow">if</span> (isSmallest() &amp;&amp; isNegative()) {</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(significandParts(), 0, partCount());</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;      category = fcZero;</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;      exponent = 0;</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    }</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <span class="comment">// nextUp(getLargest()) == INFINITY</span></div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="keywordflow">if</span> (isLargest() &amp;&amp; !isNegative()) {</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(significandParts(), 0, partCount());</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;      category = fcInfinity;</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      exponent = semantics-&gt;maxExponent + 1;</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    }</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    <span class="comment">// nextUp(normal) == normal + inc.</span></div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <span class="keywordflow">if</span> (isNegative()) {</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;      <span class="comment">// If we are negative, we need to decrement the significand.</span></div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;      <span class="comment">// We only cross a binade boundary that requires adjusting the exponent</span></div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;      <span class="comment">// if:</span></div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;      <span class="comment">//   1. exponent != semantics-&gt;minExponent. This implies we are not in the</span></div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      <span class="comment">//   smallest binade or are dealing with denormals.</span></div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;      <span class="comment">//   2. Our significand excluding the integral bit is all zeros.</span></div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;      <span class="keywordtype">bool</span> WillCrossBinadeBoundary =</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;        exponent != semantics-&gt;minExponent &amp;&amp; isSignificandAllZeros();</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      <span class="comment">// Decrement the significand.</span></div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;      <span class="comment">// We always do this since:</span></div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;      <span class="comment">//   1. If we are dealing with a non binade decrement, by definition we</span></div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;      <span class="comment">//   just decrement the significand.</span></div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;      <span class="comment">//   2. If we are dealing with a normal -&gt; normal binade decrement, since</span></div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;      <span class="comment">//   we have an explicit integral bit the fact that all bits but the</span></div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;      <span class="comment">//   integral bit are zero implies that subtracting one will yield a</span></div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;      <span class="comment">//   significand with 0 integral bit and 1 in all other spots. Thus we</span></div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;      <span class="comment">//   must just adjust the exponent and set the integral bit to 1.</span></div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;      <span class="comment">//   3. If we are dealing with a normal -&gt; denormal binade decrement,</span></div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;      <span class="comment">//   since we set the integral bit to 0 when we represent denormals, we</span></div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;      <span class="comment">//   just decrement the significand.</span></div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;      <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *Parts = significandParts();</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;      <a class="code" href="classllvm_1_1APInt.html#a9d0152bf373031d097346dcbfe27b9db">APInt::tcDecrement</a>(Parts, partCount());</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;      <span class="keywordflow">if</span> (WillCrossBinadeBoundary) {</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;        <span class="comment">// Our result is a normal number. Do the following:</span></div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;        <span class="comment">// 1. Set the integral bit to 1.</span></div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;        <span class="comment">// 2. Decrement the exponent.</span></div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;        <a class="code" href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">APInt::tcSetBit</a>(Parts, semantics-&gt;precision - 1);</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;        exponent--;</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;      }</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;      <span class="comment">// If we are positive, we need to increment the significand.</span></div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;      <span class="comment">// We only cross a binade boundary that requires adjusting the exponent if</span></div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;      <span class="comment">// the input is not a denormal and all of said input&#39;s significand bits</span></div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;      <span class="comment">// are set. If all of said conditions are true: clear the significand, set</span></div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;      <span class="comment">// the integral bit to 1, and increment the exponent. If we have a</span></div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;      <span class="comment">// denormal always increment since moving denormals and the numbers in the</span></div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      <span class="comment">// smallest normal binade have the same exponent in our representation.</span></div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;      <span class="keywordtype">bool</span> WillCrossBinadeBoundary = !isDenormal() &amp;&amp; isSignificandAllOnes();</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;      <span class="keywordflow">if</span> (WillCrossBinadeBoundary) {</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;        <a class="code" href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">integerPart</a> *Parts = significandParts();</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;        <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(Parts, 0, partCount());</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;        <a class="code" href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">APInt::tcSetBit</a>(Parts, semantics-&gt;precision - 1);</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;        assert(exponent != semantics-&gt;maxExponent &amp;&amp;</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;               <span class="stringliteral">&quot;We can not increment an exponent beyond the maxExponent allowed&quot;</span></div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;               <span class="stringliteral">&quot; by the given floating point semantics.&quot;</span>);</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        exponent++;</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;        incrementSignificand();</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;      }</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    }</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;  }</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <span class="comment">// If we are performing nextDown, swap sign so we have -nextUp(-x)</span></div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  <span class="keywordflow">if</span> (nextDown)</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    changeSign();</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;}</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;APFloat::makeInf(<span class="keywordtype">bool</span> Negative) {</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  category = fcInfinity;</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  sign = Negative;</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  exponent = semantics-&gt;maxExponent + 1;</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(significandParts(), 0, partCount());</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;}</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;APFloat::makeZero(<span class="keywordtype">bool</span> Negative) {</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  category = fcZero;</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  sign = Negative;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  exponent = semantics-&gt;minExponent-1;</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <a class="code" href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">APInt::tcSet</a>(significandParts(), 0, partCount());  </div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;}</div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a7b22f406d0d5381bae105045caca60ea"><div class="ttname"><a href="classllvm_1_1APFloat.html#a7b22f406d0d5381bae105045caca60ea">llvm::APFloat::divide</a></div><div class="ttdeci">opStatus divide(const APFloat &amp;, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01675">APFloat.cpp:1675</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a2ba89ff853f7bb8ea4862d17326426e4"><div class="ttname"><a href="classllvm_1_1APInt.html#a2ba89ff853f7bb8ea4862d17326426e4">llvm::APInt::tcExtract</a></div><div class="ttdeci">static void tcExtract(integerPart *, unsigned int dstCount, const integerPart *, unsigned int srcBits, unsigned int srcLSB)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02422">APInt.cpp:2422</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="FoldingSet_8h_html"><div class="ttname"><a href="FoldingSet_8h.html">FoldingSet.h</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a82bd4f4b721c049035c0d86cc261eadd"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a></div><div class="ttdeci">alloca&lt; 16 x float &gt;, align 16%tmp2=alloca&lt; 16 x float &gt;, align 16 store&lt; 16 x float &gt;%A,&lt; 16 x float &gt; *%tmp%s=bitcast&lt; 16 x float &gt; *%tmp to i8 *%s2=bitcast&lt; 16 x float &gt; *%tmp2 to i8 *call void @llvm.memcpy.i64(i8 *%s, i8 *%s2, i64 64, i32 16)%R=load&lt; 16 x float &gt; *%tmp2 ret&lt; 16 x float &gt;%R}declare void @llvm.memcpy.i64(i8 *nocapture, i8 *nocapture, i64, i32) nounwind which compiles to:_foo:subl $140,%esp movaps%xmm3, 112(%esp) movaps%xmm2, 96(%esp) movaps%xmm1, 80(%esp) movaps%xmm0, 64(%esp) movl 60(%esp),%eax movl%eax, 124(%esp) movl 56(%esp),%eax movl%eax, 120(%esp) movl 52(%esp),%eax&lt; many many more 32-bit copies &gt; movaps(%esp),%xmm0 movaps 16(%esp),%xmm1 movaps 32(%esp),%xmm2 movaps 48(%esp),%xmm3 addl $140,%esp ret On Nehalem, it may even be cheaper to just use movups when unaligned than to fall back to lower-granularity chunks.Implement processor-specific optimizations for parity with GCC on these processors.GCC does two optimizations:1.ix86_pad_returns inserts a noop before ret instructions if immediately preceded by a conditional branch or is the target of a jump.2.ix86_avoid_jump_misspredicts inserts noops in cases where a 16-byte block of code contains more than 3 branches.The first one is done for all AMDs, Core2, and&quot;Generic&quot;The second one is done for:Atom, Pentium Pro, all AMDs, Pentium 4, Nocona, Core 2, and&quot;Generic&quot;Testcase:int x(int a){return(a &amp;0xf0)&gt;&gt;4 tmp</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01572">Target/X86/README.txt:1572</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a539bdb4fdbf46e0bfcefebf5ac6d21dd"><div class="ttname"><a href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">llvm::APInt::getAllOnesValue</a></div><div class="ttdeci">static APInt getAllOnesValue(unsigned numBits)</div><div class="ttdoc">Get the all-ones value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00450">APInt.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7dc983ebf0eb2d255fa90a67063c72e2"><div class="ttname"><a href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Get zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01306">APInt.h:1306</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a9893ee6e3d9d51101c6854c2548189ba"><div class="ttname"><a href="classllvm_1_1APInt.html#a9893ee6e3d9d51101c6854c2548189ba">llvm::APInt::tcSetLeastSignificantBits</a></div><div class="ttdeci">static void tcSetLeastSignificantBits(integerPart *, unsigned int, unsigned int bits)</div><div class="ttdoc">Set the least significant BITS and clear the rest. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02874">APInt.cpp:2874</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a80b901cd4dec078ef8dc85ec1a3bb9e4"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a80b901cd4dec078ef8dc85ec1a3bb9e4">pc</a></div><div class="ttdeci">add sub stmia L5 ldr pc</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="namespacellvm_html_a769f4d371efd3462f20b02b7cd8fba79"><div class="ttname"><a href="namespacellvm.html#a769f4d371efd3462f20b02b7cd8fba79">llvm::maxPowerOfFiveParts</a></div><div class="ttdeci">const unsigned int maxPowerOfFiveParts</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00092">APFloat.cpp:92</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a9f3ff4f659fd49bd86d7a35f69142e11"><div class="ttname"><a href="classllvm_1_1APFloat.html#a9f3ff4f659fd49bd86d7a35f69142e11">llvm::APFloat::isNaN</a></div><div class="ttdeci">bool isNaN() const </div><div class="ttdoc">Returns true if and only if the float is a quiet or signaling NaN. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00386">APFloat.h:386</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a3a922c89fc319a3673735f3c1d1aece1"><div class="ttname"><a href="classllvm_1_1APFloat.html#a3a922c89fc319a3673735f3c1d1aece1">llvm::APFloat::operator=</a></div><div class="ttdeci">APFloat &amp; operator=(const APFloat &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00673">APFloat.cpp:673</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00408">Target/README.txt:408</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_af68d5ebdb576d7481ea2766151b875d4"><div class="ttname"><a href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">llvm::StringRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the string size. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00113">StringRef.h:113</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a446e9a6df128d5cd7d00984e94e94d8c"><div class="ttname"><a href="classllvm_1_1APFloat.html#a446e9a6df128d5cd7d00984e94e94d8c">llvm::APFloat::Profile</a></div><div class="ttdeci">void Profile(FoldingSetNodeID &amp;NID) const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00815">APFloat.cpp:815</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a185b730c3849640bd95163f73225b7b6"><div class="ttname"><a href="APFloat_8cpp.html#a185b730c3849640bd95163f73225b7b6">writeSignedDecimal</a></div><div class="ttdeci">static char * writeSignedDecimal(char *dst, int value)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00563">APFloat.cpp:563</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_aac03c2635e359347d396ddf4d7963b89"><div class="ttname"><a href="classllvm_1_1APFloat.html#aac03c2635e359347d396ddf4d7963b89">llvm::APFloat::IEEEdouble</a></div><div class="ttdeci">static const fltSemantics IEEEdouble</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00133">APFloat.h:133</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a3bdf019ebb92670864ec41312e0e8421"><div class="ttname"><a href="APFloat_8cpp.html#a3bdf019ebb92670864ec41312e0e8421">totalExponent</a></div><div class="ttdeci">static int totalExponent(StringRef::iterator p, StringRef::iterator end, int exponentAdjustment)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00161">APFloat.cpp:161</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_abc47f2d3773defbbd5a684a71cbf2200"><div class="ttname"><a href="APFloat_8cpp.html#abc47f2d3773defbbd5a684a71cbf2200">lostFractionThroughTruncation</a></div><div class="ttdeci">static lostFraction lostFractionThroughTruncation(const integerPart *parts, unsigned int partCount, unsigned int bits)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00341">APFloat.cpp:341</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a7edf71005b95f61067a9b8d400c37c45"><div class="ttname"><a href="classllvm_1_1APFloat.html#a7edf71005b95f61067a9b8d400c37c45">llvm::APFloat::APFloat</a></div><div class="ttdeci">APFloat(const fltSemantics &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00788">APFloat.cpp:788</a></div></div>
<div class="ttc" id="namespacellvm_html_a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7"><div class="ttname"><a href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a5226bdea6fa7e27519798741fdf3cda7">llvm::lfMoreThanHalf</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00036">APFloat.h:36</a></div></div>
<div class="ttc" id="namespacellvm_html_a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6"><div class="ttname"><a href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286ac0b9d05de9b62ebe41facd1bbb21aca6">llvm::lfExactlyHalf</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00035">APFloat.h:35</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_aef45d072a8d986f88b8a599f66516ffa"><div class="ttname"><a href="APFloat_8cpp.html#aef45d072a8d986f88b8a599f66516ffa">decDigitValue</a></div><div class="ttdeci">static unsigned int decDigitValue(unsigned int c)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00106">APFloat.cpp:106</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">llvm::ARM_AM::add</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00038">ARMAddressingModes.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a888659de112656d0bd17b116d1095ac8"><div class="ttname"><a href="classllvm_1_1APFloat.html#a888659de112656d0bd17b116d1095ac8">llvm::APFloat::~APFloat</a></div><div class="ttdeci">~APFloat()</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00809">APFloat.cpp:809</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_ac0e2174b46ccea3f1de0a0edafcbc4c8"><div class="ttname"><a href="APFloat_8cpp.html#ac0e2174b46ccea3f1de0a0edafcbc4c8">HUerrBound</a></div><div class="ttdeci">static unsigned int HUerrBound(bool inexactMultiply, unsigned int HUerr1, unsigned int HUerr2)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00397">APFloat.cpp:397</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a669d56bdff1ba3eb178fe8c9cbaf7f52"><div class="ttname"><a href="APFloat_8cpp.html#a669d56bdff1ba3eb178fe8c9cbaf7f52">interpretDecimal</a></div><div class="ttdeci">static void interpretDecimal(StringRef::iterator begin, StringRef::iterator end, decimalInfo *D)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00251">APFloat.cpp:251</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a42fe920c8131569bb30114d7f294c8f8"><div class="ttname"><a href="classllvm_1_1APFloat.html#a42fe920c8131569bb30114d7f294c8f8">llvm::APFloat::opStatus</a></div><div class="ttdeci">opStatus</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00166">APFloat.h:166</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_af446a362b3f76186bbad24f269c3352b"><div class="ttname"><a href="classllvm_1_1APFloat.html#af446a362b3f76186bbad24f269c3352b">llvm::APFloat::clearSign</a></div><div class="ttdeci">void clearSign()</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01596">APFloat.cpp:1596</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a33706aab89e700b8f79e1fa6f4f0e3ee"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">llvm::sys::path::begin</a></div><div class="ttdeci">const_iterator begin(StringRef path)</div><div class="ttdoc">Get begin iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00173">Path.cpp:173</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a5775c44f1af915246431618090e08c0e"><div class="ttname"><a href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a></div><div class="ttdeci">=x?x:x+x x</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00798">README-SSE.txt:798</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_af591f8d18d0d9773192a0ffcca41796e"><div class="ttname"><a href="classllvm_1_1APFloat.html#af591f8d18d0d9773192a0ffcca41796e">llvm::APFloat::getZero</a></div><div class="ttdeci">static APFloat getZero(const fltSemantics &amp;Sem, bool Negative=false)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00212">APFloat.h:212</a></div></div>
<div class="ttc" id="structdecimalInfo_html"><div class="ttname"><a href="structdecimalInfo.html">decimalInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00243">APFloat.cpp:243</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_aa9b0da389e5fb14fc522819904e4fa24"><div class="ttname"><a href="APFloat_8cpp.html#aa9b0da389e5fb14fc522819904e4fa24">shiftRight</a></div><div class="ttdeci">static lostFraction shiftRight(integerPart *dst, unsigned int parts, unsigned int bits)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00363">APFloat.cpp:363</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ac09793e735cac4c8e8136dadd22ee725"><div class="ttname"><a href="classllvm_1_1APInt.html#ac09793e735cac4c8e8136dadd22ee725">llvm::APInt::tcIncrement</a></div><div class="ttdeci">static integerPart tcIncrement(integerPart *, unsigned int)</div><div class="ttdoc">Increment a bignum in-place. Return the carry flag. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02846">APInt.cpp:2846</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_af6ed1a67bcd006fbc1e13b4c24aecb46"><div class="ttname"><a href="classllvm_1_1APFloat.html#af6ed1a67bcd006fbc1e13b4c24aecb46">llvm::APFloat::Bogus</a></div><div class="ttdeci">static const fltSemantics Bogus</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00140">APFloat.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a9e54f2f570302df07b9f00a11b9368a2"><div class="ttname"><a href="classllvm_1_1APFloat.html#a9e54f2f570302df07b9f00a11b9368a2">llvm::APFloat::isSignaling</a></div><div class="ttdeci">bool isSignaling() const </div><div class="ttdoc">Returns true if and only if the float is a signaling NaN. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03743">APFloat.cpp:3743</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">llvm::Intrinsic::memcpy</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01260">Intrinsics.h:1260</a></div></div>
<div class="ttc" id="classllvm_1_1APSInt_html_ac9d653a7e9ebf9b69bae3411a723abf4"><div class="ttname"><a href="classllvm_1_1APSInt.html#ac9d653a7e9ebf9b69bae3411a723abf4">llvm::APSInt::isSigned</a></div><div class="ttdeci">bool isSigned() const </div><div class="ttdef"><b>Definition:</b> <a href="APSInt_8h_source.html#l00055">APSInt.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_aa8a88d5824ef974147709959b515448a"><div class="ttname"><a href="classllvm_1_1APFloat.html#aa8a88d5824ef974147709959b515448a">llvm::APFloat::isFiniteNonZero</a></div><div class="ttdeci">bool isFiniteNonZero() const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00399">APFloat.h:399</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a901ce7389ca67dd79b8ab5b53c4a7da8"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int int d</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00418">Target/ARM/README.txt:418</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a08a1c76eb1face84272c736e6349562d"><div class="ttname"><a href="classllvm_1_1APInt.html#a08a1c76eb1face84272c736e6349562d">llvm::APInt::tcLSB</a></div><div class="ttdeci">static unsigned int tcLSB(const integerPart *, unsigned int)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02382">APInt.cpp:2382</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ac46f9ecbe00750394fec5b940b56ac0e"><div class="ttname"><a href="classllvm_1_1APFloat.html#ac46f9ecbe00750394fec5b940b56ac0e">llvm::APFloat::convertFromString</a></div><div class="ttdeci">opStatus convertFromString(StringRef, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l02611">APFloat.cpp:2611</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a3cb841598edc02b220abea0820e9510f"><div class="ttname"><a href="classllvm_1_1APFloat.html#a3cb841598edc02b220abea0820e9510f">llvm::APFloat::bitwiseIsEqual</a></div><div class="ttdeci">bool bitwiseIsEqual(const APFloat &amp;) const </div><div class="ttdoc">Bitwise comparison for equality (QNaNs compare equal, 0!=-0). </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00755">APFloat.cpp:755</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0e9a2d7ec903d191ef029589ec647cb6"><div class="ttname"><a href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">llvm::APInt::isNegative</a></div><div class="ttdeci">bool isNegative() const </div><div class="ttdoc">Determine sign of this APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00322">APInt.h:322</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_aae67c508d4f0716516f5c412c5592556"><div class="ttname"><a href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a></div><div class="ttdeci">then result</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00393">Target/README.txt:393</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a8fb913b1bed6dfe011696fe4e287ca70"><div class="ttname"><a href="classllvm_1_1APFloat.html#a8fb913b1bed6dfe011696fe4e287ca70">llvm::APFloat::x87DoubleExtended</a></div><div class="ttdeci">static const fltSemantics x87DoubleExtended</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00136">APFloat.h:136</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_acb80894344c78dacf8d5ff8c23be697d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">llvm::sys::path::append</a></div><div class="ttdeci">void append(SmallVectorImpl&lt; char &gt; &amp;path, const Twine &amp;a, const Twine &amp;b=&quot;&quot;, const Twine &amp;c=&quot;&quot;, const Twine &amp;d=&quot;&quot;)</div><div class="ttdoc">Append to path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00372">Path.cpp:372</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a8f8541fa404bf604d50bf278d2066dfb"><div class="ttname"><a href="classllvm_1_1APFloat.html#a8f8541fa404bf604d50bf278d2066dfb">llvm::APFloat::ExponentType</a></div><div class="ttdeci">signed short ExponentType</div><div class="ttdoc">A signed type to represent a floating point numbers unbiased exponent. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00126">APFloat.h:126</a></div></div>
<div class="ttc" id="namespacellvm_html_a0448108c43f3a226744d0a4c28c989f7"><div class="ttname"><a href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">llvm::makeArrayRef</a></div><div class="ttdeci">ArrayRef&lt; T &gt; makeArrayRef(const T &amp;OneElt)</div><div class="ttdoc">Construct an ArrayRef from a single element. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00266">ArrayRef.h:266</a></div></div>
<div class="ttc" id="namespacellvm_html_a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938"><div class="ttname"><a href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286a92e4eb4d28972e2a645ec9fdb438a938">llvm::lfLessThanHalf</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00034">APFloat.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a796301cd33da892bb1971f3d03e36cb6"><div class="ttname"><a href="classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6">llvm::APFloat::convertToInteger</a></div><div class="ttdeci">opStatus convertToInteger(integerPart *, unsigned int, bool, roundingMode, bool *) const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l02157">APFloat.cpp:2157</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a06ba78863e3a3b9971b1022e7d999aab"><div class="ttname"><a href="classllvm_1_1APInt.html#a06ba78863e3a3b9971b1022e7d999aab">llvm::APInt::tcMultiplyPart</a></div><div class="ttdeci">static int tcMultiplyPart(integerPart *dst, const integerPart *src, integerPart multiplier, integerPart carry, unsigned int srcParts, unsigned int dstParts, bool add)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02524">APInt.cpp:2524</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aa1953b3ad7ef6aa87dc0205db0c2ea45"><div class="ttname"><a href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">llvm::APInt::lshr</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT lshr(unsigned shiftAmt) const </div><div class="ttdoc">Logical right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01127">APInt.cpp:1127</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; char &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aeb6c84063610d7556e6a6c83d4b2500d"><div class="ttname"><a href="classllvm_1_1APInt.html#aeb6c84063610d7556e6a6c83d4b2500d">llvm::APInt::tcIsZero</a></div><div class="ttdeci">static bool tcIsZero(const integerPart *, unsigned int)</div><div class="ttdoc">Returns true if a bignum is zero, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02345">APInt.cpp:2345</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a05a01faa391a74f808c372231207cf1a"><div class="ttname"><a href="classllvm_1_1APFloat.html#a05a01faa391a74f808c372231207cf1a">llvm::APFloat::IEEEquad</a></div><div class="ttdeci">static const fltSemantics IEEEquad</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00134">APFloat.h:134</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a921850a778a64dd3cd68b3f3b2e2b110"><div class="ttname"><a href="classllvm_1_1APInt.html#a921850a778a64dd3cd68b3f3b2e2b110">llvm::APInt::tcNegate</a></div><div class="ttdeci">static void tcNegate(integerPart *, unsigned int)</div><div class="ttdoc">Negate a bignum in-place. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02506">APInt.cpp:2506</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ad2bcfec23bb7a4e8f7d27426728a6cad"><div class="ttname"><a href="classllvm_1_1APFloat.html#ad2bcfec23bb7a4e8f7d27426728a6cad">llvm::APFloat::copySign</a></div><div class="ttdeci">void copySign(const APFloat &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01603">APFloat.cpp:1603</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0075077383b560290d112b29a155db08"><div class="ttname"><a href="classllvm_1_1APInt.html#a0075077383b560290d112b29a155db08">llvm::APInt::tcAssign</a></div><div class="ttdeci">static void tcAssign(integerPart *, const integerPart *, unsigned int)</div><div class="ttdoc">Assign one bignum to another. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02335">APInt.cpp:2335</a></div></div>
<div class="ttc" id="Target_2LLVMBuild_8txt_html_a99345b14df86239a42d860f988532dc5"><div class="ttname"><a href="Target_2LLVMBuild_8txt.html#a99345b14df86239a42d860f988532dc5">extended</a></div><div class="ttdeci">This is a special group whose required libraries are extended(by llvm-build)</div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a338b34e3237b8cb43909b3edc73529bf"><div class="ttname"><a href="classllvm_1_1APFloat.html#a338b34e3237b8cb43909b3edc73529bf">llvm::APFloat::uninitializedTag</a></div><div class="ttdeci">uninitializedTag</div><div class="ttdoc">Convenience enum used to construct an uninitialized APFloat. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00184">APFloat.h:184</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a5d622e69958a2ec2b141f3fd21f2bc16"><div class="ttname"><a href="classllvm_1_1APFloat.html#a5d622e69958a2ec2b141f3fd21f2bc16">llvm::APFloat::convertFromZeroExtendedInteger</a></div><div class="ttdeci">opStatus convertFromZeroExtendedInteger(const integerPart *, unsigned int, bool, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l02286">APFloat.cpp:2286</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aee0c0088398d80e5f10491c9332389f4"><div class="ttname"><a href="classllvm_1_1APInt.html#aee0c0088398d80e5f10491c9332389f4">llvm::APInt::tcShiftLeft</a></div><div class="ttdeci">static void tcShiftLeft(integerPart *, unsigned int parts, unsigned int count)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02721">APInt.cpp:2721</a></div></div>
<div class="ttc" id="Hashing_8h_html"><div class="ttname"><a href="Hashing_8h.html">Hashing.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ac24627a51fbb0552438075ccf42dc433"><div class="ttname"><a href="classllvm_1_1APFloat.html#ac24627a51fbb0552438075ccf42dc433">llvm::APFloat::getSmallest</a></div><div class="ttdeci">static APFloat getSmallest(const fltSemantics &amp;Sem, bool Negative=false)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03387">APFloat.cpp:3387</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">llvm::Intrinsic::memset</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01262">Intrinsics.h:1262</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad1b485c8171a1de8391ca44e69f0d573"><div class="ttname"><a href="classllvm_1_1APInt.html#ad1b485c8171a1de8391ca44e69f0d573">llvm::APInt::tcExtractBit</a></div><div class="ttdeci">static int tcExtractBit(const integerPart *, unsigned int bit)</div><div class="ttdoc">Extract the given bit of a bignum; returns 0 or 1. Zero-based. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02358">APInt.cpp:2358</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_aea19fbfc9a25e79db6edd3bdce73e223"><div class="ttname"><a href="APFloat_8cpp.html#aea19fbfc9a25e79db6edd3bdce73e223">trailingHexadecimalFraction</a></div><div class="ttdeci">static lostFraction trailingHexadecimalFraction(StringRef::iterator p, StringRef::iterator end, unsigned int digitValue)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00310">APFloat.cpp:310</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a251c87c3f5fe9e6b7c5e666c4c92acc9"><div class="ttname"><a href="classllvm_1_1APInt.html#a251c87c3f5fe9e6b7c5e666c4c92acc9">llvm::APInt::tcClearBit</a></div><div class="ttdeci">static void tcClearBit(integerPart *, unsigned int bit)</div><div class="ttdoc">Clear the given bit of a bignum. Zero-based. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02373">APInt.cpp:2373</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a65eb40bd8c732c997e156e14f6b461f4"><div class="ttname"><a href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">llvm::APInt::getActiveBits</a></div><div class="ttdeci">unsigned getActiveBits() const </div><div class="ttdoc">Compute the number of active bits in the value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01276">APInt.h:1276</a></div></div>
<div class="ttc" id="namespacellvm_html_a4dd787942e0bd9f46c0cc2642cce0a4c"><div class="ttname"><a href="namespacellvm.html#a4dd787942e0bd9f46c0cc2642cce0a4c">llvm::hash_value</a></div><div class="ttdeci">hash_code hash_value(const APFloat &amp;Arg)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l02814">APFloat.cpp:2814</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a8ea88db77f6159f4f8215b0867dc3fc3"><div class="ttname"><a href="classllvm_1_1APFloat.html#a8ea88db77f6159f4f8215b0867dc3fc3">llvm::APFloat::semanticsPrecision</a></div><div class="ttdeci">static unsigned int semanticsPrecision(const fltSemantics &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00826">APFloat.cpp:826</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ac1d22ff29d33e8d6d7dc8103adf696bf"><div class="ttname"><a href="classllvm_1_1APFloat.html#ac1d22ff29d33e8d6d7dc8103adf696bf">llvm::APFloat::convertToDouble</a></div><div class="ttdeci">double convertToDouble() const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03082">APFloat.cpp:3082</a></div></div>
<div class="ttc" id="namespacellvm_html_a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d"><div class="ttname"><a href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286afbe67ef8f3a5fcac94b2f9c074c8ad3d">llvm::lfExactlyZero</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00033">APFloat.h:33</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_ad415bb19cda3e6f052af23868a7bd415"><div class="ttname"><a href="APFloat_8cpp.html#ad415bb19cda3e6f052af23868a7bd415">NaNL</a></div><div class="ttdeci">static const char NaNL[]</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00520">APFloat.cpp:520</a></div></div>
<div class="ttc" id="MathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">llvm::lltok::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00182">LLToken.h:182</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a75a94f14098db903476027bbacf307d5"><div class="ttname"><a href="classllvm_1_1APFloat.html#a75a94f14098db903476027bbacf307d5">llvm::APFloat::convertToHexString</a></div><div class="ttdeci">unsigned int convertToHexString(char *dst, unsigned int hexDigits, bool upperCase, roundingMode) const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l02663">APFloat.cpp:2663</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a4a0abf8eb4fa5989df63172649cba99f"><div class="ttname"><a href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">llvm::StringRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00097">StringRef.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a83b4800438a41f40863a7b3ef9613386"><div class="ttname"><a href="classllvm_1_1APFloat.html#a83b4800438a41f40863a7b3ef9613386">llvm::APFloat::mod</a></div><div class="ttdeci">opStatus mod(const APFloat &amp;, roundingMode)</div><div class="ttdoc">C fmod, or llvm frem. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01731">APFloat.cpp:1731</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a9d0152bf373031d097346dcbfe27b9db"><div class="ttname"><a href="classllvm_1_1APInt.html#a9d0152bf373031d097346dcbfe27b9db">llvm::APInt::tcDecrement</a></div><div class="ttdeci">static integerPart tcDecrement(integerPart *, unsigned int)</div><div class="ttdoc">Decrement a bignum in-place. Return the borrow flag. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02859">APInt.cpp:2859</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a768aa39cef837274da386788b7294ffe"><div class="ttname"><a href="classllvm_1_1APFloat.html#a768aa39cef837274da386788b7294ffe">llvm::APFloat::convertFromAPInt</a></div><div class="ttdeci">opStatus convertFromAPInt(const APInt &amp;, bool, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l02238">APFloat.cpp:2238</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_addf55de6ea6941c9fabcbaa054128767"><div class="ttname"><a href="APFloat_8cpp.html#addf55de6ea6941c9fabcbaa054128767">partAsHex</a></div><div class="ttdeci">static unsigned int partAsHex(char *dst, integerPart part, unsigned int count, const char *hexDigitChars)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00527">APFloat.cpp:527</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a3a82232c420700208dd1b19e316558d8"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a3a82232c420700208dd1b19e316558d8">bit</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z bit</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00532">Target/ARM/README.txt:532</a></div></div>
<div class="ttc" id="classllvm_1_1FoldingSetNodeID_html"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html">llvm::FoldingSetNodeID</a></div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8h_source.html#l00294">FoldingSet.h:294</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html"><div class="ttname"><a href="classllvm_1_1APFloat.html">llvm::APFloat</a></div><div class="ttdoc">A self-contained host- and target-independent arbitrary-precision floating-point software implementat...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00122">APFloat.h:122</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a8efff7af35067c51a3d9313e360701cf"><div class="ttname"><a href="classllvm_1_1APInt.html#a8efff7af35067c51a3d9313e360701cf">llvm::APInt::tcSet</a></div><div class="ttdeci">static void tcSet(integerPart *, integerPart, unsigned int)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02322">APInt.cpp:2322</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_adfee76ed5e20f77cbcfe297df31b9cda"><div class="ttname"><a href="classllvm_1_1APFloat.html#adfee76ed5e20f77cbcfe297df31b9cda">llvm::APFloat::getSmallestNormalized</a></div><div class="ttdeci">static APFloat getSmallestNormalized(const fltSemantics &amp;Sem, bool Negative=false)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03397">APFloat.cpp:3397</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1fs_html_a65c5fe2953375fe7c8c64bb7481c54a4"><div class="ttname"><a href="namespacellvm_1_1sys_1_1fs.html#a65c5fe2953375fe7c8c64bb7481c54a4">llvm::sys::fs::status</a></div><div class="ttdeci">error_code status(const Twine &amp;path, file_status &amp;result)</div><div class="ttdoc">Get file status as if by POSIX stat(). </div></div>
<div class="ttc" id="structdecimalInfo_html_ad1b78dfd6678a8588c948dd1abcdd953"><div class="ttname"><a href="structdecimalInfo.html#ad1b78dfd6678a8588c948dd1abcdd953">decimalInfo::firstSigDigit</a></div><div class="ttdeci">const char * firstSigDigit</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00244">APFloat.cpp:244</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aa3d4911fd70a787382c691646d119ff4"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa3d4911fd70a787382c691646d119ff4">llvm::Intrinsic::exp</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00383">Intrinsics.h:383</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a8cf5475fb3e9c737112cc248194c1040"><div class="ttname"><a href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">llvm::APInt::trunc</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT trunc(unsigned width) const </div><div class="ttdoc">Truncate to new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00919">APInt.cpp:919</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_aaf5c2c00b5485b2f34bf776e73e88394"><div class="ttname"><a href="classllvm_1_1APFloat.html#aaf5c2c00b5485b2f34bf776e73e88394">llvm::APFloat::compare</a></div><div class="ttdeci">cmpResult compare(const APFloat &amp;) const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01859">APFloat.cpp:1859</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a6dcd1d74694d39c377bf23f58d70db37"><div class="ttname"><a href="APFloat_8cpp.html#a6dcd1d74694d39c377bf23f58d70db37">ulpsFromBoundary</a></div><div class="ttdeci">static integerPart ulpsFromBoundary(const integerPart *parts, unsigned int bits, bool isNearest)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00411">APFloat.cpp:411</a></div></div>
<div class="ttc" id="TargetLibraryInfo_8cpp_html_a487393c673177cc2b64bde6ab8fa60ae"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#a487393c673177cc2b64bde6ab8fa60ae">initialize</a></div><div class="ttdeci">static void initialize(TargetLibraryInfo &amp;TLI, const Triple &amp;T, const char **StandardNames)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00361">TargetLibraryInfo.cpp:361</a></div></div>
<div class="ttc" id="namespacellvm_html_a2b33f2166f38124ec3081c2fd59672f7"><div class="ttname"><a href="namespacellvm.html#a2b33f2166f38124ec3081c2fd59672f7">llvm::hash_combine</a></div><div class="ttdeci">hash_code hash_combine(const T1 &amp;arg1, const T2 &amp;arg2, const T3 &amp;arg3, const T4 &amp;arg4, const T5 &amp;arg5, const T6 &amp;arg6)</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00674">Hashing.h:674</a></div></div>
<div class="ttc" id="namespacellvm_html_a32f06e60e816ea2d64f9367b426c452a"><div class="ttname"><a href="namespacellvm.html#a32f06e60e816ea2d64f9367b426c452a">llvm::integerPartWidth</a></div><div class="ttdeci">const unsigned int integerPartWidth</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00042">APInt.h:42</a></div></div>
<div class="ttc" id="namespacellvm_html_a4642be0121438a6a6e4e28ad42a98b60"><div class="ttname"><a href="namespacellvm.html#a4642be0121438a6a6e4e28ad42a98b60">llvm::maxPowerOfFiveExponent</a></div><div class="ttdeci">const unsigned int maxPowerOfFiveExponent</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00091">APFloat.cpp:91</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_af6c6144719863ca10aa51be09615b22b"><div class="ttname"><a href="classllvm_1_1APFloat.html#af6c6144719863ca10aa51be09615b22b">llvm::APFloat::fusedMultiplyAdd</a></div><div class="ttdeci">opStatus fusedMultiplyAdd(const APFloat &amp;, const APFloat &amp;, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01771">APFloat.cpp:1771</a></div></div>
<div class="ttc" id="APFloat_8h_html"><div class="ttname"><a href="APFloat_8h.html">APFloat.h</a></div><div class="ttdoc">This file declares a class to represent arbitrary precision floating point values and provide a varie...</div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a6164c05fd6cfc95aeb6bb8b00a194fa0"><div class="ttname"><a href="classllvm_1_1APInt.html#a6164c05fd6cfc95aeb6bb8b00a194fa0">llvm::APInt::tcFullMultiply</a></div><div class="ttdeci">static unsigned int tcFullMultiply(integerPart *, const integerPart *, const integerPart *, unsigned, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02640">APInt.cpp:2640</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01252">APInt.h:1252</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a4fa2f1464bb4f645082d8aa0e0a9bc0e"><div class="ttname"><a href="classllvm_1_1APFloat.html#a4fa2f1464bb4f645082d8aa0e0a9bc0e">llvm::APFloat::convert</a></div><div class="ttdeci">opStatus convert(const fltSemantics &amp;, roundingMode, bool *)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01938">APFloat.cpp:1938</a></div></div>
<div class="ttc" id="Target_2SystemZ_2README_8txt_html_a5f380c569497eab93980e5994c60df31"><div class="ttname"><a href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a></div><div class="ttdeci">it doesn t get to see the original constraint This means that it must conservatively treat all asm constraints as the most restricted R If an asm ties an i32 r result to an i64 the input will be treated as an leaving the upper bits uninitialised For i64 store i32 val</div><div class="ttdef"><b>Definition:</b> <a href="Target_2SystemZ_2README_8txt_source.html#l00022">Target/SystemZ/README.txt:22</a></div></div>
<div class="ttc" id="structllvm_1_1fltSemantics_html_a2240de0ea472c295265939c24592416c"><div class="ttname"><a href="structllvm_1_1fltSemantics.html#a2240de0ea472c295265939c24592416c">llvm::fltSemantics::minExponent</a></div><div class="ttdeci">APFloat::ExponentType minExponent</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00051">APFloat.cpp:51</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ab5131b6b960e5e4687016d5b6f64069b"><div class="ttname"><a href="classllvm_1_1APFloat.html#ab5131b6b960e5e4687016d5b6f64069b">llvm::APFloat::changeSign</a></div><div class="ttdeci">void changeSign()</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01589">APFloat.cpp:1589</a></div></div>
<div class="ttc" id="namespacellvm_html_a4fc0551303dc77bf30c5487aea4b4c5e"><div class="ttname"><a href="namespacellvm.html#a4fc0551303dc77bf30c5487aea4b4c5e">llvm::maxPrecision</a></div><div class="ttdeci">const unsigned int maxPrecision</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00090">APFloat.cpp:90</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a3fa8f810bfbbfeb2b3892b15814b031a"><div class="ttname"><a href="classllvm_1_1APInt.html#a3fa8f810bfbbfeb2b3892b15814b031a">llvm::APInt::tcAdd</a></div><div class="ttdeci">static integerPart tcAdd(integerPart *, const integerPart *, integerPart carry, unsigned)</div><div class="ttdoc">DST += RHS + CARRY where CARRY is zero or one. Returns the carry flag. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02456">APInt.cpp:2456</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a96301256190ab1a39c3ff646d467345c"><div class="ttname"><a href="APFloat_8cpp.html#a96301256190ab1a39c3ff646d467345c">powerOf5</a></div><div class="ttdeci">static unsigned int powerOf5(integerPart *dst, unsigned int power)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00456">APFloat.cpp:456</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_abf89f09e76ca3bcfb207cddc821f3299"><div class="ttname"><a href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a></div><div class="ttdeci">http eax xorl edx cl sete al setne dl sall eax sall edx But that requires good bit subreg support this might be better It s an extra shift</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00031">Target/X86/README.txt:31</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_afb354c8aea0150628f8aa06c7f4a4168"><div class="ttname"><a href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a></div><div class="ttdeci">vector float f(vector float a, vector float b)</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00205">README_ALTIVEC.txt:205</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a669d55980a7d4b6307b94596deeb0b1f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(in_iter in_start, in_iter in_end)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00445">SmallVector.h:445</a></div></div>
<div class="ttc" id="namespacellvm_html_a0490c32aa8dd63ddc56bb046fd0258c7"><div class="ttname"><a href="namespacellvm.html#a0490c32aa8dd63ddc56bb046fd0258c7">llvm::NextPowerOf2</a></div><div class="ttdeci">uint64_t NextPowerOf2(uint64_t A)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00546">MathExtras.h:546</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a18c110c35e9133222a37b28d30f8a90f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00478">SmallVector.h:478</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aae15c2f059ac14fc2b3b7ef8fa645889"><div class="ttname"><a href="classllvm_1_1APInt.html#aae15c2f059ac14fc2b3b7ef8fa645889">llvm::APInt::tcCompare</a></div><div class="ttdeci">static int tcCompare(const integerPart *, const integerPart *, unsigned int)</div><div class="ttdoc">Comparison (unsigned) of two bignums. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02827">APInt.cpp:2827</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_acd77961b2028e148c829b18ceaef81c4"><div class="ttname"><a href="classllvm_1_1APFloat.html#acd77961b2028e148c829b18ceaef81c4">llvm::APFloat::IEEEhalf</a></div><div class="ttdeci">static const fltSemantics IEEEhalf</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00131">APFloat.h:131</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00723">Target/README.txt:723</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a427c08cdbdfe087dcf7fed6ee71477f5"><div class="ttname"><a href="classllvm_1_1APInt.html#a427c08cdbdfe087dcf7fed6ee71477f5">llvm::APInt::tcSetBit</a></div><div class="ttdeci">static void tcSetBit(integerPart *, unsigned int bit)</div><div class="ttdoc">Set the given bit of a bignum. Zero-based. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02366">APInt.cpp:2366</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aac277496191547e487eea07f09dffd4b"><div class="ttname"><a href="classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">llvm::APInt::countTrailingZeros</a></div><div class="ttdeci">unsigned countTrailingZeros() const </div><div class="ttdoc">Count the number of trailing zero bits. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00736">APInt.cpp:736</a></div></div>
<div class="ttc" id="Lint_8cpp_html_a6cd8c36c54045fd5897b54d4c30e0044"><div class="ttname"><a href="Lint_8cpp.html#a6cd8c36c54045fd5897b54d4c30e0044">isZero</a></div><div class="ttdeci">static bool isZero(Value *V, DataLayout *DL)</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00507">Lint.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1FoldingSetNodeID_html_ae75832b6dfaefd06c8e1c2e7e4f4a3de"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html#ae75832b6dfaefd06c8e1c2e7e4f4a3de">llvm::FoldingSetNodeID::Add</a></div><div class="ttdeci">void Add(const T &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8h_source.html#l00319">FoldingSet.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a7bf566fe5a23be3257375b0cf7f7c101"><div class="ttname"><a href="classllvm_1_1StringRef.html#a7bf566fe5a23be3257375b0cf7f7c101">llvm::StringRef::iterator</a></div><div class="ttdeci">const char * iterator</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00043">StringRef.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_aab86e955f748f3ac392c174f1b6cf947"><div class="ttname"><a href="classllvm_1_1APFloat.html#aab86e955f748f3ac392c174f1b6cf947">llvm::APFloat::convertFromSignExtendedInteger</a></div><div class="ttdeci">opStatus convertFromSignExtendedInteger(const integerPart *, unsigned int, bool, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l02258">APFloat.cpp:2258</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a2065ce1bee75d8e883077a752dc33081"><div class="ttname"><a href="classllvm_1_1APFloat.html#a2065ce1bee75d8e883077a752dc33081">llvm::APFloat::PPCDoubleDouble</a></div><div class="ttdeci">static const fltSemantics PPCDoubleDouble</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00135">APFloat.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a26f3c979ec46a5d2d9bccd300eb606fe"><div class="ttname"><a href="classllvm_1_1APFloat.html#a26f3c979ec46a5d2d9bccd300eb606fe">llvm::APFloat::roundingMode</a></div><div class="ttdeci">roundingMode</div><div class="ttdoc">IEEE-754R 4.3: Rounding-direction attributes. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00155">APFloat.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a3410bf65fe73ab24b00d19523bb895d9"><div class="ttname"><a href="classllvm_1_1APInt.html#a3410bf65fe73ab24b00d19523bb895d9">llvm::APInt::doubleToBits</a></div><div class="ttdeci">static APInt LLVM_ATTRIBUTE_UNUSED_RESULT doubleToBits(double V)</div><div class="ttdoc">Converts a double to APInt bits. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01473">APInt.h:1473</a></div></div>
<div class="ttc" id="structllvm_1_1fltSemantics_html"><div class="ttname"><a href="structllvm_1_1fltSemantics.html">llvm::fltSemantics</a></div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00044">APFloat.cpp:44</a></div></div>
<div class="ttc" id="StringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a663d7637c110daee5beee1f03a9ac286"><div class="ttname"><a href="namespacellvm.html#a663d7637c110daee5beee1f03a9ac286">llvm::lostFraction</a></div><div class="ttdeci">lostFraction</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00032">APFloat.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a8c2e1efe8d928179051cf852405f3fff"><div class="ttname"><a href="classllvm_1_1APFloat.html#a8c2e1efe8d928179051cf852405f3fff">llvm::APFloat::add</a></div><div class="ttdeci">opStatus add(const APFloat &amp;, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01642">APFloat.cpp:1642</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a7c308edd4d5bd059ee5cbae38f464084"><div class="ttname"><a href="APFloat_8cpp.html#a7c308edd4d5bd059ee5cbae38f464084">NaNU</a></div><div class="ttdeci">static const char NaNU[]</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00521">APFloat.cpp:521</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ad2c475a7d583b7e5e3fdb6ea6ae1fec5"><div class="ttname"><a href="classllvm_1_1APFloat.html#ad2c475a7d583b7e5e3fdb6ea6ae1fec5">llvm::APFloat::isDenormal</a></div><div class="ttdeci">bool isDenormal() const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00687">APFloat.cpp:687</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_ab19689a7583f4396682fe3dad076354f"><div class="ttname"><a href="APFloat_8cpp.html#ab19689a7583f4396682fe3dad076354f">skipLeadingZeroesAndAnyDot</a></div><div class="ttdeci">static StringRef::iterator skipLeadingZeroesAndAnyDot(StringRef::iterator begin, StringRef::iterator end, StringRef::iterator *dot)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00210">APFloat.cpp:210</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_abb4696c1a55081dea6ccf5269d51ea7d"><div class="ttname"><a href="classllvm_1_1APFloat.html#abb4696c1a55081dea6ccf5269d51ea7d">llvm::APFloat::multiply</a></div><div class="ttdeci">opStatus multiply(const APFloat &amp;, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01656">APFloat.cpp:1656</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a41aedbd16f8e4389c1bcf0ce4331ff2c"><div class="ttname"><a href="classllvm_1_1APFloat.html#a41aedbd16f8e4389c1bcf0ce4331ff2c">llvm::APFloat::getAllOnesValue</a></div><div class="ttdeci">static APFloat getAllOnesValue(unsigned BitWidth, bool isIEEE=false)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03320">APFloat.cpp:3320</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a0977e6844c4d5463565fdd9bc4b6c44d"><div class="ttname"><a href="APFloat_8cpp.html#a0977e6844c4d5463565fdd9bc4b6c44d">infinityL</a></div><div class="ttdeci">static const char infinityL[]</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00518">APFloat.cpp:518</a></div></div>
<div class="ttc" id="structdecimalInfo_html_a007a759de40999aa7dab5606693d6bcf"><div class="ttname"><a href="structdecimalInfo.html#a007a759de40999aa7dab5606693d6bcf">decimalInfo::exponent</a></div><div class="ttdeci">int exponent</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00246">APFloat.cpp:246</a></div></div>
<div class="ttc" id="APSInt_8h_html"><div class="ttname"><a href="APSInt_8h.html">APSInt.h</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_af9abe1eccbdf18c2b773fbbedac485f7"><div class="ttname"><a href="APFloat_8cpp.html#af9abe1eccbdf18c2b773fbbedac485f7">hexDigitsLower</a></div><div class="ttdeci">static const char hexDigitsLower[]</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00516">APFloat.cpp:516</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ae98bca797c2e2ea2fb639935b01da1ae"><div class="ttname"><a href="classllvm_1_1APFloat.html#ae98bca797c2e2ea2fb639935b01da1ae">llvm::APFloat::bitcastToAPInt</a></div><div class="ttdeci">APInt bitcastToAPInt() const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03050">APFloat.cpp:3050</a></div></div>
<div class="ttc" id="namespacellvm_html_af80edfc5e42059e045aa7bf7fe42bee3"><div class="ttname"><a href="namespacellvm.html#af80edfc5e42059e045aa7bf7fe42bee3">llvm::hash_combine_range</a></div><div class="ttdeci">hash_code hash_combine_range(InputIteratorT first, InputIteratorT last)</div><div class="ttdoc">Compute a hash_code for a sequence of values. </div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00487">Hashing.h:487</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a47879d3bac8e6a9275edc165c65b433d"><div class="ttname"><a href="classllvm_1_1APFloat.html#a47879d3bac8e6a9275edc165c65b433d">llvm::APFloat::getLargest</a></div><div class="ttdeci">static APFloat getLargest(const fltSemantics &amp;Sem, bool Negative=false)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03377">APFloat.cpp:3377</a></div></div>
<div class="ttc" id="classllvm_1_1hash__code_html"><div class="ttname"><a href="classllvm_1_1hash__code.html">llvm::hash_code</a></div><div class="ttdoc">An opaque object representing a hash code. </div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00079">Hashing.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a29c565e0d52fdd3b366971d07fa0c83c"><div class="ttname"><a href="classllvm_1_1StringRef.html#a29c565e0d52fdd3b366971d07fa0c83c">llvm::StringRef::equals</a></div><div class="ttdeci">bool equals(StringRef RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00129">StringRef.h:129</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ada7408f27e25486804e9c4cbca9348e7"><div class="ttname"><a href="classllvm_1_1APInt.html#ada7408f27e25486804e9c4cbca9348e7">llvm::APInt::tcMSB</a></div><div class="ttdeci">static unsigned int tcMSB(const integerPart *parts, unsigned int n)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02400">APInt.cpp:2400</a></div></div>
<div class="ttc" id="structdecimalInfo_html_a494df17d17f18d1dea6340877fc598ea"><div class="ttname"><a href="structdecimalInfo.html#a494df17d17f18d1dea6340877fc598ea">decimalInfo::lastSigDigit</a></div><div class="ttdeci">const char * lastSigDigit</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00245">APFloat.cpp:245</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a95a104def8fd1339c19655ac95f4811e"><div class="ttname"><a href="classllvm_1_1APInt.html#a95a104def8fd1339c19655ac95f4811e">llvm::APInt::bitsToDouble</a></div><div class="ttdeci">double bitsToDouble() const </div><div class="ttdoc">Converts APInt bits to a double. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01446">APInt.h:1446</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_ae3e84a62e4ae19e7766bde30ee72c040"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int c</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a7f2bc01bca929634845a725ed2606ac8"><div class="ttname"><a href="APFloat_8cpp.html#a7f2bc01bca929634845a725ed2606ac8">hexDigitsUpper</a></div><div class="ttdeci">static const char hexDigitsUpper[]</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00517">APFloat.cpp:517</a></div></div>
<div class="ttc" id="structllvm_1_1fltSemantics_html_aaec0dd351f93ebc840a6551422c2ad97"><div class="ttname"><a href="structllvm_1_1fltSemantics.html#aaec0dd351f93ebc840a6551422c2ad97">llvm::fltSemantics::precision</a></div><div class="ttdeci">unsigned int precision</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00055">APFloat.cpp:55</a></div></div>
<div class="ttc" id="StringExtras_8h_html"><div class="ttname"><a href="StringExtras_8h.html">StringExtras.h</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a7a9dcda856681ca710637c95323ce9c6"><div class="ttname"><a href="APFloat_8cpp.html#a7a9dcda856681ca710637c95323ce9c6">infinityU</a></div><div class="ttdeci">static const char infinityU[]</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00519">APFloat.cpp:519</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_aeefbcd393327313a3362c68baa91f536"><div class="ttname"><a href="classllvm_1_1APFloat.html#aeefbcd393327313a3362c68baa91f536">llvm::APFloat::toString</a></div><div class="ttdeci">void toString(SmallVectorImpl&lt; char &gt; &amp;Str, unsigned FormatPrecision=0, unsigned FormatMaxPadding=3) const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03511">APFloat.cpp:3511</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a43f6e79227388f373628e8ddd27df965"><div class="ttname"><a href="classllvm_1_1APFloat.html#a43f6e79227388f373628e8ddd27df965">llvm::APFloat::IEEEsingle</a></div><div class="ttdeci">static const fltSemantics IEEEsingle</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00132">APFloat.h:132</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a1eea006ec71558190c492389e125e927"><div class="ttname"><a href="classllvm_1_1APInt.html#a1eea006ec71558190c492389e125e927">llvm::APInt::getRawData</a></div><div class="ttdeci">const uint64_t * getRawData() const </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00570">APInt.h:570</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a793f3a97421b79af6bab764524a9b532"><div class="ttname"><a href="classllvm_1_1APInt.html#a793f3a97421b79af6bab764524a9b532">llvm::APInt::udiv</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT udiv(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned division operation. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01842">APInt.cpp:1842</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a6ed423a156aae77bf5c1f560c998d9b4"><div class="ttname"><a href="classllvm_1_1APFloat.html#a6ed423a156aae77bf5c1f560c998d9b4">llvm::APFloat::roundToIntegral</a></div><div class="ttdeci">opStatus roundToIntegral(roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01815">APFloat.cpp:1815</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a6526582b9bb4a0c7eda6ce48fed915b0"><div class="ttname"><a href="classllvm_1_1APInt.html#a6526582b9bb4a0c7eda6ce48fed915b0">llvm::APInt::floatToBits</a></div><div class="ttdeci">static APInt LLVM_ATTRIBUTE_UNUSED_RESULT floatToBits(float V)</div><div class="ttdoc">Converts a float to APInt bits. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01486">APInt.h:1486</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a38e79c83dad9b9a5f38c9693371a8709"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a></div><div class="ttdeci">the resulting code requires compare and branches when and if * p</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_aca57d1ea20b3d3179854ecc81aae3314"><div class="ttname"><a href="APFloat_8cpp.html#aca57d1ea20b3d3179854ecc81aae3314">writeUnsignedDecimal</a></div><div class="ttdeci">static char * writeUnsignedDecimal(char *dst, unsigned int n)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00545">APFloat.cpp:545</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a6ff0b1a4e71ed8e1612ef4dc158a31bd"><div class="ttname"><a href="classllvm_1_1APFloat.html#a6ff0b1a4e71ed8e1612ef4dc158a31bd">llvm::APFloat::convertToFloat</a></div><div class="ttdeci">float convertToFloat() const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03073">APFloat.cpp:3073</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a74f900d08953d743bd204e6cb480cadc"><div class="ttname"><a href="APFloat_8cpp.html#a74f900d08953d743bd204e6cb480cadc">readExponent</a></div><div class="ttdeci">static int readExponent(StringRef::iterator begin, StringRef::iterator end)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00117">APFloat.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a782516eb1739bd6c82c5fd9007cb4845"><div class="ttname"><a href="classllvm_1_1APFloat.html#a782516eb1739bd6c82c5fd9007cb4845">llvm::APFloat::isSmallest</a></div><div class="ttdeci">bool isSmallest() const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00694">APFloat.cpp:694</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ad5da9a19280b84509a8d1cac2290a0ad"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ad5da9a19280b84509a8d1cac2290a0ad">cmp</a></div><div class="ttdeci">&lt; i32 &gt;&lt; i32 &gt; cmp</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01696">Target/X86/README.txt:1696</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a77f0f5be0da47f6a6e508ee0ec484f63"><div class="ttname"><a href="classllvm_1_1APInt.html#a77f0f5be0da47f6a6e508ee0ec484f63">llvm::APInt::tcSubtract</a></div><div class="ttdeci">static integerPart tcSubtract(integerPart *, const integerPart *, integerPart carry, unsigned)</div><div class="ttdoc">DST -= RHS + CARRY where CARRY is zero or one. Returns the carry flag. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02481">APInt.cpp:2481</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a3abab7f1d3f67611acf79520a03f2769"><div class="ttname"><a href="APFloat_8cpp.html#a3abab7f1d3f67611acf79520a03f2769">combineLostFractions</a></div><div class="ttdeci">static lostFraction combineLostFractions(lostFraction moreSignificant, lostFraction lessSignificant)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00376">APFloat.cpp:376</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a075daaf0c69129474e8885bb7e7e8b13"><div class="ttname"><a href="APFloat_8cpp.html#a075daaf0c69129474e8885bb7e7e8b13">partCountForBits</a></div><div class="ttdeci">static unsigned int partCountForBits(unsigned int bits)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00099">APFloat.cpp:99</a></div></div>
<div class="ttc" id="structllvm_1_1fltSemantics_html_a8593235b6ee0c6eecd490123336721a6"><div class="ttname"><a href="structllvm_1_1fltSemantics.html#a8593235b6ee0c6eecd490123336721a6">llvm::fltSemantics::maxExponent</a></div><div class="ttdeci">APFloat::ExponentType maxExponent</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00047">APFloat.cpp:47</a></div></div>
<div class="ttc" id="namespacellvm_html_a890979060161a7477ee136722f57b171"><div class="ttname"><a href="namespacellvm.html#a890979060161a7477ee136722f57b171">llvm::hexDigitValue</a></div><div class="ttdeci">static unsigned hexDigitValue(char C)</div><div class="ttdef"><b>Definition:</b> <a href="StringExtras_8h_source.html#l00035">StringExtras.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0f0a665210e453bb16b4bf1861dbdd58"><div class="ttname"><a href="classllvm_1_1APInt.html#a0f0a665210e453bb16b4bf1861dbdd58">llvm::APInt::udivrem</a></div><div class="ttdeci">static void udivrem(const APInt &amp;LHS, const APInt &amp;RHS, APInt &amp;Quotient, APInt &amp;Remainder)</div><div class="ttdoc">Dual division/remainder interface. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01938">APInt.cpp:1938</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_aaa319dfe8635a1549e81bf949d9f0fe3"><div class="ttname"><a href="classllvm_1_1APFloat.html#aaa319dfe8635a1549e81bf949d9f0fe3">llvm::APFloat::isLargest</a></div><div class="ttdeci">bool isLargest() const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00747">APFloat.cpp:747</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a9e277b660236bb0318b61ab9cdf60dc7"><div class="ttname"><a href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">llvm::StringRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00099">StringRef.h:99</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a628267865ea4996936b227ed15b3f1eb"><div class="ttname"><a href="APFloat_8cpp.html#a628267865ea4996936b227ed15b3f1eb">PackCategoriesIntoKey</a></div><div class="ttdeci">#define PackCategoriesIntoKey(_lhs, _rhs)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00034">APFloat.cpp:34</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a6142fc5662411269a7ca0217f49f338c"><div class="ttname"><a href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">llvm::APInt::zext</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT zext(unsigned width) const </div><div class="ttdoc">Zero extend to a new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00983">APInt.cpp:983</a></div></div>
<div class="ttc" id="APFloat_8cpp_html_a7a14f772ba33630fcb09163ed22e4f2e"><div class="ttname"><a href="APFloat_8cpp.html#a7a14f772ba33630fcb09163ed22e4f2e">COMPILE_TIME_ASSERT</a></div><div class="ttdeci">#define COMPILE_TIME_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00038">APFloat.cpp:38</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a5596e1b418241306e4394dedd7c92117"><div class="ttname"><a href="classllvm_1_1APFloat.html#a5596e1b418241306e4394dedd7c92117">llvm::APFloat::next</a></div><div class="ttdeci">opStatus next(bool nextDown)</div><div class="ttdoc">IEEE-754R 5.3.1: nextUp/nextDown. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03756">APFloat.cpp:3756</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_af69577ad3abaf55c2cf999763956be03"><div class="ttname"><a href="classllvm_1_1APFloat.html#af69577ad3abaf55c2cf999763956be03">llvm::APFloat::remainder</a></div><div class="ttdeci">opStatus remainder(const APFloat &amp;)</div><div class="ttdoc">IEEE remainder. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01694">APFloat.cpp:1694</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a4e23a3f51df9950595056234827ca4ba"><div class="ttname"><a href="classllvm_1_1APFloat.html#a4e23a3f51df9950595056234827ca4ba">llvm::APFloat::cmpResult</a></div><div class="ttdeci">cmpResult</div><div class="ttdoc">IEEE-754R 5.11: Floating Point Comparison Relations. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00147">APFloat.h:147</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_ae05012c5159493832065a06aecc4f954"><div class="ttname"><a href="classllvm_1_1APFloat.html#ae05012c5159493832065a06aecc4f954">llvm::APFloat::getExactInverse</a></div><div class="ttdeci">bool getExactInverse(APFloat *inv) const </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l03714">APFloat.cpp:3714</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a5be8eecedb07dfb3c6cb06fefefb8836"><div class="ttname"><a href="classllvm_1_1APInt.html#a5be8eecedb07dfb3c6cb06fefefb8836">llvm::APInt::tcShiftRight</a></div><div class="ttdeci">static void tcShiftRight(integerPart *, unsigned int parts, unsigned int count)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l02755">APInt.cpp:2755</a></div></div>
<div class="ttc" id="classllvm_1_1APSInt_html"><div class="ttname"><a href="classllvm_1_1APSInt.html">llvm::APSInt</a></div><div class="ttdef"><b>Definition:</b> <a href="APSInt_8h_source.html#l00022">APSInt.h:22</a></div></div>
<div class="ttc" id="structdecimalInfo_html_a8dbd8aeed256ae53a487a45e408db743"><div class="ttname"><a href="structdecimalInfo.html#a8dbd8aeed256ae53a487a45e408db743">decimalInfo::normalizedExponent</a></div><div class="ttdeci">int normalizedExponent</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l00247">APFloat.cpp:247</a></div></div>
<div class="ttc" id="classllvm_1_1APFloat_html_a7578f9a82a4ae3c7f4d2ac7cad91f24f"><div class="ttname"><a href="classllvm_1_1APFloat.html#a7578f9a82a4ae3c7f4d2ac7cad91f24f">llvm::APFloat::subtract</a></div><div class="ttdeci">opStatus subtract(const APFloat &amp;, roundingMode)</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8cpp_source.html#l01649">APFloat.cpp:1649</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a26647e6f12a673e00ae384054897ca85"><div class="ttname"><a href="classllvm_1_1APInt.html#a26647e6f12a673e00ae384054897ca85">llvm::APInt::bitsToFloat</a></div><div class="ttdeci">float bitsToFloat() const </div><div class="ttdoc">Converts APInt bits to a double. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01460">APInt.h:1460</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_ad7e292682516000f8b472f4510a2acf7"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">llvm::StringRef::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">empty - Check if the string is empty. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00110">StringRef.h:110</a></div></div>
<div class="ttc" id="namespacellvm_html_a2ea690e7d3e00f549f15c403bf2522a5"><div class="ttname"><a href="namespacellvm.html#a2ea690e7d3e00f549f15c403bf2522a5">llvm::integerPart</a></div><div class="ttdeci">uint64_t integerPart</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a2c9ce2ec88f5ffa60ab1b16527caa1f4"><div class="ttname"><a href="classllvm_1_1APInt.html#a2c9ce2ec88f5ffa60ab1b16527caa1f4">llvm::APInt::getNumWords</a></div><div class="ttdeci">unsigned getNumWords() const </div><div class="ttdoc">Get the number of words. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01259">APInt.h:1259</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:02 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
