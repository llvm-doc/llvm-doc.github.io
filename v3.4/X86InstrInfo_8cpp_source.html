<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: X86InstrInfo.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('X86InstrInfo_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">X86InstrInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="X86InstrInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- X86InstrInfo.cpp - X86 Instruction Information --------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains the X86 implementation of the TargetInstrInfo class.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86InstrInfo_8h.html">X86InstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86_8h.html">X86.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86InstrBuilder_8h.html">X86InstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86MachineFunctionInfo_8h.html">X86MachineFunctionInfo.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86Subtarget_8h.html">X86Subtarget.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86TargetMachine_8h.html">X86TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveVariables_8h.html">llvm/CodeGen/LiveVariables.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineConstantPool_8h.html">llvm/CodeGen/MachineConstantPool.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StackMaps_8h.html">llvm/CodeGen/StackMaps.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmInfo_8h.html">llvm/MC/MCAsmInfo.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInst_8h.html">llvm/MC/MCInst.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOptions_8h.html">llvm/Target/TargetOptions.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a5d99008fb7e5cdc4774786d0743a2c4f">   39</a></span>&#160;<span class="preprocessor">#define GET_INSTRINFO_CTOR_DTOR</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;X86GenInstrInfo.inc&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<a class="code" href="X86InstrInfo_8cpp.html#a0a26f2051d28a56b0132627dcb82c367">NoFusing</a>(<span class="stringliteral">&quot;disable-spill-fusing&quot;</span>,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;         <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Disable fusing of spill code into instructions&quot;</span>));</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<a class="code" href="X86InstrInfo_8cpp.html#a827cf856172b038da27ceb6b38d97f40">PrintFailedFusing</a>(<span class="stringliteral">&quot;print-failed-fuse-candidates&quot;</span>,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Print instructions that the allocator wants to&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                           <span class="stringliteral">&quot; fuse, but the X86 backend currently can&#39;t&quot;</span>),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                  <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<a class="code" href="X86InstrInfo_8cpp.html#ae0fbc33aeabead735b7c93aec41638f7">ReMatPICStubLoad</a>(<span class="stringliteral">&quot;remat-pic-stub-load&quot;</span>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Re-materialize load from stub in PIC mode&quot;</span>),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                 <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// Select which memory operand is being unfolded.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// (stored in bits 0 - 3)</span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aae4e327424e502e7fb04ea9a22d3412a6">   60</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aae4e327424e502e7fb04ea9a22d3412a6">TB_INDEX_0</a>    = 0,</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aace73c3d1efdf695d37212bd436fa675c">   61</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aace73c3d1efdf695d37212bd436fa675c">TB_INDEX_1</a>    = 1,</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa8c9768724e21a02d04d137b4c14e36e3">   62</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa8c9768724e21a02d04d137b4c14e36e3">TB_INDEX_2</a>    = 2,</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa52b2670cc1730cf0f1f5ae181e0470fa">   63</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa52b2670cc1730cf0f1f5ae181e0470fa">TB_INDEX_3</a>    = 3,</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa50834daab82c1c30f6384a13a4680127">   64</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa50834daab82c1c30f6384a13a4680127">TB_INDEX_MASK</a> = 0xf,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// Do not insert the reverse map (MemOp -&gt; RegOp) into the table.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// This may be needed because there is a many -&gt; one mapping.</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3">   68</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3">TB_NO_REVERSE</a>   = 1 &lt;&lt; 4,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// Do not insert the forward map (RegOp -&gt; MemOp) into the table.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// This is needed for Native Client, which prohibits branch</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// instructions from using a memory operand.</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa0fe51bc2620334f4efc6e918939bec7d">   73</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa0fe51bc2620334f4efc6e918939bec7d">TB_NO_FORWARD</a>   = 1 &lt;&lt; 5,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">   75</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a>  = 1 &lt;&lt; 6,</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">   76</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">TB_FOLDED_STORE</a> = 1 &lt;&lt; 7,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// Minimum alignment required for load/store.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// Used for RegOp-&gt;MemOp conversion.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// (stored in bits 8 - 15)</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">   81</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a> = 8,</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaa5a02028d5ede4404a22cbcb409a08fb">   82</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaa5a02028d5ede4404a22cbcb409a08fb">TB_ALIGN_NONE</a>  =    0 &lt;&lt; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a>,</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">   83</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a>    =   16 &lt;&lt; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a>,</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">   84</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a>    =   32 &lt;&lt; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a>,</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa2fa8e83a3a09332e405c3caf1988da24">   85</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa2fa8e83a3a09332e405c3caf1988da24">TB_ALIGN_64</a>    =   64 &lt;&lt; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a>,</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa09bcb1a07fef11e4b680eb2c90986d3c">   86</a></span>&#160;  <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa09bcb1a07fef11e4b680eb2c90986d3c">TB_ALIGN_MASK</a>  = 0xff &lt;&lt; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;};</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structX86OpTblEntry.html">   89</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structX86OpTblEntry.html">X86OpTblEntry</a> {</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">   90</a></span>&#160;  uint16_t <a class="code" href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">RegOp</a>;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">   91</a></span>&#160;  uint16_t <a class="code" href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">MemOp</a>;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">   92</a></span>&#160;  uint16_t <a class="code" href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">Flags</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;};</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// Pin the vtable to this file.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keywordtype">void</span> X86InstrInfo::anchor() {}</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a3bb254ec28eb1a361adef1f65be4822f">   98</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a3bb254ec28eb1a361adef1f65be4822f">X86InstrInfo::X86InstrInfo</a>(<a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> &amp;tm)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  : <a class="code" href="classX86GenInstrInfo.html">X86GenInstrInfo</a>((tm.getSubtarget&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().is64Bit()</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                     ? <a class="code" href="Target_2README_8txt.html#afdf2770d4d0e00f3875afd6e7c61aa9d">X86</a>::ADJCALLSTACKDOWN64</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                     : <a class="code" href="Target_2README_8txt.html#afdf2770d4d0e00f3875afd6e7c61aa9d">X86</a>::ADJCALLSTACKDOWN32),</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    (tm.getSubtarget&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().is64Bit()</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                     ? <a class="code" href="Target_2README_8txt.html#afdf2770d4d0e00f3875afd6e7c61aa9d">X86</a>::ADJCALLSTACKUP64</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                     : <a class="code" href="Target_2README_8txt.html#afdf2770d4d0e00f3875afd6e7c61aa9d">X86</a>::ADJCALLSTACKUP32)),</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>(tm), RI(tm) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structX86OpTblEntry.html">X86OpTblEntry</a> OpTbl2Addr[] = {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    { X86::ADC32ri,     X86::ADC32mi,    0 },</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    { X86::ADC32ri8,    X86::ADC32mi8,   0 },</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    { X86::ADC32rr,     X86::ADC32mr,    0 },</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    { X86::ADC64ri32,   X86::ADC64mi32,  0 },</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    { X86::ADC64ri8,    X86::ADC64mi8,   0 },</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    { X86::ADC64rr,     X86::ADC64mr,    0 },</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    { X86::ADD16ri,     X86::ADD16mi,    0 },</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    { X86::ADD16ri8,    X86::ADD16mi8,   0 },</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    { X86::ADD16ri_DB,  X86::ADD16mi,    <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3">TB_NO_REVERSE</a> },</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    { X86::ADD16ri8_DB, X86::ADD16mi8,   TB_NO_REVERSE },</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    { X86::ADD16rr,     X86::ADD16mr,    0 },</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    { X86::ADD16rr_DB,  X86::ADD16mr,    TB_NO_REVERSE },</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    { X86::ADD32ri,     X86::ADD32mi,    0 },</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    { X86::ADD32ri8,    X86::ADD32mi8,   0 },</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    { X86::ADD32ri_DB,  X86::ADD32mi,    TB_NO_REVERSE },</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    { X86::ADD32ri8_DB, X86::ADD32mi8,   TB_NO_REVERSE },</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    { X86::ADD32rr,     X86::ADD32mr,    0 },</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    { X86::ADD32rr_DB,  X86::ADD32mr,    TB_NO_REVERSE },</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    { X86::ADD64ri32,   X86::ADD64mi32,  0 },</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    { X86::ADD64ri8,    X86::ADD64mi8,   0 },</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    { X86::ADD64ri32_DB,X86::ADD64mi32,  TB_NO_REVERSE },</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    { X86::ADD64ri8_DB, X86::ADD64mi8,   TB_NO_REVERSE },</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    { X86::ADD64rr,     X86::ADD64mr,    0 },</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    { X86::ADD64rr_DB,  X86::ADD64mr,    TB_NO_REVERSE },</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    { X86::ADD8ri,      X86::ADD8mi,     0 },</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    { X86::ADD8rr,      X86::ADD8mr,     0 },</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    { X86::AND16ri,     X86::AND16mi,    0 },</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    { X86::AND16ri8,    X86::AND16mi8,   0 },</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    { X86::AND16rr,     X86::AND16mr,    0 },</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    { X86::AND32ri,     X86::AND32mi,    0 },</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    { X86::AND32ri8,    X86::AND32mi8,   0 },</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    { X86::AND32rr,     X86::AND32mr,    0 },</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    { X86::AND64ri32,   X86::AND64mi32,  0 },</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    { X86::AND64ri8,    X86::AND64mi8,   0 },</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    { X86::AND64rr,     X86::AND64mr,    0 },</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    { X86::AND8ri,      X86::AND8mi,     0 },</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    { X86::AND8rr,      X86::AND8mr,     0 },</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    { X86::DEC16r,      X86::DEC16m,     0 },</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    { X86::DEC32r,      X86::DEC32m,     0 },</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    { X86::DEC64_16r,   X86::DEC64_16m,  0 },</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    { X86::DEC64_32r,   X86::DEC64_32m,  0 },</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    { X86::DEC64r,      X86::DEC64m,     0 },</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    { X86::DEC8r,       X86::DEC8m,      0 },</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    { X86::INC16r,      X86::INC16m,     0 },</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    { X86::INC32r,      X86::INC32m,     0 },</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    { X86::INC64_16r,   X86::INC64_16m,  0 },</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    { X86::INC64_32r,   X86::INC64_32m,  0 },</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    { X86::INC64r,      X86::INC64m,     0 },</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    { X86::INC8r,       X86::INC8m,      0 },</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    { X86::NEG16r,      X86::NEG16m,     0 },</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    { X86::NEG32r,      X86::NEG32m,     0 },</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    { X86::NEG64r,      X86::NEG64m,     0 },</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    { X86::NEG8r,       X86::NEG8m,      0 },</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    { X86::NOT16r,      X86::NOT16m,     0 },</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    { X86::NOT32r,      X86::NOT32m,     0 },</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    { X86::NOT64r,      X86::NOT64m,     0 },</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    { X86::NOT8r,       X86::NOT8m,      0 },</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    { X86::OR16ri,      X86::OR16mi,     0 },</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    { X86::OR16ri8,     X86::OR16mi8,    0 },</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    { X86::OR16rr,      X86::OR16mr,     0 },</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    { X86::OR32ri,      X86::OR32mi,     0 },</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    { X86::OR32ri8,     X86::OR32mi8,    0 },</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    { X86::OR32rr,      X86::OR32mr,     0 },</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    { X86::OR64ri32,    X86::OR64mi32,   0 },</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    { X86::OR64ri8,     X86::OR64mi8,    0 },</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    { X86::OR64rr,      X86::OR64mr,     0 },</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    { X86::OR8ri,       X86::OR8mi,      0 },</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    { X86::OR8rr,       X86::OR8mr,      0 },</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    { X86::ROL16r1,     X86::ROL16m1,    0 },</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    { X86::ROL16rCL,    X86::ROL16mCL,   0 },</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    { X86::ROL16ri,     X86::ROL16mi,    0 },</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    { X86::ROL32r1,     X86::ROL32m1,    0 },</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    { X86::ROL32rCL,    X86::ROL32mCL,   0 },</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    { X86::ROL32ri,     X86::ROL32mi,    0 },</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    { X86::ROL64r1,     X86::ROL64m1,    0 },</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    { X86::ROL64rCL,    X86::ROL64mCL,   0 },</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    { X86::ROL64ri,     X86::ROL64mi,    0 },</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    { X86::ROL8r1,      X86::ROL8m1,     0 },</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    { X86::ROL8rCL,     X86::ROL8mCL,    0 },</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    { X86::ROL8ri,      X86::ROL8mi,     0 },</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    { X86::ROR16r1,     X86::ROR16m1,    0 },</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    { X86::ROR16rCL,    X86::ROR16mCL,   0 },</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    { X86::ROR16ri,     X86::ROR16mi,    0 },</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    { X86::ROR32r1,     X86::ROR32m1,    0 },</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    { X86::ROR32rCL,    X86::ROR32mCL,   0 },</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    { X86::ROR32ri,     X86::ROR32mi,    0 },</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    { X86::ROR64r1,     X86::ROR64m1,    0 },</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    { X86::ROR64rCL,    X86::ROR64mCL,   0 },</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    { X86::ROR64ri,     X86::ROR64mi,    0 },</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    { X86::ROR8r1,      X86::ROR8m1,     0 },</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    { X86::ROR8rCL,     X86::ROR8mCL,    0 },</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    { X86::ROR8ri,      X86::ROR8mi,     0 },</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    { X86::SAR16r1,     X86::SAR16m1,    0 },</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    { X86::SAR16rCL,    X86::SAR16mCL,   0 },</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    { X86::SAR16ri,     X86::SAR16mi,    0 },</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    { X86::SAR32r1,     X86::SAR32m1,    0 },</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    { X86::SAR32rCL,    X86::SAR32mCL,   0 },</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    { X86::SAR32ri,     X86::SAR32mi,    0 },</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    { X86::SAR64r1,     X86::SAR64m1,    0 },</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    { X86::SAR64rCL,    X86::SAR64mCL,   0 },</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    { X86::SAR64ri,     X86::SAR64mi,    0 },</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    { X86::SAR8r1,      X86::SAR8m1,     0 },</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    { X86::SAR8rCL,     X86::SAR8mCL,    0 },</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    { X86::SAR8ri,      X86::SAR8mi,     0 },</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    { X86::SBB32ri,     X86::SBB32mi,    0 },</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    { X86::SBB32ri8,    X86::SBB32mi8,   0 },</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    { X86::SBB32rr,     X86::SBB32mr,    0 },</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    { X86::SBB64ri32,   X86::SBB64mi32,  0 },</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    { X86::SBB64ri8,    X86::SBB64mi8,   0 },</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    { X86::SBB64rr,     X86::SBB64mr,    0 },</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    { X86::SHL16rCL,    X86::SHL16mCL,   0 },</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    { X86::SHL16ri,     X86::SHL16mi,    0 },</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    { X86::SHL32rCL,    X86::SHL32mCL,   0 },</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    { X86::SHL32ri,     X86::SHL32mi,    0 },</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    { X86::SHL64rCL,    X86::SHL64mCL,   0 },</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    { X86::SHL64ri,     X86::SHL64mi,    0 },</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    { X86::SHL8rCL,     X86::SHL8mCL,    0 },</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    { X86::SHL8ri,      X86::SHL8mi,     0 },</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    { X86::SHLD16rrCL,  X86::SHLD16mrCL, 0 },</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    { X86::SHLD16rri8,  X86::SHLD16mri8, 0 },</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    { X86::SHLD32rrCL,  X86::SHLD32mrCL, 0 },</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    { X86::SHLD32rri8,  X86::SHLD32mri8, 0 },</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    { X86::SHLD64rrCL,  X86::SHLD64mrCL, 0 },</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    { X86::SHLD64rri8,  X86::SHLD64mri8, 0 },</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    { X86::SHR16r1,     X86::SHR16m1,    0 },</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    { X86::SHR16rCL,    X86::SHR16mCL,   0 },</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    { X86::SHR16ri,     X86::SHR16mi,    0 },</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    { X86::SHR32r1,     X86::SHR32m1,    0 },</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    { X86::SHR32rCL,    X86::SHR32mCL,   0 },</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    { X86::SHR32ri,     X86::SHR32mi,    0 },</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    { X86::SHR64r1,     X86::SHR64m1,    0 },</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    { X86::SHR64rCL,    X86::SHR64mCL,   0 },</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    { X86::SHR64ri,     X86::SHR64mi,    0 },</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    { X86::SHR8r1,      X86::SHR8m1,     0 },</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    { X86::SHR8rCL,     X86::SHR8mCL,    0 },</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    { X86::SHR8ri,      X86::SHR8mi,     0 },</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    { X86::SHRD16rrCL,  X86::SHRD16mrCL, 0 },</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    { X86::SHRD16rri8,  X86::SHRD16mri8, 0 },</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    { X86::SHRD32rrCL,  X86::SHRD32mrCL, 0 },</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    { X86::SHRD32rri8,  X86::SHRD32mri8, 0 },</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    { X86::SHRD64rrCL,  X86::SHRD64mrCL, 0 },</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    { X86::SHRD64rri8,  X86::SHRD64mri8, 0 },</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    { X86::SUB16ri,     X86::SUB16mi,    0 },</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    { X86::SUB16ri8,    X86::SUB16mi8,   0 },</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    { X86::SUB16rr,     X86::SUB16mr,    0 },</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    { X86::SUB32ri,     X86::SUB32mi,    0 },</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    { X86::SUB32ri8,    X86::SUB32mi8,   0 },</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    { X86::SUB32rr,     X86::SUB32mr,    0 },</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    { X86::SUB64ri32,   X86::SUB64mi32,  0 },</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    { X86::SUB64ri8,    X86::SUB64mi8,   0 },</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    { X86::SUB64rr,     X86::SUB64mr,    0 },</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    { X86::SUB8ri,      X86::SUB8mi,     0 },</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    { X86::SUB8rr,      X86::SUB8mr,     0 },</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    { X86::XOR16ri,     X86::XOR16mi,    0 },</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    { X86::XOR16ri8,    X86::XOR16mi8,   0 },</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    { X86::XOR16rr,     X86::XOR16mr,    0 },</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    { X86::XOR32ri,     X86::XOR32mi,    0 },</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    { X86::XOR32ri8,    X86::XOR32mi8,   0 },</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    { X86::XOR32rr,     X86::XOR32mr,    0 },</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    { X86::XOR64ri32,   X86::XOR64mi32,  0 },</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    { X86::XOR64ri8,    X86::XOR64mi8,   0 },</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    { X86::XOR64rr,     X86::XOR64mr,    0 },</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    { X86::XOR8ri,      X86::XOR8mi,     0 },</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    { X86::XOR8rr,      X86::XOR8mr,     0 }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  };</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(OpTbl2Addr); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">unsigned</span> RegOp = OpTbl2Addr[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">RegOp</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">unsigned</span> MemOp = OpTbl2Addr[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">MemOp</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a> = OpTbl2Addr[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">Flags</a>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    AddTableEntry(RegOp2MemOpTable2Addr, MemOp2RegOpTable,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                  RegOp, MemOp,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                  <span class="comment">// Index 0, folded load and store, no alignment requirement.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                  Flags | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aae4e327424e502e7fb04ea9a22d3412a6">TB_INDEX_0</a> | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a> | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">TB_FOLDED_STORE</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structX86OpTblEntry.html">X86OpTblEntry</a> OpTbl0[] = {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    { X86::BT16ri8,     X86::BT16mi8,       <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a> },</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    { X86::BT32ri8,     X86::BT32mi8,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    { X86::BT64ri8,     X86::BT64mi8,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    { X86::CALL32r,     X86::CALL32m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    { X86::CALL64r,     X86::CALL64m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    { X86::CMP16ri,     X86::CMP16mi,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    { X86::CMP16ri8,    X86::CMP16mi8,      TB_FOLDED_LOAD },</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    { X86::CMP16rr,     X86::CMP16mr,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    { X86::CMP32ri,     X86::CMP32mi,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    { X86::CMP32ri8,    X86::CMP32mi8,      TB_FOLDED_LOAD },</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    { X86::CMP32rr,     X86::CMP32mr,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    { X86::CMP64ri32,   X86::CMP64mi32,     TB_FOLDED_LOAD },</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    { X86::CMP64ri8,    X86::CMP64mi8,      TB_FOLDED_LOAD },</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    { X86::CMP64rr,     X86::CMP64mr,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    { X86::CMP8ri,      X86::CMP8mi,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    { X86::CMP8rr,      X86::CMP8mr,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    { X86::DIV16r,      X86::DIV16m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    { X86::DIV32r,      X86::DIV32m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    { X86::DIV64r,      X86::DIV64m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    { X86::DIV8r,       X86::DIV8m,         TB_FOLDED_LOAD },</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    { X86::EXTRACTPSrr, X86::EXTRACTPSmr,   <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">TB_FOLDED_STORE</a> },</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    { X86::IDIV16r,     X86::IDIV16m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    { X86::IDIV32r,     X86::IDIV32m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    { X86::IDIV64r,     X86::IDIV64m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    { X86::IDIV8r,      X86::IDIV8m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    { X86::IMUL16r,     X86::IMUL16m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    { X86::IMUL32r,     X86::IMUL32m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    { X86::IMUL64r,     X86::IMUL64m,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    { X86::IMUL8r,      X86::IMUL8m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    { X86::JMP32r,      X86::JMP32m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    { X86::JMP64r,      X86::JMP64m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    { X86::MOV16ri,     X86::MOV16mi,       TB_FOLDED_STORE },</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    { X86::MOV16rr,     X86::MOV16mr,       TB_FOLDED_STORE },</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    { X86::MOV32ri,     X86::MOV32mi,       TB_FOLDED_STORE },</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    { X86::MOV32rr,     X86::MOV32mr,       TB_FOLDED_STORE },</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    { X86::MOV64ri32,   X86::MOV64mi32,     TB_FOLDED_STORE },</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    { X86::MOV64rr,     X86::MOV64mr,       TB_FOLDED_STORE },</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    { X86::MOV8ri,      X86::MOV8mi,        TB_FOLDED_STORE },</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    { X86::MOV8rr,      X86::MOV8mr,        TB_FOLDED_STORE },</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    { X86::MOV8rr_NOREX, X86::MOV8mr_NOREX, TB_FOLDED_STORE },</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    { X86::MOVAPDrr,    X86::MOVAPDmr,      TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    { X86::MOVAPSrr,    X86::MOVAPSmr,      TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    { X86::MOVDQArr,    X86::MOVDQAmr,      TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    { X86::MOVPDI2DIrr, X86::MOVPDI2DImr,   TB_FOLDED_STORE },</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    { X86::MOVPQIto64rr,X86::MOVPQI2QImr,   TB_FOLDED_STORE },</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    { X86::MOVSDto64rr, X86::MOVSDto64mr,   TB_FOLDED_STORE },</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    { X86::MOVSS2DIrr,  X86::MOVSS2DImr,    TB_FOLDED_STORE },</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    { X86::MOVUPDrr,    X86::MOVUPDmr,      TB_FOLDED_STORE },</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    { X86::MOVUPSrr,    X86::MOVUPSmr,      TB_FOLDED_STORE },</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    { X86::MUL16r,      X86::MUL16m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    { X86::MUL32r,      X86::MUL32m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    { X86::MUL64r,      X86::MUL64m,        TB_FOLDED_LOAD },</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    { X86::MUL8r,       X86::MUL8m,         TB_FOLDED_LOAD },</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    { X86::SETAEr,      X86::SETAEm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    { X86::SETAr,       X86::SETAm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    { X86::SETBEr,      X86::SETBEm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    { X86::SETBr,       X86::SETBm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    { X86::SETEr,       X86::SETEm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    { X86::SETGEr,      X86::SETGEm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    { X86::SETGr,       X86::SETGm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    { X86::SETLEr,      X86::SETLEm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    { X86::SETLr,       X86::SETLm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    { X86::SETNEr,      X86::SETNEm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    { X86::SETNOr,      X86::SETNOm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    { X86::SETNPr,      X86::SETNPm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    { X86::SETNSr,      X86::SETNSm,        TB_FOLDED_STORE },</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    { X86::SETOr,       X86::SETOm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    { X86::SETPr,       X86::SETPm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    { X86::SETSr,       X86::SETSm,         TB_FOLDED_STORE },</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    { X86::TAILJMPr,    X86::TAILJMPm,      TB_FOLDED_LOAD },</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    { X86::TAILJMPr64,  X86::TAILJMPm64,    TB_FOLDED_LOAD },</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    { X86::TEST16ri,    X86::TEST16mi,      TB_FOLDED_LOAD },</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    { X86::TEST32ri,    X86::TEST32mi,      TB_FOLDED_LOAD },</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    { X86::TEST64ri32,  X86::TEST64mi32,    TB_FOLDED_LOAD },</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    { X86::TEST8ri,     X86::TEST8mi,       TB_FOLDED_LOAD },</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">// AVX 128-bit versions of foldable instructions</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    { X86::VEXTRACTPSrr,X86::VEXTRACTPSmr,  TB_FOLDED_STORE  },</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    { X86::VEXTRACTF128rr, X86::VEXTRACTF128mr, TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    { X86::VMOVAPDrr,   X86::VMOVAPDmr,     TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    { X86::VMOVAPSrr,   X86::VMOVAPSmr,     TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    { X86::VMOVDQArr,   X86::VMOVDQAmr,     TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    { X86::VMOVPDI2DIrr,X86::VMOVPDI2DImr,  TB_FOLDED_STORE },</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    { X86::VMOVPQIto64rr, X86::VMOVPQI2QImr,TB_FOLDED_STORE },</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    { X86::VMOVSDto64rr,X86::VMOVSDto64mr,  TB_FOLDED_STORE },</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    { X86::VMOVSS2DIrr, X86::VMOVSS2DImr,   TB_FOLDED_STORE },</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    { X86::VMOVUPDrr,   X86::VMOVUPDmr,     TB_FOLDED_STORE },</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    { X86::VMOVUPSrr,   X86::VMOVUPSmr,     TB_FOLDED_STORE },</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// AVX 256-bit foldable instructions</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    { X86::VEXTRACTI128rr, X86::VEXTRACTI128mr, TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    { X86::VMOVAPDYrr,  X86::VMOVAPDYmr,    TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a> },</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    { X86::VMOVAPSYrr,  X86::VMOVAPSYmr,    TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a> },</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    { X86::VMOVDQAYrr,  X86::VMOVDQAYmr,    TB_FOLDED_STORE | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a> },</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    { X86::VMOVUPDYrr,  X86::VMOVUPDYmr,    TB_FOLDED_STORE },</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    { X86::VMOVUPSYrr,  X86::VMOVUPSYmr,    TB_FOLDED_STORE },</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// AVX-512 foldable instructions</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    { X86::VMOVPDI2DIZrr,X86::VMOVPDI2DIZmr,  TB_FOLDED_STORE }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  };</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(OpTbl0); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">unsigned</span> RegOp      = OpTbl0[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">RegOp</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">unsigned</span> MemOp      = OpTbl0[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">MemOp</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>      = OpTbl0[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">Flags</a>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    AddTableEntry(RegOp2MemOpTable0, MemOp2RegOpTable,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                  RegOp, MemOp, <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aae4e327424e502e7fb04ea9a22d3412a6">TB_INDEX_0</a> | Flags);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structX86OpTblEntry.html">X86OpTblEntry</a> OpTbl1[] = {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    { X86::CMP16rr,         X86::CMP16rm,             0 },</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    { X86::CMP32rr,         X86::CMP32rm,             0 },</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    { X86::CMP64rr,         X86::CMP64rm,             0 },</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    { X86::CMP8rr,          X86::CMP8rm,              0 },</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    { X86::CVTSD2SSrr,      X86::CVTSD2SSrm,          0 },</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    { X86::CVTSI2SD64rr,    X86::CVTSI2SD64rm,        0 },</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    { X86::CVTSI2SDrr,      X86::CVTSI2SDrm,          0 },</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    { X86::CVTSI2SS64rr,    X86::CVTSI2SS64rm,        0 },</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    { X86::CVTSI2SSrr,      X86::CVTSI2SSrm,          0 },</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    { X86::CVTSS2SDrr,      X86::CVTSS2SDrm,          0 },</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    { X86::CVTTSD2SI64rr,   X86::CVTTSD2SI64rm,       0 },</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    { X86::CVTTSD2SIrr,     X86::CVTTSD2SIrm,         0 },</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    { X86::CVTTSS2SI64rr,   X86::CVTTSS2SI64rm,       0 },</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    { X86::CVTTSS2SIrr,     X86::CVTTSS2SIrm,         0 },</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    { X86::IMUL16rri,       X86::IMUL16rmi,           0 },</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    { X86::IMUL16rri8,      X86::IMUL16rmi8,          0 },</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    { X86::IMUL32rri,       X86::IMUL32rmi,           0 },</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    { X86::IMUL32rri8,      X86::IMUL32rmi8,          0 },</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    { X86::IMUL64rri32,     X86::IMUL64rmi32,         0 },</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    { X86::IMUL64rri8,      X86::IMUL64rmi8,          0 },</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    { X86::Int_COMISDrr,    X86::Int_COMISDrm,        0 },</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    { X86::Int_COMISSrr,    X86::Int_COMISSrm,        0 },</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    { X86::CVTSD2SI64rr,    X86::CVTSD2SI64rm,        0 },</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    { X86::CVTSD2SIrr,      X86::CVTSD2SIrm,          0 },</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    { X86::CVTSS2SI64rr,    X86::CVTSS2SI64rm,        0 },</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    { X86::CVTSS2SIrr,      X86::CVTSS2SIrm,          0 },</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    { X86::CVTTPD2DQrr,     X86::CVTTPD2DQrm,         <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    { X86::CVTTPS2DQrr,     X86::CVTTPS2DQrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    { X86::Int_CVTTSD2SI64rr,X86::Int_CVTTSD2SI64rm,  0 },</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    { X86::Int_CVTTSD2SIrr, X86::Int_CVTTSD2SIrm,     0 },</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    { X86::Int_CVTTSS2SI64rr,X86::Int_CVTTSS2SI64rm,  0 },</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    { X86::Int_CVTTSS2SIrr, X86::Int_CVTTSS2SIrm,     0 },</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    { X86::Int_UCOMISDrr,   X86::Int_UCOMISDrm,       0 },</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    { X86::Int_UCOMISSrr,   X86::Int_UCOMISSrm,       0 },</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    { X86::MOV16rr,         X86::MOV16rm,             0 },</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    { X86::MOV32rr,         X86::MOV32rm,             0 },</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    { X86::MOV64rr,         X86::MOV64rm,             0 },</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    { X86::MOV64toPQIrr,    X86::MOVQI2PQIrm,         0 },</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    { X86::MOV64toSDrr,     X86::MOV64toSDrm,         0 },</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    { X86::MOV8rr,          X86::MOV8rm,              0 },</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    { X86::MOVAPDrr,        X86::MOVAPDrm,            TB_ALIGN_16 },</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    { X86::MOVAPSrr,        X86::MOVAPSrm,            TB_ALIGN_16 },</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    { X86::MOVDDUPrr,       X86::MOVDDUPrm,           0 },</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    { X86::MOVDI2PDIrr,     X86::MOVDI2PDIrm,         0 },</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    { X86::MOVDI2SSrr,      X86::MOVDI2SSrm,          0 },</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    { X86::MOVDQArr,        X86::MOVDQArm,            TB_ALIGN_16 },</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    { X86::MOVSHDUPrr,      X86::MOVSHDUPrm,          TB_ALIGN_16 },</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    { X86::MOVSLDUPrr,      X86::MOVSLDUPrm,          TB_ALIGN_16 },</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    { X86::MOVSX16rr8,      X86::MOVSX16rm8,          0 },</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    { X86::MOVSX32rr16,     X86::MOVSX32rm16,         0 },</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    { X86::MOVSX32rr8,      X86::MOVSX32rm8,          0 },</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    { X86::MOVSX64rr16,     X86::MOVSX64rm16,         0 },</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    { X86::MOVSX64rr32,     X86::MOVSX64rm32,         0 },</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    { X86::MOVSX64rr8,      X86::MOVSX64rm8,          0 },</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    { X86::MOVUPDrr,        X86::MOVUPDrm,            TB_ALIGN_16 },</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    { X86::MOVUPSrr,        X86::MOVUPSrm,            0 },</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    { X86::MOVZQI2PQIrr,    X86::MOVZQI2PQIrm,        0 },</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    { X86::MOVZPQILo2PQIrr, X86::MOVZPQILo2PQIrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    { X86::MOVZX16rr8,      X86::MOVZX16rm8,          0 },</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    { X86::MOVZX32rr16,     X86::MOVZX32rm16,         0 },</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    { X86::MOVZX32_NOREXrr8, X86::MOVZX32_NOREXrm8,   0 },</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    { X86::MOVZX32rr8,      X86::MOVZX32rm8,          0 },</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    { X86::PABSBrr128,      X86::PABSBrm128,          TB_ALIGN_16 },</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    { X86::PABSDrr128,      X86::PABSDrm128,          TB_ALIGN_16 },</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    { X86::PABSWrr128,      X86::PABSWrm128,          TB_ALIGN_16 },</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    { X86::PSHUFDri,        X86::PSHUFDmi,            TB_ALIGN_16 },</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    { X86::PSHUFHWri,       X86::PSHUFHWmi,           TB_ALIGN_16 },</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    { X86::PSHUFLWri,       X86::PSHUFLWmi,           TB_ALIGN_16 },</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    { X86::RCPPSr,          X86::RCPPSm,              TB_ALIGN_16 },</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    { X86::RCPPSr_Int,      X86::RCPPSm_Int,          TB_ALIGN_16 },</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    { X86::RSQRTPSr,        X86::RSQRTPSm,            TB_ALIGN_16 },</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    { X86::RSQRTPSr_Int,    X86::RSQRTPSm_Int,        TB_ALIGN_16 },</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    { X86::RSQRTSSr,        X86::RSQRTSSm,            0 },</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    { X86::RSQRTSSr_Int,    X86::RSQRTSSm_Int,        0 },</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    { X86::SQRTPDr,         X86::SQRTPDm,             TB_ALIGN_16 },</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    { X86::SQRTPSr,         X86::SQRTPSm,             TB_ALIGN_16 },</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    { X86::SQRTSDr,         X86::SQRTSDm,             0 },</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    { X86::SQRTSDr_Int,     X86::SQRTSDm_Int,         0 },</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    { X86::SQRTSSr,         X86::SQRTSSm,             0 },</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    { X86::SQRTSSr_Int,     X86::SQRTSSm_Int,         0 },</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    { X86::TEST16rr,        X86::TEST16rm,            0 },</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    { X86::TEST32rr,        X86::TEST32rm,            0 },</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    { X86::TEST64rr,        X86::TEST64rm,            0 },</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    { X86::TEST8rr,         X86::TEST8rm,             0 },</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// FIXME: TEST*rr EAX,EAX ---&gt; CMP [mem], 0</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    { X86::UCOMISDrr,       X86::UCOMISDrm,           0 },</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    { X86::UCOMISSrr,       X86::UCOMISSrm,           0 },</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="comment">// AVX 128-bit versions of foldable instructions</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    { X86::Int_VCOMISDrr,   X86::Int_VCOMISDrm,       0 },</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    { X86::Int_VCOMISSrr,   X86::Int_VCOMISSrm,       0 },</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    { X86::Int_VUCOMISDrr,  X86::Int_VUCOMISDrm,      0 },</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    { X86::Int_VUCOMISSrr,  X86::Int_VUCOMISSrm,      0 },</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    { X86::VCVTTSD2SI64rr,  X86::VCVTTSD2SI64rm,      0 },</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    { X86::Int_VCVTTSD2SI64rr,X86::Int_VCVTTSD2SI64rm,0 },</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    { X86::VCVTTSD2SIrr,    X86::VCVTTSD2SIrm,        0 },</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    { X86::Int_VCVTTSD2SIrr,X86::Int_VCVTTSD2SIrm,    0 },</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    { X86::VCVTTSS2SI64rr,  X86::VCVTTSS2SI64rm,      0 },</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    { X86::Int_VCVTTSS2SI64rr,X86::Int_VCVTTSS2SI64rm,0 },</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    { X86::VCVTTSS2SIrr,    X86::VCVTTSS2SIrm,        0 },</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    { X86::Int_VCVTTSS2SIrr,X86::Int_VCVTTSS2SIrm,    0 },</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    { X86::VCVTSD2SI64rr,   X86::VCVTSD2SI64rm,       0 },</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    { X86::VCVTSD2SIrr,     X86::VCVTSD2SIrm,         0 },</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    { X86::VCVTSS2SI64rr,   X86::VCVTSS2SI64rm,       0 },</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    { X86::VCVTSS2SIrr,     X86::VCVTSS2SIrm,         0 },</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    { X86::VMOV64toPQIrr,   X86::VMOVQI2PQIrm,        0 },</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    { X86::VMOV64toSDrr,    X86::VMOV64toSDrm,        0 },</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    { X86::VMOVAPDrr,       X86::VMOVAPDrm,           TB_ALIGN_16 },</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    { X86::VMOVAPSrr,       X86::VMOVAPSrm,           TB_ALIGN_16 },</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    { X86::VMOVDDUPrr,      X86::VMOVDDUPrm,          0 },</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    { X86::VMOVDI2PDIrr,    X86::VMOVDI2PDIrm,        0 },</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    { X86::VMOVDI2SSrr,     X86::VMOVDI2SSrm,         0 },</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    { X86::VMOVDQArr,       X86::VMOVDQArm,           TB_ALIGN_16 },</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    { X86::VMOVSLDUPrr,     X86::VMOVSLDUPrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    { X86::VMOVSHDUPrr,     X86::VMOVSHDUPrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    { X86::VMOVUPDrr,       X86::VMOVUPDrm,           0 },</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    { X86::VMOVUPSrr,       X86::VMOVUPSrm,           0 },</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    { X86::VMOVZQI2PQIrr,   X86::VMOVZQI2PQIrm,       0 },</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    { X86::VMOVZPQILo2PQIrr,X86::VMOVZPQILo2PQIrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    { X86::VPABSBrr128,     X86::VPABSBrm128,         0 },</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    { X86::VPABSDrr128,     X86::VPABSDrm128,         0 },</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    { X86::VPABSWrr128,     X86::VPABSWrm128,         0 },</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    { X86::VPERMILPDri,     X86::VPERMILPDmi,         0 },</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    { X86::VPERMILPSri,     X86::VPERMILPSmi,         0 },</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    { X86::VPSHUFDri,       X86::VPSHUFDmi,           0 },</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    { X86::VPSHUFHWri,      X86::VPSHUFHWmi,          0 },</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    { X86::VPSHUFLWri,      X86::VPSHUFLWmi,          0 },</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    { X86::VRCPPSr,         X86::VRCPPSm,             0 },</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    { X86::VRCPPSr_Int,     X86::VRCPPSm_Int,         0 },</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    { X86::VRSQRTPSr,       X86::VRSQRTPSm,           0 },</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    { X86::VRSQRTPSr_Int,   X86::VRSQRTPSm_Int,       0 },</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    { X86::VSQRTPDr,        X86::VSQRTPDm,            0 },</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    { X86::VSQRTPSr,        X86::VSQRTPSm,            0 },</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    { X86::VUCOMISDrr,      X86::VUCOMISDrm,          0 },</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    { X86::VUCOMISSrr,      X86::VUCOMISSrm,          0 },</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    { X86::VBROADCASTSSrr,  X86::VBROADCASTSSrm,      <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3">TB_NO_REVERSE</a> },</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">// AVX 256-bit foldable instructions</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    { X86::VMOVAPDYrr,      X86::VMOVAPDYrm,          <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a> },</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    { X86::VMOVAPSYrr,      X86::VMOVAPSYrm,          TB_ALIGN_32 },</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    { X86::VMOVDQAYrr,      X86::VMOVDQAYrm,          TB_ALIGN_32 },</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    { X86::VMOVUPDYrr,      X86::VMOVUPDYrm,          0 },</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    { X86::VMOVUPSYrr,      X86::VMOVUPSYrm,          0 },</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    { X86::VPERMILPDYri,    X86::VPERMILPDYmi,        0 },</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    { X86::VPERMILPSYri,    X86::VPERMILPSYmi,        0 },</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// AVX2 foldable instructions</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    { X86::VPABSBrr256,     X86::VPABSBrm256,         0 },</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    { X86::VPABSDrr256,     X86::VPABSDrm256,         0 },</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    { X86::VPABSWrr256,     X86::VPABSWrm256,         0 },</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    { X86::VPSHUFDYri,      X86::VPSHUFDYmi,          0 },</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    { X86::VPSHUFHWYri,     X86::VPSHUFHWYmi,         0 },</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    { X86::VPSHUFLWYri,     X86::VPSHUFLWYmi,         0 },</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    { X86::VRCPPSYr,        X86::VRCPPSYm,            0 },</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    { X86::VRCPPSYr_Int,    X86::VRCPPSYm_Int,        0 },</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    { X86::VRSQRTPSYr,      X86::VRSQRTPSYm,          0 },</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    { X86::VSQRTPDYr,       X86::VSQRTPDYm,           0 },</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    { X86::VSQRTPSYr,       X86::VSQRTPSYm,           0 },</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    { X86::VBROADCASTSSYrr, X86::VBROADCASTSSYrm,     TB_NO_REVERSE },</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    { X86::VBROADCASTSDYrr, X86::VBROADCASTSDYrm,     TB_NO_REVERSE },</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// BMI/BMI2/LZCNT/POPCNT/TBM foldable instructions</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    { X86::BEXTR32rr,       X86::BEXTR32rm,           0 },</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    { X86::BEXTR64rr,       X86::BEXTR64rm,           0 },</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    { X86::BEXTRI32ri,      X86::BEXTRI32mi,          0 },</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    { X86::BEXTRI64ri,      X86::BEXTRI64mi,          0 },</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    { X86::BLCFILL32rr,     X86::BLCFILL32rm,         0 },</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    { X86::BLCFILL64rr,     X86::BLCFILL64rm,         0 },</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    { X86::BLCI32rr,        X86::BLCI32rm,            0 },</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    { X86::BLCI64rr,        X86::BLCI64rm,            0 },</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    { X86::BLCIC32rr,       X86::BLCIC32rm,           0 },</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    { X86::BLCIC64rr,       X86::BLCIC64rm,           0 },</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    { X86::BLCMSK32rr,      X86::BLCMSK32rm,          0 },</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    { X86::BLCMSK64rr,      X86::BLCMSK64rm,          0 },</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    { X86::BLCS32rr,        X86::BLCS32rm,            0 },</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    { X86::BLCS64rr,        X86::BLCS64rm,            0 },</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    { X86::BLSFILL32rr,     X86::BLSFILL32rm,         0 },</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    { X86::BLSFILL64rr,     X86::BLSFILL64rm,         0 },</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    { X86::BLSI32rr,        X86::BLSI32rm,            0 },</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    { X86::BLSI64rr,        X86::BLSI64rm,            0 },</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    { X86::BLSIC32rr,       X86::BLSIC32rm,           0 },</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    { X86::BLSIC64rr,       X86::BLSIC64rm,           0 },</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    { X86::BLSMSK32rr,      X86::BLSMSK32rm,          0 },</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    { X86::BLSMSK64rr,      X86::BLSMSK64rm,          0 },</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    { X86::BLSR32rr,        X86::BLSR32rm,            0 },</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    { X86::BLSR64rr,        X86::BLSR64rm,            0 },</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    { X86::BZHI32rr,        X86::BZHI32rm,            0 },</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    { X86::BZHI64rr,        X86::BZHI64rm,            0 },</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    { X86::LZCNT16rr,       X86::LZCNT16rm,           0 },</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    { X86::LZCNT32rr,       X86::LZCNT32rm,           0 },</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    { X86::LZCNT64rr,       X86::LZCNT64rm,           0 },</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    { X86::POPCNT16rr,      X86::POPCNT16rm,          0 },</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    { X86::POPCNT32rr,      X86::POPCNT32rm,          0 },</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    { X86::POPCNT64rr,      X86::POPCNT64rm,          0 },</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    { X86::RORX32ri,        X86::RORX32mi,            0 },</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    { X86::RORX64ri,        X86::RORX64mi,            0 },</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    { X86::SARX32rr,        X86::SARX32rm,            0 },</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    { X86::SARX64rr,        X86::SARX64rm,            0 },</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    { X86::SHRX32rr,        X86::SHRX32rm,            0 },</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    { X86::SHRX64rr,        X86::SHRX64rm,            0 },</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    { X86::SHLX32rr,        X86::SHLX32rm,            0 },</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    { X86::SHLX64rr,        X86::SHLX64rm,            0 },</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    { X86::T1MSKC32rr,      X86::T1MSKC32rm,          0 },</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    { X86::T1MSKC64rr,      X86::T1MSKC64rm,          0 },</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    { X86::TZCNT16rr,       X86::TZCNT16rm,           0 },</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    { X86::TZCNT32rr,       X86::TZCNT32rm,           0 },</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    { X86::TZCNT64rr,       X86::TZCNT64rm,           0 },</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    { X86::TZMSK32rr,       X86::TZMSK32rm,           0 },</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    { X86::TZMSK64rr,       X86::TZMSK64rm,           0 },</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// AVX-512 foldable instructions</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    { X86::VMOV64toPQIZrr,  X86::VMOVQI2PQIZrm,       0 },</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    { X86::VMOVDI2SSZrr,    X86::VMOVDI2SSZrm,        0 },</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    { X86::VMOVDQA32rr,     X86::VMOVDQA32rm,         <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa2fa8e83a3a09332e405c3caf1988da24">TB_ALIGN_64</a> },</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    { X86::VMOVDQA64rr,     X86::VMOVDQA64rm,         TB_ALIGN_64 },</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    { X86::VMOVDQU32rr,     X86::VMOVDQU32rm,         0 },</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    { X86::VMOVDQU64rr,     X86::VMOVDQU64rm,         0 },</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// AES foldable instructions</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    { X86::AESIMCrr,              X86::AESIMCrm,              TB_ALIGN_16 },</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    { X86::AESKEYGENASSIST128rr,  X86::AESKEYGENASSIST128rm,  TB_ALIGN_16 },</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    { X86::VAESIMCrr,             X86::VAESIMCrm,             TB_ALIGN_16 },</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    { X86::VAESKEYGENASSIST128rr, X86::VAESKEYGENASSIST128rm, TB_ALIGN_16 },</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  };</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(OpTbl1); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordtype">unsigned</span> RegOp = OpTbl1[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">RegOp</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordtype">unsigned</span> MemOp = OpTbl1[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">MemOp</a>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a> = OpTbl1[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">Flags</a>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    AddTableEntry(RegOp2MemOpTable1, MemOp2RegOpTable,</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                  RegOp, MemOp,</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                  <span class="comment">// Index 1, folded load</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                  Flags | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aace73c3d1efdf695d37212bd436fa675c">TB_INDEX_1</a> | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structX86OpTblEntry.html">X86OpTblEntry</a> OpTbl2[] = {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    { X86::ADC32rr,         X86::ADC32rm,       0 },</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    { X86::ADC64rr,         X86::ADC64rm,       0 },</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    { X86::ADD16rr,         X86::ADD16rm,       0 },</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    { X86::ADD16rr_DB,      X86::ADD16rm,       <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3">TB_NO_REVERSE</a> },</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    { X86::ADD32rr,         X86::ADD32rm,       0 },</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    { X86::ADD32rr_DB,      X86::ADD32rm,       TB_NO_REVERSE },</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    { X86::ADD64rr,         X86::ADD64rm,       0 },</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    { X86::ADD64rr_DB,      X86::ADD64rm,       TB_NO_REVERSE },</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    { X86::ADD8rr,          X86::ADD8rm,        0 },</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    { X86::ADDPDrr,         X86::ADDPDrm,       <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    { X86::ADDPSrr,         X86::ADDPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    { X86::ADDSDrr,         X86::ADDSDrm,       0 },</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    { X86::ADDSSrr,         X86::ADDSSrm,       0 },</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    { X86::ADDSUBPDrr,      X86::ADDSUBPDrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    { X86::ADDSUBPSrr,      X86::ADDSUBPSrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    { X86::AND16rr,         X86::AND16rm,       0 },</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    { X86::AND32rr,         X86::AND32rm,       0 },</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    { X86::AND64rr,         X86::AND64rm,       0 },</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    { X86::AND8rr,          X86::AND8rm,        0 },</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    { X86::ANDNPDrr,        X86::ANDNPDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    { X86::ANDNPSrr,        X86::ANDNPSrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    { X86::ANDPDrr,         X86::ANDPDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    { X86::ANDPSrr,         X86::ANDPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    { X86::BLENDPDrri,      X86::BLENDPDrmi,    TB_ALIGN_16 },</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    { X86::BLENDPSrri,      X86::BLENDPSrmi,    TB_ALIGN_16 },</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    { X86::BLENDVPDrr0,     X86::BLENDVPDrm0,   TB_ALIGN_16 },</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    { X86::BLENDVPSrr0,     X86::BLENDVPSrm0,   TB_ALIGN_16 },</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    { X86::CMOVA16rr,       X86::CMOVA16rm,     0 },</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    { X86::CMOVA32rr,       X86::CMOVA32rm,     0 },</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    { X86::CMOVA64rr,       X86::CMOVA64rm,     0 },</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    { X86::CMOVAE16rr,      X86::CMOVAE16rm,    0 },</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    { X86::CMOVAE32rr,      X86::CMOVAE32rm,    0 },</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    { X86::CMOVAE64rr,      X86::CMOVAE64rm,    0 },</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    { X86::CMOVB16rr,       X86::CMOVB16rm,     0 },</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    { X86::CMOVB32rr,       X86::CMOVB32rm,     0 },</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    { X86::CMOVB64rr,       X86::CMOVB64rm,     0 },</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    { X86::CMOVBE16rr,      X86::CMOVBE16rm,    0 },</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    { X86::CMOVBE32rr,      X86::CMOVBE32rm,    0 },</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    { X86::CMOVBE64rr,      X86::CMOVBE64rm,    0 },</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    { X86::CMOVE16rr,       X86::CMOVE16rm,     0 },</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    { X86::CMOVE32rr,       X86::CMOVE32rm,     0 },</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    { X86::CMOVE64rr,       X86::CMOVE64rm,     0 },</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    { X86::CMOVG16rr,       X86::CMOVG16rm,     0 },</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    { X86::CMOVG32rr,       X86::CMOVG32rm,     0 },</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    { X86::CMOVG64rr,       X86::CMOVG64rm,     0 },</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    { X86::CMOVGE16rr,      X86::CMOVGE16rm,    0 },</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    { X86::CMOVGE32rr,      X86::CMOVGE32rm,    0 },</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    { X86::CMOVGE64rr,      X86::CMOVGE64rm,    0 },</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    { X86::CMOVL16rr,       X86::CMOVL16rm,     0 },</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    { X86::CMOVL32rr,       X86::CMOVL32rm,     0 },</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    { X86::CMOVL64rr,       X86::CMOVL64rm,     0 },</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    { X86::CMOVLE16rr,      X86::CMOVLE16rm,    0 },</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    { X86::CMOVLE32rr,      X86::CMOVLE32rm,    0 },</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    { X86::CMOVLE64rr,      X86::CMOVLE64rm,    0 },</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    { X86::CMOVNE16rr,      X86::CMOVNE16rm,    0 },</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    { X86::CMOVNE32rr,      X86::CMOVNE32rm,    0 },</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    { X86::CMOVNE64rr,      X86::CMOVNE64rm,    0 },</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    { X86::CMOVNO16rr,      X86::CMOVNO16rm,    0 },</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    { X86::CMOVNO32rr,      X86::CMOVNO32rm,    0 },</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    { X86::CMOVNO64rr,      X86::CMOVNO64rm,    0 },</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    { X86::CMOVNP16rr,      X86::CMOVNP16rm,    0 },</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    { X86::CMOVNP32rr,      X86::CMOVNP32rm,    0 },</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    { X86::CMOVNP64rr,      X86::CMOVNP64rm,    0 },</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    { X86::CMOVNS16rr,      X86::CMOVNS16rm,    0 },</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    { X86::CMOVNS32rr,      X86::CMOVNS32rm,    0 },</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    { X86::CMOVNS64rr,      X86::CMOVNS64rm,    0 },</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    { X86::CMOVO16rr,       X86::CMOVO16rm,     0 },</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    { X86::CMOVO32rr,       X86::CMOVO32rm,     0 },</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    { X86::CMOVO64rr,       X86::CMOVO64rm,     0 },</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    { X86::CMOVP16rr,       X86::CMOVP16rm,     0 },</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    { X86::CMOVP32rr,       X86::CMOVP32rm,     0 },</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    { X86::CMOVP64rr,       X86::CMOVP64rm,     0 },</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    { X86::CMOVS16rr,       X86::CMOVS16rm,     0 },</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    { X86::CMOVS32rr,       X86::CMOVS32rm,     0 },</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    { X86::CMOVS64rr,       X86::CMOVS64rm,     0 },</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    { X86::CMPPDrri,        X86::CMPPDrmi,      TB_ALIGN_16 },</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    { X86::CMPPSrri,        X86::CMPPSrmi,      TB_ALIGN_16 },</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    { X86::CMPSDrr,         X86::CMPSDrm,       0 },</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    { X86::CMPSSrr,         X86::CMPSSrm,       0 },</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    { X86::DIVPDrr,         X86::DIVPDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    { X86::DIVPSrr,         X86::DIVPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    { X86::DIVSDrr,         X86::DIVSDrm,       0 },</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    { X86::DIVSSrr,         X86::DIVSSrm,       0 },</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    { X86::FsANDNPDrr,      X86::FsANDNPDrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    { X86::FsANDNPSrr,      X86::FsANDNPSrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    { X86::FsANDPDrr,       X86::FsANDPDrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    { X86::FsANDPSrr,       X86::FsANDPSrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    { X86::FsORPDrr,        X86::FsORPDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    { X86::FsORPSrr,        X86::FsORPSrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    { X86::FsXORPDrr,       X86::FsXORPDrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    { X86::FsXORPSrr,       X86::FsXORPSrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    { X86::HADDPDrr,        X86::HADDPDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    { X86::HADDPSrr,        X86::HADDPSrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    { X86::HSUBPDrr,        X86::HSUBPDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    { X86::HSUBPSrr,        X86::HSUBPSrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    { X86::IMUL16rr,        X86::IMUL16rm,      0 },</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    { X86::IMUL32rr,        X86::IMUL32rm,      0 },</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    { X86::IMUL64rr,        X86::IMUL64rm,      0 },</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    { X86::Int_CMPSDrr,     X86::Int_CMPSDrm,   0 },</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    { X86::Int_CMPSSrr,     X86::Int_CMPSSrm,   0 },</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    { X86::Int_CVTSD2SSrr,  X86::Int_CVTSD2SSrm,      0 },</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    { X86::Int_CVTSI2SD64rr,X86::Int_CVTSI2SD64rm,    0 },</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    { X86::Int_CVTSI2SDrr,  X86::Int_CVTSI2SDrm,      0 },</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    { X86::Int_CVTSI2SS64rr,X86::Int_CVTSI2SS64rm,    0 },</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    { X86::Int_CVTSI2SSrr,  X86::Int_CVTSI2SSrm,      0 },</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    { X86::Int_CVTSS2SDrr,  X86::Int_CVTSS2SDrm,      0 },</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    { X86::MAXPDrr,         X86::MAXPDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    { X86::MAXPSrr,         X86::MAXPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    { X86::MAXSDrr,         X86::MAXSDrm,       0 },</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    { X86::MAXSSrr,         X86::MAXSSrm,       0 },</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    { X86::MINPDrr,         X86::MINPDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    { X86::MINPSrr,         X86::MINPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    { X86::MINSDrr,         X86::MINSDrm,       0 },</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    { X86::MINSSrr,         X86::MINSSrm,       0 },</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    { X86::MPSADBWrri,      X86::MPSADBWrmi,    TB_ALIGN_16 },</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    { X86::MULPDrr,         X86::MULPDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    { X86::MULPSrr,         X86::MULPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    { X86::MULSDrr,         X86::MULSDrm,       0 },</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    { X86::MULSSrr,         X86::MULSSrm,       0 },</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    { X86::OR16rr,          X86::OR16rm,        0 },</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    { X86::OR32rr,          X86::OR32rm,        0 },</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    { X86::OR64rr,          X86::OR64rm,        0 },</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    { X86::OR8rr,           X86::OR8rm,         0 },</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    { X86::ORPDrr,          X86::ORPDrm,        TB_ALIGN_16 },</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    { X86::ORPSrr,          X86::ORPSrm,        TB_ALIGN_16 },</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    { X86::PACKSSDWrr,      X86::PACKSSDWrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    { X86::PACKSSWBrr,      X86::PACKSSWBrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    { X86::PACKUSDWrr,      X86::PACKUSDWrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    { X86::PACKUSWBrr,      X86::PACKUSWBrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    { X86::PADDBrr,         X86::PADDBrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    { X86::PADDDrr,         X86::PADDDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    { X86::PADDQrr,         X86::PADDQrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    { X86::PADDSBrr,        X86::PADDSBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    { X86::PADDSWrr,        X86::PADDSWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    { X86::PADDUSBrr,       X86::PADDUSBrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    { X86::PADDUSWrr,       X86::PADDUSWrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    { X86::PADDWrr,         X86::PADDWrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    { X86::PALIGNR128rr,    X86::PALIGNR128rm,  TB_ALIGN_16 },</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    { X86::PANDNrr,         X86::PANDNrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    { X86::PANDrr,          X86::PANDrm,        TB_ALIGN_16 },</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    { X86::PAVGBrr,         X86::PAVGBrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    { X86::PAVGWrr,         X86::PAVGWrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    { X86::PBLENDWrri,      X86::PBLENDWrmi,    TB_ALIGN_16 },</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    { X86::PCMPEQBrr,       X86::PCMPEQBrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    { X86::PCMPEQDrr,       X86::PCMPEQDrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    { X86::PCMPEQQrr,       X86::PCMPEQQrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    { X86::PCMPEQWrr,       X86::PCMPEQWrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    { X86::PCMPGTBrr,       X86::PCMPGTBrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    { X86::PCMPGTDrr,       X86::PCMPGTDrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    { X86::PCMPGTQrr,       X86::PCMPGTQrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    { X86::PCMPGTWrr,       X86::PCMPGTWrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    { X86::PHADDDrr,        X86::PHADDDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    { X86::PHADDWrr,        X86::PHADDWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    { X86::PHADDSWrr128,    X86::PHADDSWrm128,  TB_ALIGN_16 },</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    { X86::PHSUBDrr,        X86::PHSUBDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    { X86::PHSUBSWrr128,    X86::PHSUBSWrm128,  TB_ALIGN_16 },</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    { X86::PHSUBWrr,        X86::PHSUBWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    { X86::PINSRWrri,       X86::PINSRWrmi,     TB_ALIGN_16 },</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    { X86::PMADDUBSWrr128,  X86::PMADDUBSWrm128, TB_ALIGN_16 },</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    { X86::PMADDWDrr,       X86::PMADDWDrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    { X86::PMAXSWrr,        X86::PMAXSWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    { X86::PMAXUBrr,        X86::PMAXUBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    { X86::PMINSWrr,        X86::PMINSWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    { X86::PMINUBrr,        X86::PMINUBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    { X86::PMINSBrr,        X86::PMINSBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    { X86::PMINSDrr,        X86::PMINSDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    { X86::PMINUDrr,        X86::PMINUDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    { X86::PMINUWrr,        X86::PMINUWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    { X86::PMAXSBrr,        X86::PMAXSBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    { X86::PMAXSDrr,        X86::PMAXSDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    { X86::PMAXUDrr,        X86::PMAXUDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    { X86::PMAXUWrr,        X86::PMAXUWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    { X86::PMULDQrr,        X86::PMULDQrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    { X86::PMULHRSWrr128,   X86::PMULHRSWrm128, TB_ALIGN_16 },</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    { X86::PMULHUWrr,       X86::PMULHUWrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    { X86::PMULHWrr,        X86::PMULHWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    { X86::PMULLDrr,        X86::PMULLDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    { X86::PMULLWrr,        X86::PMULLWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    { X86::PMULUDQrr,       X86::PMULUDQrm,     TB_ALIGN_16 },</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    { X86::PORrr,           X86::PORrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    { X86::PSADBWrr,        X86::PSADBWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    { X86::PSHUFBrr,        X86::PSHUFBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    { X86::PSIGNBrr,        X86::PSIGNBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    { X86::PSIGNWrr,        X86::PSIGNWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    { X86::PSIGNDrr,        X86::PSIGNDrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    { X86::PSLLDrr,         X86::PSLLDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    { X86::PSLLQrr,         X86::PSLLQrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    { X86::PSLLWrr,         X86::PSLLWrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    { X86::PSRADrr,         X86::PSRADrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    { X86::PSRAWrr,         X86::PSRAWrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    { X86::PSRLDrr,         X86::PSRLDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    { X86::PSRLQrr,         X86::PSRLQrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    { X86::PSRLWrr,         X86::PSRLWrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    { X86::PSUBBrr,         X86::PSUBBrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    { X86::PSUBDrr,         X86::PSUBDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    { X86::PSUBSBrr,        X86::PSUBSBrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    { X86::PSUBSWrr,        X86::PSUBSWrm,      TB_ALIGN_16 },</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    { X86::PSUBWrr,         X86::PSUBWrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    { X86::PUNPCKHBWrr,     X86::PUNPCKHBWrm,   TB_ALIGN_16 },</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    { X86::PUNPCKHDQrr,     X86::PUNPCKHDQrm,   TB_ALIGN_16 },</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    { X86::PUNPCKHQDQrr,    X86::PUNPCKHQDQrm,  TB_ALIGN_16 },</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    { X86::PUNPCKHWDrr,     X86::PUNPCKHWDrm,   TB_ALIGN_16 },</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    { X86::PUNPCKLBWrr,     X86::PUNPCKLBWrm,   TB_ALIGN_16 },</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    { X86::PUNPCKLDQrr,     X86::PUNPCKLDQrm,   TB_ALIGN_16 },</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    { X86::PUNPCKLQDQrr,    X86::PUNPCKLQDQrm,  TB_ALIGN_16 },</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    { X86::PUNPCKLWDrr,     X86::PUNPCKLWDrm,   TB_ALIGN_16 },</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    { X86::PXORrr,          X86::PXORrm,        TB_ALIGN_16 },</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    { X86::SBB32rr,         X86::SBB32rm,       0 },</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    { X86::SBB64rr,         X86::SBB64rm,       0 },</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    { X86::SHUFPDrri,       X86::SHUFPDrmi,     TB_ALIGN_16 },</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    { X86::SHUFPSrri,       X86::SHUFPSrmi,     TB_ALIGN_16 },</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    { X86::SUB16rr,         X86::SUB16rm,       0 },</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    { X86::SUB32rr,         X86::SUB32rm,       0 },</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    { X86::SUB64rr,         X86::SUB64rm,       0 },</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    { X86::SUB8rr,          X86::SUB8rm,        0 },</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    { X86::SUBPDrr,         X86::SUBPDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    { X86::SUBPSrr,         X86::SUBPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    { X86::SUBSDrr,         X86::SUBSDrm,       0 },</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    { X86::SUBSSrr,         X86::SUBSSrm,       0 },</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="comment">// FIXME: TEST*rr -&gt; swapped operand of TEST*mr.</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    { X86::UNPCKHPDrr,      X86::UNPCKHPDrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    { X86::UNPCKHPSrr,      X86::UNPCKHPSrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    { X86::UNPCKLPDrr,      X86::UNPCKLPDrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    { X86::UNPCKLPSrr,      X86::UNPCKLPSrm,    TB_ALIGN_16 },</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    { X86::XOR16rr,         X86::XOR16rm,       0 },</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    { X86::XOR32rr,         X86::XOR32rm,       0 },</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    { X86::XOR64rr,         X86::XOR64rm,       0 },</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    { X86::XOR8rr,          X86::XOR8rm,        0 },</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    { X86::XORPDrr,         X86::XORPDrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    { X86::XORPSrr,         X86::XORPSrm,       TB_ALIGN_16 },</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// AVX 128-bit versions of foldable instructions</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    { X86::VCVTSD2SSrr,       X86::VCVTSD2SSrm,        0 },</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    { X86::Int_VCVTSD2SSrr,   X86::Int_VCVTSD2SSrm,    0 },</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    { X86::VCVTSI2SD64rr,     X86::VCVTSI2SD64rm,      0 },</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    { X86::Int_VCVTSI2SD64rr, X86::Int_VCVTSI2SD64rm,  0 },</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    { X86::VCVTSI2SDrr,       X86::VCVTSI2SDrm,        0 },</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    { X86::Int_VCVTSI2SDrr,   X86::Int_VCVTSI2SDrm,    0 },</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    { X86::VCVTSI2SS64rr,     X86::VCVTSI2SS64rm,      0 },</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    { X86::Int_VCVTSI2SS64rr, X86::Int_VCVTSI2SS64rm,  0 },</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    { X86::VCVTSI2SSrr,       X86::VCVTSI2SSrm,        0 },</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    { X86::Int_VCVTSI2SSrr,   X86::Int_VCVTSI2SSrm,    0 },</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    { X86::VCVTSS2SDrr,       X86::VCVTSS2SDrm,        0 },</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    { X86::Int_VCVTSS2SDrr,   X86::Int_VCVTSS2SDrm,    0 },</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    { X86::VCVTTPD2DQrr,      X86::VCVTTPD2DQXrm,      0 },</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    { X86::VCVTTPS2DQrr,      X86::VCVTTPS2DQrm,       0 },</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    { X86::VRSQRTSSr,         X86::VRSQRTSSm,          0 },</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    { X86::VSQRTSDr,          X86::VSQRTSDm,           0 },</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    { X86::VSQRTSSr,          X86::VSQRTSSm,           0 },</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    { X86::VADDPDrr,          X86::VADDPDrm,           0 },</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    { X86::VADDPSrr,          X86::VADDPSrm,           0 },</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    { X86::VADDSDrr,          X86::VADDSDrm,           0 },</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    { X86::VADDSSrr,          X86::VADDSSrm,           0 },</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    { X86::VADDSUBPDrr,       X86::VADDSUBPDrm,        0 },</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    { X86::VADDSUBPSrr,       X86::VADDSUBPSrm,        0 },</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    { X86::VANDNPDrr,         X86::VANDNPDrm,          0 },</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    { X86::VANDNPSrr,         X86::VANDNPSrm,          0 },</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    { X86::VANDPDrr,          X86::VANDPDrm,           0 },</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    { X86::VANDPSrr,          X86::VANDPSrm,           0 },</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    { X86::VBLENDPDrri,       X86::VBLENDPDrmi,        0 },</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    { X86::VBLENDPSrri,       X86::VBLENDPSrmi,        0 },</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    { X86::VBLENDVPDrr,       X86::VBLENDVPDrm,        0 },</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    { X86::VBLENDVPSrr,       X86::VBLENDVPSrm,        0 },</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    { X86::VCMPPDrri,         X86::VCMPPDrmi,          0 },</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    { X86::VCMPPSrri,         X86::VCMPPSrmi,          0 },</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    { X86::VCMPSDrr,          X86::VCMPSDrm,           0 },</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    { X86::VCMPSSrr,          X86::VCMPSSrm,           0 },</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    { X86::VDIVPDrr,          X86::VDIVPDrm,           0 },</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    { X86::VDIVPSrr,          X86::VDIVPSrm,           0 },</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    { X86::VDIVSDrr,          X86::VDIVSDrm,           0 },</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    { X86::VDIVSSrr,          X86::VDIVSSrm,           0 },</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    { X86::VFsANDNPDrr,       X86::VFsANDNPDrm,        TB_ALIGN_16 },</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    { X86::VFsANDNPSrr,       X86::VFsANDNPSrm,        TB_ALIGN_16 },</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    { X86::VFsANDPDrr,        X86::VFsANDPDrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    { X86::VFsANDPSrr,        X86::VFsANDPSrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    { X86::VFsORPDrr,         X86::VFsORPDrm,          TB_ALIGN_16 },</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    { X86::VFsORPSrr,         X86::VFsORPSrm,          TB_ALIGN_16 },</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    { X86::VFsXORPDrr,        X86::VFsXORPDrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    { X86::VFsXORPSrr,        X86::VFsXORPSrm,         TB_ALIGN_16 },</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    { X86::VHADDPDrr,         X86::VHADDPDrm,          0 },</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    { X86::VHADDPSrr,         X86::VHADDPSrm,          0 },</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    { X86::VHSUBPDrr,         X86::VHSUBPDrm,          0 },</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    { X86::VHSUBPSrr,         X86::VHSUBPSrm,          0 },</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    { X86::Int_VCMPSDrr,      X86::Int_VCMPSDrm,       0 },</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    { X86::Int_VCMPSSrr,      X86::Int_VCMPSSrm,       0 },</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    { X86::VMAXPDrr,          X86::VMAXPDrm,           0 },</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    { X86::VMAXPSrr,          X86::VMAXPSrm,           0 },</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    { X86::VMAXSDrr,          X86::VMAXSDrm,           0 },</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    { X86::VMAXSSrr,          X86::VMAXSSrm,           0 },</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    { X86::VMINPDrr,          X86::VMINPDrm,           0 },</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    { X86::VMINPSrr,          X86::VMINPSrm,           0 },</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    { X86::VMINSDrr,          X86::VMINSDrm,           0 },</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    { X86::VMINSSrr,          X86::VMINSSrm,           0 },</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    { X86::VMPSADBWrri,       X86::VMPSADBWrmi,        0 },</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    { X86::VMULPDrr,          X86::VMULPDrm,           0 },</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    { X86::VMULPSrr,          X86::VMULPSrm,           0 },</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    { X86::VMULSDrr,          X86::VMULSDrm,           0 },</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    { X86::VMULSSrr,          X86::VMULSSrm,           0 },</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    { X86::VORPDrr,           X86::VORPDrm,            0 },</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    { X86::VORPSrr,           X86::VORPSrm,            0 },</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    { X86::VPACKSSDWrr,       X86::VPACKSSDWrm,        0 },</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    { X86::VPACKSSWBrr,       X86::VPACKSSWBrm,        0 },</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    { X86::VPACKUSDWrr,       X86::VPACKUSDWrm,        0 },</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    { X86::VPACKUSWBrr,       X86::VPACKUSWBrm,        0 },</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    { X86::VPADDBrr,          X86::VPADDBrm,           0 },</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    { X86::VPADDDrr,          X86::VPADDDrm,           0 },</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    { X86::VPADDQrr,          X86::VPADDQrm,           0 },</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    { X86::VPADDSBrr,         X86::VPADDSBrm,          0 },</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    { X86::VPADDSWrr,         X86::VPADDSWrm,          0 },</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    { X86::VPADDUSBrr,        X86::VPADDUSBrm,         0 },</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    { X86::VPADDUSWrr,        X86::VPADDUSWrm,         0 },</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    { X86::VPADDWrr,          X86::VPADDWrm,           0 },</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    { X86::VPALIGNR128rr,     X86::VPALIGNR128rm,      0 },</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    { X86::VPANDNrr,          X86::VPANDNrm,           0 },</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    { X86::VPANDrr,           X86::VPANDrm,            0 },</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    { X86::VPAVGBrr,          X86::VPAVGBrm,           0 },</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    { X86::VPAVGWrr,          X86::VPAVGWrm,           0 },</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    { X86::VPBLENDWrri,       X86::VPBLENDWrmi,        0 },</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    { X86::VPCMPEQBrr,        X86::VPCMPEQBrm,         0 },</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    { X86::VPCMPEQDrr,        X86::VPCMPEQDrm,         0 },</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    { X86::VPCMPEQQrr,        X86::VPCMPEQQrm,         0 },</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    { X86::VPCMPEQWrr,        X86::VPCMPEQWrm,         0 },</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    { X86::VPCMPGTBrr,        X86::VPCMPGTBrm,         0 },</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    { X86::VPCMPGTDrr,        X86::VPCMPGTDrm,         0 },</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    { X86::VPCMPGTQrr,        X86::VPCMPGTQrm,         0 },</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    { X86::VPCMPGTWrr,        X86::VPCMPGTWrm,         0 },</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    { X86::VPHADDDrr,         X86::VPHADDDrm,          0 },</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    { X86::VPHADDSWrr128,     X86::VPHADDSWrm128,      0 },</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    { X86::VPHADDWrr,         X86::VPHADDWrm,          0 },</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    { X86::VPHSUBDrr,         X86::VPHSUBDrm,          0 },</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    { X86::VPHSUBSWrr128,     X86::VPHSUBSWrm128,      0 },</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    { X86::VPHSUBWrr,         X86::VPHSUBWrm,          0 },</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    { X86::VPERMILPDrr,       X86::VPERMILPDrm,        0 },</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    { X86::VPERMILPSrr,       X86::VPERMILPSrm,        0 },</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    { X86::VPINSRWrri,        X86::VPINSRWrmi,         0 },</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    { X86::VPMADDUBSWrr128,   X86::VPMADDUBSWrm128,    0 },</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    { X86::VPMADDWDrr,        X86::VPMADDWDrm,         0 },</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    { X86::VPMAXSWrr,         X86::VPMAXSWrm,          0 },</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    { X86::VPMAXUBrr,         X86::VPMAXUBrm,          0 },</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    { X86::VPMINSWrr,         X86::VPMINSWrm,          0 },</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    { X86::VPMINUBrr,         X86::VPMINUBrm,          0 },</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    { X86::VPMINSBrr,         X86::VPMINSBrm,          0 },</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    { X86::VPMINSDrr,         X86::VPMINSDrm,          0 },</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    { X86::VPMINUDrr,         X86::VPMINUDrm,          0 },</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    { X86::VPMINUWrr,         X86::VPMINUWrm,          0 },</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    { X86::VPMAXSBrr,         X86::VPMAXSBrm,          0 },</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    { X86::VPMAXSDrr,         X86::VPMAXSDrm,          0 },</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    { X86::VPMAXUDrr,         X86::VPMAXUDrm,          0 },</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    { X86::VPMAXUWrr,         X86::VPMAXUWrm,          0 },</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    { X86::VPMULDQrr,         X86::VPMULDQrm,          0 },</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    { X86::VPMULHRSWrr128,    X86::VPMULHRSWrm128,     0 },</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    { X86::VPMULHUWrr,        X86::VPMULHUWrm,         0 },</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    { X86::VPMULHWrr,         X86::VPMULHWrm,          0 },</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    { X86::VPMULLDrr,         X86::VPMULLDrm,          0 },</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    { X86::VPMULLWrr,         X86::VPMULLWrm,          0 },</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    { X86::VPMULUDQrr,        X86::VPMULUDQrm,         0 },</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    { X86::VPORrr,            X86::VPORrm,             0 },</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    { X86::VPSADBWrr,         X86::VPSADBWrm,          0 },</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    { X86::VPSHUFBrr,         X86::VPSHUFBrm,          0 },</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    { X86::VPSIGNBrr,         X86::VPSIGNBrm,          0 },</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    { X86::VPSIGNWrr,         X86::VPSIGNWrm,          0 },</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    { X86::VPSIGNDrr,         X86::VPSIGNDrm,          0 },</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    { X86::VPSLLDrr,          X86::VPSLLDrm,           0 },</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    { X86::VPSLLQrr,          X86::VPSLLQrm,           0 },</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    { X86::VPSLLWrr,          X86::VPSLLWrm,           0 },</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    { X86::VPSRADrr,          X86::VPSRADrm,           0 },</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    { X86::VPSRAWrr,          X86::VPSRAWrm,           0 },</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    { X86::VPSRLDrr,          X86::VPSRLDrm,           0 },</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    { X86::VPSRLQrr,          X86::VPSRLQrm,           0 },</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    { X86::VPSRLWrr,          X86::VPSRLWrm,           0 },</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    { X86::VPSUBBrr,          X86::VPSUBBrm,           0 },</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    { X86::VPSUBDrr,          X86::VPSUBDrm,           0 },</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    { X86::VPSUBSBrr,         X86::VPSUBSBrm,          0 },</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    { X86::VPSUBSWrr,         X86::VPSUBSWrm,          0 },</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    { X86::VPSUBWrr,          X86::VPSUBWrm,           0 },</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    { X86::VPUNPCKHBWrr,      X86::VPUNPCKHBWrm,       0 },</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    { X86::VPUNPCKHDQrr,      X86::VPUNPCKHDQrm,       0 },</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    { X86::VPUNPCKHQDQrr,     X86::VPUNPCKHQDQrm,      0 },</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    { X86::VPUNPCKHWDrr,      X86::VPUNPCKHWDrm,       0 },</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    { X86::VPUNPCKLBWrr,      X86::VPUNPCKLBWrm,       0 },</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    { X86::VPUNPCKLDQrr,      X86::VPUNPCKLDQrm,       0 },</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    { X86::VPUNPCKLQDQrr,     X86::VPUNPCKLQDQrm,      0 },</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    { X86::VPUNPCKLWDrr,      X86::VPUNPCKLWDrm,       0 },</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    { X86::VPXORrr,           X86::VPXORrm,            0 },</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    { X86::VSHUFPDrri,        X86::VSHUFPDrmi,         0 },</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    { X86::VSHUFPSrri,        X86::VSHUFPSrmi,         0 },</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    { X86::VSUBPDrr,          X86::VSUBPDrm,           0 },</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    { X86::VSUBPSrr,          X86::VSUBPSrm,           0 },</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    { X86::VSUBSDrr,          X86::VSUBSDrm,           0 },</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    { X86::VSUBSSrr,          X86::VSUBSSrm,           0 },</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    { X86::VUNPCKHPDrr,       X86::VUNPCKHPDrm,        0 },</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    { X86::VUNPCKHPSrr,       X86::VUNPCKHPSrm,        0 },</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    { X86::VUNPCKLPDrr,       X86::VUNPCKLPDrm,        0 },</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    { X86::VUNPCKLPSrr,       X86::VUNPCKLPSrm,        0 },</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    { X86::VXORPDrr,          X86::VXORPDrm,           0 },</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    { X86::VXORPSrr,          X86::VXORPSrm,           0 },</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">// AVX 256-bit foldable instructions</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    { X86::VADDPDYrr,         X86::VADDPDYrm,          0 },</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    { X86::VADDPSYrr,         X86::VADDPSYrm,          0 },</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    { X86::VADDSUBPDYrr,      X86::VADDSUBPDYrm,       0 },</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    { X86::VADDSUBPSYrr,      X86::VADDSUBPSYrm,       0 },</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    { X86::VANDNPDYrr,        X86::VANDNPDYrm,         0 },</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    { X86::VANDNPSYrr,        X86::VANDNPSYrm,         0 },</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    { X86::VANDPDYrr,         X86::VANDPDYrm,          0 },</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    { X86::VANDPSYrr,         X86::VANDPSYrm,          0 },</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    { X86::VBLENDPDYrri,      X86::VBLENDPDYrmi,       0 },</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    { X86::VBLENDPSYrri,      X86::VBLENDPSYrmi,       0 },</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    { X86::VBLENDVPDYrr,      X86::VBLENDVPDYrm,       0 },</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    { X86::VBLENDVPSYrr,      X86::VBLENDVPSYrm,       0 },</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    { X86::VCMPPDYrri,        X86::VCMPPDYrmi,         0 },</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    { X86::VCMPPSYrri,        X86::VCMPPSYrmi,         0 },</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    { X86::VDIVPDYrr,         X86::VDIVPDYrm,          0 },</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    { X86::VDIVPSYrr,         X86::VDIVPSYrm,          0 },</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    { X86::VHADDPDYrr,        X86::VHADDPDYrm,         0 },</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    { X86::VHADDPSYrr,        X86::VHADDPSYrm,         0 },</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    { X86::VHSUBPDYrr,        X86::VHSUBPDYrm,         0 },</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    { X86::VHSUBPSYrr,        X86::VHSUBPSYrm,         0 },</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    { X86::VINSERTF128rr,     X86::VINSERTF128rm,      0 },</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    { X86::VMAXPDYrr,         X86::VMAXPDYrm,          0 },</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    { X86::VMAXPSYrr,         X86::VMAXPSYrm,          0 },</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    { X86::VMINPDYrr,         X86::VMINPDYrm,          0 },</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    { X86::VMINPSYrr,         X86::VMINPSYrm,          0 },</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    { X86::VMULPDYrr,         X86::VMULPDYrm,          0 },</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    { X86::VMULPSYrr,         X86::VMULPSYrm,          0 },</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    { X86::VORPDYrr,          X86::VORPDYrm,           0 },</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    { X86::VORPSYrr,          X86::VORPSYrm,           0 },</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    { X86::VPERM2F128rr,      X86::VPERM2F128rm,       0 },</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    { X86::VPERMILPDYrr,      X86::VPERMILPDYrm,       0 },</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    { X86::VPERMILPSYrr,      X86::VPERMILPSYrm,       0 },</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    { X86::VSHUFPDYrri,       X86::VSHUFPDYrmi,        0 },</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    { X86::VSHUFPSYrri,       X86::VSHUFPSYrmi,        0 },</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    { X86::VSUBPDYrr,         X86::VSUBPDYrm,          0 },</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    { X86::VSUBPSYrr,         X86::VSUBPSYrm,          0 },</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    { X86::VUNPCKHPDYrr,      X86::VUNPCKHPDYrm,       0 },</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    { X86::VUNPCKHPSYrr,      X86::VUNPCKHPSYrm,       0 },</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    { X86::VUNPCKLPDYrr,      X86::VUNPCKLPDYrm,       0 },</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    { X86::VUNPCKLPSYrr,      X86::VUNPCKLPSYrm,       0 },</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    { X86::VXORPDYrr,         X86::VXORPDYrm,          0 },</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    { X86::VXORPSYrr,         X86::VXORPSYrm,          0 },</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="comment">// AVX2 foldable instructions</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    { X86::VINSERTI128rr,     X86::VINSERTI128rm,      0 },</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    { X86::VPACKSSDWYrr,      X86::VPACKSSDWYrm,       0 },</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    { X86::VPACKSSWBYrr,      X86::VPACKSSWBYrm,       0 },</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    { X86::VPACKUSDWYrr,      X86::VPACKUSDWYrm,       0 },</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    { X86::VPACKUSWBYrr,      X86::VPACKUSWBYrm,       0 },</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    { X86::VPADDBYrr,         X86::VPADDBYrm,          0 },</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    { X86::VPADDDYrr,         X86::VPADDDYrm,          0 },</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    { X86::VPADDQYrr,         X86::VPADDQYrm,          0 },</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    { X86::VPADDSBYrr,        X86::VPADDSBYrm,         0 },</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    { X86::VPADDSWYrr,        X86::VPADDSWYrm,         0 },</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    { X86::VPADDUSBYrr,       X86::VPADDUSBYrm,        0 },</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    { X86::VPADDUSWYrr,       X86::VPADDUSWYrm,        0 },</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    { X86::VPADDWYrr,         X86::VPADDWYrm,          0 },</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    { X86::VPALIGNR256rr,     X86::VPALIGNR256rm,      0 },</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    { X86::VPANDNYrr,         X86::VPANDNYrm,          0 },</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    { X86::VPANDYrr,          X86::VPANDYrm,           0 },</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    { X86::VPAVGBYrr,         X86::VPAVGBYrm,          0 },</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    { X86::VPAVGWYrr,         X86::VPAVGWYrm,          0 },</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    { X86::VPBLENDDrri,       X86::VPBLENDDrmi,        0 },</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    { X86::VPBLENDDYrri,      X86::VPBLENDDYrmi,       0 },</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    { X86::VPBLENDWYrri,      X86::VPBLENDWYrmi,       0 },</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    { X86::VPCMPEQBYrr,       X86::VPCMPEQBYrm,        0 },</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    { X86::VPCMPEQDYrr,       X86::VPCMPEQDYrm,        0 },</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    { X86::VPCMPEQQYrr,       X86::VPCMPEQQYrm,        0 },</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    { X86::VPCMPEQWYrr,       X86::VPCMPEQWYrm,        0 },</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    { X86::VPCMPGTBYrr,       X86::VPCMPGTBYrm,        0 },</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    { X86::VPCMPGTDYrr,       X86::VPCMPGTDYrm,        0 },</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    { X86::VPCMPGTQYrr,       X86::VPCMPGTQYrm,        0 },</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    { X86::VPCMPGTWYrr,       X86::VPCMPGTWYrm,        0 },</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    { X86::VPERM2I128rr,      X86::VPERM2I128rm,       0 },</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    { X86::VPERMDYrr,         X86::VPERMDYrm,          0 },</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    { X86::VPERMPDYri,        X86::VPERMPDYmi,         0 },</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    { X86::VPERMPSYrr,        X86::VPERMPSYrm,         0 },</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    { X86::VPERMQYri,         X86::VPERMQYmi,          0 },</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    { X86::VPHADDDYrr,        X86::VPHADDDYrm,         0 },</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    { X86::VPHADDSWrr256,     X86::VPHADDSWrm256,      0 },</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    { X86::VPHADDWYrr,        X86::VPHADDWYrm,         0 },</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    { X86::VPHSUBDYrr,        X86::VPHSUBDYrm,         0 },</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    { X86::VPHSUBSWrr256,     X86::VPHSUBSWrm256,      0 },</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    { X86::VPHSUBWYrr,        X86::VPHSUBWYrm,         0 },</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    { X86::VPMADDUBSWrr256,   X86::VPMADDUBSWrm256,    0 },</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    { X86::VPMADDWDYrr,       X86::VPMADDWDYrm,        0 },</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    { X86::VPMAXSWYrr,        X86::VPMAXSWYrm,         0 },</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    { X86::VPMAXUBYrr,        X86::VPMAXUBYrm,         0 },</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    { X86::VPMINSWYrr,        X86::VPMINSWYrm,         0 },</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    { X86::VPMINUBYrr,        X86::VPMINUBYrm,         0 },</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    { X86::VPMINSBYrr,        X86::VPMINSBYrm,         0 },</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    { X86::VPMINSDYrr,        X86::VPMINSDYrm,         0 },</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    { X86::VPMINUDYrr,        X86::VPMINUDYrm,         0 },</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    { X86::VPMINUWYrr,        X86::VPMINUWYrm,         0 },</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    { X86::VPMAXSBYrr,        X86::VPMAXSBYrm,         0 },</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    { X86::VPMAXSDYrr,        X86::VPMAXSDYrm,         0 },</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    { X86::VPMAXUDYrr,        X86::VPMAXUDYrm,         0 },</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    { X86::VPMAXUWYrr,        X86::VPMAXUWYrm,         0 },</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    { X86::VMPSADBWYrri,      X86::VMPSADBWYrmi,       0 },</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    { X86::VPMULDQYrr,        X86::VPMULDQYrm,         0 },</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    { X86::VPMULHRSWrr256,    X86::VPMULHRSWrm256,     0 },</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    { X86::VPMULHUWYrr,       X86::VPMULHUWYrm,        0 },</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    { X86::VPMULHWYrr,        X86::VPMULHWYrm,         0 },</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    { X86::VPMULLDYrr,        X86::VPMULLDYrm,         0 },</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    { X86::VPMULLWYrr,        X86::VPMULLWYrm,         0 },</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    { X86::VPMULUDQYrr,       X86::VPMULUDQYrm,        0 },</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    { X86::VPORYrr,           X86::VPORYrm,            0 },</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    { X86::VPSADBWYrr,        X86::VPSADBWYrm,         0 },</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    { X86::VPSHUFBYrr,        X86::VPSHUFBYrm,         0 },</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    { X86::VPSIGNBYrr,        X86::VPSIGNBYrm,         0 },</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    { X86::VPSIGNWYrr,        X86::VPSIGNWYrm,         0 },</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    { X86::VPSIGNDYrr,        X86::VPSIGNDYrm,         0 },</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    { X86::VPSLLDYrr,         X86::VPSLLDYrm,          0 },</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    { X86::VPSLLQYrr,         X86::VPSLLQYrm,          0 },</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    { X86::VPSLLWYrr,         X86::VPSLLWYrm,          0 },</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    { X86::VPSLLVDrr,         X86::VPSLLVDrm,          0 },</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    { X86::VPSLLVDYrr,        X86::VPSLLVDYrm,         0 },</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    { X86::VPSLLVQrr,         X86::VPSLLVQrm,          0 },</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    { X86::VPSLLVQYrr,        X86::VPSLLVQYrm,         0 },</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    { X86::VPSRADYrr,         X86::VPSRADYrm,          0 },</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    { X86::VPSRAWYrr,         X86::VPSRAWYrm,          0 },</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    { X86::VPSRAVDrr,         X86::VPSRAVDrm,          0 },</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    { X86::VPSRAVDYrr,        X86::VPSRAVDYrm,         0 },</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    { X86::VPSRLDYrr,         X86::VPSRLDYrm,          0 },</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    { X86::VPSRLQYrr,         X86::VPSRLQYrm,          0 },</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    { X86::VPSRLWYrr,         X86::VPSRLWYrm,          0 },</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    { X86::VPSRLVDrr,         X86::VPSRLVDrm,          0 },</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    { X86::VPSRLVDYrr,        X86::VPSRLVDYrm,         0 },</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    { X86::VPSRLVQrr,         X86::VPSRLVQrm,          0 },</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    { X86::VPSRLVQYrr,        X86::VPSRLVQYrm,         0 },</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    { X86::VPSUBBYrr,         X86::VPSUBBYrm,          0 },</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    { X86::VPSUBDYrr,         X86::VPSUBDYrm,          0 },</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    { X86::VPSUBSBYrr,        X86::VPSUBSBYrm,         0 },</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    { X86::VPSUBSWYrr,        X86::VPSUBSWYrm,         0 },</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    { X86::VPSUBWYrr,         X86::VPSUBWYrm,          0 },</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    { X86::VPUNPCKHBWYrr,     X86::VPUNPCKHBWYrm,      0 },</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    { X86::VPUNPCKHDQYrr,     X86::VPUNPCKHDQYrm,      0 },</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    { X86::VPUNPCKHQDQYrr,    X86::VPUNPCKHQDQYrm,     0 },</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    { X86::VPUNPCKHWDYrr,     X86::VPUNPCKHWDYrm,      0 },</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    { X86::VPUNPCKLBWYrr,     X86::VPUNPCKLBWYrm,      0 },</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    { X86::VPUNPCKLDQYrr,     X86::VPUNPCKLDQYrm,      0 },</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    { X86::VPUNPCKLQDQYrr,    X86::VPUNPCKLQDQYrm,     0 },</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    { X86::VPUNPCKLWDYrr,     X86::VPUNPCKLWDYrm,      0 },</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    { X86::VPXORYrr,          X86::VPXORYrm,           0 },</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="comment">// FIXME: add AVX 256-bit foldable instructions</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="comment">// FMA4 foldable patterns</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    { X86::VFMADDSS4rr,       X86::VFMADDSS4mr,        0           },</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    { X86::VFMADDSD4rr,       X86::VFMADDSD4mr,        0           },</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    { X86::VFMADDPS4rr,       X86::VFMADDPS4mr,        TB_ALIGN_16 },</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    { X86::VFMADDPD4rr,       X86::VFMADDPD4mr,        TB_ALIGN_16 },</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    { X86::VFMADDPS4rrY,      X86::VFMADDPS4mrY,       <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a> },</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    { X86::VFMADDPD4rrY,      X86::VFMADDPD4mrY,       TB_ALIGN_32 },</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    { X86::VFNMADDSS4rr,      X86::VFNMADDSS4mr,       0           },</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    { X86::VFNMADDSD4rr,      X86::VFNMADDSD4mr,       0           },</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    { X86::VFNMADDPS4rr,      X86::VFNMADDPS4mr,       TB_ALIGN_16 },</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    { X86::VFNMADDPD4rr,      X86::VFNMADDPD4mr,       TB_ALIGN_16 },</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    { X86::VFNMADDPS4rrY,     X86::VFNMADDPS4mrY,      TB_ALIGN_32 },</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    { X86::VFNMADDPD4rrY,     X86::VFNMADDPD4mrY,      TB_ALIGN_32 },</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    { X86::VFMSUBSS4rr,       X86::VFMSUBSS4mr,        0           },</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    { X86::VFMSUBSD4rr,       X86::VFMSUBSD4mr,        0           },</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    { X86::VFMSUBPS4rr,       X86::VFMSUBPS4mr,        TB_ALIGN_16 },</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    { X86::VFMSUBPD4rr,       X86::VFMSUBPD4mr,        TB_ALIGN_16 },</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    { X86::VFMSUBPS4rrY,      X86::VFMSUBPS4mrY,       TB_ALIGN_32 },</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    { X86::VFMSUBPD4rrY,      X86::VFMSUBPD4mrY,       TB_ALIGN_32 },</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    { X86::VFNMSUBSS4rr,      X86::VFNMSUBSS4mr,       0           },</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    { X86::VFNMSUBSD4rr,      X86::VFNMSUBSD4mr,       0           },</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    { X86::VFNMSUBPS4rr,      X86::VFNMSUBPS4mr,       TB_ALIGN_16 },</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    { X86::VFNMSUBPD4rr,      X86::VFNMSUBPD4mr,       TB_ALIGN_16 },</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    { X86::VFNMSUBPS4rrY,     X86::VFNMSUBPS4mrY,      TB_ALIGN_32 },</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    { X86::VFNMSUBPD4rrY,     X86::VFNMSUBPD4mrY,      TB_ALIGN_32 },</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    { X86::VFMADDSUBPS4rr,    X86::VFMADDSUBPS4mr,     TB_ALIGN_16 },</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    { X86::VFMADDSUBPD4rr,    X86::VFMADDSUBPD4mr,     TB_ALIGN_16 },</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    { X86::VFMADDSUBPS4rrY,   X86::VFMADDSUBPS4mrY,    TB_ALIGN_32 },</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    { X86::VFMADDSUBPD4rrY,   X86::VFMADDSUBPD4mrY,    TB_ALIGN_32 },</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    { X86::VFMSUBADDPS4rr,    X86::VFMSUBADDPS4mr,     TB_ALIGN_16 },</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    { X86::VFMSUBADDPD4rr,    X86::VFMSUBADDPD4mr,     TB_ALIGN_16 },</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    { X86::VFMSUBADDPS4rrY,   X86::VFMSUBADDPS4mrY,    TB_ALIGN_32 },</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    { X86::VFMSUBADDPD4rrY,   X86::VFMSUBADDPD4mrY,    TB_ALIGN_32 },</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="comment">// BMI/BMI2 foldable instructions</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    { X86::ANDN32rr,          X86::ANDN32rm,            0 },</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    { X86::ANDN64rr,          X86::ANDN64rm,            0 },</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    { X86::MULX32rr,          X86::MULX32rm,            0 },</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    { X86::MULX64rr,          X86::MULX64rm,            0 },</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    { X86::PDEP32rr,          X86::PDEP32rm,            0 },</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    { X86::PDEP64rr,          X86::PDEP64rm,            0 },</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    { X86::PEXT32rr,          X86::PEXT32rm,            0 },</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    { X86::PEXT64rr,          X86::PEXT64rm,            0 },</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="comment">// AVX-512 foldable instructions</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    { X86::VPADDDZrr,         X86::VPADDDZrm,           0 },</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    { X86::VPADDQZrr,         X86::VPADDQZrm,           0 },</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    { X86::VADDPSZrr,         X86::VADDPSZrm,           0 },</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    { X86::VADDPDZrr,         X86::VADDPDZrm,           0 },</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    { X86::VSUBPSZrr,         X86::VSUBPSZrm,           0 },</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    { X86::VSUBPDZrr,         X86::VSUBPDZrm,           0 },</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    { X86::VMULPSZrr,         X86::VMULPSZrm,           0 },</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    { X86::VMULPDZrr,         X86::VMULPDZrm,           0 },</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    { X86::VDIVPSZrr,         X86::VDIVPSZrm,           0 },</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    { X86::VDIVPDZrr,         X86::VDIVPDZrm,           0 },</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    { X86::VMINPSZrr,         X86::VMINPSZrm,           0 },</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    { X86::VMINPDZrr,         X86::VMINPDZrm,           0 },</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    { X86::VMAXPSZrr,         X86::VMAXPSZrm,           0 },</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    { X86::VMAXPDZrr,         X86::VMAXPDZrm,           0 },</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    { X86::VPERMPDZri,        X86::VPERMPDZmi,          0 },</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    { X86::VPERMPSZrr,        X86::VPERMPSZrm,          0 },</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    { X86::VPSLLVDZrr,        X86::VPSLLVDZrm,          0 },</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    { X86::VPSLLVQZrr,        X86::VPSLLVQZrm,          0 },</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    { X86::VPSRAVDZrr,        X86::VPSRAVDZrm,          0 },</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    { X86::VPSRLVDZrr,        X86::VPSRLVDZrm,          0 },</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    { X86::VPSRLVQZrr,        X86::VPSRLVQZrm,          0 },</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    { X86::VSHUFPDZrri,       X86::VSHUFPDZrmi,         0 },</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    { X86::VSHUFPSZrri,       X86::VSHUFPSZrmi,         0 },</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    { X86::VALIGNQrri,        X86::VALIGNQrmi,          0 },</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    { X86::VALIGNDrri,        X86::VALIGNDrmi,          0 },</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="comment">// AES foldable instructions</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    { X86::AESDECLASTrr,      X86::AESDECLASTrm,        TB_ALIGN_16 },</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    { X86::AESDECrr,          X86::AESDECrm,            TB_ALIGN_16 },</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    { X86::AESENCLASTrr,      X86::AESENCLASTrm,        TB_ALIGN_16 },</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    { X86::AESENCrr,          X86::AESENCrm,            TB_ALIGN_16 },</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    { X86::VAESDECLASTrr,     X86::VAESDECLASTrm,       TB_ALIGN_16 },</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    { X86::VAESDECrr,         X86::VAESDECrm,           TB_ALIGN_16 },</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    { X86::VAESENCLASTrr,     X86::VAESENCLASTrm,       TB_ALIGN_16 },</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    { X86::VAESENCrr,         X86::VAESENCrm,           TB_ALIGN_16 },</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">// SHA foldable instructions</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    { X86::SHA1MSG1rr,        X86::SHA1MSG1rm,          TB_ALIGN_16 },</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    { X86::SHA1MSG2rr,        X86::SHA1MSG2rm,          TB_ALIGN_16 },</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    { X86::SHA1NEXTErr,       X86::SHA1NEXTErm,         TB_ALIGN_16 },</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    { X86::SHA1RNDS4rri,      X86::SHA1RNDS4rmi,        TB_ALIGN_16 },</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    { X86::SHA256MSG1rr,      X86::SHA256MSG1rm,        TB_ALIGN_16 },</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    { X86::SHA256MSG2rr,      X86::SHA256MSG2rm,        TB_ALIGN_16 },</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    { X86::SHA256RNDS2rr,     X86::SHA256RNDS2rm,       TB_ALIGN_16 },</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  };</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(OpTbl2); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordtype">unsigned</span> RegOp = OpTbl2[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">RegOp</a>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordtype">unsigned</span> MemOp = OpTbl2[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">MemOp</a>;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a> = OpTbl2[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">Flags</a>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    AddTableEntry(RegOp2MemOpTable2, MemOp2RegOpTable,</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                  RegOp, MemOp,</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                  <span class="comment">// Index 2, folded load</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                  Flags | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa8c9768724e21a02d04d137b4c14e36e3">TB_INDEX_2</a> | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a>);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structX86OpTblEntry.html">X86OpTblEntry</a> OpTbl3[] = {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">// FMA foldable instructions</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    { X86::VFMADDSSr231r,         X86::VFMADDSSr231m,         0 },</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    { X86::VFMADDSDr231r,         X86::VFMADDSDr231m,         0 },</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    { X86::VFMADDSSr132r,         X86::VFMADDSSr132m,         0 },</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    { X86::VFMADDSDr132r,         X86::VFMADDSDr132m,         0 },</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    { X86::VFMADDSSr213r,         X86::VFMADDSSr213m,         0 },</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    { X86::VFMADDSDr213r,         X86::VFMADDSDr213m,         0 },</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    { X86::VFMADDSSr213r_Int,     X86::VFMADDSSr213m_Int,     0 },</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    { X86::VFMADDSDr213r_Int,     X86::VFMADDSDr213m_Int,     0 },</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    { X86::VFMADDPSr231r,         X86::VFMADDPSr231m,         <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a> },</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    { X86::VFMADDPDr231r,         X86::VFMADDPDr231m,         TB_ALIGN_16 },</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    { X86::VFMADDPSr132r,         X86::VFMADDPSr132m,         TB_ALIGN_16 },</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    { X86::VFMADDPDr132r,         X86::VFMADDPDr132m,         TB_ALIGN_16 },</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    { X86::VFMADDPSr213r,         X86::VFMADDPSr213m,         TB_ALIGN_16 },</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    { X86::VFMADDPDr213r,         X86::VFMADDPDr213m,         TB_ALIGN_16 },</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    { X86::VFMADDPSr231rY,        X86::VFMADDPSr231mY,        <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a> },</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    { X86::VFMADDPDr231rY,        X86::VFMADDPDr231mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    { X86::VFMADDPSr132rY,        X86::VFMADDPSr132mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    { X86::VFMADDPDr132rY,        X86::VFMADDPDr132mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    { X86::VFMADDPSr213rY,        X86::VFMADDPSr213mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    { X86::VFMADDPDr213rY,        X86::VFMADDPDr213mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    { X86::VFNMADDSSr231r,        X86::VFNMADDSSr231m,        0 },</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    { X86::VFNMADDSDr231r,        X86::VFNMADDSDr231m,        0 },</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    { X86::VFNMADDSSr132r,        X86::VFNMADDSSr132m,        0 },</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    { X86::VFNMADDSDr132r,        X86::VFNMADDSDr132m,        0 },</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    { X86::VFNMADDSSr213r,        X86::VFNMADDSSr213m,        0 },</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    { X86::VFNMADDSDr213r,        X86::VFNMADDSDr213m,        0 },</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    { X86::VFNMADDSSr213r_Int,    X86::VFNMADDSSr213m_Int,    0 },</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    { X86::VFNMADDSDr213r_Int,    X86::VFNMADDSDr213m_Int,    0 },</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    { X86::VFNMADDPSr231r,        X86::VFNMADDPSr231m,        TB_ALIGN_16 },</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    { X86::VFNMADDPDr231r,        X86::VFNMADDPDr231m,        TB_ALIGN_16 },</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    { X86::VFNMADDPSr132r,        X86::VFNMADDPSr132m,        TB_ALIGN_16 },</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    { X86::VFNMADDPDr132r,        X86::VFNMADDPDr132m,        TB_ALIGN_16 },</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    { X86::VFNMADDPSr213r,        X86::VFNMADDPSr213m,        TB_ALIGN_16 },</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    { X86::VFNMADDPDr213r,        X86::VFNMADDPDr213m,        TB_ALIGN_16 },</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    { X86::VFNMADDPSr231rY,       X86::VFNMADDPSr231mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    { X86::VFNMADDPDr231rY,       X86::VFNMADDPDr231mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    { X86::VFNMADDPSr132rY,       X86::VFNMADDPSr132mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    { X86::VFNMADDPDr132rY,       X86::VFNMADDPDr132mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    { X86::VFNMADDPSr213rY,       X86::VFNMADDPSr213mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    { X86::VFNMADDPDr213rY,       X86::VFNMADDPDr213mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    { X86::VFMSUBSSr231r,         X86::VFMSUBSSr231m,         0 },</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    { X86::VFMSUBSDr231r,         X86::VFMSUBSDr231m,         0 },</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    { X86::VFMSUBSSr132r,         X86::VFMSUBSSr132m,         0 },</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    { X86::VFMSUBSDr132r,         X86::VFMSUBSDr132m,         0 },</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    { X86::VFMSUBSSr213r,         X86::VFMSUBSSr213m,         0 },</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    { X86::VFMSUBSDr213r,         X86::VFMSUBSDr213m,         0 },</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    { X86::VFMSUBSSr213r_Int,     X86::VFMSUBSSr213m_Int,     0 },</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    { X86::VFMSUBSDr213r_Int,     X86::VFMSUBSDr213m_Int,     0 },</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    { X86::VFMSUBPSr231r,         X86::VFMSUBPSr231m,         TB_ALIGN_16 },</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    { X86::VFMSUBPDr231r,         X86::VFMSUBPDr231m,         TB_ALIGN_16 },</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    { X86::VFMSUBPSr132r,         X86::VFMSUBPSr132m,         TB_ALIGN_16 },</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    { X86::VFMSUBPDr132r,         X86::VFMSUBPDr132m,         TB_ALIGN_16 },</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    { X86::VFMSUBPSr213r,         X86::VFMSUBPSr213m,         TB_ALIGN_16 },</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    { X86::VFMSUBPDr213r,         X86::VFMSUBPDr213m,         TB_ALIGN_16 },</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    { X86::VFMSUBPSr231rY,        X86::VFMSUBPSr231mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    { X86::VFMSUBPDr231rY,        X86::VFMSUBPDr231mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    { X86::VFMSUBPSr132rY,        X86::VFMSUBPSr132mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    { X86::VFMSUBPDr132rY,        X86::VFMSUBPDr132mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    { X86::VFMSUBPSr213rY,        X86::VFMSUBPSr213mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    { X86::VFMSUBPDr213rY,        X86::VFMSUBPDr213mY,        TB_ALIGN_32 },</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    { X86::VFNMSUBSSr231r,        X86::VFNMSUBSSr231m,        0 },</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    { X86::VFNMSUBSDr231r,        X86::VFNMSUBSDr231m,        0 },</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    { X86::VFNMSUBSSr132r,        X86::VFNMSUBSSr132m,        0 },</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    { X86::VFNMSUBSDr132r,        X86::VFNMSUBSDr132m,        0 },</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    { X86::VFNMSUBSSr213r,        X86::VFNMSUBSSr213m,        0 },</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    { X86::VFNMSUBSDr213r,        X86::VFNMSUBSDr213m,        0 },</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    { X86::VFNMSUBSSr213r_Int,    X86::VFNMSUBSSr213m_Int,    0 },</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    { X86::VFNMSUBSDr213r_Int,    X86::VFNMSUBSDr213m_Int,    0 },</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    { X86::VFNMSUBPSr231r,        X86::VFNMSUBPSr231m,        TB_ALIGN_16 },</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    { X86::VFNMSUBPDr231r,        X86::VFNMSUBPDr231m,        TB_ALIGN_16 },</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    { X86::VFNMSUBPSr132r,        X86::VFNMSUBPSr132m,        TB_ALIGN_16 },</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    { X86::VFNMSUBPDr132r,        X86::VFNMSUBPDr132m,        TB_ALIGN_16 },</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    { X86::VFNMSUBPSr213r,        X86::VFNMSUBPSr213m,        TB_ALIGN_16 },</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    { X86::VFNMSUBPDr213r,        X86::VFNMSUBPDr213m,        TB_ALIGN_16 },</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    { X86::VFNMSUBPSr231rY,       X86::VFNMSUBPSr231mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    { X86::VFNMSUBPDr231rY,       X86::VFNMSUBPDr231mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    { X86::VFNMSUBPSr132rY,       X86::VFNMSUBPSr132mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    { X86::VFNMSUBPDr132rY,       X86::VFNMSUBPDr132mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    { X86::VFNMSUBPSr213rY,       X86::VFNMSUBPSr213mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    { X86::VFNMSUBPDr213rY,       X86::VFNMSUBPDr213mY,       TB_ALIGN_32 },</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    { X86::VFMADDSUBPSr231r,      X86::VFMADDSUBPSr231m,      TB_ALIGN_16 },</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    { X86::VFMADDSUBPDr231r,      X86::VFMADDSUBPDr231m,      TB_ALIGN_16 },</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    { X86::VFMADDSUBPSr132r,      X86::VFMADDSUBPSr132m,      TB_ALIGN_16 },</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    { X86::VFMADDSUBPDr132r,      X86::VFMADDSUBPDr132m,      TB_ALIGN_16 },</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    { X86::VFMADDSUBPSr213r,      X86::VFMADDSUBPSr213m,      TB_ALIGN_16 },</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    { X86::VFMADDSUBPDr213r,      X86::VFMADDSUBPDr213m,      TB_ALIGN_16 },</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    { X86::VFMADDSUBPSr231rY,     X86::VFMADDSUBPSr231mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    { X86::VFMADDSUBPDr231rY,     X86::VFMADDSUBPDr231mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    { X86::VFMADDSUBPSr132rY,     X86::VFMADDSUBPSr132mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    { X86::VFMADDSUBPDr132rY,     X86::VFMADDSUBPDr132mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    { X86::VFMADDSUBPSr213rY,     X86::VFMADDSUBPSr213mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    { X86::VFMADDSUBPDr213rY,     X86::VFMADDSUBPDr213mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    { X86::VFMSUBADDPSr231r,      X86::VFMSUBADDPSr231m,      TB_ALIGN_16 },</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    { X86::VFMSUBADDPDr231r,      X86::VFMSUBADDPDr231m,      TB_ALIGN_16 },</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    { X86::VFMSUBADDPSr132r,      X86::VFMSUBADDPSr132m,      TB_ALIGN_16 },</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    { X86::VFMSUBADDPDr132r,      X86::VFMSUBADDPDr132m,      TB_ALIGN_16 },</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    { X86::VFMSUBADDPSr213r,      X86::VFMSUBADDPSr213m,      TB_ALIGN_16 },</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    { X86::VFMSUBADDPDr213r,      X86::VFMSUBADDPDr213m,      TB_ALIGN_16 },</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    { X86::VFMSUBADDPSr231rY,     X86::VFMSUBADDPSr231mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    { X86::VFMSUBADDPDr231rY,     X86::VFMSUBADDPDr231mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    { X86::VFMSUBADDPSr132rY,     X86::VFMSUBADDPSr132mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    { X86::VFMSUBADDPDr132rY,     X86::VFMSUBADDPDr132mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    { X86::VFMSUBADDPSr213rY,     X86::VFMSUBADDPSr213mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    { X86::VFMSUBADDPDr213rY,     X86::VFMSUBADDPDr213mY,     TB_ALIGN_32 },</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="comment">// FMA4 foldable patterns</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    { X86::VFMADDSS4rr,           X86::VFMADDSS4rm,           0           },</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    { X86::VFMADDSD4rr,           X86::VFMADDSD4rm,           0           },</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    { X86::VFMADDPS4rr,           X86::VFMADDPS4rm,           TB_ALIGN_16 },</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    { X86::VFMADDPD4rr,           X86::VFMADDPD4rm,           TB_ALIGN_16 },</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    { X86::VFMADDPS4rrY,          X86::VFMADDPS4rmY,          TB_ALIGN_32 },</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    { X86::VFMADDPD4rrY,          X86::VFMADDPD4rmY,          TB_ALIGN_32 },</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    { X86::VFNMADDSS4rr,          X86::VFNMADDSS4rm,          0           },</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    { X86::VFNMADDSD4rr,          X86::VFNMADDSD4rm,          0           },</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    { X86::VFNMADDPS4rr,          X86::VFNMADDPS4rm,          TB_ALIGN_16 },</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    { X86::VFNMADDPD4rr,          X86::VFNMADDPD4rm,          TB_ALIGN_16 },</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    { X86::VFNMADDPS4rrY,         X86::VFNMADDPS4rmY,         TB_ALIGN_32 },</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    { X86::VFNMADDPD4rrY,         X86::VFNMADDPD4rmY,         TB_ALIGN_32 },</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    { X86::VFMSUBSS4rr,           X86::VFMSUBSS4rm,           0           },</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    { X86::VFMSUBSD4rr,           X86::VFMSUBSD4rm,           0           },</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    { X86::VFMSUBPS4rr,           X86::VFMSUBPS4rm,           TB_ALIGN_16 },</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    { X86::VFMSUBPD4rr,           X86::VFMSUBPD4rm,           TB_ALIGN_16 },</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    { X86::VFMSUBPS4rrY,          X86::VFMSUBPS4rmY,          TB_ALIGN_32 },</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    { X86::VFMSUBPD4rrY,          X86::VFMSUBPD4rmY,          TB_ALIGN_32 },</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    { X86::VFNMSUBSS4rr,          X86::VFNMSUBSS4rm,          0           },</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    { X86::VFNMSUBSD4rr,          X86::VFNMSUBSD4rm,          0           },</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    { X86::VFNMSUBPS4rr,          X86::VFNMSUBPS4rm,          TB_ALIGN_16 },</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    { X86::VFNMSUBPD4rr,          X86::VFNMSUBPD4rm,          TB_ALIGN_16 },</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    { X86::VFNMSUBPS4rrY,         X86::VFNMSUBPS4rmY,         TB_ALIGN_32 },</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    { X86::VFNMSUBPD4rrY,         X86::VFNMSUBPD4rmY,         TB_ALIGN_32 },</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    { X86::VFMADDSUBPS4rr,        X86::VFMADDSUBPS4rm,        TB_ALIGN_16 },</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    { X86::VFMADDSUBPD4rr,        X86::VFMADDSUBPD4rm,        TB_ALIGN_16 },</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    { X86::VFMADDSUBPS4rrY,       X86::VFMADDSUBPS4rmY,       TB_ALIGN_32 },</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    { X86::VFMADDSUBPD4rrY,       X86::VFMADDSUBPD4rmY,       TB_ALIGN_32 },</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    { X86::VFMSUBADDPS4rr,        X86::VFMSUBADDPS4rm,        TB_ALIGN_16 },</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    { X86::VFMSUBADDPD4rr,        X86::VFMSUBADDPD4rm,        TB_ALIGN_16 },</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    { X86::VFMSUBADDPS4rrY,       X86::VFMSUBADDPS4rmY,       TB_ALIGN_32 },</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    { X86::VFMSUBADDPD4rrY,       X86::VFMSUBADDPD4rmY,       TB_ALIGN_32 },</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// AVX-512 VPERMI instructions with 3 source operands.</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    { X86::VPERMI2Drr,            X86::VPERMI2Drm,            0 },</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    { X86::VPERMI2Qrr,            X86::VPERMI2Qrm,            0 },</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    { X86::VPERMI2PSrr,           X86::VPERMI2PSrm,           0 },</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    { X86::VPERMI2PDrr,           X86::VPERMI2PDrm,           0 },</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  };</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(OpTbl3); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordtype">unsigned</span> RegOp = OpTbl3[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">RegOp</a>;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordtype">unsigned</span> MemOp = OpTbl3[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">MemOp</a>;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a> = OpTbl3[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">Flags</a>;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    AddTableEntry(RegOp2MemOpTable3, MemOp2RegOpTable,</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                  RegOp, MemOp,</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                  <span class="comment">// Index 3, folded load</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                  Flags | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa52b2670cc1730cf0f1f5ae181e0470fa">TB_INDEX_3</a> | <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a>);</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;}</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;X86InstrInfo::AddTableEntry(<a class="code" href="classllvm_1_1DenseMap.html">RegOp2MemOpTableType</a> &amp;R2MTable,</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                            <a class="code" href="classllvm_1_1DenseMap.html">MemOp2RegOpTableType</a> &amp;M2RTable,</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                            <span class="keywordtype">unsigned</span> RegOp, <span class="keywordtype">unsigned</span> MemOp, <span class="keywordtype">unsigned</span> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>) {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">if</span> ((Flags &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa0fe51bc2620334f4efc6e918939bec7d">TB_NO_FORWARD</a>) == 0) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      assert(!R2MTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(RegOp) &amp;&amp; <span class="stringliteral">&quot;Duplicate entry!&quot;</span>);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      R2MTable[RegOp] = std::make_pair(MemOp, Flags);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">if</span> ((Flags &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3">TB_NO_REVERSE</a>) == 0) {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      assert(!M2RTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(MemOp) &amp;&amp;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;           <span class="stringliteral">&quot;Duplicated entries in unfolding maps?&quot;</span>);</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      M2RTable[MemOp] = std::make_pair(RegOp, Flags);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    }</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;}</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01453"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a11791fa2583d22ec8724a5f29eaa188d"> 1453</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a11791fa2583d22ec8724a5f29eaa188d">X86InstrInfo::isCoalescableExtInstr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                                    <span class="keywordtype">unsigned</span> &amp;SrcReg, <span class="keywordtype">unsigned</span> &amp;DstReg,</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                                    <span class="keywordtype">unsigned</span> &amp;SubIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">switch</span> (MI.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">case</span> X86::MOVSX16rr8:</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="keywordflow">case</span> X86::MOVZX16rr8:</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">case</span> X86::MOVSX32rr8:</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordflow">case</span> X86::MOVZX32rr8:</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">case</span> X86::MOVSX64rr8:</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">if</span> (!TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="comment">// It&#39;s not always legal to reference the low 8-bit of the larger</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <span class="comment">// register in 32-bit mode.</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordflow">case</span> X86::MOVSX32rr16:</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">case</span> X86::MOVZX32rr16:</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">case</span> X86::MOVSX64rr16:</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordflow">case</span> X86::MOVSX64rr32: {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">if</span> (MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() || MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>())</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <span class="comment">// Be conservative.</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    SrcReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    DstReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">switch</span> (MI.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unreachable!&quot;</span>);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">case</span> X86::MOVSX16rr8:</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">case</span> X86::MOVZX16rr8:</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">case</span> X86::MOVSX32rr8:</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">case</span> X86::MOVZX32rr8:</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">case</span> X86::MOVSX64rr8:</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      SubIdx = X86::sub_8bit;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">case</span> X86::MOVSX32rr16:</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">case</span> X86::MOVZX32rr16:</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">case</span> X86::MOVSX64rr16:</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      SubIdx = X86::sub_16bit;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">case</span> X86::MOVSX64rr32:</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      SubIdx = X86::sub_32bit;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    }</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  }</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;}</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment">/// isFrameOperand - Return true and the FrameIndex if the specified</span></div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">/// operand and follow operands form a reference to the stack frame.</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86InstrInfo::isFrameOperand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Op,</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                                  <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op+1).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op+2).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op+3).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op+1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 1 &amp;&amp;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op+2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == 0 &amp;&amp;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op+3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 0) {</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Op).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  }</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;}</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="line"><a name="l01515"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a159c318e89a3ac46f2020da0309142c3"> 1515</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a159c318e89a3ac46f2020da0309142c3">isFrameLoadOpcode</a>(<span class="keywordtype">int</span> Opcode) {</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keywordflow">case</span> X86::MOV8rm:</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">case</span> X86::MOV16rm:</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">case</span> X86::MOV32rm:</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">case</span> X86::MOV64rm:</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp64m:</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">case</span> X86::MOVSSrm:</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">case</span> X86::MOVSDrm:</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPSrm:</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPDrm:</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQArm:</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSSrm:</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSDrm:</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSrm:</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDrm:</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQArm:</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSYrm:</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDYrm:</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQAYrm:</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVD64rm:</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVQ64rm:</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQA32rm:</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQA64rm:</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  }</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;}</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a0266e46a4cac213732f593e99518944f"> 1545</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a0266e46a4cac213732f593e99518944f">isFrameStoreOpcode</a>(<span class="keywordtype">int</span> Opcode) {</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keywordflow">case</span> X86::MOV8mr:</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">case</span> X86::MOV16mr:</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">case</span> X86::MOV32mr:</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">case</span> X86::MOV64mr:</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">case</span> X86::ST_FpP64m:</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">case</span> X86::MOVSSmr:</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keywordflow">case</span> X86::MOVSDmr:</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPSmr:</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPDmr:</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQAmr:</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSSmr:</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSDmr:</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSmr:</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDmr:</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQAmr:</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSYmr:</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDYmr:</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQAYmr:</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVD64mr:</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVQ64mr:</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVNTQmr:</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  }</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;}</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a35f60c7e0069e30dea70cd8c2664f971"> 1574</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a35f60c7e0069e30dea70cd8c2664f971">X86InstrInfo::isLoadFromStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                           <span class="keywordtype">int</span> &amp;FrameIndex)<span class="keyword"> const </span>{</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a159c318e89a3ac46f2020da0309142c3">isFrameLoadOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()))</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() == 0 &amp;&amp; isFrameOperand(MI, 1, FrameIndex))</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;}</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a307eebee817f160c1b97bbe4f673103e"> 1582</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a307eebee817f160c1b97bbe4f673103e">X86InstrInfo::isLoadFromStackSlotPostFE</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                                                 <span class="keywordtype">int</span> &amp;FrameIndex)<span class="keyword"> const </span>{</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a159c318e89a3ac46f2020da0309142c3">isFrameLoadOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>())) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keywordflow">if</span> ((Reg = <a class="code" href="classllvm_1_1X86InstrInfo.html#a35f60c7e0069e30dea70cd8c2664f971">isLoadFromStackSlot</a>(MI, FrameIndex)))</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="comment">// Check for post-frame index elimination operations</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *<a class="code" href="namespacellvm_1_1NVPTXISD.html#a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">return</span> hasLoadFromStackSlot(MI, Dummy, FrameIndex);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;}</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a04c9c39dfd7170619ba060bb6e5e8723"> 1595</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a04c9c39dfd7170619ba060bb6e5e8723">X86InstrInfo::isStoreToStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                                          <span class="keywordtype">int</span> &amp;FrameIndex)<span class="keyword"> const </span>{</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a0266e46a4cac213732f593e99518944f">isFrameStoreOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()))</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="namespacellvm_1_1X86.html#a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691">X86::AddrNumOperands</a>).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() == 0 &amp;&amp;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        isFrameOperand(MI, 0, FrameIndex))</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="namespacellvm_1_1X86.html#a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691">X86::AddrNumOperands</a>).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a73a1ea7a9972c485d9f3cca733deb593"> 1604</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a73a1ea7a9972c485d9f3cca733deb593">X86InstrInfo::isStoreToStackSlotPostFE</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                                                <span class="keywordtype">int</span> &amp;FrameIndex)<span class="keyword"> const </span>{</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a0266e46a4cac213732f593e99518944f">isFrameStoreOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>())) {</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> ((Reg = <a class="code" href="classllvm_1_1X86InstrInfo.html#a04c9c39dfd7170619ba060bb6e5e8723">isStoreToStackSlot</a>(MI, FrameIndex)))</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// Check for post-frame index elimination operations</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *<a class="code" href="namespacellvm_1_1NVPTXISD.html#a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">return</span> hasStoreToStackSlot(MI, Dummy, FrameIndex);</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  }</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;}</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">/// regIsPICBase - Return true if register is PIC base (i.e.g defined by</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">/// X86::MOVPC32r.</span></div><div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a5672648caffe7e1c3a2a5037b1ddfc0d"> 1619</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a5672648caffe7e1c3a2a5037b1ddfc0d">regIsPICBase</a>(<span class="keywordtype">unsigned</span> BaseReg, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>) {</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="comment">// Don&#39;t waste compile time scanning use-def chains of physregs.</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(BaseReg))</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordtype">bool</span> isPICBase = <span class="keyword">false</span>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">MachineRegisterInfo::def_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a66efe5c5561969cd4506c421daaf9bf3">def_begin</a>(BaseReg),</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;         E = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa21b132afc12ed3cead7a879506f277a">def_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getOperand().getParent();</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">if</span> (DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() != X86::MOVPC32r)</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    assert(!isPICBase &amp;&amp; <span class="stringliteral">&quot;More than one PIC base?&quot;</span>);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    isPICBase = <span class="keyword">true</span>;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  }</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">return</span> isPICBase;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;}</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01636"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a98bd6ef07dea75f1fccf9699eabb7fe7"> 1636</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a98bd6ef07dea75f1fccf9699eabb7fe7">X86InstrInfo::isReallyTriviallyReMaterializable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                                                <a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA)<span class="keyword"> const </span>{</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="keywordflow">case</span> X86::MOV8rm:</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">case</span> X86::MOV16rm:</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">case</span> X86::MOV32rm:</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="keywordflow">case</span> X86::MOV64rm:</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp64m:</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">case</span> X86::MOVSSrm:</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordflow">case</span> X86::MOVSDrm:</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPSrm:</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="keywordflow">case</span> X86::MOVUPSrm:</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPDrm:</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQArm:</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQUrm:</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSSrm:</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSDrm:</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSrm:</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="keywordflow">case</span> X86::VMOVUPSrm:</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDrm:</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQArm:</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQUrm:</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSYrm:</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  <span class="keywordflow">case</span> X86::VMOVUPSYrm:</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDYrm:</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQAYrm:</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQUYrm:</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVD64rm:</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVQ64rm:</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="keywordflow">case</span> X86::FsVMOVAPSrm:</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keywordflow">case</span> X86::FsVMOVAPDrm:</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keywordflow">case</span> X86::FsMOVAPSrm:</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="keywordflow">case</span> X86::FsMOVAPDrm: {</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="comment">// Loads from constant pools are trivially rematerializable.</span></div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == 0 &amp;&amp;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3293892e5078a238db5b0f388aca5fa5">isInvariantLoad</a>(AA)) {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <span class="keywordtype">unsigned</span> BaseReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keywordflow">if</span> (BaseReg == 0 || BaseReg == X86::RIP)</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <span class="comment">// Allow re-materialization of PIC load.</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="X86InstrInfo_8cpp.html#ae0fbc33aeabead735b7c93aec41638f7">ReMatPICStubLoad</a> &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a58048141ed81d581f3fb9a797f3186ee">isGlobal</a>())</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#a5672648caffe7e1c3a2a5037b1ddfc0d">regIsPICBase</a>(BaseReg, MRI);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    }</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">case</span> X86::LEA32r:</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="keywordflow">case</span> X86::LEA64r: {</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == 0 &amp;&amp;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>()) {</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="comment">// lea fi#, lea GV, etc. are all rematerializable.</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>())</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="keywordtype">unsigned</span> BaseReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <span class="keywordflow">if</span> (BaseReg == 0)</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <span class="comment">// Allow re-materialization of lea PICBase + x.</span></div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#a5672648caffe7e1c3a2a5037b1ddfc0d">regIsPICBase</a>(BaseReg, MRI);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    }</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  }</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  }</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">// All other instructions marked M_REMATERIALIZABLE are always trivially</span></div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="comment">// rematerializable.</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment">/// isSafeToClobberEFLAGS - Return true if it&#39;s safe insert an instruction that</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment">/// would clobber the EFLAGS condition register. Note the result may be</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment">/// conservative. If it cannot definitely determine the safety after visiting</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment">/// a few instructions in each direction it assumes it&#39;s not safe.</span></div><div class="line"><a name="l01717"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a4105866812fcd688e867f18e83302872"> 1717</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a4105866812fcd688e867f18e83302872">isSafeToClobberEFLAGS</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                                  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> E = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">// For compile time consideration, if we are not able to determine the</span></div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="comment">// safety after visiting 4 instructions in each direction, we will assume</span></div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="comment">// it&#39;s not safe.</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> Iter = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; Iter != E &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordtype">bool</span> SeenDef = <span class="keyword">false</span>;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0, e = Iter-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != e; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Iter-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">isRegMask</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad5bef9f5be828b62f053b3017eb9dbdb">clobbersPhysReg</a>(X86::EFLAGS))</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        SeenDef = <span class="keyword">true</span>;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>())</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == X86::EFLAGS) {</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">isUse</a>())</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        SeenDef = <span class="keyword">true</span>;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      }</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    }</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">if</span> (SeenDef)</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      <span class="comment">// This instruction defines EFLAGS, no need to look any further.</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    ++Iter;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="comment">// Skip over DBG_VALUE.</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">while</span> (Iter != E &amp;&amp; Iter-&gt;isDebugValue())</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      ++Iter;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  }</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="comment">// It is safe to clobber EFLAGS at the end of a block of no successor has it</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="comment">// live in.</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="keywordflow">if</span> (Iter == E) {</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">MachineBasicBlock::succ_iterator</a> SI = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">succ_begin</a>(),</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;           SE = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">succ_end</a>(); SI != SE; ++SI)</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      <span class="keywordflow">if</span> ((*SI)-&gt;isLiveIn(X86::EFLAGS))</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  }</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  Iter = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 4; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="comment">// If we make it to the beginning of the block, it&#39;s safe to clobber</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="comment">// EFLAGS iff EFLAGS is not live-in.</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">if</span> (Iter == B)</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keywordflow">return</span> !MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a183fc29cc1ccec18f5e9e4122a4aab1c">isLiveIn</a>(X86::EFLAGS);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    --Iter;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="comment">// Skip over DBG_VALUE.</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">while</span> (Iter != B &amp;&amp; Iter-&gt;isDebugValue())</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      --Iter;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordtype">bool</span> SawKill = <span class="keyword">false</span>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0, e = Iter-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != e; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Iter-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>);</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="comment">// A register mask may clobber EFLAGS, but we should still look for a</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <span class="comment">// live EFLAGS def.</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">isRegMask</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad5bef9f5be828b62f053b3017eb9dbdb">clobbersPhysReg</a>(X86::EFLAGS))</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        SawKill = <span class="keyword">true</span>;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == X86::EFLAGS) {</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>()) <span class="keywordflow">return</span> MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>();</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>()) SawKill = <span class="keyword">true</span>;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      }</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    }</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">if</span> (SawKill)</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      <span class="comment">// This instruction kills EFLAGS and doesn&#39;t redefine it, so</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      <span class="comment">// there&#39;s no need to look further.</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  }</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="comment">// Conservative answer.</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;</div><div class="line"><a name="l01795"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a2647d450874ce14d72de7aae2df51716"> 1795</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a2647d450874ce14d72de7aae2df51716">X86InstrInfo::reMaterialize</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                                 <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                                 <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SubIdx,</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Orig,</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="comment">// MOV32r0 is implemented with a xor which clobbers condition code.</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="comment">// Re-materialize it as movri instructions to avoid side effects.</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="keywordtype">unsigned</span> Opc = Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keywordflow">if</span> (Opc == X86::MOV32r0 &amp;&amp; !<a class="code" href="X86InstrInfo_8cpp.html#a4105866812fcd688e867f18e83302872">isSafeToClobberEFLAGS</a>(MBB, I)) {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(X86::MOV32ri)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0))</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      .addImm(0);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(Orig);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a8d02c1e6ef20f42c10d6f4e7234efd61">insert</a>(I, MI);</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  }</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">prior</a>(I);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a6ca0b91d76cb52e930c7b2b70944c5bc">substituteRegister</a>(Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), DestReg, SubIdx, TRI);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">/// hasLiveCondCodeDef - True if MI has a condition code def, e.g. EFLAGS, that</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">/// is not marked dead.</span></div><div class="line"><a name="l01818"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aad1703d177022f893845c16d8c1b168c"> 1818</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#aad1703d177022f893845c16d8c1b168c">hasLiveCondCodeDef</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI) {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>() &amp;&amp;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == X86::EFLAGS &amp;&amp; !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>()) {</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    }</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  }</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;}</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">/// getTruncatedShiftCount - check whether the shift count for a machine operand</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="comment">/// is non-zero.</span></div><div class="line"><a name="l01831"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463"> 1831</a></span>&#160;<span class="comment"></span><span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                                              <span class="keywordtype">unsigned</span> ShiftAmtOperandIdx) {</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="comment">// The shift count is six bits with the REX.W prefix and five bits without.</span></div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="keywordtype">unsigned</span> ShiftCountMask = (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da12e1b321252ff4c31f9a6b563d8d18b7">X86II::REX_W</a>) ? 63 : 31;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordtype">unsigned</span> Imm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ShiftAmtOperandIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="keywordflow">return</span> Imm &amp; ShiftCountMask;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;}</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment">/// isTruncatedShiftCountForLEA - check whether the given shift count is appropriate</span></div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="comment">/// can be represented by a LEA instruction.</span></div><div class="line"><a name="l01841"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a349feaf4bcc809481e099a4b5cbed1e2"> 1841</a></span>&#160;<span class="comment"></span><span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a349feaf4bcc809481e099a4b5cbed1e2">isTruncatedShiftCountForLEA</a>(<span class="keywordtype">unsigned</span> ShAmt) {</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="comment">// Left shift instructions can be transformed into load-effective-address</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="comment">// instructions if we can encode them appropriately.</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// A LEA instruction utilizes a SIB byte to encode it&#39;s scale factor.</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">// The SIB.scale field is two bits wide which means that we can encode any</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">// shift amount less than 4.</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keywordflow">return</span> ShAmt &lt; 4 &amp;&amp; ShAmt &gt; 0;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;}</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a"> 1850</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">X86InstrInfo::classifyLEAReg</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src,</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                  <span class="keywordtype">unsigned</span> Opc, <span class="keywordtype">bool</span> AllowSP,</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                                  <span class="keywordtype">unsigned</span> &amp;NewSrc, <span class="keywordtype">bool</span> &amp;isKill, <span class="keywordtype">bool</span> &amp;isUndef,</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                                  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;ImplicitOp)<span class="keyword"> const </span>{</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="keywordflow">if</span> (AllowSP) {</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    RC = Opc != X86::LEA32r ? &amp;X86::GR64RegClass : &amp;X86::GR32RegClass;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    RC = Opc != X86::LEA32r ?</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      &amp;X86::GR64_NOSPRegClass : &amp;X86::GR32_NOSPRegClass;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  }</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = Src.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">// For both LEA64 and LEA32 the register already has essentially the right</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="comment">// type (32-bit or 64-bit) we may just need to forbid SP.</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (Opc != X86::LEA64_32r) {</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    NewSrc = SrcReg;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    isKill = Src.<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>();</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    isUndef = Src.<a class="code" href="classllvm_1_1MachineOperand.html#afbf853e3a0de950e9116ffb9929ceebd">isUndef</a>();</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(NewSrc) &amp;&amp;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        !MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">constrainRegClass</a>(NewSrc, RC))</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// This is for an LEA64_32r and incoming registers are 32-bit. One way or</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="comment">// another we need to add 64-bit registers to the final MI.</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(SrcReg)) {</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    ImplicitOp = Src;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    ImplicitOp.<a class="code" href="classllvm_1_1MachineOperand.html#a10e708480cdc97c951368e06c13eac92">setImplicit</a>();</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    NewSrc = <a class="code" href="namespacellvm.html#aeea7fd2e801b71e4b49d6e6aa2efea5c">getX86SubSuperRegister</a>(Src.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142">MachineBasicBlock::LivenessQueryResult</a> LQR =</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a6f9ffe437ab2e9369084adfe6e2a8652">computeRegisterLiveness</a>(&amp;<a class="code" href="classllvm_1_1X86InstrInfo.html#aedbb7c612116b9499e6bda8b7d74f857">getRegisterInfo</a>(), NewSrc, MI);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">switch</span> (LQR) {</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142af64367be349b6e7672de902ebecae068">MachineBasicBlock::LQR_Unknown</a>:</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="comment">// We can&#39;t give sane liveness flags to the instruction, abandon LEA</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      <span class="comment">// formation.</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142accc15fa5c7a27d461dc9a884cc9a2dc8">MachineBasicBlock::LQR_Live</a>:</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      isKill = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aff83f9aeef903ed06c5098f5172624ed">killsRegister</a>(SrcReg);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      isUndef = <span class="keyword">false</span>;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <span class="comment">// The physreg itself is dead, so we have to use it as an &lt;undef&gt;.</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      isKill = <span class="keyword">false</span>;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      isUndef = <span class="keyword">true</span>;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    }</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="comment">// Virtual register of the wrong class, we have to create a temporary 64-bit</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">// vreg to feed into the LEA.</span></div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    NewSrc = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            <span class="keyword">get</span>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>))</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(NewSrc, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>, X86::sub_32bit)</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src);</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="comment">// Which is obviously going to be dead after we&#39;re done with it.</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    isKill = <span class="keyword">true</span>;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    isUndef = <span class="keyword">false</span>;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  }</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="comment">// We&#39;ve set all the parameters without issue.</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;}</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment">/// convertToThreeAddressWithLEA - Helper for convertToThreeAddress when</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment">/// 16-bit LEA is disabled, use 32-bit LEA to form 3-address code by promoting</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="comment">/// to a 32-bit superregister and then truncating back down to a 16-bit</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="comment">/// subregister.</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;X86InstrInfo::convertToThreeAddressWithLEA(<span class="keywordtype">unsigned</span> MIOpc,</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                                           <a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> &amp;MFI,</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                                           <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;MBBI,</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                                           <a class="code" href="classllvm_1_1LiveVariables.html">LiveVariables</a> *LV)<span class="keyword"> const </span>{</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = MBBI;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="keywordtype">unsigned</span> Dest = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="keywordtype">unsigned</span> Src = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="keywordtype">bool</span> isDead = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>();</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordtype">bool</span> isKill = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>();</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = MFI-&gt;getParent()-&gt;getRegInfo();</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordtype">unsigned</span> leaOutReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;X86::GR32RegClass);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keywordtype">unsigned</span> Opc, leaInReg;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>()) {</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    Opc = X86::LEA64_32r;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    leaInReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;X86::GR64_NOSPRegClass);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    Opc = X86::LEA32r;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    leaInReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;X86::GR32_NOSPRegClass);</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  }</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="comment">// Build and insert into an implicit UNDEF value. This is OK because</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">// well be shifting and then extracting the lower 16-bits.</span></div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// This has the potential to cause partial register stall. e.g.</span></div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">//   movw    (%rbp,%rcx,2), %dx</span></div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">//   leal    -65(%rdx), %esi</span></div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">// But testing has shown this *does* help performance in 64-bit mode (at</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="comment">// least on modern x86 machines).</span></div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MFI, MBBI, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a5a91c23866687baf221ce86ff6fde01f">X86::IMPLICIT_DEF</a>), leaInReg);</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *InsMI =</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MFI, MBBI, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>))</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(leaInReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>, X86::sub_16bit)</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Src, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill));</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MFI, MBBI, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                                    <span class="keyword">get</span>(Opc), leaOutReg);</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keywordflow">switch</span> (MIOpc) {</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unreachable!&quot;</span>);</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="keywordflow">case</span> X86::SHL16ri: {</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1 &lt;&lt; ShAmt)</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(leaInReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  }</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordflow">case</span> X86::INC16r:</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordflow">case</span> X86::INC64_16r:</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <a class="code" href="namespacellvm.html#afad63f3314b8553ee3c26d020b3ce09e">addRegOffset</a>(MIB, leaInReg, <span class="keyword">true</span>, 1);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">case</span> X86::DEC16r:</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="keywordflow">case</span> X86::DEC64_16r:</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <a class="code" href="namespacellvm.html#afad63f3314b8553ee3c26d020b3ce09e">addRegOffset</a>(MIB, leaInReg, <span class="keyword">true</span>, -1);</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri:</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri8:</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri_DB:</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri8_DB:</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <a class="code" href="namespacellvm.html#afad63f3314b8553ee3c26d020b3ce09e">addRegOffset</a>(MIB, leaInReg, <span class="keyword">true</span>, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">case</span> X86::ADD16rr:</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <span class="keywordflow">case</span> X86::ADD16rr_DB: {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordtype">unsigned</span> Src2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordtype">bool</span> isKill2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>();</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="keywordtype">unsigned</span> leaInReg2 = 0;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *InsMI2 = 0;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">if</span> (Src == Src2) {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <span class="comment">// ADD16rr %reg1028&lt;kill&gt;, %reg1028</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <span class="comment">// just a single insert_subreg.</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <a class="code" href="namespacellvm.html#a5a1ffa9f6330c88feb36340a950ba397">addRegReg</a>(MIB, leaInReg, <span class="keyword">true</span>, leaInReg, <span class="keyword">false</span>);</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        leaInReg2 = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;X86::GR64_NOSPRegClass);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        leaInReg2 = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;X86::GR32_NOSPRegClass);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="comment">// Build and insert into an implicit UNDEF value. This is OK because</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <span class="comment">// well be shifting and then extracting the lower 16-bits.</span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MFI, &amp;*MIB, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a5a91c23866687baf221ce86ff6fde01f">X86::IMPLICIT_DEF</a>),leaInReg2);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      InsMI2 =</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MFI, &amp;*MIB, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>))</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(leaInReg2, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>, X86::sub_16bit)</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Src2, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill2));</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      <a class="code" href="namespacellvm.html#a5a1ffa9f6330c88feb36340a950ba397">addRegReg</a>(MIB, leaInReg, <span class="keyword">true</span>, leaInReg2, <span class="keyword">true</span>);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    }</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">if</span> (LV &amp;&amp; isKill2 &amp;&amp; InsMI2)</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">replaceKillInstruction</a>(Src2, MI, InsMI2);</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  }</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  }</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = MIB;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ExtMI =</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MFI, MBBI, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>))</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Dest, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm.html#a3dd7c56278c84a39f699241bdaade2ee">getDeadRegState</a>(isDead))</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(leaOutReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>, X86::sub_16bit);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="keywordflow">if</span> (LV) {</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">// Update live variables</span></div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a434b7516027126339021e18d66c34864">getVarInfo</a>(leaInReg).<a class="code" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.push_back(NewMI);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a434b7516027126339021e18d66c34864">getVarInfo</a>(leaOutReg).<a class="code" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.push_back(ExtMI);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">if</span> (isKill)</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">replaceKillInstruction</a>(Src, MI, InsMI);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">if</span> (isDead)</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">replaceKillInstruction</a>(Dest, MI, ExtMI);</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  }</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keywordflow">return</span> ExtMI;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;}</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="comment">/// convertToThreeAddress - This method must be implemented by targets that</span></div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">/// set the M_CONVERTIBLE_TO_3_ADDR flag.  When this flag is set, the target</span></div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="comment">/// may be able to convert a two-address instruction into a true</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment">/// three-address instruction on demand.  This allows the X86 target (for</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment">/// example) to convert ADD and SHL instructions into LEA instructions if they</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">/// would require register copies due to two-addressness.</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="comment">/// This method returns a null pointer if the transformation cannot be</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="comment">/// performed, otherwise it returns the new instruction.</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div><div class="line"><a name="l02044"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#aace49d2a73a247360919a7fef0a8c630"> 2044</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#aace49d2a73a247360919a7fef0a8c630">X86InstrInfo::convertToThreeAddress</a>(<a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> &amp;MFI,</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;MBBI,</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                                    <a class="code" href="classllvm_1_1LiveVariables.html">LiveVariables</a> *LV)<span class="keyword"> const </span>{</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = MBBI;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <span class="comment">// The following opcodes also sets the condition code register(s). Only</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="comment">// convert them to equivalent lea if the condition code register def&#39;s</span></div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="comment">// are dead!</span></div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#aad1703d177022f893845c16d8c1b168c">hasLiveCondCodeDef</a>(MI))</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="comment">// All instructions input are two-addr instructions.  Get the known operands.</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Dest = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0);</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1);</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = NULL;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  <span class="comment">// FIXME: 16-bit LEA&#39;s are really slow on Athlons, but not bad on P4&#39;s.  When</span></div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="comment">// we have better subtarget support, enable the 16-bit LEA generation here.</span></div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="comment">// 16-bit LEA is also slow on Core2.</span></div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="keywordtype">bool</span> DisableLEA16 = <span class="keyword">true</span>;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <span class="keywordtype">bool</span> is64Bit = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().is64Bit();</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <span class="keywordtype">unsigned</span> MIOpc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="keywordflow">switch</span> (MIOpc) {</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">case</span> X86::SHUFPSrri: {</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() == 4 &amp;&amp; <span class="stringliteral">&quot;Unknown shufps instruction!&quot;</span>);</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordflow">if</span> (!TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a3715880ebfc4edc7a0e6bad607715954">hasSSE2</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="keywordflow">if</span> (B != C) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    NewMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::PSHUFDri))</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(M);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  }</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keywordflow">case</span> X86::SHUFPDrri: {</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() == 4 &amp;&amp; <span class="stringliteral">&quot;Unknown shufpd instruction!&quot;</span>);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordflow">if</span> (!TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a3715880ebfc4edc7a0e6bad607715954">hasSSE2</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="keywordflow">if</span> (B != C) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <span class="comment">// Convert to PSHUFD mask.</span></div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    M = ((M &amp; 1) &lt;&lt; 1) | ((M &amp; 1) &lt;&lt; 3) | ((M &amp; 2) &lt;&lt; 4) | ((M &amp; 2) &lt;&lt; 6)| 0x44;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    NewMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::PSHUFDri))</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(M);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  }</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keywordflow">case</span> X86::SHL64ri: {</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown shift instruction!&quot;</span>);</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = <a class="code" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a>(MI, 2);</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86InstrInfo_8cpp.html#a349feaf4bcc809481e099a4b5cbed1e2">isTruncatedShiftCountForLEA</a>(ShAmt)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="comment">// LEA can&#39;t handle RSP.</span></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(Src.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()) &amp;&amp;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        !MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">constrainRegClass</a>(Src.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(),</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;                                           &amp;X86::GR64_NOSPRegClass))</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    NewMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::LEA64r))</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest)</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1 &lt;&lt; ShAmt).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  }</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keywordflow">case</span> X86::SHL32ri: {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown shift instruction!&quot;</span>);</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = <a class="code" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a>(MI, 2);</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86InstrInfo_8cpp.html#a349feaf4bcc809481e099a4b5cbed1e2">isTruncatedShiftCountForLEA</a>(ShAmt)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordtype">unsigned</span> Opc = is64Bit ? X86::LEA64_32r : X86::LEA32r;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="comment">// LEA can&#39;t handle ESP.</span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="keywordtype">bool</span> isKill, isUndef;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordtype">unsigned</span> SrcReg;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImplicitOp = <a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">classifyLEAReg</a>(MI, Src, Opc, <span class="comment">/*AllowSP=*/</span> <span class="keyword">false</span>,</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                        SrcReg, isKill, isUndef, ImplicitOp))</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(Opc))</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest)</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1 &lt;&lt; ShAmt)</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill) | <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(isUndef))</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordflow">if</span> (ImplicitOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != 0)</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(ImplicitOp);</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    NewMI = MIB;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <span class="keywordflow">case</span> X86::SHL16ri: {</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown shift instruction!&quot;</span>);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = <a class="code" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a>(MI, 2);</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="X86InstrInfo_8cpp.html#a349feaf4bcc809481e099a4b5cbed1e2">isTruncatedShiftCountForLEA</a>(ShAmt)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordflow">if</span> (DisableLEA16)</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <span class="keywordflow">return</span> is64Bit ? convertToThreeAddressWithLEA(MIOpc, MFI, MBBI, LV) : 0;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    NewMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::LEA16r))</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest)</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1 &lt;&lt; ShAmt).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  }</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">default</span>: {</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">switch</span> (MIOpc) {</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">case</span> X86::INC64r:</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">case</span> X86::INC32r:</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordflow">case</span> X86::INC64_32r: {</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 2 &amp;&amp; <span class="stringliteral">&quot;Unknown inc instruction!&quot;</span>);</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="keywordtype">unsigned</span> Opc = MIOpc == X86::INC64r ? X86::LEA64r</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        : (is64Bit ? X86::LEA64_32r : X86::LEA32r);</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <span class="keywordtype">bool</span> isKill, isUndef;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <span class="keywordtype">unsigned</span> SrcReg;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImplicitOp = <a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">classifyLEAReg</a>(MI, Src, Opc, <span class="comment">/*AllowSP=*/</span> <span class="keyword">false</span>,</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                          SrcReg, isKill, isUndef, ImplicitOp))</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(Opc))</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest)</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill) | <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(isUndef));</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <span class="keywordflow">if</span> (ImplicitOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != 0)</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(ImplicitOp);</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(MIB, 1);</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    }</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="keywordflow">case</span> X86::INC16r:</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">case</span> X86::INC64_16r:</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordflow">if</span> (DisableLEA16)</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <span class="keywordflow">return</span> is64Bit ? convertToThreeAddressWithLEA(MIOpc, MFI, MBBI, LV) : 0;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 2 &amp;&amp; <span class="stringliteral">&quot;Unknown inc instruction!&quot;</span>);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::LEA16r))</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src), 1);</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">case</span> X86::DEC64r:</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">case</span> X86::DEC32r:</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="keywordflow">case</span> X86::DEC64_32r: {</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 2 &amp;&amp; <span class="stringliteral">&quot;Unknown dec instruction!&quot;</span>);</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      <span class="keywordtype">unsigned</span> Opc = MIOpc == X86::DEC64r ? X86::LEA64r</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        : (is64Bit ? X86::LEA64_32r : X86::LEA32r);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      <span class="keywordtype">bool</span> isKill, isUndef;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;      <span class="keywordtype">unsigned</span> SrcReg;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImplicitOp = <a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">classifyLEAReg</a>(MI, Src, Opc, <span class="comment">/*AllowSP=*/</span> <span class="keyword">false</span>,</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                          SrcReg, isKill, isUndef, ImplicitOp))</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(Opc))</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest)</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(isUndef) | <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill));</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <span class="keywordflow">if</span> (ImplicitOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != 0)</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(ImplicitOp);</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(MIB, -1);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    }</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="keywordflow">case</span> X86::DEC16r:</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">case</span> X86::DEC64_16r:</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      <span class="keywordflow">if</span> (DisableLEA16)</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <span class="keywordflow">return</span> is64Bit ? convertToThreeAddressWithLEA(MIOpc, MFI, MBBI, LV) : 0;</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 2 &amp;&amp; <span class="stringliteral">&quot;Unknown dec instruction!&quot;</span>);</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::LEA16r))</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src), -1);</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <span class="keywordflow">case</span> X86::ADD64rr:</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <span class="keywordflow">case</span> X86::ADD64rr_DB:</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="keywordflow">case</span> X86::ADD32rr:</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">case</span> X86::ADD32rr_DB: {</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown add instruction!&quot;</span>);</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;      <span class="keywordflow">if</span> (MIOpc == X86::ADD64rr || MIOpc == X86::ADD64rr_DB)</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        Opc = X86::LEA64r;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        Opc = is64Bit ? X86::LEA64_32r : X86::LEA32r;</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      <span class="keywordtype">bool</span> isKill, isUndef;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <span class="keywordtype">unsigned</span> SrcReg;</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImplicitOp = <a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">classifyLEAReg</a>(MI, Src, Opc, <span class="comment">/*AllowSP=*/</span> <span class="keyword">true</span>,</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                          SrcReg, isKill, isUndef, ImplicitOp))</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Src2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2);</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <span class="keywordtype">bool</span> isKill2, isUndef2;</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <span class="keywordtype">unsigned</span> SrcReg2;</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImplicitOp2 = <a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">classifyLEAReg</a>(MI, Src2, Opc, <span class="comment">/*AllowSP=*/</span> <span class="keyword">false</span>,</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                          SrcReg2, isKill2, isUndef2, ImplicitOp2))</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(Opc))</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest);</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      <span class="keywordflow">if</span> (ImplicitOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != 0)</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(ImplicitOp);</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      <span class="keywordflow">if</span> (ImplicitOp2.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != 0)</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(ImplicitOp2);</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#a5a1ffa9f6330c88feb36340a950ba397">addRegReg</a>(MIB, SrcReg, isKill, SrcReg2, isKill2);</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;      <span class="comment">// Preserve undefness of the operands.</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      NewMI-&gt;getOperand(1).setIsUndef(isUndef);</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      NewMI-&gt;getOperand(3).setIsUndef(isUndef2);</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      <span class="keywordflow">if</span> (LV &amp;&amp; Src2.<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>())</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">replaceKillInstruction</a>(SrcReg2, MI, NewMI);</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    }</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">case</span> X86::ADD16rr:</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="keywordflow">case</span> X86::ADD16rr_DB: {</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;      <span class="keywordflow">if</span> (DisableLEA16)</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="keywordflow">return</span> is64Bit ? convertToThreeAddressWithLEA(MIOpc, MFI, MBBI, LV) : 0;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown add instruction!&quot;</span>);</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;      <span class="keywordtype">unsigned</span> Src2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <span class="keywordtype">bool</span> isKill2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>();</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#a5a1ffa9f6330c88feb36340a950ba397">addRegReg</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::LEA16r))</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;                        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest),</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;                        Src.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), Src.<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>(), Src2, isKill2);</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      <span class="comment">// Preserve undefness of the operands.</span></div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      <span class="keywordtype">bool</span> isUndef = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#afbf853e3a0de950e9116ffb9929ceebd">isUndef</a>();</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      <span class="keywordtype">bool</span> isUndef2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#afbf853e3a0de950e9116ffb9929ceebd">isUndef</a>();</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      NewMI-&gt;getOperand(1).setIsUndef(isUndef);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      NewMI-&gt;getOperand(3).setIsUndef(isUndef2);</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      <span class="keywordflow">if</span> (LV &amp;&amp; isKill2)</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">replaceKillInstruction</a>(Src2, MI, NewMI);</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    }</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordflow">case</span> X86::ADD64ri32:</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordflow">case</span> X86::ADD64ri8:</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="keywordflow">case</span> X86::ADD64ri32_DB:</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">case</span> X86::ADD64ri8_DB:</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown add instruction!&quot;</span>);</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::LEA64r))</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src),</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="keywordflow">case</span> X86::ADD32ri:</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <span class="keywordflow">case</span> X86::ADD32ri8:</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordflow">case</span> X86::ADD32ri_DB:</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">case</span> X86::ADD32ri8_DB: {</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown add instruction!&quot;</span>);</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      <span class="keywordtype">unsigned</span> Opc = is64Bit ? X86::LEA64_32r : X86::LEA32r;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      <span class="keywordtype">bool</span> isKill, isUndef;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <span class="keywordtype">unsigned</span> SrcReg;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> ImplicitOp = <a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">classifyLEAReg</a>(MI, Src, Opc, <span class="comment">/*AllowSP=*/</span> <span class="keyword">true</span>,</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                          SrcReg, isKill, isUndef, ImplicitOp))</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(Opc))</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest)</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(isUndef) | <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill));</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="keywordflow">if</span> (ImplicitOp.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != 0)</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(ImplicitOp);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(MIB, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    }</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordflow">case</span> X86::ADD16ri:</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">case</span> X86::ADD16ri8:</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordflow">case</span> X86::ADD16ri_DB:</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">case</span> X86::ADD16ri8_DB:</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      <span class="keywordflow">if</span> (DisableLEA16)</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        <span class="keywordflow">return</span> is64Bit ? convertToThreeAddressWithLEA(MIOpc, MFI, MBBI, LV) : 0;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      assert(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt;= 3 &amp;&amp; <span class="stringliteral">&quot;Unknown add instruction!&quot;</span>);</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;      NewMI = <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(X86::LEA16r))</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;                        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Dest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Src),</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    }</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  }</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  }</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordflow">if</span> (!NewMI) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keywordflow">if</span> (LV) {  <span class="comment">// Update live variables</span></div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <span class="keywordflow">if</span> (Src.<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>())</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">replaceKillInstruction</a>(Src.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, NewMI);</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="keywordflow">if</span> (Dest.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>())</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">replaceKillInstruction</a>(Dest.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, NewMI);</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  }</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  MFI-&gt;insert(MBBI, NewMI);          <span class="comment">// Insert the new inst</span></div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">return</span> NewMI;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;}</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="comment">/// commuteInstruction - We have a few instructions that must be hacked on to</span></div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="comment">/// commute them.</span></div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div><div class="line"><a name="l02345"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a8fc308a0128ebcf255d24e4b2397128f"> 2345</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a8fc308a0128ebcf255d24e4b2397128f">X86InstrInfo::commuteInstruction</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">bool</span> NewMI)<span class="keyword"> const </span>{</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">case</span> X86::SHRD16rri8: <span class="comment">// A = SHRD16rri8 B, C, I -&gt; A = SHLD16rri8 C, B, (16-I)</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">case</span> X86::SHLD16rri8: <span class="comment">// A = SHLD16rri8 B, C, I -&gt; A = SHRD16rri8 C, B, (16-I)</span></div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <span class="keywordflow">case</span> X86::SHRD32rri8: <span class="comment">// A = SHRD32rri8 B, C, I -&gt; A = SHLD32rri8 C, B, (32-I)</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="keywordflow">case</span> X86::SHLD32rri8: <span class="comment">// A = SHLD32rri8 B, C, I -&gt; A = SHRD32rri8 C, B, (32-I)</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  <span class="keywordflow">case</span> X86::SHRD64rri8: <span class="comment">// A = SHRD64rri8 B, C, I -&gt; A = SHLD64rri8 C, B, (64-I)</span></div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="keywordflow">case</span> X86::SHLD64rri8:{<span class="comment">// A = SHLD64rri8 B, C, I -&gt; A = SHRD64rri8 C, B, (64-I)</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="keywordtype">unsigned</span> Size;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unreachable!&quot;</span>);</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="keywordflow">case</span> X86::SHRD16rri8: Size = 16; Opc = X86::SHLD16rri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <span class="keywordflow">case</span> X86::SHLD16rri8: Size = 16; Opc = X86::SHRD16rri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <span class="keywordflow">case</span> X86::SHRD32rri8: Size = 32; Opc = X86::SHLD32rri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">case</span> X86::SHLD32rri8: Size = 32; Opc = X86::SHRD32rri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <span class="keywordflow">case</span> X86::SHRD64rri8: Size = 64; Opc = X86::SHLD64rri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <span class="keywordflow">case</span> X86::SHLD64rri8: Size = 64; Opc = X86::SHRD64rri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    }</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="keywordtype">unsigned</span> Amt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="keywordflow">if</span> (NewMI) {</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      MI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(MI);</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      NewMI = <span class="keyword">false</span>;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    }</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(Opc));</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(Size-Amt);</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a5c36456408da4afa0fa2f60a9da88ddb">TargetInstrInfo::commuteInstruction</a>(MI, NewMI);</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  }</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keywordflow">case</span> X86::CMOVB16rr:  <span class="keywordflow">case</span> X86::CMOVB32rr:  <span class="keywordflow">case</span> X86::CMOVB64rr:</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="keywordflow">case</span> X86::CMOVAE16rr: <span class="keywordflow">case</span> X86::CMOVAE32rr: <span class="keywordflow">case</span> X86::CMOVAE64rr:</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordflow">case</span> X86::CMOVE16rr:  <span class="keywordflow">case</span> X86::CMOVE32rr:  <span class="keywordflow">case</span> X86::CMOVE64rr:</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNE16rr: <span class="keywordflow">case</span> X86::CMOVNE32rr: <span class="keywordflow">case</span> X86::CMOVNE64rr:</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="keywordflow">case</span> X86::CMOVBE16rr: <span class="keywordflow">case</span> X86::CMOVBE32rr: <span class="keywordflow">case</span> X86::CMOVBE64rr:</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <span class="keywordflow">case</span> X86::CMOVA16rr:  <span class="keywordflow">case</span> X86::CMOVA32rr:  <span class="keywordflow">case</span> X86::CMOVA64rr:</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="keywordflow">case</span> X86::CMOVL16rr:  <span class="keywordflow">case</span> X86::CMOVL32rr:  <span class="keywordflow">case</span> X86::CMOVL64rr:</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">case</span> X86::CMOVGE16rr: <span class="keywordflow">case</span> X86::CMOVGE32rr: <span class="keywordflow">case</span> X86::CMOVGE64rr:</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="keywordflow">case</span> X86::CMOVLE16rr: <span class="keywordflow">case</span> X86::CMOVLE32rr: <span class="keywordflow">case</span> X86::CMOVLE64rr:</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="keywordflow">case</span> X86::CMOVG16rr:  <span class="keywordflow">case</span> X86::CMOVG32rr:  <span class="keywordflow">case</span> X86::CMOVG64rr:</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">case</span> X86::CMOVS16rr:  <span class="keywordflow">case</span> X86::CMOVS32rr:  <span class="keywordflow">case</span> X86::CMOVS64rr:</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNS16rr: <span class="keywordflow">case</span> X86::CMOVNS32rr: <span class="keywordflow">case</span> X86::CMOVNS64rr:</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="keywordflow">case</span> X86::CMOVP16rr:  <span class="keywordflow">case</span> X86::CMOVP32rr:  <span class="keywordflow">case</span> X86::CMOVP64rr:</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNP16rr: <span class="keywordflow">case</span> X86::CMOVNP32rr: <span class="keywordflow">case</span> X86::CMOVNP64rr:</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <span class="keywordflow">case</span> X86::CMOVO16rr:  <span class="keywordflow">case</span> X86::CMOVO32rr:  <span class="keywordflow">case</span> X86::CMOVO64rr:</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNO16rr: <span class="keywordflow">case</span> X86::CMOVNO32rr: <span class="keywordflow">case</span> X86::CMOVNO64rr: {</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unreachable!&quot;</span>);</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">case</span> X86::CMOVB16rr:  Opc = X86::CMOVAE16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">case</span> X86::CMOVB32rr:  Opc = X86::CMOVAE32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">case</span> X86::CMOVB64rr:  Opc = X86::CMOVAE64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">case</span> X86::CMOVAE16rr: Opc = X86::CMOVB16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="keywordflow">case</span> X86::CMOVAE32rr: Opc = X86::CMOVB32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="keywordflow">case</span> X86::CMOVAE64rr: Opc = X86::CMOVB64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="keywordflow">case</span> X86::CMOVE16rr:  Opc = X86::CMOVNE16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">case</span> X86::CMOVE32rr:  Opc = X86::CMOVNE32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="keywordflow">case</span> X86::CMOVE64rr:  Opc = X86::CMOVNE64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNE16rr: Opc = X86::CMOVE16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNE32rr: Opc = X86::CMOVE32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNE64rr: Opc = X86::CMOVE64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">case</span> X86::CMOVBE16rr: Opc = X86::CMOVA16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">case</span> X86::CMOVBE32rr: Opc = X86::CMOVA32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">case</span> X86::CMOVBE64rr: Opc = X86::CMOVA64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">case</span> X86::CMOVA16rr:  Opc = X86::CMOVBE16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="keywordflow">case</span> X86::CMOVA32rr:  Opc = X86::CMOVBE32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    <span class="keywordflow">case</span> X86::CMOVA64rr:  Opc = X86::CMOVBE64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">case</span> X86::CMOVL16rr:  Opc = X86::CMOVGE16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">case</span> X86::CMOVL32rr:  Opc = X86::CMOVGE32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="keywordflow">case</span> X86::CMOVL64rr:  Opc = X86::CMOVGE64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    <span class="keywordflow">case</span> X86::CMOVGE16rr: Opc = X86::CMOVL16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="keywordflow">case</span> X86::CMOVGE32rr: Opc = X86::CMOVL32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="keywordflow">case</span> X86::CMOVGE64rr: Opc = X86::CMOVL64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">case</span> X86::CMOVLE16rr: Opc = X86::CMOVG16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    <span class="keywordflow">case</span> X86::CMOVLE32rr: Opc = X86::CMOVG32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keywordflow">case</span> X86::CMOVLE64rr: Opc = X86::CMOVG64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="keywordflow">case</span> X86::CMOVG16rr:  Opc = X86::CMOVLE16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">case</span> X86::CMOVG32rr:  Opc = X86::CMOVLE32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="keywordflow">case</span> X86::CMOVG64rr:  Opc = X86::CMOVLE64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">case</span> X86::CMOVS16rr:  Opc = X86::CMOVNS16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <span class="keywordflow">case</span> X86::CMOVS32rr:  Opc = X86::CMOVNS32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="keywordflow">case</span> X86::CMOVS64rr:  Opc = X86::CMOVNS64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNS16rr: Opc = X86::CMOVS16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNS32rr: Opc = X86::CMOVS32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNS64rr: Opc = X86::CMOVS64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="keywordflow">case</span> X86::CMOVP16rr:  Opc = X86::CMOVNP16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="keywordflow">case</span> X86::CMOVP32rr:  Opc = X86::CMOVNP32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="keywordflow">case</span> X86::CMOVP64rr:  Opc = X86::CMOVNP64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNP16rr: Opc = X86::CMOVP16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNP32rr: Opc = X86::CMOVP32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNP64rr: Opc = X86::CMOVP64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordflow">case</span> X86::CMOVO16rr:  Opc = X86::CMOVNO16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="keywordflow">case</span> X86::CMOVO32rr:  Opc = X86::CMOVNO32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="keywordflow">case</span> X86::CMOVO64rr:  Opc = X86::CMOVNO64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNO16rr: Opc = X86::CMOVO16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNO32rr: Opc = X86::CMOVO32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">case</span> X86::CMOVNO64rr: Opc = X86::CMOVO64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    }</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <span class="keywordflow">if</span> (NewMI) {</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      MI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(MI);</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      NewMI = <span class="keyword">false</span>;</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    }</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(Opc));</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="comment">// Fallthrough intended.</span></div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  }</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a5c36456408da4afa0fa2f60a9da88ddb">TargetInstrInfo::commuteInstruction</a>(MI, NewMI);</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  }</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;</div><div class="line"><a name="l02455"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a6e6a9e3de7abf101071b295a81e75d2c"> 2455</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="X86InstrInfo_8cpp.html#a6e6a9e3de7abf101071b295a81e75d2c">getCondFromBranchOpc</a>(<span class="keywordtype">unsigned</span> BrOpc) {</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;  <span class="keywordflow">switch</span> (BrOpc) {</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="keywordflow">case</span> X86::JE_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">case</span> X86::JNE_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <span class="keywordflow">case</span> X86::JL_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="keywordflow">case</span> X86::JLE_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="keywordflow">case</span> X86::JG_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="keywordflow">case</span> X86::JGE_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordflow">case</span> X86::JB_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="keywordflow">case</span> X86::JBE_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keywordflow">case</span> X86::JA_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordflow">case</span> X86::JAE_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="keywordflow">case</span> X86::JS_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">X86::COND_S</a>;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="keywordflow">case</span> X86::JNS_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc">X86::COND_NS</a>;</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="keywordflow">case</span> X86::JP_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a>;</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">case</span> X86::JNP_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a>;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <span class="keywordflow">case</span> X86::JO_4:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">X86::COND_O</a>;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="keywordflow">case</span> X86::JNO_4: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">X86::COND_NO</a>;</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  }</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;}</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="comment">/// getCondFromSETOpc - return condition code of a SET opcode.</span></div><div class="line"><a name="l02478"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#acfe006ea905541241f162c9fc129a00b"> 2478</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="X86InstrInfo_8cpp.html#acfe006ea905541241f162c9fc129a00b">getCondFromSETOpc</a>(<span class="keywordtype">unsigned</span> Opc) {</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="keywordflow">case</span> X86::SETAr:  <span class="keywordflow">case</span> X86::SETAm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="keywordflow">case</span> X86::SETAEr: <span class="keywordflow">case</span> X86::SETAEm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordflow">case</span> X86::SETBr:  <span class="keywordflow">case</span> X86::SETBm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <span class="keywordflow">case</span> X86::SETBEr: <span class="keywordflow">case</span> X86::SETBEm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  <span class="keywordflow">case</span> X86::SETEr:  <span class="keywordflow">case</span> X86::SETEm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="keywordflow">case</span> X86::SETGr:  <span class="keywordflow">case</span> X86::SETGm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>;</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <span class="keywordflow">case</span> X86::SETGEr: <span class="keywordflow">case</span> X86::SETGEm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <span class="keywordflow">case</span> X86::SETLr:  <span class="keywordflow">case</span> X86::SETLm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  <span class="keywordflow">case</span> X86::SETLEr: <span class="keywordflow">case</span> X86::SETLEm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>;</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="keywordflow">case</span> X86::SETNEr: <span class="keywordflow">case</span> X86::SETNEm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keywordflow">case</span> X86::SETNOr: <span class="keywordflow">case</span> X86::SETNOm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">X86::COND_NO</a>;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="keywordflow">case</span> X86::SETNPr: <span class="keywordflow">case</span> X86::SETNPm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a>;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <span class="keywordflow">case</span> X86::SETNSr: <span class="keywordflow">case</span> X86::SETNSm: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc">X86::COND_NS</a>;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="keywordflow">case</span> X86::SETOr:  <span class="keywordflow">case</span> X86::SETOm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">X86::COND_O</a>;</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordflow">case</span> X86::SETPr:  <span class="keywordflow">case</span> X86::SETPm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a>;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keywordflow">case</span> X86::SETSr:  <span class="keywordflow">case</span> X86::SETSm:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">X86::COND_S</a>;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  }</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;}</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;<span class="comment">/// getCondFromCmovOpc - return condition code of a CMov opcode.</span></div><div class="line"><a name="l02501"></a><span class="lineno"><a class="line" href="namespacellvm_1_1X86.html#a33c661f2e48a170073eca27c2875c1bb"> 2501</a></span>&#160;<span class="comment"></span><a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="namespacellvm_1_1X86.html#a33c661f2e48a170073eca27c2875c1bb">X86::getCondFromCMovOpc</a>(<span class="keywordtype">unsigned</span> Opc) {</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <span class="keywordflow">case</span> X86::CMOVA16rm:  <span class="keywordflow">case</span> X86::CMOVA16rr:  <span class="keywordflow">case</span> X86::CMOVA32rm:</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <span class="keywordflow">case</span> X86::CMOVA32rr:  <span class="keywordflow">case</span> X86::CMOVA64rm:  <span class="keywordflow">case</span> X86::CMOVA64rr:</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  <span class="keywordflow">case</span> X86::CMOVAE16rm: <span class="keywordflow">case</span> X86::CMOVAE16rr: <span class="keywordflow">case</span> X86::CMOVAE32rm:</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <span class="keywordflow">case</span> X86::CMOVAE32rr: <span class="keywordflow">case</span> X86::CMOVAE64rm: <span class="keywordflow">case</span> X86::CMOVAE64rr:</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <span class="keywordflow">case</span> X86::CMOVB16rm:  <span class="keywordflow">case</span> X86::CMOVB16rr:  <span class="keywordflow">case</span> X86::CMOVB32rm:</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  <span class="keywordflow">case</span> X86::CMOVB32rr:  <span class="keywordflow">case</span> X86::CMOVB64rm:  <span class="keywordflow">case</span> X86::CMOVB64rr:</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="keywordflow">case</span> X86::CMOVBE16rm: <span class="keywordflow">case</span> X86::CMOVBE16rr: <span class="keywordflow">case</span> X86::CMOVBE32rm:</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  <span class="keywordflow">case</span> X86::CMOVBE32rr: <span class="keywordflow">case</span> X86::CMOVBE64rm: <span class="keywordflow">case</span> X86::CMOVBE64rr:</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  <span class="keywordflow">case</span> X86::CMOVE16rm:  <span class="keywordflow">case</span> X86::CMOVE16rr:  <span class="keywordflow">case</span> X86::CMOVE32rm:</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <span class="keywordflow">case</span> X86::CMOVE32rr:  <span class="keywordflow">case</span> X86::CMOVE64rm:  <span class="keywordflow">case</span> X86::CMOVE64rr:</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="keywordflow">case</span> X86::CMOVG16rm:  <span class="keywordflow">case</span> X86::CMOVG16rr:  <span class="keywordflow">case</span> X86::CMOVG32rm:</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <span class="keywordflow">case</span> X86::CMOVG32rr:  <span class="keywordflow">case</span> X86::CMOVG64rm:  <span class="keywordflow">case</span> X86::CMOVG64rr:</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="keywordflow">case</span> X86::CMOVGE16rm: <span class="keywordflow">case</span> X86::CMOVGE16rr: <span class="keywordflow">case</span> X86::CMOVGE32rm:</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <span class="keywordflow">case</span> X86::CMOVGE32rr: <span class="keywordflow">case</span> X86::CMOVGE64rm: <span class="keywordflow">case</span> X86::CMOVGE64rr:</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <span class="keywordflow">case</span> X86::CMOVL16rm:  <span class="keywordflow">case</span> X86::CMOVL16rr:  <span class="keywordflow">case</span> X86::CMOVL32rm:</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="keywordflow">case</span> X86::CMOVL32rr:  <span class="keywordflow">case</span> X86::CMOVL64rm:  <span class="keywordflow">case</span> X86::CMOVL64rr:</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="keywordflow">case</span> X86::CMOVLE16rm: <span class="keywordflow">case</span> X86::CMOVLE16rr: <span class="keywordflow">case</span> X86::CMOVLE32rm:</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordflow">case</span> X86::CMOVLE32rr: <span class="keywordflow">case</span> X86::CMOVLE64rm: <span class="keywordflow">case</span> X86::CMOVLE64rr:</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNE16rm: <span class="keywordflow">case</span> X86::CMOVNE16rr: <span class="keywordflow">case</span> X86::CMOVNE32rm:</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNE32rr: <span class="keywordflow">case</span> X86::CMOVNE64rm: <span class="keywordflow">case</span> X86::CMOVNE64rr:</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNO16rm: <span class="keywordflow">case</span> X86::CMOVNO16rr: <span class="keywordflow">case</span> X86::CMOVNO32rm:</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNO32rr: <span class="keywordflow">case</span> X86::CMOVNO64rm: <span class="keywordflow">case</span> X86::CMOVNO64rr:</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">X86::COND_NO</a>;</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNP16rm: <span class="keywordflow">case</span> X86::CMOVNP16rr: <span class="keywordflow">case</span> X86::CMOVNP32rm:</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNP32rr: <span class="keywordflow">case</span> X86::CMOVNP64rm: <span class="keywordflow">case</span> X86::CMOVNP64rr:</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a>;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNS16rm: <span class="keywordflow">case</span> X86::CMOVNS16rr: <span class="keywordflow">case</span> X86::CMOVNS32rm:</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <span class="keywordflow">case</span> X86::CMOVNS32rr: <span class="keywordflow">case</span> X86::CMOVNS64rm: <span class="keywordflow">case</span> X86::CMOVNS64rr:</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc">X86::COND_NS</a>;</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  <span class="keywordflow">case</span> X86::CMOVO16rm:  <span class="keywordflow">case</span> X86::CMOVO16rr:  <span class="keywordflow">case</span> X86::CMOVO32rm:</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  <span class="keywordflow">case</span> X86::CMOVO32rr:  <span class="keywordflow">case</span> X86::CMOVO64rm:  <span class="keywordflow">case</span> X86::CMOVO64rr:</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">X86::COND_O</a>;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="keywordflow">case</span> X86::CMOVP16rm:  <span class="keywordflow">case</span> X86::CMOVP16rr:  <span class="keywordflow">case</span> X86::CMOVP32rm:</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  <span class="keywordflow">case</span> X86::CMOVP32rr:  <span class="keywordflow">case</span> X86::CMOVP64rm:  <span class="keywordflow">case</span> X86::CMOVP64rr:</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a>;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="keywordflow">case</span> X86::CMOVS16rm:  <span class="keywordflow">case</span> X86::CMOVS16rr:  <span class="keywordflow">case</span> X86::CMOVS32rm:</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="keywordflow">case</span> X86::CMOVS32rr:  <span class="keywordflow">case</span> X86::CMOVS64rm:  <span class="keywordflow">case</span> X86::CMOVS64rr:</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">X86::COND_S</a>;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  }</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;}</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;</div><div class="line"><a name="l02555"></a><span class="lineno"><a class="line" href="namespacellvm_1_1X86.html#a86ce19a71e97672e370db2d9164f9c2a"> 2555</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86.html#a86ce19a71e97672e370db2d9164f9c2a">X86::GetCondBranchFromCond</a>(<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>) {</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Illegal condition code!&quot;</span>);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>:  <span class="keywordflow">return</span> X86::JE_4;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>: <span class="keywordflow">return</span> X86::JNE_4;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>:  <span class="keywordflow">return</span> X86::JL_4;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>: <span class="keywordflow">return</span> X86::JLE_4;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>:  <span class="keywordflow">return</span> X86::JG_4;</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>: <span class="keywordflow">return</span> X86::JGE_4;</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>:  <span class="keywordflow">return</span> X86::JB_4;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>: <span class="keywordflow">return</span> X86::JBE_4;</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>:  <span class="keywordflow">return</span> X86::JA_4;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>: <span class="keywordflow">return</span> X86::JAE_4;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">X86::COND_S</a>:  <span class="keywordflow">return</span> X86::JS_4;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc">X86::COND_NS</a>: <span class="keywordflow">return</span> X86::JNS_4;</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a>:  <span class="keywordflow">return</span> X86::JP_4;</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a>: <span class="keywordflow">return</span> X86::JNP_4;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">X86::COND_O</a>:  <span class="keywordflow">return</span> X86::JO_4;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">X86::COND_NO</a>: <span class="keywordflow">return</span> X86::JNO_4;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  }</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;}</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;<span class="comment">/// GetOppositeBranchCondition - Return the inverse of the specified condition,</span></div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="comment">/// e.g. turning COND_E to COND_NE.</span></div><div class="line"><a name="l02579"></a><span class="lineno"><a class="line" href="namespacellvm_1_1X86.html#a30ab43b4b4d783877c92c463d410c3ef"> 2579</a></span>&#160;<span class="comment"></span><a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="namespacellvm_1_1X86.html#a30ab43b4b4d783877c92c463d410c3ef">X86::GetOppositeBranchCondition</a>(<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>) {</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Illegal condition code!&quot;</span>);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>;</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>;</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>;</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>;</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">X86::COND_S</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc">X86::COND_NS</a>;</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc">X86::COND_NS</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">X86::COND_S</a>;</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a>;</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a>;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">X86::COND_O</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">X86::COND_NO</a>;</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">X86::COND_NO</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">X86::COND_O</a>;</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  }</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;}</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;<span class="comment">/// getSwappedCondition - assume the flags are set by MI(a,b), return</span></div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;<span class="comment">/// the condition code if we modify the instructions such that flags are</span></div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;<span class="comment">/// set by MI(b,a).</span></div><div class="line"><a name="l02604"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aaa1eed53016f5d7e12499da95c6bb8de"> 2604</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="X86InstrInfo_8cpp.html#aaa1eed53016f5d7e12499da95c6bb8de">getSwappedCondition</a>(<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>) {</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>;</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>;</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  }</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;}</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="comment">/// getSETFromCond - Return a set opcode for the given condition and</span></div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;<span class="comment">/// whether it has memory operand.</span></div><div class="line"><a name="l02622"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a6e8d1a0539b86c0e4e395c4cb72d2566"> 2622</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#a6e8d1a0539b86c0e4e395c4cb72d2566">getSETFromCond</a>(<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>,</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;                               <span class="keywordtype">bool</span> HasMemoryOperand) {</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t Opc[16][2] = {</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    { X86::SETAr,  X86::SETAm  },</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    { X86::SETAEr, X86::SETAEm },</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    { X86::SETBr,  X86::SETBm  },</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    { X86::SETBEr, X86::SETBEm },</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    { X86::SETEr,  X86::SETEm  },</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    { X86::SETGr,  X86::SETGm  },</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    { X86::SETGEr, X86::SETGEm },</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    { X86::SETLr,  X86::SETLm  },</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    { X86::SETLEr, X86::SETLEm },</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    { X86::SETNEr, X86::SETNEm },</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    { X86::SETNOr, X86::SETNOm },</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    { X86::SETNPr, X86::SETNPm },</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    { X86::SETNSr, X86::SETNSm },</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    { X86::SETOr,  X86::SETOm  },</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    { X86::SETPr,  X86::SETPm  },</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    { X86::SETSr,  X86::SETSm  }</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  };</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  assert(CC &lt; 16 &amp;&amp; <span class="stringliteral">&quot;Can only handle standard cond codes&quot;</span>);</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="keywordflow">return</span> Opc[<a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>][HasMemoryOperand ? 1 : 0];</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;}</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;<span class="comment">/// getCMovFromCond - Return a cmov opcode for the given condition,</span></div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;<span class="comment">/// register size in bytes, and operand type.</span></div><div class="line"><a name="l02649"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#ab2a616786f0b16d1e4b953fd53e82d86"> 2649</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#ab2a616786f0b16d1e4b953fd53e82d86">getCMovFromCond</a>(<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>, <span class="keywordtype">unsigned</span> RegBytes,</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                                <span class="keywordtype">bool</span> HasMemoryOperand) {</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t Opc[32][3] = {</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    { X86::CMOVA16rr,  X86::CMOVA32rr,  X86::CMOVA64rr  },</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    { X86::CMOVAE16rr, X86::CMOVAE32rr, X86::CMOVAE64rr },</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    { X86::CMOVB16rr,  X86::CMOVB32rr,  X86::CMOVB64rr  },</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    { X86::CMOVBE16rr, X86::CMOVBE32rr, X86::CMOVBE64rr },</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    { X86::CMOVE16rr,  X86::CMOVE32rr,  X86::CMOVE64rr  },</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    { X86::CMOVG16rr,  X86::CMOVG32rr,  X86::CMOVG64rr  },</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    { X86::CMOVGE16rr, X86::CMOVGE32rr, X86::CMOVGE64rr },</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    { X86::CMOVL16rr,  X86::CMOVL32rr,  X86::CMOVL64rr  },</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    { X86::CMOVLE16rr, X86::CMOVLE32rr, X86::CMOVLE64rr },</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    { X86::CMOVNE16rr, X86::CMOVNE32rr, X86::CMOVNE64rr },</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    { X86::CMOVNO16rr, X86::CMOVNO32rr, X86::CMOVNO64rr },</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    { X86::CMOVNP16rr, X86::CMOVNP32rr, X86::CMOVNP64rr },</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    { X86::CMOVNS16rr, X86::CMOVNS32rr, X86::CMOVNS64rr },</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    { X86::CMOVO16rr,  X86::CMOVO32rr,  X86::CMOVO64rr  },</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    { X86::CMOVP16rr,  X86::CMOVP32rr,  X86::CMOVP64rr  },</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    { X86::CMOVS16rr,  X86::CMOVS32rr,  X86::CMOVS64rr  },</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    { X86::CMOVA16rm,  X86::CMOVA32rm,  X86::CMOVA64rm  },</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    { X86::CMOVAE16rm, X86::CMOVAE32rm, X86::CMOVAE64rm },</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    { X86::CMOVB16rm,  X86::CMOVB32rm,  X86::CMOVB64rm  },</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    { X86::CMOVBE16rm, X86::CMOVBE32rm, X86::CMOVBE64rm },</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    { X86::CMOVE16rm,  X86::CMOVE32rm,  X86::CMOVE64rm  },</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    { X86::CMOVG16rm,  X86::CMOVG32rm,  X86::CMOVG64rm  },</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    { X86::CMOVGE16rm, X86::CMOVGE32rm, X86::CMOVGE64rm },</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    { X86::CMOVL16rm,  X86::CMOVL32rm,  X86::CMOVL64rm  },</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    { X86::CMOVLE16rm, X86::CMOVLE32rm, X86::CMOVLE64rm },</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    { X86::CMOVNE16rm, X86::CMOVNE32rm, X86::CMOVNE64rm },</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    { X86::CMOVNO16rm, X86::CMOVNO32rm, X86::CMOVNO64rm },</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    { X86::CMOVNP16rm, X86::CMOVNP32rm, X86::CMOVNP64rm },</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    { X86::CMOVNS16rm, X86::CMOVNS32rm, X86::CMOVNS64rm },</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    { X86::CMOVO16rm,  X86::CMOVO32rm,  X86::CMOVO64rm  },</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    { X86::CMOVP16rm,  X86::CMOVP32rm,  X86::CMOVP64rm  },</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    { X86::CMOVS16rm,  X86::CMOVS32rm,  X86::CMOVS64rm  }</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  };</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  assert(CC &lt; 16 &amp;&amp; <span class="stringliteral">&quot;Can only handle standard cond codes&quot;</span>);</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  <span class="keywordtype">unsigned</span> Idx = HasMemoryOperand ? 16+CC : <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>;</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="keywordflow">switch</span>(RegBytes) {</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Illegal register size!&quot;</span>);</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> Opc[Idx][0];</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordflow">case</span> 4: <span class="keywordflow">return</span> Opc[Idx][1];</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="keywordflow">case</span> 8: <span class="keywordflow">return</span> Opc[Idx][2];</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  }</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;}</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;</div><div class="line"><a name="l02696"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#ae682c1cef5a03537d7461093a08a13d0"> 2696</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#ae682c1cef5a03537d7461093a08a13d0">X86InstrInfo::isUnpredicatedTerminator</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aea36f6665e4992da1874625d5f00e1c1">isTerminator</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <span class="comment">// Conditional branch is a special case.</span></div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a797ac100c6615ff181c03a3c35c7378f">isBranch</a>() &amp;&amp; !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4eb718a8caedcad900fd7cd937cac">isBarrier</a>())</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a65917695d9792adaf44d85541df98de2">isPredicable</a>())</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  <span class="keywordflow">return</span> !isPredicated(MI);</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;}</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;</div><div class="line"><a name="l02707"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a8a9dbc2c070103d245cbf99c8d234e62"> 2707</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a8a9dbc2c070103d245cbf99c8d234e62">X86InstrInfo::AnalyzeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                                 <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;TBB,</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;                                 <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;FBB,</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond,</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;                                 <span class="keywordtype">bool</span> AllowModify)<span class="keyword"> const </span>{</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;  <span class="comment">// Start from the bottom of the block and work up, examining the</span></div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <span class="comment">// terminator instructions.</span></div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> UnCondBrIter = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  <span class="keywordflow">while</span> (I != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <span class="keywordflow">if</span> (I-&gt;isDebugValue())</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="comment">// Working from the bottom, when we see a non-terminator instruction, we&#39;re</span></div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="comment">// done.</span></div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1X86InstrInfo.html#ae682c1cef5a03537d7461093a08a13d0">isUnpredicatedTerminator</a>(I))</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    <span class="comment">// A terminator that isn&#39;t a branch can&#39;t easily be handled by this</span></div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <span class="comment">// analysis.</span></div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <span class="keywordflow">if</span> (!I-&gt;isBranch())</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <span class="comment">// Handle unconditional branches.</span></div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="keywordflow">if</span> (I-&gt;getOpcode() == X86::JMP_4) {</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      UnCondBrIter = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;      <span class="keywordflow">if</span> (!AllowModify) {</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        TBB = I-&gt;getOperand(0).getMBB();</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      }</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;      <span class="comment">// If the block has any instructions after a JMP, delete them.</span></div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(I) != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;        <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(I)-&gt;eraseFromParent();</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;      Cond.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      FBB = 0;</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      <span class="comment">// Delete the JMP if it&#39;s equivalent to a fall-through.</span></div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;      <span class="keywordflow">if</span> (MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a0fc7a349a4ab737607def6cb461791fd">isLayoutSuccessor</a>(I-&gt;getOperand(0).getMBB())) {</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        TBB = 0;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        I-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac421fe6513e43aedbba712e4a981744e">eraseFromParent</a>();</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        I = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        UnCondBrIter = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;      }</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;      <span class="comment">// TBB is used to indicate the unconditional destination.</span></div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;      TBB = I-&gt;getOperand(0).getMBB();</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    }</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <span class="comment">// Handle conditional branches.</span></div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> BranchCode = <a class="code" href="X86InstrInfo_8cpp.html#a6e6a9e3de7abf101071b295a81e75d2c">getCondFromBranchOpc</a>(I-&gt;getOpcode());</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="keywordflow">if</span> (BranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>)</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// Can&#39;t handle indirect branch.</span></div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="comment">// Working from the bottom, handle the first conditional branch.</span></div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">if</span> (Cond.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TargetBB = I-&gt;getOperand(0).getMBB();</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;      <span class="keywordflow">if</span> (AllowModify &amp;&amp; UnCondBrIter != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp;</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;          MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a0fc7a349a4ab737607def6cb461791fd">isLayoutSuccessor</a>(TargetBB)) {</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        <span class="comment">// If we can modify the code and it ends in something like:</span></div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        <span class="comment">//     jCC L1</span></div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        <span class="comment">//     jmp L2</span></div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;        <span class="comment">//   L1:</span></div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;        <span class="comment">//     ...</span></div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;        <span class="comment">//   L2:</span></div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;        <span class="comment">// Then we can change this to:</span></div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;        <span class="comment">//     jnCC L2</span></div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        <span class="comment">//   L1:</span></div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        <span class="comment">//     ...</span></div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;        <span class="comment">//   L2:</span></div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <span class="comment">// Which is a bit more efficient.</span></div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;        <span class="comment">// We conditionally jump to the fall-through block.</span></div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        BranchCode = <a class="code" href="SparcInstrInfo_8cpp.html#a37f317c48074b11fa501731852794c78">GetOppositeBranchCondition</a>(BranchCode);</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;        <span class="keywordtype">unsigned</span> JNCC = <a class="code" href="XCoreInstrInfo_8cpp.html#afb1f45af4bdaea231702d026f2d54943">GetCondBranchFromCond</a>(BranchCode);</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;        <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> OldInst = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, UnCondBrIter, MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a45028d169700cac71cf6c613a94236ee">findDebugLoc</a>(I), <span class="keyword">get</span>(JNCC))</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(UnCondBrIter-&gt;getOperand(0).getMBB());</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, UnCondBrIter, MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a45028d169700cac71cf6c613a94236ee">findDebugLoc</a>(I), <span class="keyword">get</span>(X86::JMP_4))</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TargetBB);</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;        OldInst-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        UnCondBrIter-&gt;eraseFromParent();</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        <span class="comment">// Restart the analysis.</span></div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        UnCondBrIter = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;        I = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      }</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;      FBB = TBB;</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;      TBB = I-&gt;getOperand(0).getMBB();</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(BranchCode));</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    }</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="comment">// Handle subsequent conditional branches. Only handle the case where all</span></div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    <span class="comment">// conditional branches branch to the same destination and their condition</span></div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    <span class="comment">// opcodes fit one of the special multi-branch idioms.</span></div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    assert(Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1);</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    assert(TBB);</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="comment">// Only handle the case where all conditional branches branch to the same</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="comment">// destination.</span></div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <span class="keywordflow">if</span> (TBB != I-&gt;getOperand(0).getMBB())</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="comment">// If the conditions are the same, we can leave them alone.</span></div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> OldBranchCode = (<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a>)Cond[0].getImm();</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="keywordflow">if</span> (OldBranchCode == BranchCode)</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    <span class="comment">// If they differ, see if they fit one of the known patterns. Theoretically,</span></div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <span class="comment">// we could handle more patterns here, but we shouldn&#39;t expect to see them</span></div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="comment">// if instruction selection has done a reasonable job.</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="keywordflow">if</span> ((OldBranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a> &amp;&amp;</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;         BranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a>) ||</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        (OldBranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">X86::COND_E</a> &amp;&amp;</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;         BranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">X86::COND_NP</a>))</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      BranchCode = <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaa499df7a74a842077f189a17b0387fcb">X86::COND_NP_OR_E</a>;</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((OldBranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a> &amp;&amp;</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;              BranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a>) ||</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;             (OldBranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">X86::COND_NE</a> &amp;&amp;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;              BranchCode == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">X86::COND_P</a>))</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;      BranchCode = <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea8b47d4d3f261caf07338c6775a08a2bc">X86::COND_NE_OR_P</a>;</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="comment">// Update the MachineOperand.</span></div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    Cond[0].setImm(BranchCode);</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  }</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;}</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;</div><div class="line"><a name="l02851"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a746b6af01e342863e802324f0156d1cb"> 2851</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a746b6af01e342863e802324f0156d1cb">X86InstrInfo::RemoveBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB)<span class="keyword"> const </span>{</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="keywordtype">unsigned</span> Count = 0;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <span class="keywordflow">while</span> (I != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="keywordflow">if</span> (I-&gt;isDebugValue())</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="keywordflow">if</span> (I-&gt;getOpcode() != X86::JMP_4 &amp;&amp;</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        <a class="code" href="X86InstrInfo_8cpp.html#a6e6a9e3de7abf101071b295a81e75d2c">getCondFromBranchOpc</a>(I-&gt;getOpcode()) == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>)</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <span class="comment">// Remove the branch.</span></div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    I-&gt;eraseFromParent();</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    I = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    ++Count;</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  }</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">return</span> Count;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;}</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="keywordtype">unsigned</span></div><div class="line"><a name="l02872"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a59745bc91f4687adfc29791c5c773762"> 2872</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a59745bc91f4687adfc29791c5c773762">X86InstrInfo::InsertBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TBB,</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                           <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *FBB,</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond,</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                           <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL)<span class="keyword"> const </span>{</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="comment">// Shouldn&#39;t be a fall through.</span></div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  assert(TBB &amp;&amp; <span class="stringliteral">&quot;InsertBranch must not be told to insert a fallthrough&quot;</span>);</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;  assert((Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1 || Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 0) &amp;&amp;</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;         <span class="stringliteral">&quot;X86 branch conditions have one component!&quot;</span>);</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="keywordflow">if</span> (Cond.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    <span class="comment">// Unconditional branch?</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    assert(!FBB &amp;&amp; <span class="stringliteral">&quot;Unconditional branch with multiple successors!&quot;</span>);</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(X86::JMP_4)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  }</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <span class="comment">// Conditional branch.</span></div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="keywordtype">unsigned</span> Count = 0;</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = (<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a>)Cond[0].getImm();</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaa499df7a74a842077f189a17b0387fcb">X86::COND_NP_OR_E</a>:</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <span class="comment">// Synthesize NP_OR_E with two branches.</span></div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(X86::JNP_4)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    ++Count;</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(X86::JE_4)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    ++Count;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea8b47d4d3f261caf07338c6775a08a2bc">X86::COND_NE_OR_P</a>:</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <span class="comment">// Synthesize NE_OR_P with two branches.</span></div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(X86::JNE_4)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    ++Count;</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(X86::JP_4)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    ++Count;</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="keywordflow">default</span>: {</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <span class="keywordtype">unsigned</span> Opc = <a class="code" href="XCoreInstrInfo_8cpp.html#afb1f45af4bdaea231702d026f2d54943">GetCondBranchFromCond</a>(CC);</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(Opc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    ++Count;</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  }</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  }</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="keywordflow">if</span> (FBB) {</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    <span class="comment">// Two-way Conditional branch. Insert the second branch.</span></div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(X86::JMP_4)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(FBB);</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    ++Count;</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  }</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="keywordflow">return</span> Count;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;}</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a0353aecd83bfa124abe2e1c5cb75f0e5">X86InstrInfo::</a></div><div class="line"><a name="l02921"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a0353aecd83bfa124abe2e1c5cb75f0e5"> 2921</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a0353aecd83bfa124abe2e1c5cb75f0e5">canInsertSelect</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond,</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                <span class="keywordtype">unsigned</span> TrueReg, <span class="keywordtype">unsigned</span> FalseReg,</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;                <span class="keywordtype">int</span> &amp;CondCycles, <span class="keywordtype">int</span> &amp;TrueCycles, <span class="keywordtype">int</span> &amp;FalseCycles)<span class="keyword"> const </span>{</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="comment">// Not all subtargets have cmov instructions.</span></div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <span class="keywordflow">if</span> (!TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a2895352ba760d977d04a525c6d388d08">hasCMov</a>())</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="keywordflow">if</span> (Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() != 1)</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <span class="comment">// We cannot do the composite conditions, at least not in SSA form.</span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a>)Cond[0].getImm() &gt; <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">X86::COND_S</a>)</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <span class="comment">// Check register classes.</span></div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    RI.getCommonSubClass(MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(TrueReg), MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(FalseReg));</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keywordflow">if</span> (!RC)</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  <span class="comment">// We have cmov instructions for 16, 32, and 64 bit general purpose registers.</span></div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  <span class="keywordflow">if</span> (X86::GR16RegClass.hasSubClassEq(RC) ||</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      X86::GR32RegClass.hasSubClassEq(RC) ||</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      X86::GR64RegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="comment">// This latency applies to Pentium M, Merom, Wolfdale, Nehalem, and Sandy</span></div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <span class="comment">// Bridge. Probably Ivy Bridge as well.</span></div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    CondCycles = 2;</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    TrueCycles = 2;</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    FalseCycles = 2;</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  }</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="comment">// Can&#39;t do vectors.</span></div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;}</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;</div><div class="line"><a name="l02957"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a629eb5716c9e1067f25a3a7bf2be8ab8"> 2957</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a629eb5716c9e1067f25a3a7bf2be8ab8">X86InstrInfo::insertSelect</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                                <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL,</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;                                <span class="keywordtype">unsigned</span> DstReg,</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond,</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                                <span class="keywordtype">unsigned</span> TrueReg, <span class="keywordtype">unsigned</span> FalseReg)<span class="keyword"> const </span>{</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;   <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;   assert(Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1 &amp;&amp; <span class="stringliteral">&quot;Invalid Cond array&quot;</span>);</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;   <span class="keywordtype">unsigned</span> Opc = <a class="code" href="X86InstrInfo_8cpp.html#ab2a616786f0b16d1e4b953fd53e82d86">getCMovFromCond</a>((<a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a>)Cond[0].getImm(),</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                                  MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(DstReg)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>(),</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                                  <span class="keyword">false</span><span class="comment">/*HasMemoryOperand*/</span>);</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;   <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(Opc), DstReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(FalseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(TrueReg);</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;}</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;<span class="comment">/// isHReg - Test if the given register is a physical h register.</span></div><div class="line"><a name="l02971"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa612e3445dd582769ddde75a5c392414"> 2971</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#aa612e3445dd582769ddde75a5c392414">isHReg</a>(<span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>) {</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordflow">return</span> X86::GR8_ABCD_HRegClass.contains(Reg);</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;}</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="comment">// Try and copy between VR128/VR64 and GR64 registers.</span></div><div class="line"><a name="l02976"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a86c845e0c20ff3050cc964d56125c3f5"> 2976</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#a86c845e0c20ff3050cc964d56125c3f5">CopyToFromAsymmetricReg</a>(<span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&amp; Subtarget) {</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="comment">// SrcReg(VR128) -&gt; DestReg(GR64)</span></div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="comment">// SrcReg(VR64)  -&gt; DestReg(GR64)</span></div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="comment">// SrcReg(GR64)  -&gt; DestReg(VR128)</span></div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  <span class="comment">// SrcReg(GR64)  -&gt; DestReg(VR64)</span></div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <span class="keywordtype">bool</span> HasAVX = Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>();</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="keywordtype">bool</span> HasAVX512 = Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a7b61cdafc8745d283f3721381f2853f2">hasAVX512</a>();</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keywordflow">if</span> (X86::GR64RegClass.contains(DestReg)) {</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="keywordflow">if</span> (X86::VR128XRegClass.contains(SrcReg))</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      <span class="comment">// Copy from a VR128 register to a GR64 register.</span></div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      <span class="keywordflow">return</span> HasAVX512 ? X86::VMOVPQIto64Zrr: (HasAVX ? X86::VMOVPQIto64rr :</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                                               X86::MOVPQIto64rr);</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <span class="keywordflow">if</span> (X86::VR64RegClass.contains(SrcReg))</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      <span class="comment">// Copy from a VR64 register to a GR64 register.</span></div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      <span class="keywordflow">return</span> X86::MOVSDto64rr;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::GR64RegClass.contains(SrcReg)) {</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="comment">// Copy from a GR64 register to a VR128 register.</span></div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="keywordflow">if</span> (X86::VR128XRegClass.contains(DestReg))</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      <span class="keywordflow">return</span> HasAVX512 ? X86::VMOV64toPQIZrr: (HasAVX ? X86::VMOV64toPQIrr :</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                                               X86::MOV64toPQIrr);</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="comment">// Copy from a GR64 register to a VR64 register.</span></div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="keywordflow">if</span> (X86::VR64RegClass.contains(DestReg))</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordflow">return</span> X86::MOV64toSDrr;</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  }</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  <span class="comment">// SrcReg(FR32) -&gt; DestReg(GR32)</span></div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  <span class="comment">// SrcReg(GR32) -&gt; DestReg(FR32)</span></div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="keywordflow">if</span> (X86::GR32RegClass.contains(DestReg) &amp;&amp; X86::FR32XRegClass.contains(SrcReg))</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    <span class="comment">// Copy from a FR32 register to a GR32 register.</span></div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keywordflow">return</span> HasAVX512 ? X86::VMOVSS2DIZrr : (HasAVX ? X86::VMOVSS2DIrr : X86::MOVSS2DIrr);</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  <span class="keywordflow">if</span> (X86::FR32XRegClass.contains(DestReg) &amp;&amp; X86::GR32RegClass.contains(SrcReg))</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="comment">// Copy from a GR32 register to a FR32 register.</span></div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    <span class="keywordflow">return</span> HasAVX512 ? X86::VMOVDI2SSZrr : (HasAVX ? X86::VMOVDI2SSrr : X86::MOVDI2SSrr);</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;}</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l03019"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a154b95cc09fa78a4d398adb259b0de16"> 3019</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#a154b95cc09fa78a4d398adb259b0de16">copyPhysRegOpcode_AVX512</a>(<span class="keywordtype">unsigned</span>&amp; DestReg, <span class="keywordtype">unsigned</span>&amp; SrcReg) {</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  <span class="keywordflow">if</span> (X86::VR128XRegClass.contains(DestReg, SrcReg) ||</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;      X86::VR256XRegClass.contains(DestReg, SrcReg) ||</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      X86::VR512RegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;     DestReg = <a class="code" href="namespacellvm.html#a64e4894ad3ddeb76ac44a947994690da">get512BitSuperRegister</a>(DestReg);</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;     SrcReg = <a class="code" href="namespacellvm.html#a64e4894ad3ddeb76ac44a947994690da">get512BitSuperRegister</a>(SrcReg);</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;     <span class="keywordflow">return</span> X86::VMOVAPSZrr;</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  }</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  <span class="keywordflow">if</span> ((X86::VK8RegClass.contains(DestReg) ||</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;       X86::VK16RegClass.contains(DestReg)) &amp;&amp;</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      (X86::VK8RegClass.contains(SrcReg) ||</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;       X86::VK16RegClass.contains(SrcReg)))</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <span class="keywordflow">return</span> X86::KMOVWkk;</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;}</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;</div><div class="line"><a name="l03035"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a2522af10a772a02013645b9400120912"> 3035</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a2522af10a772a02013645b9400120912">X86InstrInfo::copyPhysReg</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;                               <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL,</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;                               <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                               <span class="keywordtype">bool</span> KillSrc)<span class="keyword"> const </span>{</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  <span class="comment">// First deal with the normal symmetric copies.</span></div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  <span class="keywordtype">bool</span> HasAVX = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().hasAVX();</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="keywordtype">bool</span> HasAVX512 = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().hasAVX512();</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  <span class="keywordflow">if</span> (X86::GR64RegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    Opc = X86::MOV64rr;</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::GR32RegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    Opc = X86::MOV32rr;</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::GR16RegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    Opc = X86::MOV16rr;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::GR8RegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <span class="comment">// Copying to or from a physical H register on x86-64 requires a NOREX</span></div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <span class="comment">// move.  Otherwise use a normal move.</span></div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="X86InstrInfo_8cpp.html#aa612e3445dd582769ddde75a5c392414">isHReg</a>(DestReg) || <a class="code" href="X86InstrInfo_8cpp.html#aa612e3445dd582769ddde75a5c392414">isHReg</a>(SrcReg)) &amp;&amp;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;        TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>()) {</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;      Opc = X86::MOV8rr_NOREX;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      <span class="comment">// Both operands must be encodable without an REX prefix.</span></div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      assert(X86::GR8_NOREXRegClass.contains(SrcReg, DestReg) &amp;&amp;</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;             <span class="stringliteral">&quot;8-bit H register can not be copied outside GR8_NOREX&quot;</span>);</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      Opc = X86::MOV8rr;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  }</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::VR64RegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    Opc = X86::MMX_MOVQ64rr;</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (HasAVX512)</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    Opc = <a class="code" href="X86InstrInfo_8cpp.html#a154b95cc09fa78a4d398adb259b0de16">copyPhysRegOpcode_AVX512</a>(DestReg, SrcReg);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::VR128RegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    Opc = HasAVX ? X86::VMOVAPSrr : X86::MOVAPSrr;</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::VR256RegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    Opc = X86::VMOVAPSYrr;</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;  <span class="keywordflow">if</span> (!Opc)</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    Opc = <a class="code" href="X86InstrInfo_8cpp.html#a86c845e0c20ff3050cc964d56125c3f5">CopyToFromAsymmetricReg</a>(DestReg, SrcReg, TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;());</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  <span class="keywordflow">if</span> (Opc) {</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(Opc), DestReg)</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  }</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="comment">// Moving EFLAGS to / from another register requires a push and a pop.</span></div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <span class="comment">// Notice that we have to adjust the stack if we don&#39;t want to clobber the</span></div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <span class="comment">// first frame index. See X86FrameLowering.cpp - colobbersTheStack.</span></div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  <span class="keywordflow">if</span> (SrcReg == X86::EFLAGS) {</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <span class="keywordflow">if</span> (X86::GR64RegClass.contains(DestReg)) {</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::PUSHF64));</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::POP64r), DestReg);</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    }</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">if</span> (X86::GR32RegClass.contains(DestReg)) {</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::PUSHF32));</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::POP32r), DestReg);</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    }</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;  }</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keywordflow">if</span> (DestReg == X86::EFLAGS) {</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <span class="keywordflow">if</span> (X86::GR64RegClass.contains(SrcReg)) {</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::PUSH64r))</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::POPF64));</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    }</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">if</span> (X86::GR32RegClass.contains(SrcReg)) {</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::PUSH32r))</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(X86::POPF32));</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    }</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  }</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Cannot copy &quot;</span> &lt;&lt; RI.getName(SrcReg)</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; RI.getName(DestReg) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Cannot emit physreg copy instruction&quot;</span>);</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;}</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div><div class="line"><a name="l03113"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a0e176d8aa971658c11c07d237b8505f7"> 3113</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#a0e176d8aa971658c11c07d237b8505f7">getLoadStoreRegOpcode</a>(<span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>,</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;                                      <span class="keywordtype">bool</span> isStackAligned,</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;TM,</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;                                      <span class="keywordtype">bool</span> <a class="code" href="Target_2X86_2README_8txt.html#ad6a9e04ace03e64069c0e3a87c529dcc">load</a>) {</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a7b61cdafc8745d283f3721381f2853f2">hasAVX512</a>()) {</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordflow">if</span> (X86::VK8RegClass.hasSubClassEq(RC)  ||</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      X86::VK16RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="keywordflow">return</span> load ? X86::KMOVWkm : X86::KMOVWmk;</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordflow">if</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>() == 4 &amp;&amp; X86::FR32XRegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;      <span class="keywordflow">return</span> load ? X86::VMOVSSZrm : X86::VMOVSSZmr;</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">if</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>() == 8 &amp;&amp; X86::FR64XRegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;      <span class="keywordflow">return</span> load ? X86::VMOVSDZrm : X86::VMOVSDZmr;</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">if</span> (X86::VR512RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      <span class="keywordflow">return</span> load ? X86::VMOVUPSZrm : X86::VMOVUPSZmr;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  }</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  <span class="keywordtype">bool</span> HasAVX = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().hasAVX();</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  <span class="keywordflow">switch</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>()) {</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown spill size&quot;</span>);</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    assert(X86::GR8RegClass.hasSubClassEq(RC) &amp;&amp; <span class="stringliteral">&quot;Unknown 1-byte regclass&quot;</span>);</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <span class="comment">// Copying to or from a physical H register on x86-64 requires a NOREX</span></div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      <span class="comment">// move.  Otherwise use a normal move.</span></div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#aa612e3445dd582769ddde75a5c392414">isHReg</a>(Reg) || X86::GR8_ABCD_HRegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;        <span class="keywordflow">return</span> load ? X86::MOV8rm_NOREX : X86::MOV8mr_NOREX;</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <span class="keywordflow">return</span> load ? X86::MOV8rm : X86::MOV8mr;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    assert(X86::GR16RegClass.hasSubClassEq(RC) &amp;&amp; <span class="stringliteral">&quot;Unknown 2-byte regclass&quot;</span>);</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="keywordflow">return</span> load ? X86::MOV16rm : X86::MOV16mr;</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <span class="keywordflow">if</span> (X86::GR32RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      <span class="keywordflow">return</span> load ? X86::MOV32rm : X86::MOV32mr;</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <span class="keywordflow">if</span> (X86::FR32RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;      <span class="keywordflow">return</span> load ?</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;        (HasAVX ? X86::VMOVSSrm : X86::MOVSSrm) :</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;        (HasAVX ? X86::VMOVSSmr : X86::MOVSSmr);</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="keywordflow">if</span> (X86::RFP32RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;      <span class="keywordflow">return</span> load ? X86::LD_Fp32m : X86::ST_Fp32m;</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown 4-byte regclass&quot;</span>);</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    <span class="keywordflow">if</span> (X86::GR64RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      <span class="keywordflow">return</span> load ? X86::MOV64rm : X86::MOV64mr;</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="keywordflow">if</span> (X86::FR64RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      <span class="keywordflow">return</span> load ?</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;        (HasAVX ? X86::VMOVSDrm : X86::MOVSDrm) :</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        (HasAVX ? X86::VMOVSDmr : X86::MOVSDmr);</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keywordflow">if</span> (X86::VR64RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      <span class="keywordflow">return</span> load ? X86::MMX_MOVQ64rm : X86::MMX_MOVQ64mr;</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <span class="keywordflow">if</span> (X86::RFP64RegClass.hasSubClassEq(RC))</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      <span class="keywordflow">return</span> load ? X86::LD_Fp64m : X86::ST_Fp64m;</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown 8-byte regclass&quot;</span>);</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <span class="keywordflow">case</span> 10:</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    assert(X86::RFP80RegClass.hasSubClassEq(RC) &amp;&amp; <span class="stringliteral">&quot;Unknown 10-byte regclass&quot;</span>);</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <span class="keywordflow">return</span> load ? X86::LD_Fp80m : X86::ST_FpP80m;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="keywordflow">case</span> 16: {</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    assert((X86::VR128RegClass.hasSubClassEq(RC) ||</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;            X86::VR128XRegClass.hasSubClassEq(RC))&amp;&amp; <span class="stringliteral">&quot;Unknown 16-byte regclass&quot;</span>);</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="comment">// If stack is realigned we can use aligned stores.</span></div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <span class="keywordflow">if</span> (isStackAligned)</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      <span class="keywordflow">return</span> load ?</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;        (HasAVX ? X86::VMOVAPSrm : X86::MOVAPSrm) :</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        (HasAVX ? X86::VMOVAPSmr : X86::MOVAPSmr);</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;      <span class="keywordflow">return</span> load ?</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;        (HasAVX ? X86::VMOVUPSrm : X86::MOVUPSrm) :</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;        (HasAVX ? X86::VMOVUPSmr : X86::MOVUPSmr);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  }</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;  <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    assert((X86::VR256RegClass.hasSubClassEq(RC) ||</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;            X86::VR256XRegClass.hasSubClassEq(RC)) &amp;&amp; <span class="stringliteral">&quot;Unknown 32-byte regclass&quot;</span>);</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <span class="comment">// If stack is realigned we can use aligned stores.</span></div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    <span class="keywordflow">if</span> (isStackAligned)</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      <span class="keywordflow">return</span> load ? X86::VMOVAPSYrm : X86::VMOVAPSYmr;</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      <span class="keywordflow">return</span> load ? X86::VMOVUPSYrm : X86::VMOVUPSYmr;</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;  <span class="keywordflow">case</span> 64:</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    assert(X86::VR512RegClass.hasSubClassEq(RC) &amp;&amp; <span class="stringliteral">&quot;Unknown 64-byte regclass&quot;</span>);</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    <span class="keywordflow">if</span> (isStackAligned)</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      <span class="keywordflow">return</span> load ? X86::VMOVAPSZrm : X86::VMOVAPSZmr;</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;      <span class="keywordflow">return</span> load ? X86::VMOVUPSZrm : X86::VMOVUPSZmr;</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  }</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;}</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;</div><div class="line"><a name="l03200"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a8151c052fa152944ef1e8d7add90db76"> 3200</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#a8151c052fa152944ef1e8d7add90db76">getStoreRegOpcode</a>(<span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                                  <span class="keywordtype">bool</span> isStackAligned,</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                                  <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;TM) {</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#a0e176d8aa971658c11c07d237b8505f7">getLoadStoreRegOpcode</a>(SrcReg, RC, isStackAligned, TM, <span class="keyword">false</span>);</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;}</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;</div><div class="line"><a name="l03208"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa3951764de469a7f4e532520e6bda6a2"> 3208</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86InstrInfo_8cpp.html#aa3951764de469a7f4e532520e6bda6a2">getLoadRegOpcode</a>(<span class="keywordtype">unsigned</span> DestReg,</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                                 <span class="keywordtype">bool</span> isStackAligned,</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;TM) {</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#a0e176d8aa971658c11c07d237b8505f7">getLoadStoreRegOpcode</a>(DestReg, RC, isStackAligned, TM, <span class="keyword">true</span>);</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;}</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;</div><div class="line"><a name="l03215"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a9824bf3d22c4588253e71a941ba9e65b"> 3215</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a9824bf3d22c4588253e71a941ba9e65b">X86InstrInfo::storeRegToStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                                       <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;                                       <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> FrameIdx,</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;  assert(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(FrameIdx) &gt;= RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>() &amp;&amp;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;         <span class="stringliteral">&quot;Stack slot too small for store&quot;</span>);</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = std::max&lt;uint32_t&gt;(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>(), 16);</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;  <span class="keywordtype">bool</span> isAligned = (TM.<a class="code" href="classllvm_1_1X86TargetMachine.html#a0f9e3271ccf39f4fdf00eb246e6ef5b3">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>() &gt;= Alignment) ||</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    RI.<a class="code" href="classllvm_1_1X86RegisterInfo.html#a31160831f9ce9c42ac7f88783b3d1541">canRealignStack</a>(MF);</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="X86InstrInfo_8cpp.html#a8151c052fa152944ef1e8d7add90db76">getStoreRegOpcode</a>(SrcReg, RC, isAligned, TM);</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a45028d169700cac71cf6c613a94236ee">findDebugLoc</a>(MI);</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;  <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(Opc)), FrameIdx)</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill));</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;}</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;</div><div class="line"><a name="l03232"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a655f4e255237fb10af91f7ebb4e73633"> 3232</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a655f4e255237fb10af91f7ebb4e73633">X86InstrInfo::storeRegToAddr</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                                  <span class="keywordtype">bool</span> isKill,</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Addr,</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                                  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOBegin,</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;                                  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOEnd,</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr*&gt;</a> &amp;NewMIs)<span class="keyword"> const </span>{</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = std::max&lt;uint32_t&gt;(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>(), 16);</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;  <span class="keywordtype">bool</span> isAligned = MMOBegin != MMOEnd &amp;&amp;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;                   (*MMOBegin)-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#abde905d34732d8796be2908635e193d2">getAlignment</a>() &gt;= Alignment;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="X86InstrInfo_8cpp.html#a8151c052fa152944ef1e8d7add90db76">getStoreRegOpcode</a>(SrcReg, RC, isAligned, TM);</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, DL, <span class="keyword">get</span>(Opc));</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Addr.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Addr[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill));</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  (*MIB).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  NewMIs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MIB);</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;}</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;</div><div class="line"><a name="l03253"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a6f82ce7f21d97fdd1f7da30db1c5eefb"> 3253</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a6f82ce7f21d97fdd1f7da30db1c5eefb">X86InstrInfo::loadRegFromStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;                                        <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                                        <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">int</span> FrameIdx,</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = std::max&lt;uint32_t&gt;(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>(), 16);</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  <span class="keywordtype">bool</span> isAligned = (TM.<a class="code" href="classllvm_1_1X86TargetMachine.html#a0f9e3271ccf39f4fdf00eb246e6ef5b3">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>() &gt;= Alignment) ||</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    RI.<a class="code" href="classllvm_1_1X86RegisterInfo.html#a31160831f9ce9c42ac7f88783b3d1541">canRealignStack</a>(MF);</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="X86InstrInfo_8cpp.html#aa3951764de469a7f4e532520e6bda6a2">getLoadRegOpcode</a>(DestReg, RC, isAligned, TM);</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a45028d169700cac71cf6c613a94236ee">findDebugLoc</a>(MI);</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;  <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, <span class="keyword">get</span>(Opc), DestReg), FrameIdx);</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;}</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;</div><div class="line"><a name="l03267"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a83521d375ab6fa527d0b6106664ca029"> 3267</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a83521d375ab6fa527d0b6106664ca029">X86InstrInfo::loadRegFromAddr</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> DestReg,</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Addr,</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                                 <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOBegin,</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                                 <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOEnd,</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr*&gt;</a> &amp;NewMIs)<span class="keyword"> const </span>{</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = std::max&lt;uint32_t&gt;(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>(), 16);</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  <span class="keywordtype">bool</span> isAligned = MMOBegin != MMOEnd &amp;&amp;</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;                   (*MMOBegin)-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#abde905d34732d8796be2908635e193d2">getAlignment</a>() &gt;= Alignment;</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="keywordtype">unsigned</span> Opc = <a class="code" href="X86InstrInfo_8cpp.html#aa3951764de469a7f4e532520e6bda6a2">getLoadRegOpcode</a>(DestReg, RC, isAligned, TM);</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, DL, <span class="keyword">get</span>(Opc), DestReg);</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Addr.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(Addr[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  (*MIB).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;  NewMIs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MIB);</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;}</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a1f3b505096c9d0a62721ef252b05cd23">X86InstrInfo::</a></div><div class="line"><a name="l03286"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a1f3b505096c9d0a62721ef252b05cd23"> 3286</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a1f3b505096c9d0a62721ef252b05cd23">analyzeCompare</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> &amp;SrcReg, <span class="keywordtype">unsigned</span> &amp;SrcReg2,</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;               <span class="keywordtype">int</span> &amp;CmpMask, <span class="keywordtype">int</span> &amp;CmpValue)<span class="keyword"> const </span>{</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  <span class="keywordflow">case</span> X86::CMP64ri32:</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  <span class="keywordflow">case</span> X86::CMP64ri8:</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  <span class="keywordflow">case</span> X86::CMP32ri:</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;  <span class="keywordflow">case</span> X86::CMP32ri8:</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;  <span class="keywordflow">case</span> X86::CMP16ri:</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;  <span class="keywordflow">case</span> X86::CMP16ri8:</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;  <span class="keywordflow">case</span> X86::CMP8ri:</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    SrcReg2 = 0;</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    CmpValue = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <span class="comment">// A SUB can be used to perform comparison.</span></div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;  <span class="keywordflow">case</span> X86::SUB64rm:</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;  <span class="keywordflow">case</span> X86::SUB32rm:</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  <span class="keywordflow">case</span> X86::SUB16rm:</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;  <span class="keywordflow">case</span> X86::SUB8rm:</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    SrcReg2 = 0;</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    CmpValue = 0;</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="keywordflow">case</span> X86::SUB64rr:</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;  <span class="keywordflow">case</span> X86::SUB32rr:</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;  <span class="keywordflow">case</span> X86::SUB16rr:</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  <span class="keywordflow">case</span> X86::SUB8rr:</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    SrcReg2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    CmpValue = 0;</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;  <span class="keywordflow">case</span> X86::SUB64ri32:</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;  <span class="keywordflow">case</span> X86::SUB64ri8:</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  <span class="keywordflow">case</span> X86::SUB32ri:</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;  <span class="keywordflow">case</span> X86::SUB32ri8:</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <span class="keywordflow">case</span> X86::SUB16ri:</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;  <span class="keywordflow">case</span> X86::SUB16ri8:</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <span class="keywordflow">case</span> X86::SUB8ri:</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    SrcReg2 = 0;</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    CmpValue = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  <span class="keywordflow">case</span> X86::CMP64rr:</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  <span class="keywordflow">case</span> X86::CMP32rr:</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;  <span class="keywordflow">case</span> X86::CMP16rr:</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;  <span class="keywordflow">case</span> X86::CMP8rr:</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    SrcReg2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    CmpValue = 0;</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;  <span class="keywordflow">case</span> X86::TEST8rr:</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="keywordflow">case</span> X86::TEST16rr:</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <span class="keywordflow">case</span> X86::TEST32rr:</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  <span class="keywordflow">case</span> X86::TEST64rr:</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != SrcReg) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="comment">// Compare against zero.</span></div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    SrcReg2 = 0;</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    CmpValue = 0;</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  }</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;}</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;<span class="comment">/// isRedundantFlagInstr - check whether the first instruction, whose only</span></div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;<span class="comment">/// purpose is to update flags, can be made redundant.</span></div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;<span class="comment">/// CMPrr can be made redundant by SUBrr if the operands are the same.</span></div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;<span class="comment">/// This function can be extended later on.</span></div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;<span class="comment">/// SrcReg, SrcRegs: register operands for FlagI.</span></div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="comment">/// ImmValue: immediate for FlagI if it takes an immediate.</span></div><div class="line"><a name="l03363"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a654643214ca83563f3a22bbcd05fd8b7"> 3363</a></span>&#160;<span class="comment"></span><span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a654643214ca83563f3a22bbcd05fd8b7">isRedundantFlagInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *FlagI, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;                                        <span class="keywordtype">unsigned</span> SrcReg2, <span class="keywordtype">int</span> ImmValue,</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;                                        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *OI) {</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="keywordflow">if</span> (((FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP64rr &amp;&amp;</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB64rr) ||</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP32rr &amp;&amp;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB32rr)||</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP16rr &amp;&amp;</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB16rr)||</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP8rr &amp;&amp;</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB8rr)) &amp;&amp;</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;      ((OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg &amp;&amp;</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg2) ||</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;       (OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg2 &amp;&amp;</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg)))</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <span class="keywordflow">if</span> (((FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP64ri32 &amp;&amp;</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB64ri32) ||</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP64ri8 &amp;&amp;</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB64ri8) ||</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP32ri &amp;&amp;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB32ri) ||</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP32ri8 &amp;&amp;</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB32ri8) ||</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP16ri &amp;&amp;</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB16ri) ||</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP16ri8 &amp;&amp;</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB16ri8) ||</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;       (FlagI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CMP8ri &amp;&amp;</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::SUB8ri)) &amp;&amp;</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg &amp;&amp;</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;      OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == ImmValue)</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;}</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;<span class="comment">/// isDefConvertible - check whether the definition can be converted</span></div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;<span class="comment">/// to remove a comparison against zero.</span></div><div class="line"><a name="l03402"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a37d654e503b7f1e1b04bcaebe6fd337f"> 3402</a></span>&#160;<span class="comment"></span><span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a37d654e503b7f1e1b04bcaebe6fd337f">isDefConvertible</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI) {</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;  <span class="comment">// The shift instructions only modify ZF if their shift count is non-zero.</span></div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  <span class="comment">// N.B.: The processor truncates the shift count depending on the encoding.</span></div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  <span class="keywordflow">case</span> X86::SAR8ri:    <span class="keywordflow">case</span> X86::SAR16ri:  <span class="keywordflow">case</span> X86::SAR32ri:<span class="keywordflow">case</span> X86::SAR64ri:</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;  <span class="keywordflow">case</span> X86::SHR8ri:    <span class="keywordflow">case</span> X86::SHR16ri:  <span class="keywordflow">case</span> X86::SHR32ri:<span class="keywordflow">case</span> X86::SHR64ri:</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a>(MI, 2) != 0;</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  <span class="comment">// Some left shift instructions can be turned into LEA instructions but only</span></div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <span class="comment">// if their flags aren&#39;t used. Avoid transforming such instructions.</span></div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;  <span class="keywordflow">case</span> X86::SHL8ri:    <span class="keywordflow">case</span> X86::SHL16ri:  <span class="keywordflow">case</span> X86::SHL32ri:<span class="keywordflow">case</span> X86::SHL64ri:{</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    <span class="keywordtype">unsigned</span> ShAmt = <a class="code" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a>(MI, 2);</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a349feaf4bcc809481e099a4b5cbed1e2">isTruncatedShiftCountForLEA</a>(ShAmt)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    <span class="keywordflow">return</span> ShAmt != 0;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;  }</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  <span class="keywordflow">case</span> X86::SHRD16rri8:<span class="keywordflow">case</span> X86::SHRD32rri8:<span class="keywordflow">case</span> X86::SHRD64rri8:</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;  <span class="keywordflow">case</span> X86::SHLD16rri8:<span class="keywordflow">case</span> X86::SHLD32rri8:<span class="keywordflow">case</span> X86::SHLD64rri8:</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a>(MI, 3) != 0;</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  <span class="keywordflow">case</span> X86::SUB64ri32: <span class="keywordflow">case</span> X86::SUB64ri8: <span class="keywordflow">case</span> X86::SUB32ri:</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;  <span class="keywordflow">case</span> X86::SUB32ri8:  <span class="keywordflow">case</span> X86::SUB16ri:  <span class="keywordflow">case</span> X86::SUB16ri8:</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;  <span class="keywordflow">case</span> X86::SUB8ri:    <span class="keywordflow">case</span> X86::SUB64rr:  <span class="keywordflow">case</span> X86::SUB32rr:</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;  <span class="keywordflow">case</span> X86::SUB16rr:   <span class="keywordflow">case</span> X86::SUB8rr:   <span class="keywordflow">case</span> X86::SUB64rm:</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  <span class="keywordflow">case</span> X86::SUB32rm:   <span class="keywordflow">case</span> X86::SUB16rm:  <span class="keywordflow">case</span> X86::SUB8rm:</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  <span class="keywordflow">case</span> X86::DEC64r:    <span class="keywordflow">case</span> X86::DEC32r:   <span class="keywordflow">case</span> X86::DEC16r: <span class="keywordflow">case</span> X86::DEC8r:</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  <span class="keywordflow">case</span> X86::DEC64_32r: <span class="keywordflow">case</span> X86::DEC64_16r:</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <span class="keywordflow">case</span> X86::ADD64ri32: <span class="keywordflow">case</span> X86::ADD64ri8: <span class="keywordflow">case</span> X86::ADD32ri:</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  <span class="keywordflow">case</span> X86::ADD32ri8:  <span class="keywordflow">case</span> X86::ADD16ri:  <span class="keywordflow">case</span> X86::ADD16ri8:</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;  <span class="keywordflow">case</span> X86::ADD8ri:    <span class="keywordflow">case</span> X86::ADD64rr:  <span class="keywordflow">case</span> X86::ADD32rr:</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;  <span class="keywordflow">case</span> X86::ADD16rr:   <span class="keywordflow">case</span> X86::ADD8rr:   <span class="keywordflow">case</span> X86::ADD64rm:</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;  <span class="keywordflow">case</span> X86::ADD32rm:   <span class="keywordflow">case</span> X86::ADD16rm:  <span class="keywordflow">case</span> X86::ADD8rm:</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;  <span class="keywordflow">case</span> X86::INC64r:    <span class="keywordflow">case</span> X86::INC32r:   <span class="keywordflow">case</span> X86::INC16r: <span class="keywordflow">case</span> X86::INC8r:</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  <span class="keywordflow">case</span> X86::INC64_32r: <span class="keywordflow">case</span> X86::INC64_16r:</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  <span class="keywordflow">case</span> X86::AND64ri32: <span class="keywordflow">case</span> X86::AND64ri8: <span class="keywordflow">case</span> X86::AND32ri:</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  <span class="keywordflow">case</span> X86::AND32ri8:  <span class="keywordflow">case</span> X86::AND16ri:  <span class="keywordflow">case</span> X86::AND16ri8:</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  <span class="keywordflow">case</span> X86::AND8ri:    <span class="keywordflow">case</span> X86::AND64rr:  <span class="keywordflow">case</span> X86::AND32rr:</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;  <span class="keywordflow">case</span> X86::AND16rr:   <span class="keywordflow">case</span> X86::AND8rr:   <span class="keywordflow">case</span> X86::AND64rm:</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="keywordflow">case</span> X86::AND32rm:   <span class="keywordflow">case</span> X86::AND16rm:  <span class="keywordflow">case</span> X86::AND8rm:</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <span class="keywordflow">case</span> X86::XOR64ri32: <span class="keywordflow">case</span> X86::XOR64ri8: <span class="keywordflow">case</span> X86::XOR32ri:</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <span class="keywordflow">case</span> X86::XOR32ri8:  <span class="keywordflow">case</span> X86::XOR16ri:  <span class="keywordflow">case</span> X86::XOR16ri8:</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;  <span class="keywordflow">case</span> X86::XOR8ri:    <span class="keywordflow">case</span> X86::XOR64rr:  <span class="keywordflow">case</span> X86::XOR32rr:</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  <span class="keywordflow">case</span> X86::XOR16rr:   <span class="keywordflow">case</span> X86::XOR8rr:   <span class="keywordflow">case</span> X86::XOR64rm:</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <span class="keywordflow">case</span> X86::XOR32rm:   <span class="keywordflow">case</span> X86::XOR16rm:  <span class="keywordflow">case</span> X86::XOR8rm:</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <span class="keywordflow">case</span> X86::OR64ri32:  <span class="keywordflow">case</span> X86::OR64ri8:  <span class="keywordflow">case</span> X86::OR32ri:</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  <span class="keywordflow">case</span> X86::OR32ri8:   <span class="keywordflow">case</span> X86::OR16ri:   <span class="keywordflow">case</span> X86::OR16ri8:</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <span class="keywordflow">case</span> X86::OR8ri:     <span class="keywordflow">case</span> X86::OR64rr:   <span class="keywordflow">case</span> X86::OR32rr:</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <span class="keywordflow">case</span> X86::OR16rr:    <span class="keywordflow">case</span> X86::OR8rr:    <span class="keywordflow">case</span> X86::OR64rm:</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="keywordflow">case</span> X86::OR32rm:    <span class="keywordflow">case</span> X86::OR16rm:   <span class="keywordflow">case</span> X86::OR8rm:</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  <span class="keywordflow">case</span> X86::NEG8r:     <span class="keywordflow">case</span> X86::NEG16r:   <span class="keywordflow">case</span> X86::NEG32r: <span class="keywordflow">case</span> X86::NEG64r:</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  <span class="keywordflow">case</span> X86::SAR8r1:    <span class="keywordflow">case</span> X86::SAR16r1:  <span class="keywordflow">case</span> X86::SAR32r1:<span class="keywordflow">case</span> X86::SAR64r1:</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <span class="keywordflow">case</span> X86::SHR8r1:    <span class="keywordflow">case</span> X86::SHR16r1:  <span class="keywordflow">case</span> X86::SHR32r1:<span class="keywordflow">case</span> X86::SHR64r1:</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <span class="keywordflow">case</span> X86::SHL8r1:    <span class="keywordflow">case</span> X86::SHL16r1:  <span class="keywordflow">case</span> X86::SHL32r1:<span class="keywordflow">case</span> X86::SHL64r1:</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <span class="keywordflow">case</span> X86::ADC32ri:   <span class="keywordflow">case</span> X86::ADC32ri8:</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;  <span class="keywordflow">case</span> X86::ADC32rr:   <span class="keywordflow">case</span> X86::ADC64ri32:</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  <span class="keywordflow">case</span> X86::ADC64ri8:  <span class="keywordflow">case</span> X86::ADC64rr:</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  <span class="keywordflow">case</span> X86::SBB32ri:   <span class="keywordflow">case</span> X86::SBB32ri8:</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;  <span class="keywordflow">case</span> X86::SBB32rr:   <span class="keywordflow">case</span> X86::SBB64ri32:</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  <span class="keywordflow">case</span> X86::SBB64ri8:  <span class="keywordflow">case</span> X86::SBB64rr:</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  <span class="keywordflow">case</span> X86::ANDN32rr:  <span class="keywordflow">case</span> X86::ANDN32rm:</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  <span class="keywordflow">case</span> X86::ANDN64rr:  <span class="keywordflow">case</span> X86::ANDN64rm:</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  <span class="keywordflow">case</span> X86::BEXTR32rr: <span class="keywordflow">case</span> X86::BEXTR64rr:</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <span class="keywordflow">case</span> X86::BEXTR32rm: <span class="keywordflow">case</span> X86::BEXTR64rm:</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <span class="keywordflow">case</span> X86::BLSI32rr:  <span class="keywordflow">case</span> X86::BLSI32rm:</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  <span class="keywordflow">case</span> X86::BLSI64rr:  <span class="keywordflow">case</span> X86::BLSI64rm:</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  <span class="keywordflow">case</span> X86::BLSMSK32rr:<span class="keywordflow">case</span> X86::BLSMSK32rm:</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;  <span class="keywordflow">case</span> X86::BLSMSK64rr:<span class="keywordflow">case</span> X86::BLSMSK64rm:</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;  <span class="keywordflow">case</span> X86::BLSR32rr:  <span class="keywordflow">case</span> X86::BLSR32rm:</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <span class="keywordflow">case</span> X86::BLSR64rr:  <span class="keywordflow">case</span> X86::BLSR64rm:</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <span class="keywordflow">case</span> X86::BZHI32rr:  <span class="keywordflow">case</span> X86::BZHI32rm:</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <span class="keywordflow">case</span> X86::BZHI64rr:  <span class="keywordflow">case</span> X86::BZHI64rm:</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  <span class="keywordflow">case</span> X86::LZCNT16rr: <span class="keywordflow">case</span> X86::LZCNT16rm:</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;  <span class="keywordflow">case</span> X86::LZCNT32rr: <span class="keywordflow">case</span> X86::LZCNT32rm:</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keywordflow">case</span> X86::LZCNT64rr: <span class="keywordflow">case</span> X86::LZCNT64rm:</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;  <span class="keywordflow">case</span> X86::POPCNT16rr:<span class="keywordflow">case</span> X86::POPCNT16rm:</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  <span class="keywordflow">case</span> X86::POPCNT32rr:<span class="keywordflow">case</span> X86::POPCNT32rm:</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <span class="keywordflow">case</span> X86::POPCNT64rr:<span class="keywordflow">case</span> X86::POPCNT64rm:</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="keywordflow">case</span> X86::TZCNT16rr: <span class="keywordflow">case</span> X86::TZCNT16rm:</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  <span class="keywordflow">case</span> X86::TZCNT32rr: <span class="keywordflow">case</span> X86::TZCNT32rm:</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <span class="keywordflow">case</span> X86::TZCNT64rr: <span class="keywordflow">case</span> X86::TZCNT64rm:</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  }</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;}</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;<span class="comment">/// optimizeCompareInstr - Check if there exists an earlier instruction that</span></div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;<span class="comment">/// operates on the same source operands and sets flags in the same way as</span></div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;<span class="comment">/// Compare; remove Compare if possible.</span></div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a741b097ea66320e3a1763cccefc9439a">X86InstrInfo::</a></div><div class="line"><a name="l03492"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a741b097ea66320e3a1763cccefc9439a"> 3492</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a741b097ea66320e3a1763cccefc9439a">optimizeCompareInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CmpInstr, <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">unsigned</span> SrcReg2,</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;                     <span class="keywordtype">int</span> CmpMask, <span class="keywordtype">int</span> CmpValue,</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <span class="comment">// Check whether we can replace SUB with CMP.</span></div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  <span class="keywordtype">unsigned</span> NewOpcode = 0;</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  <span class="keywordflow">switch</span> (CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  <span class="keywordflow">case</span> X86::SUB64ri32:</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;  <span class="keywordflow">case</span> X86::SUB64ri8:</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="keywordflow">case</span> X86::SUB32ri:</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  <span class="keywordflow">case</span> X86::SUB32ri8:</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  <span class="keywordflow">case</span> X86::SUB16ri:</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  <span class="keywordflow">case</span> X86::SUB16ri8:</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;  <span class="keywordflow">case</span> X86::SUB8ri:</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  <span class="keywordflow">case</span> X86::SUB64rm:</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  <span class="keywordflow">case</span> X86::SUB32rm:</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <span class="keywordflow">case</span> X86::SUB16rm:</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  <span class="keywordflow">case</span> X86::SUB8rm:</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="keywordflow">case</span> X86::SUB64rr:</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  <span class="keywordflow">case</span> X86::SUB32rr:</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="keywordflow">case</span> X86::SUB16rr:</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  <span class="keywordflow">case</span> X86::SUB8rr: {</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    <span class="keywordflow">if</span> (!MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ac02c0424a7e7a4021fd9efc0a71d7473">use_nodbg_empty</a>(CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()))</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="comment">// There is no use of the destination register, we can replace SUB with CMP.</span></div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <span class="keywordflow">switch</span> (CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unreachable!&quot;</span>);</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="keywordflow">case</span> X86::SUB64rm:   NewOpcode = X86::CMP64rm;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="keywordflow">case</span> X86::SUB32rm:   NewOpcode = X86::CMP32rm;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="keywordflow">case</span> X86::SUB16rm:   NewOpcode = X86::CMP16rm;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keywordflow">case</span> X86::SUB8rm:    NewOpcode = X86::CMP8rm;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="keywordflow">case</span> X86::SUB64rr:   NewOpcode = X86::CMP64rr;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    <span class="keywordflow">case</span> X86::SUB32rr:   NewOpcode = X86::CMP32rr;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <span class="keywordflow">case</span> X86::SUB16rr:   NewOpcode = X86::CMP16rr;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <span class="keywordflow">case</span> X86::SUB8rr:    NewOpcode = X86::CMP8rr;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    <span class="keywordflow">case</span> X86::SUB64ri32: NewOpcode = X86::CMP64ri32; <span class="keywordflow">break</span>;</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    <span class="keywordflow">case</span> X86::SUB64ri8:  NewOpcode = X86::CMP64ri8;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordflow">case</span> X86::SUB32ri:   NewOpcode = X86::CMP32ri;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <span class="keywordflow">case</span> X86::SUB32ri8:  NewOpcode = X86::CMP32ri8;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <span class="keywordflow">case</span> X86::SUB16ri:   NewOpcode = X86::CMP16ri;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="keywordflow">case</span> X86::SUB16ri8:  NewOpcode = X86::CMP16ri8;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    <span class="keywordflow">case</span> X86::SUB8ri:    NewOpcode = X86::CMP8ri;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    }</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(NewOpcode));</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(0);</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="comment">// Fall through to optimize Cmp if Cmp is CMPrr or CMPri.</span></div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <span class="keywordflow">if</span> (NewOpcode == X86::CMP64rm || NewOpcode == X86::CMP32rm ||</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        NewOpcode == X86::CMP16rm || NewOpcode == X86::CMP8rm)</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  }</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  }</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  <span class="comment">// Get the unique definition of SrcReg.</span></div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3a8e37a5bdd95e6bc921cc0855a3dbf1">getUniqueVRegDef</a>(SrcReg);</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  <span class="keywordflow">if</span> (!MI) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  <span class="comment">// CmpInstr is the first instruction of the BB.</span></div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CmpInstr, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;  <span class="comment">// If we are comparing against zero, check whether we can use MI to update</span></div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;  <span class="comment">// EFLAGS. If MI is not in the same BB as CmpInstr, do not optimize.</span></div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;  <span class="keywordtype">bool</span> IsCmpZero = (SrcReg2 == 0 &amp;&amp; CmpValue == 0);</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;  <span class="keywordflow">if</span> (IsCmpZero &amp;&amp; (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>() != CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>() ||</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;      !<a class="code" href="X86InstrInfo_8cpp.html#a37d654e503b7f1e1b04bcaebe6fd337f">isDefConvertible</a>(MI)))</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  <span class="comment">// We are searching for an earlier instruction that can make CmpInstr</span></div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  <span class="comment">// redundant and that instruction will be saved in Sub.</span></div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Sub = NULL;</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = &amp;<a class="code" href="classllvm_1_1X86InstrInfo.html#aedbb7c612116b9499e6bda8b7d74f857">getRegisterInfo</a>();</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;  <span class="comment">// We iterate backward, starting from the instruction before CmpInstr and</span></div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="comment">// stop when reaching the definition of a source register or done with the BB.</span></div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <span class="comment">// RI points to the instruction before CmpInstr.</span></div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <span class="comment">// If the definition is in this basic block, RE points to the definition;</span></div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  <span class="comment">// otherwise, RE is the rend of the basic block.</span></div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#a0848c971395758cf592821550b725853">MachineBasicBlock::reverse_iterator</a></div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;      RI = <a class="code" href="classllvm_1_1MachineBasicBlock.html#a0848c971395758cf592821550b725853">MachineBasicBlock::reverse_iterator</a>(I),</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;      RE = CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>() == MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>() ?</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;           <a class="code" href="classllvm_1_1MachineBasicBlock.html#a0848c971395758cf592821550b725853">MachineBasicBlock::reverse_iterator</a>(++Def) <span class="comment">/* points to MI */</span> :</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;           CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">rend</a>();</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Movr0Inst = 0;</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;  <span class="keywordflow">for</span> (; RI != RE; ++RI) {</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Instr = &amp;*RI;</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    <span class="comment">// Check whether CmpInstr can be made redundant by the current instruction.</span></div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <span class="keywordflow">if</span> (!IsCmpZero &amp;&amp;</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;        <a class="code" href="X86InstrInfo_8cpp.html#a654643214ca83563f3a22bbcd05fd8b7">isRedundantFlagInstr</a>(CmpInstr, SrcReg, SrcReg2, CmpValue, Instr)) {</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;      Sub = Instr;</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    }</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <span class="keywordflow">if</span> (Instr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abbf52e5d5823c0724fe7b8385d3157d9">modifiesRegister</a>(X86::EFLAGS, TRI) ||</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;        Instr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(X86::EFLAGS, TRI)) {</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;      <span class="comment">// This instruction modifies or uses EFLAGS.</span></div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;      <span class="comment">// MOV32r0 etc. are implemented with xor which clobbers condition code.</span></div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;      <span class="comment">// They are safe to move up, if the definition to EFLAGS is dead and</span></div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;      <span class="comment">// earlier instructions do not read or write EFLAGS.</span></div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;      <span class="keywordflow">if</span> (!Movr0Inst &amp;&amp; Instr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::MOV32r0 &amp;&amp;</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;          Instr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad4e92a00f11d25f99bab8b78d4f89ff9">registerDefIsDead</a>(X86::EFLAGS, TRI)) {</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;        Movr0Inst = Instr;</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;      }</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;      <span class="comment">// We can&#39;t remove CmpInstr.</span></div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    }</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;  }</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <span class="comment">// Return false if no candidates exist.</span></div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="keywordflow">if</span> (!IsCmpZero &amp;&amp; !Sub)</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <span class="keywordtype">bool</span> IsSwapped = (SrcReg2 != 0 &amp;&amp; Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg2 &amp;&amp;</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;                    Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg);</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <span class="comment">// Scan forward from the instruction after CmpInstr for uses of EFLAGS.</span></div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <span class="comment">// It is safe to remove CmpInstr if EFLAGS is redefined or killed.</span></div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;  <span class="comment">// If we are done with the basic block, we need to check whether EFLAGS is</span></div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;  <span class="comment">// live-out.</span></div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;  <span class="keywordtype">bool</span> IsSafe = <span class="keyword">false</span>;</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;std::pair&lt;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>*, <span class="keywordtype">unsigned</span> <span class="comment">/*NewOpc*/</span>&gt;, 4&gt; OpsToUpdate;</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> E = CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  <span class="keywordflow">for</span> (++I; I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    <span class="keyword">const</span> MachineInstr &amp;Instr = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="keywordtype">bool</span> ModifyEFLAGS = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#abbf52e5d5823c0724fe7b8385d3157d9">modifiesRegister</a>(X86::EFLAGS, TRI);</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    <span class="keywordtype">bool</span> UseEFLAGS = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(X86::EFLAGS, TRI);</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    <span class="comment">// We should check the usage if this instruction uses and updates EFLAGS.</span></div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    <span class="keywordflow">if</span> (!UseEFLAGS &amp;&amp; ModifyEFLAGS) {</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;      <span class="comment">// It is safe to remove CmpInstr if EFLAGS is updated again.</span></div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;      IsSafe = <span class="keyword">true</span>;</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    }</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    <span class="keywordflow">if</span> (!UseEFLAGS &amp;&amp; !ModifyEFLAGS)</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    <span class="comment">// EFLAGS is used by this instruction.</span></div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;    <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> OldCC;</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    <span class="keywordtype">bool</span> OpcIsSET = <span class="keyword">false</span>;</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <span class="keywordflow">if</span> (IsCmpZero || IsSwapped) {</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;      <span class="comment">// We decode the condition code from opcode.</span></div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;      <span class="keywordflow">if</span> (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a797ac100c6615ff181c03a3c35c7378f">isBranch</a>())</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;        OldCC = <a class="code" href="X86InstrInfo_8cpp.html#a6e6a9e3de7abf101071b295a81e75d2c">getCondFromBranchOpc</a>(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        OldCC = <a class="code" href="X86InstrInfo_8cpp.html#acfe006ea905541241f162c9fc129a00b">getCondFromSETOpc</a>(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;        <span class="keywordflow">if</span> (OldCC != <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>)</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;          OpcIsSET = <span class="keyword">true</span>;</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;          OldCC = <a class="code" href="namespacellvm_1_1X86.html#a33c661f2e48a170073eca27c2875c1bb">X86::getCondFromCMovOpc</a>(Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      }</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;      <span class="keywordflow">if</span> (OldCC == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    }</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;    <span class="keywordflow">if</span> (IsCmpZero) {</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      <span class="keywordflow">switch</span> (OldCC) {</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">X86::COND_A</a>: <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">X86::COND_AE</a>:</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">X86::COND_B</a>: <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">X86::COND_BE</a>:</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">X86::COND_G</a>: <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">X86::COND_GE</a>:</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">X86::COND_L</a>: <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">X86::COND_LE</a>:</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">X86::COND_O</a>: <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">X86::COND_NO</a>:</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;        <span class="comment">// CF and OF are used, we can&#39;t perform this optimization.</span></div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;      }</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsSwapped) {</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;      <span class="comment">// If we have SUB(r1, r2) and CMP(r2, r1), the condition code needs</span></div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;      <span class="comment">// to be changed from r2 &gt; r1 to r1 &lt; r2, from r2 &lt; r1 to r1 &gt; r2, etc.</span></div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;      <span class="comment">// We swap the condition code and synthesize the new opcode.</span></div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;      <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> NewCC = <a class="code" href="X86InstrInfo_8cpp.html#aaa1eed53016f5d7e12499da95c6bb8de">getSwappedCondition</a>(OldCC);</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;      <span class="keywordflow">if</span> (NewCC == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">X86::COND_INVALID</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;      <span class="comment">// Synthesize the new opcode.</span></div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;      <span class="keywordtype">bool</span> HasMemoryOperand = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>();</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;      <span class="keywordtype">unsigned</span> NewOpc;</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;      <span class="keywordflow">if</span> (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a797ac100c6615ff181c03a3c35c7378f">isBranch</a>())</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;        NewOpc = <a class="code" href="XCoreInstrInfo_8cpp.html#afb1f45af4bdaea231702d026f2d54943">GetCondBranchFromCond</a>(NewCC);</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(OpcIsSET)</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;        NewOpc = <a class="code" href="X86InstrInfo_8cpp.html#a6e8d1a0539b86c0e4e395c4cb72d2566">getSETFromCond</a>(NewCC, HasMemoryOperand);</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;        <span class="keywordtype">unsigned</span> DstReg = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;        NewOpc = <a class="code" href="X86InstrInfo_8cpp.html#ab2a616786f0b16d1e4b953fd53e82d86">getCMovFromCond</a>(NewCC, MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(DstReg)-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>(),</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;                                 HasMemoryOperand);</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;      }</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;      <span class="comment">// Push the MachineInstr to OpsToUpdate.</span></div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;      <span class="comment">// If it is safe to remove CmpInstr, the condition code of these</span></div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;      <span class="comment">// instructions will be modified.</span></div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      OpsToUpdate.push_back(std::make_pair(&amp;*I, NewOpc));</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    }</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="keywordflow">if</span> (ModifyEFLAGS || Instr.<a class="code" href="classllvm_1_1MachineInstr.html#aff83f9aeef903ed06c5098f5172624ed">killsRegister</a>(X86::EFLAGS, TRI)) {</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;      <span class="comment">// It is safe to remove CmpInstr if EFLAGS is updated again or killed.</span></div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;      IsSafe = <span class="keyword">true</span>;</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    }</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  }</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;  <span class="comment">// If EFLAGS is not killed nor re-defined, we should check whether it is</span></div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  <span class="comment">// live-out. If it is live-out, do not optimize.</span></div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  <span class="keywordflow">if</span> ((IsCmpZero || IsSwapped) &amp;&amp; !IsSafe) {</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">MachineBasicBlock::succ_iterator</a> SI = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">succ_begin</a>(),</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;             SE = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">succ_end</a>(); SI != SE; ++SI)</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;      <span class="keywordflow">if</span> ((*SI)-&gt;isLiveIn(X86::EFLAGS))</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;  }</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <span class="comment">// The instruction to be updated is either Sub or MI.</span></div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  Sub = IsCmpZero ? MI : Sub;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  <span class="comment">// Move Movr0Inst to the appropriate place before Sub.</span></div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;  <span class="keywordflow">if</span> (Movr0Inst) {</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <span class="comment">// Look backwards until we find a def that doesn&#39;t use the current EFLAGS.</span></div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    Def = Sub;</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html#a0848c971395758cf592821550b725853">MachineBasicBlock::reverse_iterator</a></div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;      InsertI = <a class="code" href="classllvm_1_1MachineBasicBlock.html#a0848c971395758cf592821550b725853">MachineBasicBlock::reverse_iterator</a>(++Def),</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;                InsertE = Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">rend</a>();</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <span class="keywordflow">for</span> (; InsertI != InsertE; ++InsertI) {</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;      MachineInstr *Instr = &amp;*InsertI;</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;      <span class="keywordflow">if</span> (!Instr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(X86::EFLAGS, TRI) &amp;&amp;</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;          Instr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abbf52e5d5823c0724fe7b8385d3157d9">modifiesRegister</a>(X86::EFLAGS, TRI)) {</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;        Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a00c9d82d8d59adedd1734fed16051c73">remove</a>(Movr0Inst);</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;        Instr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a8d02c1e6ef20f42c10d6f4e7234efd61">insert</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(Instr),</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;                                   Movr0Inst);</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      }</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    }</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    <span class="keywordflow">if</span> (InsertI == InsertE)</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;  }</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  <span class="comment">// Make sure Sub instruction defines EFLAGS and mark the def live.</span></div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>();</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  <span class="keywordflow">for</span> (; i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(i);</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == X86::EFLAGS) {</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;      MO.<a class="code" href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">setIsDead</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    }</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  }</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  assert(i != e &amp;&amp; <span class="stringliteral">&quot;Unable to locate a def EFLAGS operand&quot;</span>);</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;  <span class="comment">// Modify the condition code of instructions in OpsToUpdate.</span></div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = OpsToUpdate.size(); i &lt; e; i++)</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    OpsToUpdate[i].first-&gt;setDesc(<span class="keyword">get</span>(OpsToUpdate[i].second));</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;}</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;<span class="comment">/// optimizeLoadInstr - Try to remove the load by folding it to a register</span></div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;<span class="comment">/// operand at the use. We fold the load instructions if load defines a virtual</span></div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;<span class="comment">/// register, the virtual register is used once in the same BB, and the</span></div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;<span class="comment">/// instructions in-between do not load or store, and have no side effects.</span></div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>* <a class="code" href="classllvm_1_1X86InstrInfo.html#a336b337afa3ab43de1fbe0a295b6700a">X86InstrInfo::</a></div><div class="line"><a name="l03744"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a336b337afa3ab43de1fbe0a295b6700a"> 3744</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a336b337afa3ab43de1fbe0a295b6700a">optimizeLoadInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>,</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;                  <span class="keywordtype">unsigned</span> &amp;FoldAsLoadDefReg,</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;                  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *&amp;DefMI)<span class="keyword"> const </span>{</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="keywordflow">if</span> (FoldAsLoadDefReg == 0)</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <span class="comment">// To be conservative, if there exists another load, clear the load candidate.</span></div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">mayLoad</a>()) {</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    FoldAsLoadDefReg = 0;</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  }</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  <span class="comment">// Check whether we can move DefMI here.</span></div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  DefMI = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">getVRegDef</a>(FoldAsLoadDefReg);</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  assert(DefMI);</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  <span class="keywordtype">bool</span> SawStore = <span class="keyword">false</span>;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  <span class="keywordflow">if</span> (!DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a55f1c19ebb9fce7a442816eeb154174f">isSafeToMove</a>(<span class="keyword">this</span>, 0, SawStore))</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;  <span class="comment">// We try to commute MI if possible.</span></div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;  <span class="keywordtype">unsigned</span> IdxEnd = (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aafb199cf6f6f35679ac670d7630d8b35">isCommutable</a>()) ? 2 : 1;</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; IdxEnd; Idx++) {</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    <span class="comment">// Collect information about virtual register operands of MI.</span></div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    <span class="keywordtype">unsigned</span> SrcOperandId = 0;</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <span class="keywordtype">bool</span> FoundSrcOperand = <span class="keyword">false</span>;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>())</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;      <span class="keywordflow">if</span> (Reg != FoldAsLoadDefReg)</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;      <span class="comment">// Do not fold if we have a subreg use or a def or multiple uses.</span></div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>() || FoundSrcOperand)</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;      SrcOperandId = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;      FoundSrcOperand = <span class="keyword">true</span>;</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    }</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <span class="keywordflow">if</span> (!FoundSrcOperand) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    <span class="comment">// Check whether we can fold the def into SrcOperandId.</span></div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> Ops;</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(SrcOperandId);</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *FoldMI = foldMemoryOperand(MI, Ops, DefMI);</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    <span class="keywordflow">if</span> (FoldMI) {</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;      FoldAsLoadDefReg = 0;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;      <span class="keywordflow">return</span> FoldMI;</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    }</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="keywordflow">if</span> (Idx == 1) {</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;      <span class="comment">// MI was changed but it didn&#39;t help, commute it back!</span></div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;      <a class="code" href="classllvm_1_1X86InstrInfo.html#a8fc308a0128ebcf255d24e4b2397128f">commuteInstruction</a>(MI, <span class="keyword">false</span>);</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    }</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;    <span class="comment">// Check whether we can commute MI and enable folding.</span></div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aafb199cf6f6f35679ac670d7630d8b35">isCommutable</a>()) {</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = <a class="code" href="classllvm_1_1X86InstrInfo.html#a8fc308a0128ebcf255d24e4b2397128f">commuteInstruction</a>(MI, <span class="keyword">false</span>);</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;      <span class="comment">// Unable to commute.</span></div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;      <span class="keywordflow">if</span> (!NewMI) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;      <span class="keywordflow">if</span> (NewMI != MI) {</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;        <span class="comment">// New instruction. It doesn&#39;t need to be kept.</span></div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;        NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;      }</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;    }</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  }</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;}</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;<span class="comment">/// Expand2AddrUndef - Expand a single-def pseudo instruction to a two-addr</span></div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;<span class="comment">/// instruction with two undef reads of the register being defined.  This is</span></div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;<span class="comment">/// used for mapping:</span></div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="comment">///   %xmm4 = V_SET0</span></div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;<span class="comment">/// to:</span></div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;<span class="comment">///   %xmm4 = PXORrr %xmm4&lt;undef&gt;, %xmm4&lt;undef&gt;</span></div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03821"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352"> 3821</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(<a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> &amp;MIB,</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc) {</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  assert(Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>() == 3 &amp;&amp; <span class="stringliteral">&quot;Expected two-addr instruction.&quot;</span>);</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(Desc);</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <span class="comment">// MachineInstr::addOperand() will insert explicit operands before any</span></div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <span class="comment">// implicit operands.</span></div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>);</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <span class="comment">// But we don&#39;t trust that.</span></div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;  assert(MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == Reg &amp;&amp;</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;         MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == Reg &amp;&amp; <span class="stringliteral">&quot;Misplaced operand&quot;</span>);</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;}</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;</div><div class="line"><a name="l03836"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a2f5638391983e37de7a993e9a081f26e"> 3836</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a2f5638391983e37de7a993e9a081f26e">X86InstrInfo::expandPostRAPseudo</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  <span class="keywordtype">bool</span> HasAVX = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().hasAVX();</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(*MI-&gt;getParent()-&gt;getParent(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>);</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;getOpcode()) {</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <span class="keywordflow">case</span> X86::SETB_C8r:</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::SBB8rr));</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  <span class="keywordflow">case</span> X86::SETB_C16r:</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::SBB16rr));</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <span class="keywordflow">case</span> X86::SETB_C32r:</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::SBB32rr));</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  <span class="keywordflow">case</span> X86::SETB_C64r:</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::SBB64rr));</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;  <span class="keywordflow">case</span> X86::V_SET0:</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  <span class="keywordflow">case</span> X86::FsFLD0SS:</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <span class="keywordflow">case</span> X86::FsFLD0SD:</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(HasAVX ? X86::VXORPSrr : X86::XORPSrr));</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <span class="keywordflow">case</span> X86::AVX_SET0:</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    assert(HasAVX &amp;&amp; <span class="stringliteral">&quot;AVX not supported&quot;</span>);</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::VXORPSYrr));</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <span class="keywordflow">case</span> X86::AVX512_512_SET0:</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::VPXORDZrr));</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;  <span class="keywordflow">case</span> X86::V_SETALLONES:</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(HasAVX ? X86::VPCMPEQDrr : X86::PCMPEQDrr));</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  <span class="keywordflow">case</span> X86::AVX2_SETALLONES:</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::VPCMPEQDYrr));</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;  <span class="keywordflow">case</span> X86::TEST8ri_NOREX:</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    MI-&gt;setDesc(<span class="keyword">get</span>(X86::TEST8ri));</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;  <span class="keywordflow">case</span> X86::KSET0W: <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::KXORWrr));</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <span class="keywordflow">case</span> X86::KSET1B:</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  <span class="keywordflow">case</span> X86::KSET1W: <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a>(MIB, <span class="keyword">get</span>(X86::KXNORWrr));</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  }</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;}</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;</div><div class="line"><a name="l03871"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a05ecf19c3cf3d24c1cb2373eaa1c190b"> 3871</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="X86InstrInfo_8cpp.html#a05ecf19c3cf3d24c1cb2373eaa1c190b">FuseTwoAddrInst</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> Opcode,</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;MOs,</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;                                     <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  <span class="comment">// Create the base instruction with the memory operand as the first part.</span></div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <span class="comment">// Omit the implicit operands, something BuildMI can&#39;t do.</span></div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#af3607186e9eb9417ccb6c852aa8b83dd">CreateMachineInstr</a>(TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Opcode),</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;                                              MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(MF, NewMI);</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;  <span class="keywordtype">unsigned</span> NumAddrOps = MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumAddrOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MOs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  <span class="keywordflow">if</span> (NumAddrOps &lt; 4)  <span class="comment">// FrameIndex only</span></div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(MIB, 0);</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <span class="comment">// Loop over the rest of the ri operands, converting them over.</span></div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>()-2;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i != NumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(i+2);</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MO);</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  }</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = NumOps+2, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(i);</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MO);</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;  }</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;  <span class="keywordflow">return</span> MIB;</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;}</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;</div><div class="line"><a name="l03899"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a92635a62ef7041326cfab6622f31fbb3"> 3899</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="X86InstrInfo_8cpp.html#a92635a62ef7041326cfab6622f31fbb3">FuseInst</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;                              <span class="keywordtype">unsigned</span> Opcode, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;MOs,</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;                              <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <span class="comment">// Omit the implicit operands, something BuildMI can&#39;t do.</span></div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#af3607186e9eb9417ccb6c852aa8b83dd">CreateMachineInstr</a>(TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Opcode),</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;                                              MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(MF, NewMI);</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == OpNo) {</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      assert(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; <span class="stringliteral">&quot;Expected to fold into reg operand!&quot;</span>);</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;      <span class="keywordtype">unsigned</span> NumAddrOps = MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumAddrOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MOs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;      <span class="keywordflow">if</span> (NumAddrOps &lt; 4)  <span class="comment">// FrameIndex only</span></div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;        <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(MIB, 0);</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MO);</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    }</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  }</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;  <span class="keywordflow">return</span> MIB;</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;}</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;</div><div class="line"><a name="l03924"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#ab0b309d19817a23368c2f80c0ab3bc53"> 3924</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="X86InstrInfo_8cpp.html#ab0b309d19817a23368c2f80c0ab3bc53">MakeM0Inst</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <span class="keywordtype">unsigned</span> Opcode,</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;MOs,</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;                                <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI) {</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Opcode));</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;  <span class="keywordtype">unsigned</span> NumAddrOps = MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumAddrOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MOs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;  <span class="keywordflow">if</span> (NumAddrOps &lt; 4)  <span class="comment">// FrameIndex only</span></div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(MIB, 0);</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="keywordflow">return</span> MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0);</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;}</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>*</div><div class="line"><a name="l03939"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a6fbb88ed14f4c24000fca708189e775f"> 3939</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">X86InstrInfo::foldMemoryOperandImpl</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;                                    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;MOs,</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;                                    <span class="keywordtype">unsigned</span> Size, <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, std::pair&lt;unsigned,unsigned&gt;</a> &gt; *OpcodeTablePtr = 0;</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  <span class="keywordtype">bool</span> isCallRegIndirect = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().callRegIndirect();</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;  <span class="keywordtype">bool</span> isTwoAddrFold = <span class="keyword">false</span>;</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;  <span class="comment">// Atom favors register form of call. So, we do not fold loads into calls</span></div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  <span class="comment">// when X86Subtarget is Atom.</span></div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;  <span class="keywordflow">if</span> (isCallRegIndirect &amp;&amp;</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CALL32r || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::CALL64r)) {</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  }</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;  <span class="keywordtype">bool</span> isTwoAddr = NumOps &gt; 1 &amp;&amp;</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a406bec242e875c065e0e575effe4c339">getOperandConstraint</a>(1, <a class="code" href="namespacellvm_1_1MCOI.html#aaa8eb58fd1b8466eb64a43df890cb8c1ae01b27a05209c02ca1bdb5a6033731fb">MCOI::TIED_TO</a>) != -1;</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <span class="comment">// FIXME: AsmPrinter doesn&#39;t know how to handle</span></div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;  <span class="comment">// X86II::MO_GOT_ABSOLUTE_ADDRESS after folding.</span></div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::ADD32ri &amp;&amp;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a91aa25eac8330cdbab5f7f12fb29359d">getTargetFlags</a>() == <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84a5364e197f6bba28989699b6040ce96ca">X86II::MO_GOT_ABSOLUTE_ADDRESS</a>)</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = NULL;</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;  <span class="comment">// Folding a memory location into the two-address part of a two-address</span></div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;  <span class="comment">// instruction is different than folding it other places.  It requires</span></div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  <span class="comment">// replacing the *two* registers with the memory location.</span></div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;  <span class="keywordflow">if</span> (isTwoAddr &amp;&amp; NumOps &gt;= 2 &amp;&amp; i &lt; 2 &amp;&amp;</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp;</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp;</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()) {</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable2Addr;</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    isTwoAddrFold = <span class="keyword">true</span>;</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 0) { <span class="comment">// If operand 0</span></div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::MOV32r0) {</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      NewMI = <a class="code" href="X86InstrInfo_8cpp.html#ab0b309d19817a23368c2f80c0ab3bc53">MakeM0Inst</a>(*<span class="keyword">this</span>, X86::MOV32mi, MOs, MI);</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;      <span class="keywordflow">if</span> (NewMI)</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;        <span class="keywordflow">return</span> NewMI;</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    }</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable0;</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 1) {</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable1;</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 2) {</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable2;</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 3) {</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable3;</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  }</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="comment">// If table selected...</span></div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;  <span class="keywordflow">if</span> (OpcodeTablePtr) {</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;    <span class="comment">// Find the Opcode to fuse</span></div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, std::pair&lt;unsigned,unsigned&gt;</a> &gt;::const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;      OpcodeTablePtr-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;    <span class="keywordflow">if</span> (I != OpcodeTablePtr-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;      <span class="keywordtype">unsigned</span> Opcode = I-&gt;second.first;</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">MinAlign</a> = (I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa09bcb1a07fef11e4b680eb2c90986d3c">TB_ALIGN_MASK</a>) &gt;&gt; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a>;</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;      <span class="keywordflow">if</span> (Align &lt; MinAlign)</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;      <span class="keywordtype">bool</span> NarrowToMOV32rm = <span class="keyword">false</span>;</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      <span class="keywordflow">if</span> (Size) {</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;        <span class="keywordtype">unsigned</span> RCSize = getRegClass(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>(), <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, &amp;RI, MF)-&gt;getSize();</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;        <span class="keywordflow">if</span> (Size &lt; RCSize) {</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;          <span class="comment">// Check if it&#39;s safe to fold the load. If the size of the object is</span></div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;          <span class="comment">// narrower than the load width, then it&#39;s not.</span></div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;          <span class="keywordflow">if</span> (Opcode != X86::MOV64rm || RCSize != 8 || Size != 4)</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;            <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;          <span class="comment">// If this is a 64-bit load, but the spill slot is 32, then we can do</span></div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;          <span class="comment">// a 32-bit load which is implicitly zero-extended. This likely is due</span></div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;          <span class="comment">// to liveintervalanalysis remat&#39;ing a load from stack slot.</span></div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;          <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>())</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;            <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;          Opcode = X86::MOV32rm;</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;          NarrowToMOV32rm = <span class="keyword">true</span>;</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;        }</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      }</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;      <span class="keywordflow">if</span> (isTwoAddrFold)</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;        NewMI = <a class="code" href="X86InstrInfo_8cpp.html#a05ecf19c3cf3d24c1cb2373eaa1c190b">FuseTwoAddrInst</a>(MF, Opcode, MOs, MI, *<span class="keyword">this</span>);</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;        NewMI = <a class="code" href="X86InstrInfo_8cpp.html#a92635a62ef7041326cfab6622f31fbb3">FuseInst</a>(MF, Opcode, i, MOs, MI, *<span class="keyword">this</span>);</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;      <span class="keywordflow">if</span> (NarrowToMOV32rm) {</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;        <span class="comment">// If this is the special case where we use a MOV32rm to load a 32-bit</span></div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;        <span class="comment">// value and zero-extend the top bits. Change the destination register</span></div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;        <span class="comment">// to a 32-bit one.</span></div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;        <span class="keywordtype">unsigned</span> DstReg = NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(DstReg))</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;          NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a624a062754a09d3787614d8627096705">setReg</a>(RI.getSubReg(DstReg,</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;                                                   X86::sub_32bit));</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;          NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">setSubReg</a>(X86::sub_32bit);</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;      }</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      <span class="keywordflow">return</span> NewMI;</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    }</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  }</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;  <span class="comment">// No fusion</span></div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a827cf856172b038da27ceb6b38d97f40">PrintFailedFusing</a> &amp;&amp; !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae0ac5973cd95f76e3365e67aaad69de6">isCopy</a>())</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;We failed to fuse operand &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; in &quot;</span> &lt;&lt; *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;}</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;<span class="comment">/// hasPartialRegUpdate - Return true for all instructions that only update</span></div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;<span class="comment">/// the first 32 or 64-bits of the destination register and leave the rest</span></div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;<span class="comment">/// unmodified. This can be used to avoid folding loads if the instructions</span></div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;<span class="comment">/// only update part of the destination register, and the non-updated part is</span></div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;<span class="comment">/// not needed. e.g. cvtss2sd, sqrtss. Unfolding the load from these</span></div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;<span class="comment">/// instructions breaks the partial register dependency and it can improve</span></div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;<span class="comment">/// performance. e.g.:</span></div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;<span class="comment">///   movss (%rdi), %xmm0</span></div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;<span class="comment">///   cvtss2sd %xmm0, %xmm0</span></div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;<span class="comment">/// Instead of</span></div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;<span class="comment">///   cvtss2sd (%rdi), %xmm0</span></div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;<span class="comment">/// FIXME: This should be turned into a TSFlags.</span></div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04060"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a0ef58f66dc90ab0544e383f6de45b06f"> 4060</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#a0ef58f66dc90ab0544e383f6de45b06f">hasPartialRegUpdate</a>(<span class="keywordtype">unsigned</span> Opcode) {</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;  <span class="keywordflow">case</span> X86::CVTSI2SSrr:</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  <span class="keywordflow">case</span> X86::CVTSI2SS64rr:</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;  <span class="keywordflow">case</span> X86::CVTSI2SDrr:</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;  <span class="keywordflow">case</span> X86::CVTSI2SD64rr:</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;  <span class="keywordflow">case</span> X86::CVTSD2SSrr:</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;  <span class="keywordflow">case</span> X86::Int_CVTSD2SSrr:</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;  <span class="keywordflow">case</span> X86::CVTSS2SDrr:</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  <span class="keywordflow">case</span> X86::Int_CVTSS2SDrr:</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;  <span class="keywordflow">case</span> X86::RCPSSr:</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;  <span class="keywordflow">case</span> X86::RCPSSr_Int:</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;  <span class="keywordflow">case</span> X86::ROUNDSDr:</div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;  <span class="keywordflow">case</span> X86::ROUNDSDr_Int:</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;  <span class="keywordflow">case</span> X86::ROUNDSSr:</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;  <span class="keywordflow">case</span> X86::ROUNDSSr_Int:</div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;  <span class="keywordflow">case</span> X86::RSQRTSSr:</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  <span class="keywordflow">case</span> X86::RSQRTSSr_Int:</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSSr:</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSSr_Int:</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;  }</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;}</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;<span class="comment">/// getPartialRegUpdateClearance - Inform the ExeDepsFix pass how many idle</span></div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;<span class="comment">/// instructions we would like before a partial register update.</span></div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#ac4eea48cdd9677207d5cf8927f07116c">X86InstrInfo::</a></div><div class="line"><a name="l04089"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#ac4eea48cdd9677207d5cf8927f07116c"> 4089</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#ac4eea48cdd9677207d5cf8927f07116c">getPartialRegUpdateClearance</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> OpNum,</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  <span class="keywordflow">if</span> (OpNum != 0 || !<a class="code" href="X86InstrInfo_8cpp.html#a0ef58f66dc90ab0544e383f6de45b06f">hasPartialRegUpdate</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()))</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;  <span class="comment">// If MI is marked as reading Reg, the partial register update is wanted.</span></div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0);</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(Reg)) {</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">readsReg</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab129767be66f47c04b9b807292120bf3">readsVirtualRegister</a>(Reg))</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(Reg, TRI))</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;  }</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  <span class="comment">// If any of the preceding 16 instructions are reading Reg, insert a</span></div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;  <span class="comment">// dependency breaking instruction.  The magic number is based on a few</span></div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;  <span class="comment">// Nehalem experiments.</span></div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <span class="keywordflow">return</span> 16;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;}</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;<span class="comment">// Return true for any instruction the copies the high bits of the first source</span></div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;<span class="comment">// operand into the unused high bits of the destination operand.</span></div><div class="line"><a name="l04113"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#ad6b51e6c6e8c50519899c08852de236c"> 4113</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="X86InstrInfo_8cpp.html#ad6b51e6c6e8c50519899c08852de236c">hasUndefRegUpdate</a>(<span class="keywordtype">unsigned</span> Opcode) {</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSI2SSrr:</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;  <span class="keywordflow">case</span> X86::Int_VCVTSI2SSrr:</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSI2SS64rr:</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  <span class="keywordflow">case</span> X86::Int_VCVTSI2SS64rr:</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSI2SDrr:</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;  <span class="keywordflow">case</span> X86::Int_VCVTSI2SDrr:</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSI2SD64rr:</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;  <span class="keywordflow">case</span> X86::Int_VCVTSI2SD64rr:</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSD2SSrr:</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;  <span class="keywordflow">case</span> X86::Int_VCVTSD2SSrr:</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSS2SDrr:</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;  <span class="keywordflow">case</span> X86::Int_VCVTSS2SDrr:</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  <span class="keywordflow">case</span> X86::VRCPSSr:</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  <span class="keywordflow">case</span> X86::VROUNDSDr:</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <span class="keywordflow">case</span> X86::VROUNDSDr_Int:</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="keywordflow">case</span> X86::VROUNDSSr:</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="keywordflow">case</span> X86::VROUNDSSr_Int:</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;  <span class="keywordflow">case</span> X86::VRSQRTSSr:</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSSr:</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;  <span class="comment">// AVX-512</span></div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSD2SSZrr:</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;  <span class="keywordflow">case</span> X86::VCVTSS2SDZrr:</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;  }</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;}</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;<span class="comment">/// Inform the ExeDepsFix pass how many idle instructions we would like before</span></div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;<span class="comment">/// certain undef register reads.</span></div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;<span class="comment">/// This catches the VCVTSI2SD family of instructions:</span></div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;<span class="comment">/// vcvtsi2sdq %rax, %xmm0&lt;undef&gt;, %xmm14</span></div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;<span class="comment">/// We should to be careful *not* to catch VXOR idioms which are presumably</span></div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;<span class="comment">/// handled specially in the pipeline:</span></div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;<span class="comment">/// vxorps %xmm1&lt;undef&gt;, %xmm1&lt;undef&gt;, %xmm1</span></div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;<span class="comment">/// Like getPartialRegUpdateClearance, this makes a strong assumption that the</span></div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;<span class="comment">/// high bits that are passed-through are not live.</span></div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#af59f8508f31af6352894f90f9fcc6b40">X86InstrInfo::</a></div><div class="line"><a name="l04159"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#af59f8508f31af6352894f90f9fcc6b40"> 4159</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#af59f8508f31af6352894f90f9fcc6b40">getUndefRegClearance</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> &amp;OpNum,</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="X86InstrInfo_8cpp.html#ad6b51e6c6e8c50519899c08852de236c">hasUndefRegUpdate</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()))</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  <span class="comment">// Set the OpNum parameter to the first source operand.</span></div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;  OpNum = 1;</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OpNum);</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#afbf853e3a0de950e9116ffb9929ceebd">isUndef</a>() &amp;&amp; <a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())) {</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <span class="comment">// Use the same magic number as getPartialRegUpdateClearance.</span></div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    <span class="keywordflow">return</span> 16;</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  }</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;}</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#af8c8f8f28b8d38b863b1ffd65e086894">X86InstrInfo::</a></div><div class="line"><a name="l04176"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#af8c8f8f28b8d38b863b1ffd65e086894"> 4176</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#af8c8f8f28b8d38b863b1ffd65e086894">breakPartialRegDependency</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI, <span class="keywordtype">unsigned</span> OpNum,</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MI-&gt;getOperand(OpNum).getReg();</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <span class="comment">// If MI kills this register, the false dependence is already broken.</span></div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;killsRegister(Reg, TRI))</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;  <span class="keywordflow">if</span> (X86::VR128RegClass.contains(Reg)) {</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <span class="comment">// These instructions are all floating point domain, so xorps is the best</span></div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <span class="comment">// choice.</span></div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <span class="keywordtype">bool</span> HasAVX = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().hasAVX();</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    <span class="keywordtype">unsigned</span> Opc = HasAVX ? X86::VXORPSrr : X86::XORPSrr;</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MI-&gt;getParent(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, MI-&gt;getDebugLoc(), <span class="keyword">get</span>(Opc), Reg)</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>);</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86::VR256RegClass.contains(Reg)) {</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    <span class="comment">// Use vxorps to clear the full ymm register.</span></div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    <span class="comment">// It wants to read and write the xmm sub-register.</span></div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    <span class="keywordtype">unsigned</span> XReg = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">getSubReg</a>(Reg, X86::sub_xmm);</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MI-&gt;getParent(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, MI-&gt;getDebugLoc(), <span class="keyword">get</span>(X86::VXORPSrr), XReg)</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(XReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(XReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>)</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">addRegisterKilled</a>(Reg, TRI, <span class="keyword">true</span>);</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;}</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;</div><div class="line"><a name="l04201"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#ad4ec6a782e9699e2346610e40946fbb1"> 4201</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>* <a class="code" href="X86InstrInfo_8cpp.html#ad4ec6a782e9699e2346610e40946fbb1">foldPatchpoint</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;                                    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Ops,</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;                                    <span class="keywordtype">int</span> FrameIndex,</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  <span class="keywordtype">unsigned</span> StartIdx = 0;</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a4a927c0cc4c49f647732262cdd77f832">TargetOpcode::STACKMAP</a>:</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    StartIdx = 2; <span class="comment">// Skip ID, nShadowBytes.</span></div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8acd0cccd396f412a2f6eef00422b3106a">TargetOpcode::PATCHPOINT</a>: {</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <span class="comment">// For PatchPoint, the call args are not foldable.</span></div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;    <a class="code" href="classllvm_1_1PatchPointOpers.html">PatchPointOpers</a> opers(MI);</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    StartIdx = opers.<a class="code" href="classllvm_1_1PatchPointOpers.html#a43004c16f95d31f8f7f92ee69a0d2b37">getVarIdx</a>();</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  }</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unexpected stackmap opcode&quot;</span>);</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  }</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  <span class="comment">// Return false if any operands requested for folding are not foldable (not</span></div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  <span class="comment">// part of the stackmap&#39;s live values).</span></div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), E = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; StartIdx)</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;  }</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI =</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#af3607186e9eb9417ccb6c852aa8b83dd">CreateMachineInstr</a>(TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()), MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(MF, NewMI);</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;  <span class="comment">// No need to fold return, the meta data, and function arguments</span></div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; StartIdx; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = StartIdx; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="keywordflow">if</span> (std::find(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) != Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>()) {</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;      assert(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() &amp;&amp; <span class="stringliteral">&quot;patchpoint can only fold a vreg operand&quot;</span>);</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;      <span class="comment">// Compute the spill slot size and offset.</span></div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>());</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;      <span class="keywordtype">unsigned</span> SpillSize;</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;      <span class="keywordtype">unsigned</span> SpillOffset;</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      <span class="keywordtype">bool</span> Valid = TII.<a class="code" href="classllvm_1_1TargetInstrInfo.html#a202fa4e697f1ebd30bfe95d3ccbb2541">getStackSlotRange</a>(RC, MO.<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>(), SpillSize,</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;                                         SpillOffset, &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>());</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;      <span class="keywordflow">if</span> (!Valid)</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;        <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;cannot spill patchpoint subregister operand&quot;</span>);</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(<a class="code" href="classllvm_1_1StackMaps.html#a181f65d4a4da75240c4f105cf644fa1da8590171dd4cec9b967dbcf0bd167dbd9">StackMaps::IndirectMemRefOp</a>));</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(SpillSize));</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(<a class="code" href="classllvm_1_1MachineOperand.html#afda3f1971b3e44709267be818ffd3035">MachineOperand::CreateFI</a>(FrameIndex));</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;      <a class="code" href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">addOffset</a>(MIB, SpillOffset);</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    }</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MO);</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  }</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">return</span> NewMI;</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;}</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>*</div><div class="line"><a name="l04262"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42"> 4262</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">X86InstrInfo::foldMemoryOperandImpl</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Ops,</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;                                    <span class="keywordtype">int</span> FrameIndex)<span class="keyword"> const </span>{</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  <span class="comment">// Special case stack map and patch point intrinsics.</span></div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a4a927c0cc4c49f647732262cdd77f832">TargetOpcode::STACKMAP</a></div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;      || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8acd0cccd396f412a2f6eef00422b3106a">TargetOpcode::PATCHPOINT</a>) {</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#ad4ec6a782e9699e2346610e40946fbb1">foldPatchpoint</a>(MF, MI, Ops, FrameIndex, *<span class="keyword">this</span>);</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;  }</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;  <span class="comment">// Check switch flag</span></div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a0a26f2051d28a56b0132627dcb82c367">NoFusing</a>) <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;  <span class="comment">// Unless optimizing for size, don&#39;t fold to avoid partial</span></div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  <span class="comment">// register update stalls</span></div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;  <span class="keywordflow">if</span> (!MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;        hasAttribute(AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb">Attribute::OptimizeForSize</a>) &amp;&amp;</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;      <a class="code" href="X86InstrInfo_8cpp.html#a0ef58f66dc90ab0544e383f6de45b06f">hasPartialRegUpdate</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()))</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;  <span class="keywordtype">unsigned</span> Size = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(FrameIndex);</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">getObjectAlignment</a>(FrameIndex);</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;  <span class="comment">// If the function stack isn&#39;t realigned we don&#39;t want to fold instructions</span></div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  <span class="comment">// that need increased alignment.</span></div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;  <span class="keywordflow">if</span> (!RI.<a class="code" href="classllvm_1_1X86RegisterInfo.html#acfd0722e4669be2f7e16059679406d9f">needsStackRealignment</a>(MF))</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    Alignment = std::min(Alignment, TM.<a class="code" href="classllvm_1_1X86TargetMachine.html#a0f9e3271ccf39f4fdf00eb246e6ef5b3">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>());</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2 &amp;&amp; Ops[0] == 0 &amp;&amp; Ops[1] == 1) {</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = 0;</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    <span class="keywordtype">unsigned</span> RCSize = 0;</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    <span class="keywordflow">case</span> X86::TEST8rr:  NewOpc = X86::CMP8ri; RCSize = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;    <span class="keywordflow">case</span> X86::TEST16rr: NewOpc = X86::CMP16ri8; RCSize = 2; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    <span class="keywordflow">case</span> X86::TEST32rr: NewOpc = X86::CMP32ri8; RCSize = 4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    <span class="keywordflow">case</span> X86::TEST64rr: NewOpc = X86::CMP64ri8; RCSize = 8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;    }</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;    <span class="comment">// Check if it&#39;s safe to fold the load. If the size of the object is</span></div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    <span class="comment">// narrower than the load width, then it&#39;s not.</span></div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;    <span class="keywordflow">if</span> (Size &lt; RCSize)</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <span class="comment">// Change to CMPXXri r, 0 first.</span></div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(NewOpc));</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(0);</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() != 1)</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand,4&gt;</a> MOs;</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;  MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#afda3f1971b3e44709267be818ffd3035">MachineOperand::CreateFI</a>(FrameIndex));</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">foldMemoryOperandImpl</a>(MF, MI, Ops[0], MOs, Size, Alignment);</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;}</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;</div><div class="line"><a name="l04312"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#aa45d9cd17c255de0cc7e36c12e64ac7b"> 4312</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>* <a class="code" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">X86InstrInfo::foldMemoryOperandImpl</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;                                                  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Ops,</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;                                                  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LoadMI)<span class="keyword"> const </span>{</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  <span class="comment">// If loading from a FrameIndex, fold directly from the FrameIndex.</span></div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>;</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1X86InstrInfo.html#a35f60c7e0069e30dea70cd8c2664f971">isLoadFromStackSlot</a>(LoadMI, FrameIndex))</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">foldMemoryOperandImpl</a>(MF, MI, Ops, FrameIndex);</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  <span class="comment">// Check switch flag</span></div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a0a26f2051d28a56b0132627dcb82c367">NoFusing</a>) <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="comment">// Unless optimizing for size, don&#39;t fold to avoid partial</span></div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;  <span class="comment">// register update stalls</span></div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  <span class="keywordflow">if</span> (!MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;        hasAttribute(AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb">Attribute::OptimizeForSize</a>) &amp;&amp;</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;      <a class="code" href="X86InstrInfo_8cpp.html#a0ef58f66dc90ab0544e383f6de45b06f">hasPartialRegUpdate</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()))</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  <span class="comment">// Determine the alignment of the load.</span></div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = 0;</div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;  <span class="keywordflow">if</span> (LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>())</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;    Alignment = (*LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getAlignment();</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    <span class="keywordflow">switch</span> (LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    <span class="keywordflow">case</span> X86::AVX2_SETALLONES:</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;    <span class="keywordflow">case</span> X86::AVX_SET0:</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;      Alignment = 32;</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="keywordflow">case</span> X86::V_SET0:</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <span class="keywordflow">case</span> X86::V_SETALLONES:</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;      Alignment = 16;</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;    <span class="keywordflow">case</span> X86::FsFLD0SD:</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;      Alignment = 8;</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;    <span class="keywordflow">case</span> X86::FsFLD0SS:</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;      Alignment = 4;</div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;    }</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2 &amp;&amp; Ops[0] == 0 &amp;&amp; Ops[1] == 1) {</div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = 0;</div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;    <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    <span class="keywordflow">case</span> X86::TEST8rr:  NewOpc = X86::CMP8ri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;    <span class="keywordflow">case</span> X86::TEST16rr: NewOpc = X86::CMP16ri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <span class="keywordflow">case</span> X86::TEST32rr: NewOpc = X86::CMP32ri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    <span class="keywordflow">case</span> X86::TEST64rr: NewOpc = X86::CMP64ri8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    }</div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;    <span class="comment">// Change to CMPXXri r, 0 first.</span></div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(NewOpc));</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(0);</div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() != 1)</div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;</div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  <span class="comment">// Make sure the subregisters match.</span></div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;  <span class="comment">// Otherwise we risk changing the size of the load.</span></div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;  <span class="keywordflow">if</span> (LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() != MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Ops[0]).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>())</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand,X86::AddrNumOperands&gt;</a> MOs;</div><div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  <span class="keywordflow">switch</span> (LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;  <span class="keywordflow">case</span> X86::V_SET0:</div><div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;  <span class="keywordflow">case</span> X86::V_SETALLONES:</div><div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;  <span class="keywordflow">case</span> X86::AVX2_SETALLONES:</div><div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;  <span class="keywordflow">case</span> X86::AVX_SET0:</div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;  <span class="keywordflow">case</span> X86::FsFLD0SD:</div><div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;  <span class="keywordflow">case</span> X86::FsFLD0SS: {</div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;    <span class="comment">// Folding a V_SET0 or V_SETALLONES as a load, to ease register pressure.</span></div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;    <span class="comment">// Create a constant-pool entry and operands to load from it.</span></div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;</div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;    <span class="comment">// Medium and large mode can&#39;t fold loads this way.</span></div><div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#aa71c74c48947a705283eda33722cb0a5">getCodeModel</a>() != <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">CodeModel::Small</a> &amp;&amp;</div><div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;        TM.<a class="code" href="classllvm_1_1TargetMachine.html#aa71c74c48947a705283eda33722cb0a5">getCodeModel</a>() != <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa6a2e45ae404e3f797d2d7e9f3a48949">CodeModel::Kernel</a>)</div><div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;</div><div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;    <span class="comment">// x86-32 PIC requires a PIC base register for constant pools.</span></div><div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;    <span class="keywordtype">unsigned</span> PICBase = 0;</div><div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">getRelocationModel</a>() == <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">Reloc::PIC_</a>) {</div><div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;      <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        PICBase = X86::RIP;</div><div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        <span class="comment">// FIXME: PICBase = getGlobalBaseReg(&amp;MF);</span></div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;        <span class="comment">// This doesn&#39;t work for several reasons.</span></div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;        <span class="comment">// 1. GlobalBaseReg may have been spilled.</span></div><div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;        <span class="comment">// 2. It may not be live at MI.</span></div><div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    }</div><div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;</div><div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;    <span class="comment">// Create a constant-pool entry.</span></div><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;    <a class="code" href="classllvm_1_1MachineConstantPool.html">MachineConstantPool</a> &amp;MCP = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">getConstantPool</a>();</div><div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty;</div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;    <span class="keywordtype">unsigned</span> Opc = LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;    <span class="keywordflow">if</span> (Opc == X86::FsFLD0SS)</div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;      Ty = <a class="code" href="classllvm_1_1Type.html#ad5e0fe0efdd88f98a5b5eb512d5351c2">Type::getFloatTy</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>());</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opc == X86::FsFLD0SD)</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;      Ty = <a class="code" href="classllvm_1_1Type.html#acb145f988329d1d621f73abcafea21d8">Type::getDoubleTy</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>());</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opc == X86::AVX2_SETALLONES || Opc == X86::AVX_SET0)</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;      Ty = <a class="code" href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">VectorType::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>()), 8);</div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;      Ty = <a class="code" href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">VectorType::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>()), 4);</div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;    <span class="keywordtype">bool</span> IsAllOnes = (Opc == X86::V_SETALLONES || Opc == X86::AVX2_SETALLONES);</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = IsAllOnes ? <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Ty) :</div><div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;                                    <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Ty);</div><div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;    <span class="keywordtype">unsigned</span> CPI = MCP.<a class="code" href="classllvm_1_1MachineConstantPool.html#ad9e4b5817af07b8be3f3ccf9d08df771">getConstantPoolIndex</a>(C, Alignment);</div><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    <span class="comment">// Create operands to load from the constant pool entry.</span></div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(PICBase, <span class="keyword">false</span>));</div><div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;    MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">MachineOperand::CreateImm</a>(1));</div><div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>));</div><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;    MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#adbff02335819babfcc96551f5933f698">MachineOperand::CreateCPI</a>(CPI, 0));</div><div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>));</div><div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;  }</div><div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;  <span class="keywordflow">default</span>: {</div><div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <span class="keywordflow">if</span> ((LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::MOVSSrm ||</div><div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;         LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::VMOVSSrm) &amp;&amp;</div><div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;        MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())-&gt;getSize()</div><div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;          &gt; 4)</div><div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;      <span class="comment">// These instructions only load 32 bits, we can&#39;t fold them if the</span></div><div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;      <span class="comment">// destination register is wider than 32 bits (4 bytes).</span></div><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    <span class="keywordflow">if</span> ((LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::MOVSDrm ||</div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;         LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == X86::VMOVSDrm) &amp;&amp;</div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())-&gt;getSize()</div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;          &gt; 8)</div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;      <span class="comment">// These instructions only load 64 bits, we can&#39;t fold them if the</span></div><div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;      <span class="comment">// destination register is wider than 64 bits (8 bytes).</span></div><div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;</div><div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    <span class="comment">// Folding a normal load. Just copy the load&#39;s address operands.</span></div><div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NumOps - <a class="code" href="namespacellvm_1_1X86.html#a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691">X86::AddrNumOperands</a>; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;      MOs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(LoadMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;  }</div><div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;  }</div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">foldMemoryOperandImpl</a>(MF, MI, Ops[0], MOs, 0, Alignment);</div><div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;}</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;</div><div class="line"><a name="l04456"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a1f1def21af93ffb4e95a6771fbc7e32d"> 4456</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a1f1def21af93ffb4e95a6771fbc7e32d">X86InstrInfo::canFoldMemoryOperand</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Ops)<span class="keyword"> const </span>{</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;  <span class="comment">// Check switch flag</span></div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="X86InstrInfo_8cpp.html#a0a26f2051d28a56b0132627dcb82c367">NoFusing</a>) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;</div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2 &amp;&amp; Ops[0] == 0 &amp;&amp; Ops[1] == 1) {</div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;    <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    <span class="keywordflow">case</span> X86::TEST8rr:</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <span class="keywordflow">case</span> X86::TEST16rr:</div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    <span class="keywordflow">case</span> X86::TEST32rr:</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <span class="keywordflow">case</span> X86::TEST64rr:</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    <span class="keywordflow">case</span> X86::ADD32ri:</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;      <span class="comment">// FIXME: AsmPrinter doesn&#39;t know how to handle</span></div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;      <span class="comment">// X86II::MO_GOT_ABSOLUTE_ADDRESS after folding.</span></div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;      <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a91aa25eac8330cdbab5f7f12fb29359d">getTargetFlags</a>() == <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84a5364e197f6bba28989699b6040ce96ca">X86II::MO_GOT_ABSOLUTE_ADDRESS</a>)</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;    }</div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;  }</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;</div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() != 1)</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;  <span class="keywordtype">unsigned</span> OpNum = Ops[0];</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;  <span class="keywordtype">unsigned</span> Opc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;  <span class="keywordtype">bool</span> isTwoAddr = NumOps &gt; 1 &amp;&amp;</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a406bec242e875c065e0e575effe4c339">getOperandConstraint</a>(1, <a class="code" href="namespacellvm_1_1MCOI.html#aaa8eb58fd1b8466eb64a43df890cb8c1ae01b27a05209c02ca1bdb5a6033731fb">MCOI::TIED_TO</a>) != -1;</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;  <span class="comment">// Folding a memory location into the two-address part of a two-address</span></div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  <span class="comment">// instruction is different than folding it other places.  It requires</span></div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;  <span class="comment">// replacing the *two* registers with the memory location.</span></div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, std::pair&lt;unsigned,unsigned&gt;</a> &gt; *OpcodeTablePtr = 0;</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;  <span class="keywordflow">if</span> (isTwoAddr &amp;&amp; NumOps &gt;= 2 &amp;&amp; OpNum &lt; 2) {</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable2Addr;</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpNum == 0) { <span class="comment">// If operand 0</span></div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;    <span class="keywordflow">if</span> (Opc == X86::MOV32r0)</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable0;</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpNum == 1) {</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable1;</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpNum == 2) {</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable2;</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpNum == 3) {</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    OpcodeTablePtr = &amp;RegOp2MemOpTable3;</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;  }</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;  <span class="keywordflow">if</span> (OpcodeTablePtr &amp;&amp; OpcodeTablePtr-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(Opc))</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#aeb6ba41f9800599d5b5ca678db61ca2f">TargetInstrInfo::canFoldMemoryOperand</a>(MI, Ops);</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;}</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;</div><div class="line"><a name="l04511"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#af8fd8b13de89bef8f28710f5b3125c29"> 4511</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#af8fd8b13de89bef8f28710f5b3125c29">X86InstrInfo::unfoldMemoryOperand</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;                                <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>, <span class="keywordtype">bool</span> UnfoldLoad, <span class="keywordtype">bool</span> UnfoldStore,</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;                                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr*&gt;</a> &amp;NewMIs)<span class="keyword"> const </span>{</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, std::pair&lt;unsigned,unsigned&gt;</a> &gt;::const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    MemOp2RegOpTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;  <span class="keywordflow">if</span> (I == MemOp2RegOpTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>())</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;  <span class="keywordtype">unsigned</span> Opc = I-&gt;second.first;</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  <span class="keywordtype">unsigned</span> Index = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa50834daab82c1c30f6384a13a4680127">TB_INDEX_MASK</a>;</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;  <span class="keywordtype">bool</span> FoldedLoad = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a>;</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;  <span class="keywordtype">bool</span> FoldedStore = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">TB_FOLDED_STORE</a>;</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;  <span class="keywordflow">if</span> (UnfoldLoad &amp;&amp; !FoldedLoad)</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;  UnfoldLoad &amp;= FoldedLoad;</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;  <span class="keywordflow">if</span> (UnfoldStore &amp;&amp; !FoldedStore)</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  UnfoldStore &amp;= FoldedStore;</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = <span class="keyword">get</span>(Opc);</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = getRegClass(MCID, Index, &amp;RI, MF);</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>() &amp;&amp;</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;      RC == &amp;X86::VR128RegClass &amp;&amp;</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;      !TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().isUnalignedMemAccessFast())</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;    <span class="comment">// Without memoperands, loadRegFromAddr and storeRegToStackSlot will</span></div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    <span class="comment">// conservatively assume the address is unaligned. That&#39;s bad for</span></div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    <span class="comment">// performance.</span></div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, X86::AddrNumOperands&gt;</a> AddrOps;</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand,2&gt;</a> BeforeOps;</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand,2&gt;</a> AfterOps;</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand,4&gt;</a> ImpOps;</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Op = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= Index &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Index + <a class="code" href="namespacellvm_1_1X86.html#a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691">X86::AddrNumOperands</a>)</div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;      AddrOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Op);</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; Op.<a class="code" href="classllvm_1_1MachineOperand.html#a40a5d6e03f5bfd15839355a7c39ab3a0">isImplicit</a>())</div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;      ImpOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Op);</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Index)</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;      BeforeOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Op);</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; Index)</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;      AfterOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Op);</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;  }</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;  <span class="comment">// Emit the load instruction.</span></div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;  <span class="keywordflow">if</span> (UnfoldLoad) {</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;    std::pair&lt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b51cead9f721fa804fb14a9ae926683">MachineInstr::mmo_iterator</a>,</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;              MachineInstr::mmo_iterator&gt; MMOs =</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab3382de7890daac48bc575e4da5886bf">extractLoadMemRefs</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>(),</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;                            MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">memoperands_end</a>());</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;    <a class="code" href="classllvm_1_1X86InstrInfo.html#a83521d375ab6fa527d0b6106664ca029">loadRegFromAddr</a>(MF, Reg, AddrOps, RC, MMOs.first, MMOs.second, NewMIs);</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;    <span class="keywordflow">if</span> (UnfoldStore) {</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;      <span class="comment">// Address operands cannot be marked isKill.</span></div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 1 + <a class="code" href="namespacellvm_1_1X86.html#a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691">X86::AddrNumOperands</a>; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;        <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = NewMIs[0]-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>())</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;          MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;      }</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    }</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;  }</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;</div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  <span class="comment">// Emit the data processing instruction.</span></div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DataMI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#af3607186e9eb9417ccb6c852aa8b83dd">CreateMachineInstr</a>(MCID, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(MF, DataMI);</div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;  <span class="keywordflow">if</span> (FoldedStore)</div><div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = BeforeOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(BeforeOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;  <span class="keywordflow">if</span> (FoldedLoad)</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg);</div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = AfterOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(AfterOps[i]);</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = ImpOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = ImpOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(),</div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;               <a class="code" href="namespacellvm.html#aa5e4d7acf58e87826a15b94d37144f2b">getDefRegState</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>()) |</div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;               <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> |</div><div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;               <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>()) |</div><div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;               <a class="code" href="namespacellvm.html#a3dd7c56278c84a39f699241bdaade2ee">getDeadRegState</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>()) |</div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;               <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#afbf853e3a0de950e9116ffb9929ceebd">isUndef</a>()));</div><div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;  }</div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;  <span class="comment">// Change CMP32ri r, 0 back to TEST32rr r, r, etc.</span></div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;  <span class="keywordflow">switch</span> (DataMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;  <span class="keywordflow">case</span> X86::CMP64ri32:</div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;  <span class="keywordflow">case</span> X86::CMP64ri8:</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;  <span class="keywordflow">case</span> X86::CMP32ri:</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;  <span class="keywordflow">case</span> X86::CMP32ri8:</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;  <span class="keywordflow">case</span> X86::CMP16ri:</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;  <span class="keywordflow">case</span> X86::CMP16ri8:</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;  <span class="keywordflow">case</span> X86::CMP8ri: {</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO0 = DataMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0);</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO1 = DataMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1);</div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;    <span class="keywordflow">if</span> (MO1.<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 0) {</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;      <span class="keywordtype">unsigned</span> NewOpc;</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;      <span class="keywordflow">switch</span> (DataMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;      <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unreachable!&quot;</span>);</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;      <span class="keywordflow">case</span> X86::CMP64ri8:</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;      <span class="keywordflow">case</span> X86::CMP64ri32: NewOpc = X86::TEST64rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;      <span class="keywordflow">case</span> X86::CMP32ri8:</div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;      <span class="keywordflow">case</span> X86::CMP32ri:   NewOpc = X86::TEST32rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      <span class="keywordflow">case</span> X86::CMP16ri8:</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;      <span class="keywordflow">case</span> X86::CMP16ri:   NewOpc = X86::TEST16rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;      <span class="keywordflow">case</span> X86::CMP8ri:    NewOpc = X86::TEST8rr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;      }</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;      DataMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(NewOpc));</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      MO1.<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(MO0.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <span class="keyword">false</span>);</div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;    }</div><div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;  }</div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;  }</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;  NewMIs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DataMI);</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;</div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;  <span class="comment">// Emit the store instruction.</span></div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;  <span class="keywordflow">if</span> (UnfoldStore) {</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC = getRegClass(MCID, 0, &amp;RI, MF);</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    std::pair&lt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b51cead9f721fa804fb14a9ae926683">MachineInstr::mmo_iterator</a>,</div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;              MachineInstr::mmo_iterator&gt; MMOs =</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#a5a863824ff0b77fc42d329b2e9e87f14">extractStoreMemRefs</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>(),</div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;                             MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">memoperands_end</a>());</div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;    <a class="code" href="classllvm_1_1X86InstrInfo.html#a655f4e255237fb10af91f7ebb4e73633">storeRegToAddr</a>(MF, Reg, <span class="keyword">true</span>, AddrOps, DstRC, MMOs.first, MMOs.second, NewMIs);</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;  }</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;}</div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l04637"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a033764b8c12d473448c46e8e33e084f2"> 4637</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#af8fd8b13de89bef8f28710f5b3125c29">X86InstrInfo::unfoldMemoryOperand</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDNode*&gt;</a> &amp;NewNodes)<span class="keyword"> const </span>{</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <span class="keywordflow">if</span> (!N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>())</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, std::pair&lt;unsigned,unsigned&gt;</a> &gt;::const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;    MemOp2RegOpTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>());</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;  <span class="keywordflow">if</span> (I == MemOp2RegOpTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>())</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;  <span class="keywordtype">unsigned</span> Opc = I-&gt;second.first;</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;  <span class="keywordtype">unsigned</span> Index = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa50834daab82c1c30f6384a13a4680127">TB_INDEX_MASK</a>;</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;  <span class="keywordtype">bool</span> FoldedLoad = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a>;</div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;  <span class="keywordtype">bool</span> FoldedStore = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">TB_FOLDED_STORE</a>;</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = <span class="keyword">get</span>(Opc);</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = getRegClass(MCID, Index, &amp;RI, MF);</div><div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;  <span class="keywordtype">unsigned</span> NumDefs = MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a0cc1de9217edcb8e7aff85bc7916ec03">NumDefs</a>;</div><div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;  std::vector&lt;SDValue&gt; AddrOps;</div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;  std::vector&lt;SDValue&gt; BeforeOps;</div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;  std::vector&lt;SDValue&gt; AfterOps;</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>();</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumOps-1; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= Index-NumDefs &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Index-NumDefs + <a class="code" href="namespacellvm_1_1X86.html#a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691">X86::AddrNumOperands</a>)</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      AddrOps.push_back(Op);</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Index-NumDefs)</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;      BeforeOps.push_back(Op);</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; Index-NumDefs)</div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;      AfterOps.push_back(Op);</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;  }</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(NumOps-1);</div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  AddrOps.push_back(Chain);</div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;</div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;  <span class="comment">// Emit the load instruction.</span></div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = 0;</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;  <span class="keywordflow">if</span> (FoldedLoad) {</div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = *RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#af2ed3490fe47d88ef2d7f3edce4bf113">vt_begin</a>();</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    std::pair&lt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b51cead9f721fa804fb14a9ae926683">MachineInstr::mmo_iterator</a>,</div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;              MachineInstr::mmo_iterator&gt; MMOs =</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab3382de7890daac48bc575e4da5886bf">extractLoadMemRefs</a>(cast&lt;MachineSDNode&gt;(N)-&gt;memoperands_begin(),</div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;                            cast&lt;MachineSDNode&gt;(N)-&gt;memoperands_end());</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    <span class="keywordflow">if</span> (!(*MMOs.first) &amp;&amp;</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;        RC == &amp;X86::VR128RegClass &amp;&amp;</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;        !TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a29763a3c587afc22e112eea9a493089e">isUnalignedMemAccessFast</a>())</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;      <span class="comment">// Do not introduce a slow unaligned load.</span></div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    <span class="keywordtype">unsigned</span> Alignment = RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>() == 32 ? 32 : 16;</div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;    <span class="keywordtype">bool</span> isAligned = (*MMOs.first) &amp;&amp;</div><div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;                     (*MMOs.first)-&gt;getAlignment() &gt;= Alignment;</div><div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;    Load = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#afe8c553ab3418eec718860c098c6e080">getMachineNode</a>(<a class="code" href="X86InstrInfo_8cpp.html#aa3951764de469a7f4e532520e6bda6a2">getLoadRegOpcode</a>(0, RC, isAligned, TM), dl,</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;                              VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, AddrOps);</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;    NewNodes.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load);</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;    <span class="comment">// Preserve memory reference information.</span></div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;    cast&lt;MachineSDNode&gt;(<a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a>)-&gt;setMemRefs(MMOs.first, MMOs.second);</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;  }</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;  <span class="comment">// Emit the data processing instruction.</span></div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;  std::vector&lt;EVT&gt; VTs;</div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *DstRC = 0;</div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;  <span class="keywordflow">if</span> (MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9d472a8ee447cef18a71beb229d4d252">getNumDefs</a>() &gt; 0) {</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;    DstRC = getRegClass(MCID, 0, &amp;RI, MF);</div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;    VTs.push_back(*DstRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#af2ed3490fe47d88ef2d7f3edce4bf113">vt_begin</a>());</div><div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;  }</div><div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#ab319fc51db27ec95fd50a910c7ccec94">getNumValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;    <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a> &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= (<span class="keywordtype">unsigned</span>)MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9d472a8ee447cef18a71beb229d4d252">getNumDefs</a>())</div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;      VTs.push_back(VT);</div><div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;  }</div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;  <span class="keywordflow">if</span> (Load)</div><div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    BeforeOps.push_back(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Load, 0));</div><div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;  std::copy(AfterOps.begin(), AfterOps.end(), std::back_inserter(BeforeOps));</div><div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *NewNode= DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#afe8c553ab3418eec718860c098c6e080">getMachineNode</a>(Opc, dl, VTs, BeforeOps);</div><div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;  NewNodes.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(NewNode);</div><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;</div><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;  <span class="comment">// Emit the store instruction.</span></div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;  <span class="keywordflow">if</span> (FoldedStore) {</div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    AddrOps.pop_back();</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;    AddrOps.push_back(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(NewNode, 0));</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    AddrOps.push_back(Chain);</div><div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;    std::pair&lt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b51cead9f721fa804fb14a9ae926683">MachineInstr::mmo_iterator</a>,</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;              MachineInstr::mmo_iterator&gt; MMOs =</div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#a5a863824ff0b77fc42d329b2e9e87f14">extractStoreMemRefs</a>(cast&lt;MachineSDNode&gt;(N)-&gt;memoperands_begin(),</div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;                             cast&lt;MachineSDNode&gt;(N)-&gt;memoperands_end());</div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    <span class="keywordflow">if</span> (!(*MMOs.first) &amp;&amp;</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;        RC == &amp;X86::VR128RegClass &amp;&amp;</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;        !TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a29763a3c587afc22e112eea9a493089e">isUnalignedMemAccessFast</a>())</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;      <span class="comment">// Do not introduce a slow unaligned store.</span></div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;    <span class="keywordtype">unsigned</span> Alignment = RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>() == 32 ? 32 : 16;</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;    <span class="keywordtype">bool</span> isAligned = (*MMOs.first) &amp;&amp;</div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;                     (*MMOs.first)-&gt;getAlignment() &gt;= Alignment;</div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#afe8c553ab3418eec718860c098c6e080">getMachineNode</a>(<a class="code" href="X86InstrInfo_8cpp.html#a8151c052fa152944ef1e8d7add90db76">getStoreRegOpcode</a>(0, DstRC,</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;                                                         isAligned, TM),</div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;                                       dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, AddrOps);</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    NewNodes.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;    <span class="comment">// Preserve memory reference information.</span></div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    cast&lt;MachineSDNode&gt;(<a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a>)-&gt;setMemRefs(MMOs.first, MMOs.second);</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;  }</div><div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;</div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;}</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;</div><div class="line"><a name="l04742"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a89bece9d4515f2524c81cbf6229b3f0f"> 4742</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a89bece9d4515f2524c81cbf6229b3f0f">X86InstrInfo::getOpcodeAfterMemoryUnfold</a>(<span class="keywordtype">unsigned</span> Opc,</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;                                      <span class="keywordtype">bool</span> UnfoldLoad, <span class="keywordtype">bool</span> UnfoldStore,</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;                                      <span class="keywordtype">unsigned</span> *LoadRegIndex)<span class="keyword"> const </span>{</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, std::pair&lt;unsigned,unsigned&gt;</a> &gt;::const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    MemOp2RegOpTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(Opc);</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  <span class="keywordflow">if</span> (I == MemOp2RegOpTable.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>())</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  <span class="keywordtype">bool</span> FoldedLoad = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a>;</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;  <span class="keywordtype">bool</span> FoldedStore = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">TB_FOLDED_STORE</a>;</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;  <span class="keywordflow">if</span> (UnfoldLoad &amp;&amp; !FoldedLoad)</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;  <span class="keywordflow">if</span> (UnfoldStore &amp;&amp; !FoldedStore)</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;  <span class="keywordflow">if</span> (LoadRegIndex)</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;    *LoadRegIndex = I-&gt;second.second &amp; <a class="code" href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa50834daab82c1c30f6384a13a4680127">TB_INDEX_MASK</a>;</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;  <span class="keywordflow">return</span> I-&gt;second.first;</div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;}</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;</div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l04761"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a40eb675b7ad895a18268bc092a71aabf"> 4761</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a40eb675b7ad895a18268bc092a71aabf">X86InstrInfo::areLoadsFromSameBasePtr</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load1, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load2,</div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;                                     int64_t &amp;Offset1, int64_t &amp;Offset2)<span class="keyword"> const </span>{</div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;  <span class="keywordflow">if</span> (!Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>() || !Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>())</div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;  <span class="keywordtype">unsigned</span> Opc1 = Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>();</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;  <span class="keywordtype">unsigned</span> Opc2 = Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>();</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;  <span class="keywordflow">switch</span> (Opc1) {</div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;  <span class="keywordflow">case</span> X86::MOV8rm:</div><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;  <span class="keywordflow">case</span> X86::MOV16rm:</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;  <span class="keywordflow">case</span> X86::MOV32rm:</div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;  <span class="keywordflow">case</span> X86::MOV64rm:</div><div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp32m:</div><div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp64m:</div><div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp80m:</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;  <span class="keywordflow">case</span> X86::MOVSSrm:</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  <span class="keywordflow">case</span> X86::MOVSDrm:</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVD64rm:</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVQ64rm:</div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;  <span class="keywordflow">case</span> X86::FsMOVAPSrm:</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;  <span class="keywordflow">case</span> X86::FsMOVAPDrm:</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPSrm:</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;  <span class="keywordflow">case</span> X86::MOVUPSrm:</div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPDrm:</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQArm:</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQUrm:</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;  <span class="comment">// AVX load instructions</span></div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSSrm:</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSDrm:</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;  <span class="keywordflow">case</span> X86::FsVMOVAPSrm:</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  <span class="keywordflow">case</span> X86::FsVMOVAPDrm:</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSrm:</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  <span class="keywordflow">case</span> X86::VMOVUPSrm:</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDrm:</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQArm:</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQUrm:</div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSYrm:</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;  <span class="keywordflow">case</span> X86::VMOVUPSYrm:</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDYrm:</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQAYrm:</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQUYrm:</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;  }</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;  <span class="keywordflow">switch</span> (Opc2) {</div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;  <span class="keywordflow">case</span> X86::MOV8rm:</div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;  <span class="keywordflow">case</span> X86::MOV16rm:</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;  <span class="keywordflow">case</span> X86::MOV32rm:</div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;  <span class="keywordflow">case</span> X86::MOV64rm:</div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp32m:</div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp64m:</div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp80m:</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;  <span class="keywordflow">case</span> X86::MOVSSrm:</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;  <span class="keywordflow">case</span> X86::MOVSDrm:</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVD64rm:</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVQ64rm:</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;  <span class="keywordflow">case</span> X86::FsMOVAPSrm:</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;  <span class="keywordflow">case</span> X86::FsMOVAPDrm:</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPSrm:</div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  <span class="keywordflow">case</span> X86::MOVUPSrm:</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;  <span class="keywordflow">case</span> X86::MOVAPDrm:</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQArm:</div><div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  <span class="keywordflow">case</span> X86::MOVDQUrm:</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <span class="comment">// AVX load instructions</span></div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSSrm:</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  <span class="keywordflow">case</span> X86::VMOVSDrm:</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;  <span class="keywordflow">case</span> X86::FsVMOVAPSrm:</div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;  <span class="keywordflow">case</span> X86::FsVMOVAPDrm:</div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSrm:</div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <span class="keywordflow">case</span> X86::VMOVUPSrm:</div><div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDrm:</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQArm:</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQUrm:</div><div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPSYrm:</div><div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;  <span class="keywordflow">case</span> X86::VMOVUPSYrm:</div><div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;  <span class="keywordflow">case</span> X86::VMOVAPDYrm:</div><div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQAYrm:</div><div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;  <span class="keywordflow">case</span> X86::VMOVDQUYrm:</div><div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;  }</div><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  <span class="comment">// Check if chain operands and base addresses match.</span></div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  <span class="keywordflow">if</span> (Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0) != Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0) ||</div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;      Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(5) != Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(5))</div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;  <span class="comment">// Segment operands should match as well.</span></div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;  <span class="keywordflow">if</span> (Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4) != Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4))</div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <span class="comment">// Scale should be 1, Index should be Reg0.</span></div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  <span class="keywordflow">if</span> (Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1) == Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1) &amp;&amp;</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;      Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2) == Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2)) {</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    <span class="keywordflow">if</span> (cast&lt;ConstantSDNode&gt;(Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;getZExtValue() != 1)</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    <span class="comment">// Now let&#39;s examine the displacements.</span></div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantSDNode&gt;(Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3)) &amp;&amp;</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;        isa&lt;ConstantSDNode&gt;(Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3))) {</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;      Offset1 = cast&lt;ConstantSDNode&gt;(Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3))-&gt;getSExtValue();</div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;      Offset2 = cast&lt;ConstantSDNode&gt;(Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3))-&gt;getSExtValue();</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;    }</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;  }</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;}</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;</div><div class="line"><a name="l04866"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#aecc033202cd7b81b45599f488607fa93"> 4866</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#aecc033202cd7b81b45599f488607fa93">X86InstrInfo::shouldScheduleLoadsNear</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load1, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load2,</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;                                           int64_t Offset1, int64_t Offset2,</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;                                           <span class="keywordtype">unsigned</span> NumLoads)<span class="keyword"> const </span>{</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  assert(Offset2 &gt; Offset1);</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;  <span class="keywordflow">if</span> ((Offset2 - Offset1) / 8 &gt; 64)</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <span class="keywordtype">unsigned</span> Opc1 = Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>();</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  <span class="keywordtype">unsigned</span> Opc2 = Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>();</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;  <span class="keywordflow">if</span> (Opc1 != Opc2)</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// FIXME: overly conservative?</span></div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;</div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;  <span class="keywordflow">switch</span> (Opc1) {</div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp32m:</div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp64m:</div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;  <span class="keywordflow">case</span> X86::LD_Fp80m:</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVD64rm:</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;  <span class="keywordflow">case</span> X86::MMX_MOVQ64rm:</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  }</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;    <span class="comment">// XMM registers. In 64-bit mode we can be a bit more aggressive since we</span></div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;    <span class="comment">// have 16 of them to play with.</span></div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1X86TargetMachine.html#a1d7b0c92b19bd1374ae80477ca874189">getSubtargetImpl</a>()-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>()) {</div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;      <span class="keywordflow">if</span> (NumLoads &gt;= 3)</div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NumLoads) {</div><div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    }</div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:</div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;    <span class="keywordflow">if</span> (NumLoads)</div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;  }</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;</div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;}</div><div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;</div><div class="line"><a name="l04914"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#aebe0f40b30c8ee9944128df55bee108a"> 4914</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#aebe0f40b30c8ee9944128df55bee108a">X86InstrInfo::shouldScheduleAdjacent</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a>* <a class="code" href="Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a>,</div><div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;                                          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Second)<span class="keyword"> const </span>{</div><div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;  <span class="comment">// Check if this processor supports macro-fusion. Since this is a minor</span></div><div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;  <span class="comment">// heuristic, we haven&#39;t specifically reserved a feature. hasAVX is a decent</span></div><div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;  <span class="comment">// proxy for SandyBridge+.</span></div><div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;  <span class="keywordflow">if</span> (!TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>())</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    FuseTest,</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;    FuseCmp,</div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;    FuseInc</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;  } FuseKind;</div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;</div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;  <span class="keywordflow">switch</span>(Second-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;  <span class="keywordflow">case</span> X86::JE_4:</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;  <span class="keywordflow">case</span> X86::JNE_4:</div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;  <span class="keywordflow">case</span> X86::JL_4:</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;  <span class="keywordflow">case</span> X86::JLE_4:</div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;  <span class="keywordflow">case</span> X86::JG_4:</div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;  <span class="keywordflow">case</span> X86::JGE_4:</div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;    FuseKind = FuseInc;</div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;  <span class="keywordflow">case</span> X86::JB_4:</div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;  <span class="keywordflow">case</span> X86::JBE_4:</div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;  <span class="keywordflow">case</span> X86::JA_4:</div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;  <span class="keywordflow">case</span> X86::JAE_4:</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;    FuseKind = FuseCmp;</div><div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;  <span class="keywordflow">case</span> X86::JS_4:</div><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;  <span class="keywordflow">case</span> X86::JNS_4:</div><div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;  <span class="keywordflow">case</span> X86::JP_4:</div><div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;  <span class="keywordflow">case</span> X86::JNP_4:</div><div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;  <span class="keywordflow">case</span> X86::JO_4:</div><div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;  <span class="keywordflow">case</span> X86::JNO_4:</div><div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    FuseKind = FuseTest;</div><div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;  }</div><div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;  <span class="keywordflow">switch</span> (First-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;  <span class="keywordflow">case</span> X86::TEST8rr:</div><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;  <span class="keywordflow">case</span> X86::TEST16rr:</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;  <span class="keywordflow">case</span> X86::TEST32rr:</div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;  <span class="keywordflow">case</span> X86::TEST64rr:</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;  <span class="keywordflow">case</span> X86::TEST8ri:</div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;  <span class="keywordflow">case</span> X86::TEST16ri:</div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;  <span class="keywordflow">case</span> X86::TEST32ri:</div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;  <span class="keywordflow">case</span> X86::TEST32i32:</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;  <span class="keywordflow">case</span> X86::TEST64i32:</div><div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;  <span class="keywordflow">case</span> X86::TEST64ri32:</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;  <span class="keywordflow">case</span> X86::TEST8rm:</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;  <span class="keywordflow">case</span> X86::TEST16rm:</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;  <span class="keywordflow">case</span> X86::TEST32rm:</div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;  <span class="keywordflow">case</span> X86::TEST64rm:</div><div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  <span class="keywordflow">case</span> X86::AND16i16:</div><div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;  <span class="keywordflow">case</span> X86::AND16ri:</div><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;  <span class="keywordflow">case</span> X86::AND16ri8:</div><div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;  <span class="keywordflow">case</span> X86::AND16rm:</div><div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;  <span class="keywordflow">case</span> X86::AND16rr:</div><div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;  <span class="keywordflow">case</span> X86::AND32i32:</div><div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;  <span class="keywordflow">case</span> X86::AND32ri:</div><div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <span class="keywordflow">case</span> X86::AND32ri8:</div><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;  <span class="keywordflow">case</span> X86::AND32rm:</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;  <span class="keywordflow">case</span> X86::AND32rr:</div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;  <span class="keywordflow">case</span> X86::AND64i32:</div><div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="keywordflow">case</span> X86::AND64ri32:</div><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;  <span class="keywordflow">case</span> X86::AND64ri8:</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;  <span class="keywordflow">case</span> X86::AND64rm:</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  <span class="keywordflow">case</span> X86::AND64rr:</div><div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  <span class="keywordflow">case</span> X86::AND8i8:</div><div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;  <span class="keywordflow">case</span> X86::AND8ri:</div><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;  <span class="keywordflow">case</span> X86::AND8rm:</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;  <span class="keywordflow">case</span> X86::AND8rr:</div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;  <span class="keywordflow">case</span> X86::CMP16i16:</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  <span class="keywordflow">case</span> X86::CMP16ri:</div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;  <span class="keywordflow">case</span> X86::CMP16ri8:</div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;  <span class="keywordflow">case</span> X86::CMP16rm:</div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;  <span class="keywordflow">case</span> X86::CMP16rr:</div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;  <span class="keywordflow">case</span> X86::CMP32i32:</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;  <span class="keywordflow">case</span> X86::CMP32ri:</div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;  <span class="keywordflow">case</span> X86::CMP32ri8:</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;  <span class="keywordflow">case</span> X86::CMP32rm:</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  <span class="keywordflow">case</span> X86::CMP32rr:</div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;  <span class="keywordflow">case</span> X86::CMP64i32:</div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;  <span class="keywordflow">case</span> X86::CMP64ri32:</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  <span class="keywordflow">case</span> X86::CMP64ri8:</div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;  <span class="keywordflow">case</span> X86::CMP64rm:</div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;  <span class="keywordflow">case</span> X86::CMP64rr:</div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;  <span class="keywordflow">case</span> X86::CMP8i8:</div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;  <span class="keywordflow">case</span> X86::CMP8ri:</div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;  <span class="keywordflow">case</span> X86::CMP8rm:</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;  <span class="keywordflow">case</span> X86::CMP8rr:</div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;  <span class="keywordflow">case</span> X86::ADD16i16:</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri:</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri8:</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri8_DB:</div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;  <span class="keywordflow">case</span> X86::ADD16ri_DB:</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;  <span class="keywordflow">case</span> X86::ADD16rm:</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;  <span class="keywordflow">case</span> X86::ADD16rr:</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;  <span class="keywordflow">case</span> X86::ADD16rr_DB:</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;  <span class="keywordflow">case</span> X86::ADD32i32:</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;  <span class="keywordflow">case</span> X86::ADD32ri:</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;  <span class="keywordflow">case</span> X86::ADD32ri8:</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;  <span class="keywordflow">case</span> X86::ADD32ri8_DB:</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;  <span class="keywordflow">case</span> X86::ADD32ri_DB:</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;  <span class="keywordflow">case</span> X86::ADD32rm:</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;  <span class="keywordflow">case</span> X86::ADD32rr:</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;  <span class="keywordflow">case</span> X86::ADD32rr_DB:</div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;  <span class="keywordflow">case</span> X86::ADD64i32:</div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;  <span class="keywordflow">case</span> X86::ADD64ri32:</div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;  <span class="keywordflow">case</span> X86::ADD64ri32_DB:</div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;  <span class="keywordflow">case</span> X86::ADD64ri8:</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;  <span class="keywordflow">case</span> X86::ADD64ri8_DB:</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;  <span class="keywordflow">case</span> X86::ADD64rm:</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;  <span class="keywordflow">case</span> X86::ADD64rr:</div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;  <span class="keywordflow">case</span> X86::ADD64rr_DB:</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;  <span class="keywordflow">case</span> X86::ADD8i8:</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;  <span class="keywordflow">case</span> X86::ADD8mi:</div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;  <span class="keywordflow">case</span> X86::ADD8mr:</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;  <span class="keywordflow">case</span> X86::ADD8ri:</div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;  <span class="keywordflow">case</span> X86::ADD8rm:</div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;  <span class="keywordflow">case</span> X86::ADD8rr:</div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;  <span class="keywordflow">case</span> X86::SUB16i16:</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;  <span class="keywordflow">case</span> X86::SUB16ri:</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;  <span class="keywordflow">case</span> X86::SUB16ri8:</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;  <span class="keywordflow">case</span> X86::SUB16rm:</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  <span class="keywordflow">case</span> X86::SUB16rr:</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;  <span class="keywordflow">case</span> X86::SUB32i32:</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;  <span class="keywordflow">case</span> X86::SUB32ri:</div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;  <span class="keywordflow">case</span> X86::SUB32ri8:</div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;  <span class="keywordflow">case</span> X86::SUB32rm:</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;  <span class="keywordflow">case</span> X86::SUB32rr:</div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;  <span class="keywordflow">case</span> X86::SUB64i32:</div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;  <span class="keywordflow">case</span> X86::SUB64ri32:</div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;  <span class="keywordflow">case</span> X86::SUB64ri8:</div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;  <span class="keywordflow">case</span> X86::SUB64rm:</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;  <span class="keywordflow">case</span> X86::SUB64rr:</div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;  <span class="keywordflow">case</span> X86::SUB8i8:</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;  <span class="keywordflow">case</span> X86::SUB8ri:</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;  <span class="keywordflow">case</span> X86::SUB8rm:</div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  <span class="keywordflow">case</span> X86::SUB8rr:</div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <span class="keywordflow">return</span> FuseKind == FuseCmp || FuseKind == FuseInc;</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;  <span class="keywordflow">case</span> X86::INC16r:</div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;  <span class="keywordflow">case</span> X86::INC32r:</div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;  <span class="keywordflow">case</span> X86::INC64_16r:</div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;  <span class="keywordflow">case</span> X86::INC64_32r:</div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;  <span class="keywordflow">case</span> X86::INC64r:</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;  <span class="keywordflow">case</span> X86::INC8r:</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;  <span class="keywordflow">case</span> X86::DEC16r:</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  <span class="keywordflow">case</span> X86::DEC32r:</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;  <span class="keywordflow">case</span> X86::DEC64_16r:</div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;  <span class="keywordflow">case</span> X86::DEC64_32r:</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;  <span class="keywordflow">case</span> X86::DEC64r:</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;  <span class="keywordflow">case</span> X86::DEC8r:</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <span class="keywordflow">return</span> FuseKind == FuseInc;</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;  }</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;}</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a15f9cbc2754513319207f31d1555d736">X86InstrInfo::</a></div><div class="line"><a name="l05077"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a15f9cbc2754513319207f31d1555d736"> 5077</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a15f9cbc2754513319207f31d1555d736">ReverseBranchCondition</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond)<span class="keyword"> const </span>{</div><div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  assert(Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1 &amp;&amp; <span class="stringliteral">&quot;Invalid X86 branch condition!&quot;</span>);</div><div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;  <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">X86::CondCode</a><span class="keyword">&gt;</span>(Cond[0].getImm());</div><div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;  <span class="keywordflow">if</span> (CC == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea8b47d4d3f261caf07338c6775a08a2bc">X86::COND_NE_OR_P</a> || CC == <a class="code" href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaa499df7a74a842077f189a17b0387fcb">X86::COND_NP_OR_E</a>)</div><div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;  Cond[0].setImm(<a class="code" href="SparcInstrInfo_8cpp.html#a37f317c48074b11fa501731852794c78">GetOppositeBranchCondition</a>(CC));</div><div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;}</div><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;</div><div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a1fab98f965d199602ae3ffad33822a64">X86InstrInfo::</a></div><div class="line"><a name="l05087"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a1fab98f965d199602ae3ffad33822a64"> 5087</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#a1fab98f965d199602ae3ffad33822a64">isSafeToMoveRegClassDefs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC)<span class="keyword"> const </span>{</div><div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;  <span class="comment">// FIXME: Return false for x87 stack register classes for now. We can&#39;t</span></div><div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;  <span class="comment">// allow any loads of these registers before FpGet_ST0_80.</span></div><div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;  <span class="keywordflow">return</span> !(RC == &amp;X86::CCRRegClass || RC == &amp;X86::RFP32RegClass ||</div><div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;           RC == &amp;X86::RFP64RegClass || RC == &amp;X86::RFP80RegClass);</div><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;}</div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;<span class="comment">/// getGlobalBaseReg - Return a virtual register initialized with the</span></div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;<span class="comment">/// the global base register value. Output instructions required to</span></div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;<span class="comment">/// initialize the register in the function entry block, if necessary.</span></div><div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;<span class="comment">/// TODO: Eliminate this and move the code to X86MachineFunctionInfo.</span></div><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05100"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a52e85681cc881f82b53bd2506abd7a66"> 5100</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a52e85681cc881f82b53bd2506abd7a66">X86InstrInfo::getGlobalBaseReg</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;  assert(!TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() &amp;&amp;</div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;         <span class="stringliteral">&quot;X86-64 PIC uses RIP relative addressing&quot;</span>);</div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;  <a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a> *X86FI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a>&gt;();</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">GlobalBaseReg</a> = X86FI-&gt;getGlobalBaseReg();</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;  <span class="keywordflow">if</span> (GlobalBaseReg != 0)</div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">GlobalBaseReg</a>;</div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;  <span class="comment">// Create the register. The code to initialize it is inserted</span></div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;  <span class="comment">// later, by the CGBR pass (below).</span></div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;  GlobalBaseReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;X86::GR32_NOSPRegClass);</div><div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;  X86FI-&gt;setGlobalBaseReg(GlobalBaseReg);</div><div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">GlobalBaseReg</a>;</div><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;}</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;</div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;<span class="comment">// These are the replaceable SSE instructions. Some of these have Int variants</span></div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;<span class="comment">// that we don&#39;t include here. We don&#39;t want to replace instructions selected</span></div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;<span class="comment">// by intrinsics.</span></div><div class="line"><a name="l05120"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a7e4908de854833bf9a67c1a28465c76a"> 5120</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="X86InstrInfo_8cpp.html#a7e4908de854833bf9a67c1a28465c76a">ReplaceableInstrs</a>[][3] = {</div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;  <span class="comment">//PackedSingle     PackedDouble    PackedInt</span></div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  { X86::MOVAPSmr,   X86::MOVAPDmr,  X86::MOVDQAmr  },</div><div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;  { X86::MOVAPSrm,   X86::MOVAPDrm,  X86::MOVDQArm  },</div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;  { X86::MOVAPSrr,   X86::MOVAPDrr,  X86::MOVDQArr  },</div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;  { X86::MOVUPSmr,   X86::MOVUPDmr,  X86::MOVDQUmr  },</div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;  { X86::MOVUPSrm,   X86::MOVUPDrm,  X86::MOVDQUrm  },</div><div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;  { X86::MOVNTPSmr,  X86::MOVNTPDmr, X86::MOVNTDQmr },</div><div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;  { X86::ANDNPSrm,   X86::ANDNPDrm,  X86::PANDNrm   },</div><div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;  { X86::ANDNPSrr,   X86::ANDNPDrr,  X86::PANDNrr   },</div><div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;  { X86::ANDPSrm,    X86::ANDPDrm,   X86::PANDrm    },</div><div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;  { X86::ANDPSrr,    X86::ANDPDrr,   X86::PANDrr    },</div><div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;  { X86::ORPSrm,     X86::ORPDrm,    X86::PORrm     },</div><div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;  { X86::ORPSrr,     X86::ORPDrr,    X86::PORrr     },</div><div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;  { X86::XORPSrm,    X86::XORPDrm,   X86::PXORrm    },</div><div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;  { X86::XORPSrr,    X86::XORPDrr,   X86::PXORrr    },</div><div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;  <span class="comment">// AVX 128-bit support</span></div><div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;  { X86::VMOVAPSmr,  X86::VMOVAPDmr,  X86::VMOVDQAmr  },</div><div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;  { X86::VMOVAPSrm,  X86::VMOVAPDrm,  X86::VMOVDQArm  },</div><div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;  { X86::VMOVAPSrr,  X86::VMOVAPDrr,  X86::VMOVDQArr  },</div><div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;  { X86::VMOVUPSmr,  X86::VMOVUPDmr,  X86::VMOVDQUmr  },</div><div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;  { X86::VMOVUPSrm,  X86::VMOVUPDrm,  X86::VMOVDQUrm  },</div><div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;  { X86::VMOVNTPSmr, X86::VMOVNTPDmr, X86::VMOVNTDQmr },</div><div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;  { X86::VANDNPSrm,  X86::VANDNPDrm,  X86::VPANDNrm   },</div><div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;  { X86::VANDNPSrr,  X86::VANDNPDrr,  X86::VPANDNrr   },</div><div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;  { X86::VANDPSrm,   X86::VANDPDrm,   X86::VPANDrm    },</div><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;  { X86::VANDPSrr,   X86::VANDPDrr,   X86::VPANDrr    },</div><div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;  { X86::VORPSrm,    X86::VORPDrm,    X86::VPORrm     },</div><div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;  { X86::VORPSrr,    X86::VORPDrr,    X86::VPORrr     },</div><div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;  { X86::VXORPSrm,   X86::VXORPDrm,   X86::VPXORrm    },</div><div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;  { X86::VXORPSrr,   X86::VXORPDrr,   X86::VPXORrr    },</div><div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;  <span class="comment">// AVX 256-bit support</span></div><div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;  { X86::VMOVAPSYmr,   X86::VMOVAPDYmr,   X86::VMOVDQAYmr  },</div><div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;  { X86::VMOVAPSYrm,   X86::VMOVAPDYrm,   X86::VMOVDQAYrm  },</div><div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;  { X86::VMOVAPSYrr,   X86::VMOVAPDYrr,   X86::VMOVDQAYrr  },</div><div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;  { X86::VMOVUPSYmr,   X86::VMOVUPDYmr,   X86::VMOVDQUYmr  },</div><div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;  { X86::VMOVUPSYrm,   X86::VMOVUPDYrm,   X86::VMOVDQUYrm  },</div><div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;  { X86::VMOVNTPSYmr,  X86::VMOVNTPDYmr,  X86::VMOVNTDQYmr }</div><div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;};</div><div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;</div><div class="line"><a name="l05160"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a7cc561385866365c30e01079ece8ce04"> 5160</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="X86InstrInfo_8cpp.html#a7cc561385866365c30e01079ece8ce04">ReplaceableInstrsAVX2</a>[][3] = {</div><div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;  <span class="comment">//PackedSingle       PackedDouble       PackedInt</span></div><div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;  { X86::VANDNPSYrm,   X86::VANDNPDYrm,   X86::VPANDNYrm   },</div><div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;  { X86::VANDNPSYrr,   X86::VANDNPDYrr,   X86::VPANDNYrr   },</div><div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;  { X86::VANDPSYrm,    X86::VANDPDYrm,    X86::VPANDYrm    },</div><div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;  { X86::VANDPSYrr,    X86::VANDPDYrr,    X86::VPANDYrr    },</div><div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;  { X86::VORPSYrm,     X86::VORPDYrm,     X86::VPORYrm     },</div><div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;  { X86::VORPSYrr,     X86::VORPDYrr,     X86::VPORYrr     },</div><div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;  { X86::VXORPSYrm,    X86::VXORPDYrm,    X86::VPXORYrm    },</div><div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;  { X86::VXORPSYrr,    X86::VXORPDYrr,    X86::VPXORYrr    },</div><div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;  { X86::VEXTRACTF128mr, X86::VEXTRACTF128mr, X86::VEXTRACTI128mr },</div><div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;  { X86::VEXTRACTF128rr, X86::VEXTRACTF128rr, X86::VEXTRACTI128rr },</div><div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;  { X86::VINSERTF128rm,  X86::VINSERTF128rm,  X86::VINSERTI128rm },</div><div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;  { X86::VINSERTF128rr,  X86::VINSERTF128rr,  X86::VINSERTI128rr },</div><div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;  { X86::VPERM2F128rm,   X86::VPERM2F128rm,   X86::VPERM2I128rm },</div><div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;  { X86::VPERM2F128rr,   X86::VPERM2F128rr,   X86::VPERM2I128rr }</div><div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;};</div><div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;</div><div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;<span class="comment">// FIXME: Some shuffle and unpack instructions have equivalents in different</span></div><div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;<span class="comment">// domains, but they require a bit more work than just switching opcodes.</span></div><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;</div><div class="line"><a name="l05181"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd"> 5181</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint16_t *<a class="code" href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a>(<span class="keywordtype">unsigned</span> opcode, <span class="keywordtype">unsigned</span> domain) {</div><div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(ReplaceableInstrs); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    <span class="keywordflow">if</span> (ReplaceableInstrs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>][domain-1] == opcode)</div><div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;      <span class="keywordflow">return</span> ReplaceableInstrs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;}</div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;</div><div class="line"><a name="l05188"></a><span class="lineno"><a class="line" href="X86InstrInfo_8cpp.html#aa70d8135638492f2ecaf133579cde1f4"> 5188</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint16_t *<a class="code" href="X86InstrInfo_8cpp.html#aa70d8135638492f2ecaf133579cde1f4">lookupAVX2</a>(<span class="keywordtype">unsigned</span> opcode, <span class="keywordtype">unsigned</span> domain) {</div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(ReplaceableInstrsAVX2); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    <span class="keywordflow">if</span> (ReplaceableInstrsAVX2[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>][domain-1] == opcode)</div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;      <span class="keywordflow">return</span> ReplaceableInstrsAVX2[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;}</div><div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;std::pair&lt;uint16_t, uint16_t&gt;</div><div class="line"><a name="l05196"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#abdea01e38f11e930205adbb936e1cc3f"> 5196</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#abdea01e38f11e930205adbb936e1cc3f">X86InstrInfo::getExecutionDomain</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;  uint16_t domain = (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &gt;&gt; <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02dac84d4b40d46ba3f9eb98a4d65d584670">X86II::SSEDomainShift</a>) &amp; 3;</div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;  <span class="keywordtype">bool</span> hasAVX2 = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().hasAVX2();</div><div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;  uint16_t validDomains = 0;</div><div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;  <span class="keywordflow">if</span> (domain &amp;&amp; <a class="code" href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>(), domain))</div><div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;    validDomains = 0xe;</div><div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (domain &amp;&amp; <a class="code" href="X86InstrInfo_8cpp.html#aa70d8135638492f2ecaf133579cde1f4">lookupAVX2</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>(), domain))</div><div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;    validDomains = hasAVX2 ? 0xe : 0x6;</div><div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;  <span class="keywordflow">return</span> std::make_pair(domain, validDomains);</div><div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;}</div><div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;</div><div class="line"><a name="l05207"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#a889f3233fc8b22311c421207244089e2"> 5207</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#a889f3233fc8b22311c421207244089e2">X86InstrInfo::setExecutionDomain</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> Domain)<span class="keyword"> const </span>{</div><div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;  assert(Domain&gt;0 &amp;&amp; Domain&lt;4 &amp;&amp; <span class="stringliteral">&quot;Invalid execution domain&quot;</span>);</div><div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  uint16_t dom = (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &gt;&gt; <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02dac84d4b40d46ba3f9eb98a4d65d584670">X86II::SSEDomainShift</a>) &amp; 3;</div><div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;  assert(dom &amp;&amp; <span class="stringliteral">&quot;Not an SSE instruction&quot;</span>);</div><div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;  <span class="keyword">const</span> uint16_t *table = <a class="code" href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>(), dom);</div><div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;  <span class="keywordflow">if</span> (!table) { <span class="comment">// try the other table</span></div><div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;    assert((TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#ab976c899dd9562ae41c33581e35323fc">hasAVX2</a>() || Domain &lt; 3) &amp;&amp;</div><div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;           <span class="stringliteral">&quot;256-bit vector operations only available in AVX2&quot;</span>);</div><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;    table = <a class="code" href="X86InstrInfo_8cpp.html#aa70d8135638492f2ecaf133579cde1f4">lookupAVX2</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>(), dom);</div><div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;  }</div><div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;  assert(table &amp;&amp; <span class="stringliteral">&quot;Cannot change domain&quot;</span>);</div><div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(table[Domain-1]));</div><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;}</div><div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;<span class="comment">/// getNoopForMachoTarget - Return the noop instruction to use for a noop.</span></div><div class="line"><a name="l05222"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#ab38e329344885d67759479a0488bb564"> 5222</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#ab38e329344885d67759479a0488bb564">X86InstrInfo::getNoopForMachoTarget</a>(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;NopInst)<span class="keyword"> const </span>{</div><div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;  NopInst.<a class="code" href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">setOpcode</a>(X86::NOOP);</div><div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;}</div><div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;</div><div class="line"><a name="l05226"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#ad7b68f3e327c605ee510a2eed86ea2d9"> 5226</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#ad7b68f3e327c605ee510a2eed86ea2d9">X86InstrInfo::isHighLatencyDef</a>(<span class="keywordtype">int</span> opc)<span class="keyword"> const </span>{</div><div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;  <span class="keywordflow">switch</span> (opc) {</div><div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;  <span class="keywordflow">case</span> X86::DIVSDrm:</div><div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;  <span class="keywordflow">case</span> X86::DIVSDrm_Int:</div><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;  <span class="keywordflow">case</span> X86::DIVSDrr:</div><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;  <span class="keywordflow">case</span> X86::DIVSDrr_Int:</div><div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;  <span class="keywordflow">case</span> X86::DIVSSrm:</div><div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;  <span class="keywordflow">case</span> X86::DIVSSrm_Int:</div><div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;  <span class="keywordflow">case</span> X86::DIVSSrr:</div><div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;  <span class="keywordflow">case</span> X86::DIVSSrr_Int:</div><div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;  <span class="keywordflow">case</span> X86::SQRTPDm:</div><div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;  <span class="keywordflow">case</span> X86::SQRTPDr:</div><div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;  <span class="keywordflow">case</span> X86::SQRTPSm:</div><div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;  <span class="keywordflow">case</span> X86::SQRTPSr:</div><div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSDm:</div><div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSDm_Int:</div><div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSDr:</div><div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSDr_Int:</div><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSSm:</div><div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSSm_Int:</div><div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSSr:</div><div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;  <span class="keywordflow">case</span> X86::SQRTSSr_Int:</div><div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;  <span class="comment">// AVX instructions with high latency</span></div><div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSDrm:</div><div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSDrm_Int:</div><div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSDrr:</div><div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSDrr_Int:</div><div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSSrm:</div><div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSSrm_Int:</div><div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSSrr:</div><div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSSrr_Int:</div><div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPDm:</div><div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPDr:</div><div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPSm:</div><div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPSr:</div><div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSDm:</div><div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSDm_Int:</div><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSDr:</div><div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSSm:</div><div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSSm_Int:</div><div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSSr:</div><div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPDZrm:</div><div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPDZrr:</div><div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPSZrm:</div><div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTPSZrr:</div><div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSDZm:</div><div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSDZm_Int:</div><div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSDZr:</div><div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSSZm_Int:</div><div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSSZr:</div><div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;  <span class="keywordflow">case</span> X86::VSQRTSSZm:</div><div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSDZrm:</div><div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSDZrr:</div><div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSSZrm:</div><div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;  <span class="keywordflow">case</span> X86::VDIVSSZrr:</div><div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;</div><div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;  <span class="keywordflow">case</span> X86::VGATHERQPSZrm:</div><div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;  <span class="keywordflow">case</span> X86::VGATHERQPDZrm:</div><div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;  <span class="keywordflow">case</span> X86::VGATHERDPDZrm:</div><div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;  <span class="keywordflow">case</span> X86::VGATHERDPSZrm:</div><div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;  <span class="keywordflow">case</span> X86::VPGATHERQDZrm:</div><div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;  <span class="keywordflow">case</span> X86::VPGATHERQQZrm:</div><div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;  <span class="keywordflow">case</span> X86::VPGATHERDDZrm:</div><div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;  <span class="keywordflow">case</span> X86::VPGATHERDQZrm:</div><div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;  <span class="keywordflow">case</span> X86::VSCATTERQPDZmr:</div><div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;  <span class="keywordflow">case</span> X86::VSCATTERQPSZmr:</div><div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;  <span class="keywordflow">case</span> X86::VSCATTERDPDZmr:</div><div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;  <span class="keywordflow">case</span> X86::VSCATTERDPSZmr:</div><div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;  <span class="keywordflow">case</span> X86::VPSCATTERQDZmr:</div><div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;  <span class="keywordflow">case</span> X86::VPSCATTERQQZmr:</div><div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;  <span class="keywordflow">case</span> X86::VPSCATTERDDZmr:</div><div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;  <span class="keywordflow">case</span> X86::VPSCATTERDQZmr:</div><div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;  }</div><div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;}</div><div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;</div><div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#afa27732c7102dbb34ca79f5022bd33a4">X86InstrInfo::</a></div><div class="line"><a name="l05304"></a><span class="lineno"><a class="line" href="classllvm_1_1X86InstrInfo.html#afa27732c7102dbb34ca79f5022bd33a4"> 5304</a></span>&#160;<a class="code" href="classllvm_1_1X86InstrInfo.html#afa27732c7102dbb34ca79f5022bd33a4">hasHighOperandLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>,</div><div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, <span class="keywordtype">unsigned</span> DefIdx,</div><div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UseMI, <span class="keywordtype">unsigned</span> UseIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1X86InstrInfo.html#ad7b68f3e327c605ee510a2eed86ea2d9">isHighLatencyDef</a>(DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;}</div><div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;</div><div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div><div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;<span class="comment">  /// CGBR - Create Global Base Reg pass. This initializes the PIC</span></div><div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;<span class="comment">  /// global base register for x86-32.</span></div><div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>CGBR : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> {</div><div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;    CGBR() : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(ID) {}</div><div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;</div><div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div><div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *TM =</div><div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *<span class="keyword">&gt;</span>(&amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>());</div><div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;</div><div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;      assert(!TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() &amp;&amp;</div><div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;             <span class="stringliteral">&quot;X86-64 PIC uses RIP relative addressing&quot;</span>);</div><div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;</div><div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;      <span class="comment">// Only emit a global base reg in PIC mode.</span></div><div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;      <span class="keywordflow">if</span> (TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">getRelocationModel</a>() != <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">Reloc::PIC_</a>)</div><div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;</div><div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;      <a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a> *X86FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a>&gt;();</div><div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">GlobalBaseReg</a> = X86FI-&gt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html#a39e1c9a13befa4bf0f8425948efdd4e8">getGlobalBaseReg</a>();</div><div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;</div><div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;      <span class="comment">// If we didn&#39;t need a GlobalBaseReg, don&#39;t insert code.</span></div><div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;      <span class="keywordflow">if</span> (GlobalBaseReg == 0)</div><div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;</div><div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;      <span class="comment">// Insert the set of GlobalBaseReg into the first MBB of the function</span></div><div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;FirstMBB = MF.<a class="code" href="classllvm_1_1MachineFunction.html#af562445435f18637f07676da054ba02c">front</a>();</div><div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MBBI = FirstMBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div><div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;      <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = FirstMBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a45028d169700cac71cf6c613a94236ee">findDebugLoc</a>(MBBI);</div><div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;      <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86InstrInfo.html">X86InstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = TM-&gt;<a class="code" href="classllvm_1_1X86TargetMachine.html#a245ed1de411cd3ba114322a573b524f5">getInstrInfo</a>();</div><div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;</div><div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;      <span class="keywordtype">unsigned</span> PC;</div><div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;      <span class="keywordflow">if</span> (TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">isPICStyleGOT</a>())</div><div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;        PC = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;X86::GR32RegClass);</div><div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;        PC = <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">GlobalBaseReg</a>;</div><div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;</div><div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;      <span class="comment">// Operand of MovePCtoStack is completely ignored by asm printer. It&#39;s</span></div><div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;      <span class="comment">// only used in JIT code emission as displacement to pc.</span></div><div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(FirstMBB, MBBI, DL, TII-&gt;get(X86::MOVPC32r), PC).addImm(0);</div><div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;</div><div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      <span class="comment">// If we&#39;re using vanilla &#39;GOT&#39; PIC style, we should use relative addressing</span></div><div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;      <span class="comment">// not to pc, but to _GLOBAL_OFFSET_TABLE_ external.</span></div><div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;      <span class="keywordflow">if</span> (TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().<a class="code" href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">isPICStyleGOT</a>()) {</div><div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;        <span class="comment">// Generate addl $__GLOBAL_OFFSET_TABLE_ + [.-piclabel], %some_register</span></div><div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(FirstMBB, MBBI, DL, TII-&gt;get(X86::ADD32ri), <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">GlobalBaseReg</a>)</div><div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;          .addReg(PC).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ace690c220f3b141bdf98c86635783d8f">addExternalSymbol</a>(<span class="stringliteral">&quot;_GLOBAL_OFFSET_TABLE_&quot;</span>,</div><div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;                                        <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84a5364e197f6bba28989699b6040ce96ca">X86II::MO_GOT_ABSOLUTE_ADDRESS</a>);</div><div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;      }</div><div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;</div><div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;    }</div><div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;</div><div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *getPassName()<span class="keyword"> const </span>{</div><div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;X86 PIC Global Base Reg Initialization&quot;</span>;</div><div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    }</div><div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;</div><div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div><div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;      <a class="code" href="classllvm_1_1MachineFunctionPass.html#aa1eece37d175f86a6f4808c0c167f13b">MachineFunctionPass::getAnalysisUsage</a>(AU);</div><div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;    }</div><div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;  };</div><div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;}</div><div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;</div><div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CGBR::ID</a> = 0;</div><div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>*</div><div class="line"><a name="l05378"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad6f3c76ebf582efc900030350b5ac9ca"> 5378</a></span>&#160;<a class="code" href="namespacellvm.html#ad6f3c76ebf582efc900030350b5ac9ca">llvm::createGlobalBaseRegPass</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> CGBR(); }</div><div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;</div><div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;  <span class="keyword">struct </span>LDTLSCleanup : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> {</div><div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;    LDTLSCleanup() : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(ID) {}</div><div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;</div><div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div><div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;      <a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a>* MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a>&gt;();</div><div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;      <span class="keywordflow">if</span> (MFI-&gt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html#a45cb9cb686ed570cb4234ec290ce9084">getNumLocalDynamicTLSAccesses</a>() &lt; 2) {</div><div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;        <span class="comment">// No point folding accesses if there isn&#39;t at least two.</span></div><div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;      }</div><div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;</div><div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;      <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> *DT = &amp;getAnalysis&lt;MachineDominatorTree&gt;();</div><div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;      <span class="keywordflow">return</span> VisitNode(DT-&gt;<a class="code" href="classllvm_1_1MachineDominatorTree.html#adca08e96be6c9659b359d89beb3f8f49">getRootNode</a>(), 0);</div><div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    }</div><div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;</div><div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    <span class="comment">// Visit the dominator subtree rooted at Node in pre-order.</span></div><div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;    <span class="comment">// If TLSBaseAddrReg is non-null, then use that to replace any</span></div><div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    <span class="comment">// TLS_base_addr instructions. Otherwise, create the register</span></div><div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;    <span class="comment">// when the first such instruction is seen, and then use it</span></div><div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;    <span class="comment">// as we encounter more instructions.</span></div><div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;    <span class="keywordtype">bool</span> VisitNode(<a class="code" href="classllvm_1_1DomTreeNodeBase.html">MachineDomTreeNode</a> *Node, <span class="keywordtype">unsigned</span> TLSBaseAddrReg) {</div><div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Node-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a96fd2f0087c41942dd2618ff6e1b8640">getBlock</a>();</div><div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;      <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div><div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;</div><div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;      <span class="comment">// Traverse the current block.</span></div><div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), E = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E;</div><div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;           ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) {</div><div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;          <span class="keywordflow">case</span> X86::TLS_base_addr32:</div><div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;          <span class="keywordflow">case</span> X86::TLS_base_addr64:</div><div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;            <span class="keywordflow">if</span> (TLSBaseAddrReg)</div><div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;              <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ReplaceTLSBaseAddrCall(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLSBaseAddrReg);</div><div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;              <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SetRegister(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, &amp;TLSBaseAddrReg);</div><div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;            Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;          <span class="keywordflow">default</span>:</div><div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;        }</div><div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;      }</div><div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;</div><div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;      <span class="comment">// Visit the children of this block in the dominator tree.</span></div><div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a4d2422d22434aa1008a519a143364715">MachineDomTreeNode::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Node-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a40b8345d54ada5dab71ae11d71e89d2f">begin</a>(), E = Node-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a74111c67a831eb30b020ecf063bce406">end</a>();</div><div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;        Changed |= VisitNode(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TLSBaseAddrReg);</div><div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;      }</div><div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;</div><div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;      <span class="keywordflow">return</span> Changed;</div><div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;    }</div><div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;</div><div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;    <span class="comment">// Replace the TLS_base_addr instruction I with a copy from</span></div><div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;    <span class="comment">// TLSBaseAddrReg, returning the new instruction.</span></div><div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ReplaceTLSBaseAddrCall(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;                                         <span class="keywordtype">unsigned</span> TLSBaseAddrReg) {</div><div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = I-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *TM =</div><div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *<span class="keyword">&gt;</span>(&amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>());</div><div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> is64Bit = TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().is64Bit();</div><div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86InstrInfo.html">X86InstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = TM-&gt;<a class="code" href="classllvm_1_1X86TargetMachine.html#a245ed1de411cd3ba114322a573b524f5">getInstrInfo</a>();</div><div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;</div><div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;      <span class="comment">// Insert a Copy from TLSBaseAddrReg to RAX/EAX.</span></div><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Copy = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*I-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, I-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;                                   TII-&gt;get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;                                   is64Bit ? X86::RAX : <a class="code" href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">X86::EAX</a>)</div><div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;                                   .addReg(TLSBaseAddrReg);</div><div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;</div><div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;      <span class="comment">// Erase the TLS_base_addr instruction.</span></div><div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;      I-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;</div><div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;      <span class="keywordflow">return</span> Copy;</div><div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    }</div><div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;</div><div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;    <span class="comment">// Create a virtal register in *TLSBaseAddrReg, and populate it by</span></div><div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <span class="comment">// inserting a copy instruction after I. Returns the new instruction.</span></div><div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *SetRegister(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *I, <span class="keywordtype">unsigned</span> *TLSBaseAddrReg) {</div><div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = I-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *TM =</div><div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *<span class="keyword">&gt;</span>(&amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>());</div><div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> is64Bit = TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;().is64Bit();</div><div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86InstrInfo.html">X86InstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = TM-&gt;<a class="code" href="classllvm_1_1X86TargetMachine.html#a245ed1de411cd3ba114322a573b524f5">getInstrInfo</a>();</div><div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;</div><div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;      <span class="comment">// Create a virtual register for the TLS base address.</span></div><div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;      <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;      *TLSBaseAddrReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(is64Bit</div><div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;                                                      ? &amp;X86::GR64RegClass</div><div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;                                                      : &amp;X86::GR32RegClass);</div><div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;</div><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;      <span class="comment">// Insert a copy from RAX/EAX to TLSBaseAddrReg.</span></div><div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Next = I-&gt;<a class="code" href="classllvm_1_1ilist__node.html#a6ac308903849239f2f308aa180dda61b">getNextNode</a>();</div><div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Copy = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*I-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>(), Next, I-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;                                   TII-&gt;get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;                                   *TLSBaseAddrReg)</div><div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;                                   .addReg(is64Bit ? X86::RAX : <a class="code" href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">X86::EAX</a>);</div><div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;</div><div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;      <span class="keywordflow">return</span> Copy;</div><div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    }</div><div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;</div><div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *getPassName()<span class="keyword"> const </span>{</div><div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Local Dynamic TLS Access Clean-up&quot;</span>;</div><div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;    }</div><div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;</div><div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div><div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>&gt;();</div><div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;      <a class="code" href="classllvm_1_1MachineFunctionPass.html#aa1eece37d175f86a6f4808c0c167f13b">MachineFunctionPass::getAnalysisUsage</a>(AU);</div><div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    }</div><div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;  };</div><div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;}</div><div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;</div><div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">LDTLSCleanup::ID</a> = 0;</div><div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>*</div><div class="line"><a name="l05492"></a><span class="lineno"><a class="line" href="namespacellvm.html#a473ee30de68dbcd22e515a82f31cf656"> 5492</a></span>&#160;<a class="code" href="namespacellvm.html#a473ee30de68dbcd22e515a82f31cf656">llvm::createCleanupLocalDynamicTLSPass</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> LDTLSCleanup(); }</div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="namespaceSIInstrFlags_html_a607b4b0952924970b77a9c6b42898b54"><div class="ttname"><a href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">SIInstrFlags::Flags</a></div><div class="ttdeci">Flags</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00140">SIInstrInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a40a5d6e03f5bfd15839355a7c39ab3a0"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a40a5d6e03f5bfd15839355a7c39ab3a0">llvm::MachineOperand::isImplicit</a></div><div class="ttdeci">bool isImplicit() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00279">MachineOperand.h:279</a></div></div>
<div class="ttc" id="classllvm_1_1TargetFrameLowering_html_a360555ed6db3b28a33fa5449a0335f19"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">llvm::TargetFrameLowering::getStackAlignment</a></div><div class="ttdeci">unsigned getStackAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00070">TargetFrameLowering.h:70</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a86ce19a71e97672e370db2d9164f9c2a"><div class="ttname"><a href="namespacellvm_1_1X86.html#a86ce19a71e97672e370db2d9164f9c2a">llvm::X86::GetCondBranchFromCond</a></div><div class="ttdeci">unsigned GetCondBranchFromCond(CondCode CC)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02555">X86InstrInfo.cpp:2555</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade1f36af81eae7e7b5b333d77de5feeb">llvm::X86::COND_NO</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00043">X86InstrInfo.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_ab38e329344885d67759479a0488bb564"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#ab38e329344885d67759479a0488bb564">llvm::X86InstrInfo::getNoopForMachoTarget</a></div><div class="ttdeci">virtual void getNoopForMachoTarget(MCInst &amp;NopInst) const </div><div class="ttdoc">getNoopForMachoTarget - Return the noop instruction to use for a noop. </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05222">X86InstrInfo.cpp:5222</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPool_html"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html">llvm::MachineConstantPool</a></div><div class="ttdoc">The machine constant pool. </div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00134">MachineConstantPool.h:134</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_ad6b51e6c6e8c50519899c08852de236c"><div class="ttname"><a href="X86InstrInfo_8cpp.html#ad6b51e6c6e8c50519899c08852de236c">hasUndefRegUpdate</a></div><div class="ttdeci">static bool hasUndefRegUpdate(unsigned Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04113">X86InstrInfo.cpp:4113</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_acb145f988329d1d621f73abcafea21d8"><div class="ttname"><a href="classllvm_1_1Type.html#acb145f988329d1d621f73abcafea21d8">llvm::Type::getDoubleTy</a></div><div class="ttdeci">static Type * getDoubleTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00231">Type.cpp:231</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_af3607186e9eb9417ccb6c852aa8b83dd"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#af3607186e9eb9417ccb6c852aa8b83dd">llvm::MachineFunction::CreateMachineInstr</a></div><div class="ttdeci">MachineInstr * CreateMachineInstr(const MCInstrDesc &amp;MCID, DebugLoc DL, bool NoImp=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00173">MachineFunction.cpp:173</a></div></div>
<div class="ttc" id="structX86OpTblEntry_html_a309c1b6a51a0c7b0a860de7c3ee9d4a3"><div class="ttname"><a href="structX86OpTblEntry.html#a309c1b6a51a0c7b0a860de7c3ee9d4a3">X86OpTblEntry::RegOp</a></div><div class="ttdeci">uint16_t RegOp</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00090">X86InstrInfo.cpp:90</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00167">Function.cpp:167</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00031">SparcInstrInfo.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1LiveVariables_html"><div class="ttname"><a href="classllvm_1_1LiveVariables.html">llvm::LiveVariables</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00046">LiveVariables.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">llvm::MVT::i64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00047">ValueTypes.h:47</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a5672648caffe7e1c3a2a5037b1ddfc0d"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a5672648caffe7e1c3a2a5037b1ddfc0d">regIsPICBase</a></div><div class="ttdeci">static bool regIsPICBase(unsigned BaseReg, const MachineRegisterInfo &amp;MRI)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01619">X86InstrInfo.cpp:1619</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTXISD_html_a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645"><div class="ttname"><a href="namespacellvm_1_1NVPTXISD.html#a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645">llvm::NVPTXISD::Dummy</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8h_source.html#l00053">NVPTXISelLowering.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a797ac100c6615ff181c03a3c35c7378f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a797ac100c6615ff181c03a3c35c7378f">llvm::MachineInstr::isBranch</a></div><div class="ttdeci">bool isBranch(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00374">MachineInstr.h:374</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a87f1815c4b56735aaadbbcdfdf32cf4f"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">llvm::TargetMachine::getRelocationModel</a></div><div class="ttdeci">Reloc::Model getRelocationModel() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00091">TargetMachine.cpp:91</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1X86TargetMachine_html"><div class="ttname"><a href="classllvm_1_1X86TargetMachine.html">llvm::X86TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="X86TargetMachine_8h_source.html#l00032">X86TargetMachine.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a9824bf3d22c4588253e71a941ba9e65b"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a9824bf3d22c4588253e71a941ba9e65b">llvm::X86InstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">virtual void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03215">X86InstrInfo.cpp:3215</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">llvm::CodeModel::Small</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00030">CodeGen.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a655f4e255237fb10af91f7ebb4e73633"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a655f4e255237fb10af91f7ebb4e73633">llvm::X86InstrInfo::storeRegToAddr</a></div><div class="ttdeci">virtual void storeRegToAddr(MachineFunction &amp;MF, unsigned SrcReg, bool isKill, SmallVectorImpl&lt; MachineOperand &gt; &amp;Addr, const TargetRegisterClass *RC, MachineInstr::mmo_iterator MMOBegin, MachineInstr::mmo_iterator MMOEnd, SmallVectorImpl&lt; MachineInstr * &gt; &amp;NewMIs) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03232">X86InstrInfo.cpp:3232</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a86c845e0c20ff3050cc964d56125c3f5"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a86c845e0c20ff3050cc964d56125c3f5">CopyToFromAsymmetricReg</a></div><div class="ttdeci">static unsigned CopyToFromAsymmetricReg(unsigned DestReg, unsigned SrcReg, const X86Subtarget &amp;Subtarget)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02976">X86InstrInfo.cpp:2976</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7db02b21d284294b8d9369803fe1c13b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">llvm::MachineOperand::ChangeToRegister</a></div><div class="ttdeci">void ChangeToRegister(unsigned Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isDebug=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00129">MachineInstr.cpp:129</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aadc1ef01bc47c19f8f2344f16139c52a2">TB_FOLDED_STORE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00076">X86InstrInfo.cpp:76</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a8a9dbc2c070103d245cbf99c8d234e62"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a8a9dbc2c070103d245cbf99c8d234e62">llvm::X86InstrInfo::AnalyzeBranch</a></div><div class="ttdeci">virtual bool AnalyzeBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02707">X86InstrInfo.cpp:2707</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eade92e2f17ca0acdd1ffa23d01df381df">llvm::X86::COND_A</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00033">X86InstrInfo.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a9d472a8ee447cef18a71beb229d4d252"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a9d472a8ee447cef18a71beb229d4d252">llvm::MCInstrDesc::getNumDefs</a></div><div class="ttdeci">unsigned getNumDefs() const </div><div class="ttdoc">Return the number of MachineOperands that are register definitions. Register definitions always occur...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a76c3c7e3d4f11b4cfad37fc0449c9635"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">unsigned createVirtualRegister(const TargetRegisterClass *RegClass)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00104">MachineRegisterInfo.cpp:104</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html">llvm::X86InstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00130">X86InstrInfo.h:130</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a33c661f2e48a170073eca27c2875c1bb"><div class="ttname"><a href="namespacellvm_1_1X86.html#a33c661f2e48a170073eca27c2875c1bb">llvm::X86::getCondFromCMovOpc</a></div><div class="ttdeci">CondCode getCondFromCMovOpc(unsigned Opc)</div><div class="ttdoc">getCondFromCmovOpc - return condition code of a CMov opcode. </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02501">X86InstrInfo.cpp:2501</a></div></div>
<div class="ttc" id="classllvm_1_1MachineDominatorTree_html_adca08e96be6c9659b359d89beb3f8f49"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#adca08e96be6c9659b359d89beb3f8f49">llvm::MachineDominatorTree::getRootNode</a></div><div class="ttdeci">MachineDomTreeNode * getRootNode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00065">MachineDominators.h:65</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa9b210f68342794aa164677ce907328cf">TB_ALIGN_16</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00083">X86InstrInfo.cpp:83</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00033">MachineInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_ad7b68f3e327c605ee510a2eed86ea2d9"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#ad7b68f3e327c605ee510a2eed86ea2d9">llvm::X86InstrInfo::isHighLatencyDef</a></div><div class="ttdeci">bool isHighLatencyDef(int opc) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05226">X86InstrInfo.cpp:5226</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00137">MCInstrDesc.h:137</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a4a927c0cc4c49f647732262cdd77f832"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a4a927c0cc4c49f647732262cdd77f832">llvm::TargetOpcode::STACKMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00100">TargetOpcodes.h:100</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; unsigned, std::pair&lt; unsigned, unsigned &gt; &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a89bece9d4515f2524c81cbf6229b3f0f"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a89bece9d4515f2524c81cbf6229b3f0f">llvm::X86InstrInfo::getOpcodeAfterMemoryUnfold</a></div><div class="ttdeci">virtual unsigned getOpcodeAfterMemoryUnfold(unsigned Opc, bool UnfoldLoad, bool UnfoldStore, unsigned *LoadRegIndex=0) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04742">X86InstrInfo.cpp:4742</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a196420aa839c2b21f42c4bf5c36df437"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00284">MachineOperand.h:284</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ae62c5ea35b71f9020caa94340bc78f37"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">llvm::TargetRegisterInfo::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00287">TargetRegisterInfo.h:287</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a65917695d9792adaf44d85541df98de2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a65917695d9792adaf44d85541df98de2">llvm::MachineInstr::isPredicable</a></div><div class="ttdeci">bool isPredicable(QueryType Type=AllInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00404">MachineInstr.h:404</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ab129767be66f47c04b9b807292120bf3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab129767be66f47c04b9b807292120bf3">llvm::MachineInstr::readsVirtualRegister</a></div><div class="ttdeci">bool readsVirtualRegister(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00731">MachineInstr.h:731</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a3ddd708642d60c1661992ff8ba1b215d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">llvm::MachineBasicBlock::succ_end</a></div><div class="ttdeci">succ_iterator succ_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00278">MachineBasicBlock.h:278</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">llvm::RegState::Implicit</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00032">MachineInstrBuilder.h:32</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_ae0fbc33aeabead735b7c93aec41638f7"><div class="ttname"><a href="X86InstrInfo_8cpp.html#ae0fbc33aeabead735b7c93aec41638f7">ReMatPICStubLoad</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ReMatPICStubLoad(&quot;remat-pic-stub-load&quot;, cl::desc(&quot;Re-materialize load from stub in PIC mode&quot;), cl::init(false), cl::Hidden)</div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eaa499df7a74a842077f189a17b0387fcb"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaa499df7a74a842077f189a17b0387fcb">llvm::X86::COND_NP_OR_E</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00056">X86InstrInfo.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_ac02c0424a7e7a4021fd9efc0a71d7473"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ac02c0424a7e7a4021fd9efc0a71d7473">llvm::MachineRegisterInfo::use_nodbg_empty</a></div><div class="ttdeci">bool use_nodbg_empty(unsigned RegNo) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00285">MachineRegisterInfo.h:285</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a6e6a9e3de7abf101071b295a81e75d2c"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a6e6a9e3de7abf101071b295a81e75d2c">getCondFromBranchOpc</a></div><div class="ttdeci">static X86::CondCode getCondFromBranchOpc(unsigned BrOpc)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02455">X86InstrInfo.cpp:2455</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a9f107f6d566f22d12523c2949c07ba42"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">llvm::X86InstrInfo::foldMemoryOperandImpl</a></div><div class="ttdeci">virtual MachineInstr * foldMemoryOperandImpl(MachineFunction &amp;MF, MachineInstr *MI, const SmallVectorImpl&lt; unsigned &gt; &amp;Ops, int FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04262">X86InstrInfo.cpp:4262</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6f9ffe437ab2e9369084adfe6e2a8652"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a6f9ffe437ab2e9369084adfe6e2a8652">llvm::MachineBasicBlock::computeRegisterLiveness</a></div><div class="ttdeci">LivenessQueryResult computeRegisterLiveness(const TargetRegisterInfo *TRI, unsigned Reg, MachineInstr *MI, unsigned Neighborhood=10)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01144">MachineBasicBlock.cpp:1144</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a803a7424877fd049679b9aa2f07597b5"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">llvm::MachineInstr::getDesc</a></div><div class="ttdeci">const MCInstrDesc &amp; getDesc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00257">MachineInstr.h:257</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_abc5c2f1d47a517373030133c6a102106"><div class="ttname"><a href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">llvm::SDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00548">SelectionDAGNodes.h:548</a></div></div>
<div class="ttc" id="MCAsmInfo_8h_html"><div class="ttname"><a href="MCAsmInfo_8h.html">MCAsmInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ad4e92a00f11d25f99bab8b78d4f89ff9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad4e92a00f11d25f99bab8b78d4f89ff9">llvm::MachineInstr::registerDefIsDead</a></div><div class="ttdeci">bool registerDefIsDead(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00767">MachineInstr.h:767</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a836c27481205f56e708fe0c15538d5ff"><div class="ttname"><a href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00554">SelectionDAGNodes.h:554</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a61a42c85bd86c6ca4554e27d33c3f798"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">llvm::MachineOperand::setIsDead</a></div><div class="ttdeci">void setIsDead(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00373">MachineOperand.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1DomTreeNodeBase_html_a40b8345d54ada5dab71ae11d71e89d2f"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a40b8345d54ada5dab71ae11d71e89d2f">llvm::DomTreeNodeBase::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00077">Dominators.h:77</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ad784a6594990530bffb2018aeeed56f3"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">const Function * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00151">MachineFunction.h:151</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">llvm::TargetOpcode::COPY</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00086">TargetOpcodes.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a0353aecd83bfa124abe2e1c5cb75f0e5"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a0353aecd83bfa124abe2e1c5cb75f0e5">llvm::X86InstrInfo::canInsertSelect</a></div><div class="ttdeci">virtual bool canInsertSelect(const MachineBasicBlock &amp;, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, unsigned, unsigned, int &amp;, int &amp;, int &amp;) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02921">X86InstrInfo.cpp:2921</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a46e0fcca2366f30d5e35b3d7dcb9c65f"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">llvm::MCInstrDesc::TSFlags</a></div><div class="ttdeci">uint64_t TSFlags</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00145">MCInstrDesc.h:145</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eac9ae7c779ffc6865536d9f164ebf09b9">llvm::X86::COND_B</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00035">X86InstrInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1PatchPointOpers_html_a43004c16f95d31f8f7f92ee69a0d2b37"><div class="ttname"><a href="classllvm_1_1PatchPointOpers.html#a43004c16f95d31f8f7f92ee69a0d2b37">llvm::PatchPointOpers::getVarIdx</a></div><div class="ttdeci">unsigned getVarIdx() const </div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00064">StackMaps.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aea36f6665e4992da1874625d5f00e1c1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aea36f6665e4992da1874625d5f00e1c1">llvm::MachineInstr::isTerminator</a></div><div class="ttdeci">bool isTerminator(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00366">MachineInstr.h:366</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">llvm::RegState::ImplicitDefine</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00040">MachineInstrBuilder.h:40</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00111">Constants.cpp:111</a></div></div>
<div class="ttc" id="classllvm_1_1X86MachineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1X86MachineFunctionInfo.html">llvm::X86MachineFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="X86MachineFunctionInfo_8h_source.html#l00023">X86MachineFunctionInfo.h:23</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCOI_html_aaa8eb58fd1b8466eb64a43df890cb8c1ae01b27a05209c02ca1bdb5a6033731fb"><div class="ttname"><a href="namespacellvm_1_1MCOI.html#aaa8eb58fd1b8466eb64a43df890cb8c1ae01b27a05209c02ca1bdb5a6033731fb">llvm::MCOI::TIED_TO</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00032">MCInstrDesc.h:32</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_aedbb7c612116b9499e6bda8b7d74f857"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#aedbb7c612116b9499e6bda8b7d74f857">llvm::X86InstrInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const X86RegisterInfo &amp; getRegisterInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00164">X86InstrInfo.h:164</a></div></div>
<div class="ttc" id="X86_8h_html"><div class="ttname"><a href="X86_8h.html">X86.h</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a8fc308a0128ebcf255d24e4b2397128f"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a8fc308a0128ebcf255d24e4b2397128f">llvm::X86InstrInfo::commuteInstruction</a></div><div class="ttdeci">virtual MachineInstr * commuteInstruction(MachineInstr *MI, bool NewMI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02345">X86InstrInfo.cpp:2345</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_ae220352610e3badb61763dcbae9b7a6f"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">llvm::TargetRegisterClass::getSize</a></div><div class="ttdeci">unsigned getSize() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00087">TargetRegisterInfo.h:87</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaff7502cc3be1c359dca73814c6c34c6f">llvm::X86::COND_P</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00047">X86InstrInfo.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac421fe6513e43aedbba712e4a981744e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac421fe6513e43aedbba712e4a981744e">llvm::MachineBasicBlock::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01000">MachineBasicBlock.cpp:1000</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00082">MachineMemOperand.h:82</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">llvm::RegState::Undef</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00035">MachineInstrBuilder.h:35</a></div></div>
<div class="ttc" id="MachineConstantPool_8h_html"><div class="ttname"><a href="MachineConstantPool_8h.html">MachineConstantPool.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00032">MachineFunctionPass.h:32</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea80da60ed5c7b20653afe0b4b21a91ec1">llvm::X86::COND_E</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00037">X86InstrInfo.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ad5e0fe0efdd88f98a5b5eb512d5351c2"><div class="ttname"><a href="classllvm_1_1Type.html#ad5e0fe0efdd88f98a5b5eb512d5351c2">llvm::Type::getFloatTy</a></div><div class="ttdeci">static Type * getFloatTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00230">Type.cpp:230</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__node_html_a6ac308903849239f2f308aa180dda61b"><div class="ttname"><a href="classllvm_1_1ilist__node.html#a6ac308903849239f2f308aa180dda61b">llvm::ilist_node::getNextNode</a></div><div class="ttdeci">NodeTy * getNextNode()</div><div class="ttdoc">Get the next node, or 0 for the list tail. </div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00080">ilist_node.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a18124eff2d5106b9bf041f948a1912cc"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(unsigned Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00560">MachineOperand.h:560</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea914c19eb31606e70fd4f8dfff6d86038">llvm::X86::COND_O</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00046">X86InstrInfo.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2ac18ceda9f2857fea2e5cc4e8bf4ff5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">llvm::MachineOperand::isImm</a></div><div class="ttdeci">bool isImm() const </div><div class="ttdoc">isImm - Tests if this is a MO_Immediate operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00226">MachineOperand.h:226</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a35f60c7e0069e30dea70cd8c2664f971"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a35f60c7e0069e30dea70cd8c2664f971">llvm::X86InstrInfo::isLoadFromStackSlot</a></div><div class="ttdeci">unsigned isLoadFromStackSlot(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01574">X86InstrInfo.cpp:1574</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_aed0958deb6d25f9fdccd7518e26b50f8"><div class="ttname"><a href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">llvm::SDNode::getValueType</a></div><div class="ttdeci">EVT getValueType(unsigned ResNo) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00609">SelectionDAGNodes.h:609</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eae364c60967a7bc453d49caffc07d7bef">llvm::X86::COND_LE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00041">X86InstrInfo.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a95d3f899fd68931ed5fa42e012468bdb"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">llvm::SelectionDAG::getMachineFunction</a></div><div class="ttdeci">MachineFunction &amp; getMachineFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00280">SelectionDAG.h:280</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad8198d6d83af9410d867136e33fbf4b2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const </div><div class="ttdoc">isReg - Tests if this is a MO_Register operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00224">MachineOperand.h:224</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa50834daab82c1c30f6384a13a4680127"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa50834daab82c1c30f6384a13a4680127">TB_INDEX_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00064">X86InstrInfo.cpp:64</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a10e708480cdc97c951368e06c13eac92"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a10e708480cdc97c951368e06c13eac92">llvm::MachineOperand::setImplicit</a></div><div class="ttdeci">void setImplicit(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00362">MachineOperand.h:362</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00846">MachineInstr.cpp:846</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a0ef58f66dc90ab0544e383f6de45b06f"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a0ef58f66dc90ab0544e383f6de45b06f">hasPartialRegUpdate</a></div><div class="ttdeci">static bool hasPartialRegUpdate(unsigned Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04060">X86InstrInfo.cpp:4060</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a2b48451e9cc8433ed5f8ee30462cc96e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">llvm::MachineInstr::mayLoad</a></div><div class="ttdeci">bool mayLoad(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00465">MachineInstr.h:465</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_ab3904d3601dbe52865d5f2e33a06d80d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00342">MachineRegisterInfo.h:342</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_aefba5f2af370add1bc8aaceedf7878ef"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">llvm::MachineBasicBlock::succ_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::iterator succ_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00249">MachineBasicBlock.h:249</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_aebe0f40b30c8ee9944128df55bee108a"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#aebe0f40b30c8ee9944128df55bee108a">llvm::X86InstrInfo::shouldScheduleAdjacent</a></div><div class="ttdeci">virtual bool shouldScheduleAdjacent(MachineInstr *First, MachineInstr *Second) const LLVM_OVERRIDE</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04914">X86InstrInfo.cpp:4914</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a27bda7d8e8e4f0337650a892f3c9b46a"><div class="ttname"><a href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">llvm::MVT::SimpleTy</a></div><div class="ttdeci">SimpleValueType SimpleTy</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00161">ValueTypes.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8b51cead9f721fa804fb14a9ae926683"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8b51cead9f721fa804fb14a9ae926683">llvm::MachineInstr::mmo_iterator</a></div><div class="ttdeci">MachineMemOperand ** mmo_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00052">MachineInstr.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html">llvm::AliasAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00056">AliasAnalysis.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1LiveVariables_html_a41eac39d1f0317209d712bbecea8eb1f"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a41eac39d1f0317209d712bbecea8eb1f">llvm::LiveVariables::replaceKillInstruction</a></div><div class="ttdeci">void replaceKillInstruction(unsigned Reg, MachineInstr *OldMI, MachineInstr *NewMI)</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00676">LiveVariables.cpp:676</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_abdea01e38f11e930205adbb936e1cc3f"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#abdea01e38f11e930205adbb936e1cc3f">llvm::X86InstrInfo::getExecutionDomain</a></div><div class="ttdeci">std::pair&lt; uint16_t, uint16_t &gt; getExecutionDomain(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05196">X86InstrInfo.cpp:5196</a></div></div>
<div class="ttc" id="classllvm_1_1X86MachineFunctionInfo_html_a45cb9cb686ed570cb4234ec290ce9084"><div class="ttname"><a href="classllvm_1_1X86MachineFunctionInfo.html#a45cb9cb686ed570cb4234ec290ce9084">llvm::X86MachineFunctionInfo::getNumLocalDynamicTLSAccesses</a></div><div class="ttdeci">unsigned getNumLocalDynamicTLSAccesses() const </div><div class="ttdef"><b>Definition:</b> <a href="X86MachineFunctionInfo_8h_source.html#l00138">X86MachineFunctionInfo.h:138</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aac0b7162fa4d154ed3dd41c93bd822611">TB_ALIGN_32</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00084">X86InstrInfo.cpp:84</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab3382de7890daac48bc575e4da5886bf"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab3382de7890daac48bc575e4da5886bf">llvm::MachineFunction::extractLoadMemRefs</a></div><div class="ttdeci">std::pair&lt; MachineInstr::mmo_iterator, MachineInstr::mmo_iterator &gt; extractLoadMemRefs(MachineInstr::mmo_iterator Begin, MachineInstr::mmo_iterator End)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00248">MachineFunction.cpp:248</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_afbf853e3a0de950e9116ffb9929ceebd"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#afbf853e3a0de950e9116ffb9929ceebd">llvm::MachineOperand::isUndef</a></div><div class="ttdeci">bool isUndef() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00294">MachineOperand.h:294</a></div></div>
<div class="ttc" id="namespacellvm_html_ad6f3c76ebf582efc900030350b5ac9ca"><div class="ttname"><a href="namespacellvm.html#ad6f3c76ebf582efc900030350b5ac9ca">llvm::createGlobalBaseRegPass</a></div><div class="ttdeci">FunctionPass * createGlobalBaseRegPass()</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05378">X86InstrInfo.cpp:5378</a></div></div>
<div class="ttc" id="classX86GenInstrInfo_html"><div class="ttname"><a href="classX86GenInstrInfo.html">X86GenInstrInfo</a></div></div>
<div class="ttc" id="classllvm_1_1X86RegisterInfo_html_acfd0722e4669be2f7e16059679406d9f"><div class="ttname"><a href="classllvm_1_1X86RegisterInfo.html#acfd0722e4669be2f7e16059679406d9f">llvm::X86RegisterInfo::needsStackRealignment</a></div><div class="ttdeci">bool needsStackRealignment(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="X86RegisterInfo_8cpp_source.html#l00439">X86RegisterInfo.cpp:439</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a6f82ce7f21d97fdd1f7da30db1c5eefb"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a6f82ce7f21d97fdd1f7da30db1c5eefb">llvm::X86InstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">virtual void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03253">X86InstrInfo.cpp:3253</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00265">MachineInstr.h:265</a></div></div>
<div class="ttc" id="X86TargetMachine_8h_html"><div class="ttname"><a href="X86TargetMachine_8h.html">X86TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a58048141ed81d581f3fb9a797f3186ee"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a58048141ed81d581f3fb9a797f3186ee">llvm::MachineOperand::isGlobal</a></div><div class="ttdeci">bool isGlobal() const </div><div class="ttdoc">isGlobal - Tests if this is a MO_GlobalAddress operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00242">MachineOperand.h:242</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a001a88e1d71c2e11ccd57efe75da4af3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">llvm::MachineInstr::RemoveOperand</a></div><div class="ttdeci">void RemoveOperand(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00717">MachineInstr.cpp:717</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_af562445435f18637f07676da054ba02c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#af562445435f18637f07676da054ba02c">llvm::MachineFunction::front</a></div><div class="ttdeci">const MachineBasicBlock &amp; front() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00327">MachineFunction.h:327</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a0cc1de9217edcb8e7aff85bc7916ec03"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a0cc1de9217edcb8e7aff85bc7916ec03">llvm::MCInstrDesc::NumDefs</a></div><div class="ttdeci">unsigned short NumDefs</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00141">MCInstrDesc.h:141</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aa21b508be8c212bdb0b28d734ab0ddb8"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00289">MachineOperand.h:289</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab0d5ec413fa43a1e470dafb6cafda9b5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const </div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00234">MachineOperand.h:234</a></div></div>
<div class="ttc" id="namespacellvm_html_a370ed0e0f2bb66d17cd13f84be54e867"><div class="ttname"><a href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">llvm::array_lengthof</a></div><div class="ttdeci">size_t array_lengthof(T(&amp;)[N])</div><div class="ttdoc">Find the length of an array. </div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00250">STLExtras.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8b64b30189b85c9dd54292b7d1d08a70"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">llvm::MachineInstr::readsRegister</a></div><div class="ttdeci">bool readsRegister(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00724">MachineInstr.h:724</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_ab319fc51db27ec95fd50a910c7ccec94"><div class="ttname"><a href="classllvm_1_1SDNode.html#ab319fc51db27ec95fd50a910c7ccec94">llvm::SDNode::getNumValues</a></div><div class="ttdeci">unsigned getNumValues() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00605">SelectionDAGNodes.h:605</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_acfe006ea905541241f162c9fc129a00b"><div class="ttname"><a href="X86InstrInfo_8cpp.html#acfe006ea905541241f162c9fc129a00b">getCondFromSETOpc</a></div><div class="ttdeci">static X86::CondCode getCondFromSETOpc(unsigned Opc)</div><div class="ttdoc">getCondFromSETOpc - return condition code of a SET opcode. </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02478">X86InstrInfo.cpp:2478</a></div></div>
<div class="ttc" id="classllvm_1_1X86RegisterInfo_html_a31160831f9ce9c42ac7f88783b3d1541"><div class="ttname"><a href="classllvm_1_1X86RegisterInfo.html#a31160831f9ce9c42ac7f88783b3d1541">llvm::X86RegisterInfo::canRealignStack</a></div><div class="ttdeci">bool canRealignStack(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="X86RegisterInfo_8cpp_source.html#l00420">X86RegisterInfo.cpp:420</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a5c36456408da4afa0fa2f60a9da88ddb"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a5c36456408da4afa0fa2f60a9da88ddb">llvm::TargetInstrInfo::commuteInstruction</a></div><div class="ttdeci">virtual MachineInstr * commuteInstruction(MachineInstr *MI, bool NewMI=false) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00119">TargetInstrInfo.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a5314399c907d77b514ec837e8527a9de"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">llvm::X86Subtarget::is64Bit</a></div><div class="ttdeci">bool is64Bit() const </div><div class="ttdoc">Is this x86_64? (disregarding specific ABI / programming model) </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00240">X86Subtarget.h:240</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa09bcb1a07fef11e4b680eb2c90986d3c"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa09bcb1a07fef11e4b680eb2c90986d3c">TB_ALIGN_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00086">X86InstrInfo.cpp:86</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">llvm::MVT::i32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00046">ValueTypes.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1DomTreeNodeBase_html"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html">llvm::DomTreeNodeBase</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00064">Dominators.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_af8c8f8f28b8d38b863b1ffd65e086894"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#af8c8f8f28b8d38b863b1ffd65e086894">llvm::X86InstrInfo::breakPartialRegDependency</a></div><div class="ttdeci">void breakPartialRegDependency(MachineBasicBlock::iterator MI, unsigned OpNum, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04176">X86InstrInfo.cpp:4176</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a202fa4e697f1ebd30bfe95d3ccbb2541"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a202fa4e697f1ebd30bfe95d3ccbb2541">llvm::TargetInstrInfo::getStackSlotRange</a></div><div class="ttdeci">virtual bool getStackSlotRange(const TargetRegisterClass *RC, unsigned SubIdx, unsigned &amp;Size, unsigned &amp;Offset, const TargetMachine *TM) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00280">TargetInstrInfo.cpp:280</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_abde905d34732d8796be2908635e193d2"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#abde905d34732d8796be2908635e193d2">llvm::MachineMemOperand::getAlignment</a></div><div class="ttdeci">uint64_t getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00460">MachineInstr.cpp:460</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html">llvm::InstrItineraryData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00111">MCInstrItineraries.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_af59f8508f31af6352894f90f9fcc6b40"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#af59f8508f31af6352894f90f9fcc6b40">llvm::X86InstrInfo::getUndefRegClearance</a></div><div class="ttdeci">unsigned getUndefRegClearance(const MachineInstr *MI, unsigned &amp;OpNum, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04159">X86InstrInfo.cpp:4159</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00402">MachineOperand.h:402</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2ea8b47d4d3f261caf07338c6775a08a2bc"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea8b47d4d3f261caf07338c6775a08a2bc">llvm::X86::COND_NE_OR_P</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00055">X86InstrInfo.h:55</a></div></div>
<div class="ttc" id="namespacellvm_html_aa3a1f79eb5e89f41ad5a3d8e9b2a367a"><div class="ttname"><a href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">llvm::getUndefRegState</a></div><div class="ttdeci">unsigned getUndefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00395">MachineInstrBuilder.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a2a25c462b91ac5da41f4ab7edc32b650"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a2a25c462b91ac5da41f4ab7edc32b650">llvm::MachineBasicBlock::rend</a></div><div class="ttdeci">reverse_iterator rend()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00242">MachineBasicBlock.h:242</a></div></div>
<div class="ttc" id="classllvm_1_1DomTreeNodeBase_html_a96fd2f0087c41942dd2618ff6e1b8640"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a96fd2f0087c41942dd2618ff6e1b8640">llvm::DomTreeNodeBase::getBlock</a></div><div class="ttdeci">NodeT * getBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00082">Dominators.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a4312b4757ac75bf9be905acfeefd6838"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">llvm::MachineRegisterInfo::constrainRegClass</a></div><div class="ttdeci">const TargetRegisterClass * constrainRegClass(unsigned Reg, const TargetRegisterClass *RC, unsigned MinNumRegs=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00052">MachineRegisterInfo.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html"><div class="ttname"><a href="classllvm_1_1MCInst.html">llvm::MCInst</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00150">MCInst.h:150</a></div></div>
<div class="ttc" id="namespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00389">MachineInstrBuilder.h:389</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa8c9768724e21a02d04d137b4c14e36e3"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa8c9768724e21a02d04d137b4c14e36e3">TB_INDEX_2</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00062">X86InstrInfo.cpp:62</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a3715880ebfc4edc7a0e6bad607715954"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a3715880ebfc4edc7a0e6bad607715954">llvm::X86Subtarget::hasSSE2</a></div><div class="ttdeci">bool hasSSE2() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00260">X86Subtarget.h:260</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_ab0b309d19817a23368c2f80c0ab3bc53"><div class="ttname"><a href="X86InstrInfo_8cpp.html#ab0b309d19817a23368c2f80c0ab3bc53">MakeM0Inst</a></div><div class="ttdeci">static MachineInstr * MakeM0Inst(const TargetInstrInfo &amp;TII, unsigned Opcode, const SmallVectorImpl&lt; MachineOperand &gt; &amp;MOs, MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03924">X86InstrInfo.cpp:3924</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aa7e43fc5b201a1cc5b2b0f1f72963dd2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">llvm::MachineOperand::ChangeToImmediate</a></div><div class="ttdeci">void ChangeToImmediate(int64_t ImmVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00112">MachineInstr.cpp:112</a></div></div>
<div class="ttc" id="namespacellvm_html_aeea7fd2e801b71e4b49d6e6aa2efea5c"><div class="ttname"><a href="namespacellvm.html#aeea7fd2e801b71e4b49d6e6aa2efea5c">llvm::getX86SubSuperRegister</a></div><div class="ttdeci">unsigned getX86SubSuperRegister(unsigned Reg, MVT::SimpleValueType VT, bool High)</div><div class="ttdef"><b>Definition:</b> <a href="X86RegisterInfo_8cpp_source.html#l00523">X86RegisterInfo.cpp:523</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00119">MachineInstr.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a0e176d8aa971658c11c07d237b8505f7"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a0e176d8aa971658c11c07d237b8505f7">getLoadStoreRegOpcode</a></div><div class="ttdeci">static unsigned getLoadStoreRegOpcode(unsigned Reg, const TargetRegisterClass *RC, bool isStackAligned, const TargetMachine &amp;TM, bool load)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03113">X86InstrInfo.cpp:3113</a></div></div>
<div class="ttc" id="namespacellvm_html_a3dd7c56278c84a39f699241bdaade2ee"><div class="ttname"><a href="namespacellvm.html#a3dd7c56278c84a39f699241bdaade2ee">llvm::getDeadRegState</a></div><div class="ttdeci">unsigned getDeadRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00392">MachineInstrBuilder.h:392</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8d6268ac5d00f510ade10bd1865d9829"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">llvm::MachineInstr::memoperands_end</a></div><div class="ttdeci">mmo_iterator memoperands_end() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00292">MachineInstr.h:292</a></div></div>
<div class="ttc" id="classllvm_1_1X86MachineFunctionInfo_html_a39e1c9a13befa4bf0f8425948efdd4e8"><div class="ttname"><a href="classllvm_1_1X86MachineFunctionInfo.html#a39e1c9a13befa4bf0f8425948efdd4e8">llvm::X86MachineFunctionInfo::getGlobalBaseReg</a></div><div class="ttdeci">unsigned getGlobalBaseReg() const </div><div class="ttdef"><b>Definition:</b> <a href="X86MachineFunctionInfo_8h_source.html#l00120">X86MachineFunctionInfo.h:120</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a6e8d1a0539b86c0e4e395c4cb72d2566"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a6e8d1a0539b86c0e4e395c4cb72d2566">getSETFromCond</a></div><div class="ttdeci">static unsigned getSETFromCond(X86::CondCode CC, bool HasMemoryOperand)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02622">X86InstrInfo.cpp:2622</a></div></div>
<div class="ttc" id="namespacellvm_html_aa5e4d7acf58e87826a15b94d37144f2b"><div class="ttname"><a href="namespacellvm.html#aa5e4d7acf58e87826a15b94d37144f2b">llvm::getDefRegState</a></div><div class="ttdeci">unsigned getDefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00383">MachineInstrBuilder.h:383</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a30ab43b4b4d783877c92c463d410c3ef"><div class="ttname"><a href="namespacellvm_1_1X86.html#a30ab43b4b4d783877c92c463d410c3ef">llvm::X86::GetOppositeBranchCondition</a></div><div class="ttdeci">CondCode GetOppositeBranchCondition(X86::CondCode CC)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02579">X86InstrInfo.cpp:2579</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1DomTreeNodeBase_html_a74111c67a831eb30b020ecf063bce406"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a74111c67a831eb30b020ecf063bce406">llvm::DomTreeNodeBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00078">Dominators.h:78</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_afa27732c7102dbb34ca79f5022bd33a4"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#afa27732c7102dbb34ca79f5022bd33a4">llvm::X86InstrInfo::hasHighOperandLatency</a></div><div class="ttdeci">bool hasHighOperandLatency(const InstrItineraryData *ItinData, const MachineRegisterInfo *MRI, const MachineInstr *DefMI, unsigned DefIdx, const MachineInstr *UseMI, unsigned UseIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05304">X86InstrInfo.cpp:5304</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a159c318e89a3ac46f2020da0309142c3"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a159c318e89a3ac46f2020da0309142c3">isFrameLoadOpcode</a></div><div class="ttdeci">static bool isFrameLoadOpcode(int Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01515">X86InstrInfo.cpp:1515</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a91aa25eac8330cdbab5f7f12fb29359d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a91aa25eac8330cdbab5f7f12fb29359d">llvm::MachineOperand::getTargetFlags</a></div><div class="ttdeci">unsigned getTargetFlags() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00187">MachineOperand.h:187</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a4a85184d12ba5cd1f4cd690fd225e9e4"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">llvm::MachineInstrBuilder::setMemRefs</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMemRefs(MachineInstr::mmo_iterator b, MachineInstr::mmo_iterator e) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00159">MachineInstrBuilder.h:159</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00042">ValueTypes.h:42</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a37d654e503b7f1e1b04bcaebe6fd337f"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a37d654e503b7f1e1b04bcaebe6fd337f">isDefConvertible</a></div><div class="ttdeci">static bool isDefConvertible(MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03402">X86InstrInfo.cpp:3402</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a349feaf4bcc809481e099a4b5cbed1e2"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a349feaf4bcc809481e099a4b5cbed1e2">isTruncatedShiftCountForLEA</a></div><div class="ttdeci">static bool isTruncatedShiftCountForLEA(unsigned ShAmt)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01841">X86InstrInfo.cpp:1841</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a45cdfdabb3963ec52b198ce5d3aabc84a5364e197f6bba28989699b6040ce96ca"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84a5364e197f6bba28989699b6040ce96ca">llvm::X86II::MO_GOT_ABSOLUTE_ADDRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00060">X86BaseInfo.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_adbff02335819babfcc96551f5933f698"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#adbff02335819babfcc96551f5933f698">llvm::MachineOperand::CreateCPI</a></div><div class="ttdeci">static MachineOperand CreateCPI(unsigned Idx, int Offset, unsigned char TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00597">MachineOperand.h:597</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_aa71c74c48947a705283eda33722cb0a5"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#aa71c74c48947a705283eda33722cb0a5">llvm::TargetMachine::getCodeModel</a></div><div class="ttdeci">CodeModel::Model getCodeModel() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00099">TargetMachine.cpp:99</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_ad4ec6a782e9699e2346610e40946fbb1"><div class="ttname"><a href="X86InstrInfo_8cpp.html#ad4ec6a782e9699e2346610e40946fbb1">foldPatchpoint</a></div><div class="ttdeci">static MachineInstr * foldPatchpoint(MachineFunction &amp;MF, MachineInstr *MI, const SmallVectorImpl&lt; unsigned &gt; &amp;Ops, int FrameIndex, const TargetInstrInfo &amp;TII)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04201">X86InstrInfo.cpp:4201</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="structX86OpTblEntry_html"><div class="ttname"><a href="structX86OpTblEntry.html">X86OpTblEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00089">X86InstrInfo.cpp:89</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a7e4908de854833bf9a67c1a28465c76a"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a7e4908de854833bf9a67c1a28465c76a">ReplaceableInstrs</a></div><div class="ttdeci">static const uint16_t ReplaceableInstrs[][3]</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05120">X86InstrInfo.cpp:5120</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab24db72f7bd10b13351812874015861b"><div class="ttname"><a href="Target_2README_8txt.html#ab24db72f7bd10b13351812874015861b">First</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees First</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00051">Target/README.txt:51</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa0fe51bc2620334f4efc6e918939bec7d"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa0fe51bc2620334f4efc6e918939bec7d">TB_NO_FORWARD</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00073">X86InstrInfo.cpp:73</a></div></div>
<div class="ttc" id="X86InstrInfo_8h_html"><div class="ttname"><a href="X86InstrInfo_8h.html">X86InstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a2f5638391983e37de7a993e9a081f26e"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a2f5638391983e37de7a993e9a081f26e">llvm::X86InstrInfo::expandPostRAPseudo</a></div><div class="ttdeci">virtual bool expandPostRAPseudo(MachineBasicBlock::iterator MI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03836">X86InstrInfo.cpp:3836</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_ab976c899dd9562ae41c33581e35323fc"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#ab976c899dd9562ae41c33581e35323fc">llvm::X86Subtarget::hasAVX2</a></div><div class="ttdeci">bool hasAVX2() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00266">X86Subtarget.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="namespacellvm_html_a64e4894ad3ddeb76ac44a947994690da"><div class="ttname"><a href="namespacellvm.html#a64e4894ad3ddeb76ac44a947994690da">llvm::get512BitSuperRegister</a></div><div class="ttdeci">unsigned get512BitSuperRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="X86RegisterInfo_8cpp_source.html#l00696">X86RegisterInfo.cpp:696</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_af77f29dbf27c325e25aae091aba01c2a"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">llvm::MCRegisterInfo::getSubReg</a></div><div class="ttdeci">unsigned getSubReg(unsigned Reg, unsigned Idx) const </div><div class="ttdoc">Returns the physical register number of sub-register &quot;Index&quot; for physical register RegNo...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8cpp_source.html#l00026">MCRegisterInfo.cpp:26</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="namespacellvm_1_1Reloc_html_af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320"><div class="ttname"><a href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">llvm::Reloc::PIC_</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00025">CodeGen.h:25</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a827cf856172b038da27ceb6b38d97f40"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a827cf856172b038da27ceb6b38d97f40">PrintFailedFusing</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; PrintFailedFusing(&quot;print-failed-fuse-candidates&quot;, cl::desc(&quot;Print instructions that the allocator wants to&quot;&quot; fuse, but the X86 backend currently can't&quot;), cl::Hidden)</div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">llvm::PPCISD::GlobalBaseReg</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00096">PPCISelLowering.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ae0ac5973cd95f76e3365e67aaad69de6"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae0ac5973cd95f76e3365e67aaad69de6">llvm::MachineInstr::isCopy</a></div><div class="ttdeci">bool isCopy() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00669">MachineInstr.h:669</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="namespacellvm_html_afad63f3314b8553ee3c26d020b3ce09e"><div class="ttname"><a href="namespacellvm.html#afad63f3314b8553ee3c26d020b3ce09e">llvm::addRegOffset</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addRegOffset(const MachineInstrBuilder &amp;MIB, unsigned Reg, bool isKill, int Offset)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00107">X86InstrBuilder.h:107</a></div></div>
<div class="ttc" id="namespacellvm_html_aa1704159f75e6eacd595962ea6d93ffe"><div class="ttname"><a href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a></div><div class="ttdeci">ItTy next(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00154">STLExtras.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html">llvm::X86Subtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00042">X86Subtarget.h:42</a></div></div>
<div class="ttc" id="MCInst_8h_html"><div class="ttname"><a href="MCInst_8h.html">MCInst.h</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a1f1def21af93ffb4e95a6771fbc7e32d"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a1f1def21af93ffb4e95a6771fbc7e32d">llvm::X86InstrInfo::canFoldMemoryOperand</a></div><div class="ttdeci">virtual bool canFoldMemoryOperand(const MachineInstr *, const SmallVectorImpl&lt; unsigned &gt; &amp;) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04456">X86InstrInfo.cpp:4456</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00236">MachineFunction.h:236</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aaa5a02028d5ede4404a22cbcb409a08fb"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaa5a02028d5ede4404a22cbcb409a08fb">TB_ALIGN_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00082">X86InstrInfo.cpp:82</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2feaa1c69335c6b9028076cd68c7a5f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">llvm::MachineOperand::setImm</a></div><div class="ttdeci">void setImm(int64_t immVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00488">MachineOperand.h:488</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ad9320d8b806f769d2779acf321a41ca2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">llvm::MachineInstr::hasOneMemOperand</a></div><div class="ttdeci">bool hasOneMemOperand() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00297">MachineInstr.h:297</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfaa6a2e45ae404e3f797d2d7e9f3a48949"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa6a2e45ae404e3f797d2d7e9f3a48949">llvm::CodeModel::Kernel</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00030">CodeGen.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00293">Pass.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_abd9c765b9afafff59eb14d50c9e9fba1"><div class="ttname"><a href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">EAX</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI EAX</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00208">README-SSE.txt:208</a></div></div>
<div class="ttc" id="classllvm_1_1PatchPointOpers_html"><div class="ttname"><a href="classllvm_1_1PatchPointOpers.html">llvm::PatchPointOpers</a></div><div class="ttdoc">MI-level patchpoint operands. </div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00037">StackMaps.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a04c9c39dfd7170619ba060bb6e5e8723"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a04c9c39dfd7170619ba060bb6e5e8723">llvm::X86InstrInfo::isStoreToStackSlot</a></div><div class="ttdeci">unsigned isStoreToStackSlot(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01595">X86InstrInfo.cpp:1595</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691"><div class="ttname"><a href="namespacellvm_1_1X86.html#a2676a7a40e87d37dcdf74487ef47480eac4169d78e1c6de9b189f31b90f1c2691">llvm::X86::AddrNumOperands</a></div><div class="ttdoc">AddrNumOperands - Total number of operands in a memory reference. </div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00042">X86BaseInfo.h:42</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea3547c8602aab6b0319c8052f8583613b">llvm::X86::COND_GE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00039">X86InstrInfo.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a4efb46d4834f6f750ae0649ed89ce44c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">llvm::DenseMapBase::count</a></div><div class="ttdeci">bool count(const KeyT &amp;Val) const </div><div class="ttdoc">count - Return true if the specified key is in the map. </div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00103">DenseMap.h:103</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_abba16994f3ca44d8ca50526c83899463"><div class="ttname"><a href="X86InstrInfo_8cpp.html#abba16994f3ca44d8ca50526c83899463">getTruncatedShiftCount</a></div><div class="ttdeci">static unsigned getTruncatedShiftCount(MachineInstr *MI, unsigned ShiftAmtOperandIdx)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01831">X86InstrInfo.cpp:1831</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a3293892e5078a238db5b0f388aca5fa5"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3293892e5078a238db5b0f388aca5fa5">llvm::MachineInstr::isInvariantLoad</a></div><div class="ttdeci">bool isInvariantLoad(AliasAnalysis *AA) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01289">MachineInstr.cpp:1289</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_aa460158a4019a4043faf6ea76344cbd5"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">llvm::MachineFunction::getConstantPool</a></div><div class="ttdeci">MachineConstantPool * getConstantPool()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00192">MachineFunction.h:192</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af0288e181965a5ff9f0c7a75201fd142"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142">llvm::MachineBasicBlock::LivenessQueryResult</a></div><div class="ttdeci">LivenessQueryResult</div><div class="ttdoc">Possible outcome of a register liveness query to computeRegisterLiveness() </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00586">MachineBasicBlock.h:586</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_a4d51384de6e1798bb6aa875aebeea9f0"><div class="ttname"><a href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">llvm::Constant::getAllOnesValue</a></div><div class="ttdeci">static Constant * getAllOnesValue(Type *Ty)</div><div class="ttdoc">Get the all ones value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00163">Constants.cpp:163</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a0290546aa7ece78ad9e0ab0816133b4a"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a0290546aa7ece78ad9e0ab0816133b4a">llvm::X86InstrInfo::classifyLEAReg</a></div><div class="ttdeci">bool classifyLEAReg(MachineInstr *MI, const MachineOperand &amp;Src, unsigned LEAOpcode, bool AllowSP, unsigned &amp;NewSrc, bool &amp;isKill, bool &amp;isUndef, MachineOperand &amp;ImplicitOp) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01850">X86InstrInfo.cpp:1850</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af0288e181965a5ff9f0c7a75201fd142accc15fa5c7a27d461dc9a884cc9a2dc8"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142accc15fa5c7a27d461dc9a884cc9a2dc8">llvm::MachineBasicBlock::LQR_Live</a></div><div class="ttdoc">Register is known to be live. </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00587">MachineBasicBlock.h:587</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a70e508bc7f43a27814a74eb14f7c5c65"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">llvm::X86Subtarget::isPICStyleGOT</a></div><div class="ttdeci">bool isPICStyleGOT() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00347">X86Subtarget.h:347</a></div></div>
<div class="ttc" id="XCoreInstrInfo_8cpp_html_afb1f45af4bdaea231702d026f2d54943"><div class="ttname"><a href="XCoreInstrInfo_8cpp.html#afb1f45af4bdaea231702d026f2d54943">GetCondBranchFromCond</a></div><div class="ttdeci">static unsigned GetCondBranchFromCond(XCore::CondCode CC)</div><div class="ttdef"><b>Definition:</b> <a href="XCoreInstrInfo_8cpp_source.html#l00147">XCoreInstrInfo.cpp:147</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6321b189ea8fd5058663f8a87d6c23e9"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">llvm::MachineBasicBlock::succ_begin</a></div><div class="ttdeci">succ_iterator succ_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00276">MachineBasicBlock.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aca37b55b20f45c96067bac1d4f1dcb7f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00264">MachineOperand.h:264</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00576">ValueTypes.h:576</a></div></div>
<div class="ttc" id="classllvm_1_1LiveVariables_html_a434b7516027126339021e18d66c34864"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a434b7516027126339021e18d66c34864">llvm::LiveVariables::getVarInfo</a></div><div class="ttdeci">VarInfo &amp; getVarInfo(unsigned RegIdx)</div><div class="ttdoc">getVarInfo - Get (possibly creating) a VarInfo object for the given vreg. </div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00085">LiveVariables.cpp:85</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a406bec242e875c065e0e575effe4c339"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a406bec242e875c065e0e575effe4c339">llvm::MCInstrDesc::getOperandConstraint</a></div><div class="ttdeci">int getOperandConstraint(unsigned OpNum, MCOI::OperandConstraint Constraint) const </div><div class="ttdoc">Returns the value of the specific constraint if it is set. Returns -1 if it is not set...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="X86Subtarget_8h_html"><div class="ttname"><a href="X86Subtarget_8h.html">X86Subtarget.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrInfo_html_ab16f5a81fccfe4b7f645ba5a74ffad02"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00048">MCInstrInfo.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a59745bc91f4687adfc29791c5c773762"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a59745bc91f4687adfc29791c5c773762">llvm::X86InstrInfo::InsertBranch</a></div><div class="ttdeci">virtual unsigned InsertBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *TBB, MachineBasicBlock *FBB, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, DebugLoc DL) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02872">X86InstrInfo.cpp:2872</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa612e3445dd582769ddde75a5c392414"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa612e3445dd582769ddde75a5c392414">isHReg</a></div><div class="ttdeci">static bool isHReg(unsigned Reg)</div><div class="ttdoc">isHReg - Test if the given register is a physical h register. </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02971">X86InstrInfo.cpp:2971</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a8a82683fccdef8a5ef772ef03277aee7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">llvm::MachineOperand::setIsKill</a></div><div class="ttdeci">void setIsKill(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00367">MachineOperand.h:367</a></div></div>
<div class="ttc" id="namespacellvm_html_ad73248c76f67b663abacff7aff17fd2c"><div class="ttname"><a href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">llvm::addFrameReference</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addFrameReference(const MachineInstrBuilder &amp;MIB, int FI, int Offset=0, bool mem=true)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrBuilder_8h_source.html#l00033">PPCInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2c5eddfba64e7a44deba1b5a0d45a017"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">llvm::MachineOperand::isRegMask</a></div><div class="ttdeci">bool isRegMask() const </div><div class="ttdoc">isRegMask - Tests if this is a MO_RegisterMask operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00248">MachineOperand.h:248</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a45028d169700cac71cf6c613a94236ee"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a45028d169700cac71cf6c613a94236ee">llvm::MachineBasicBlock::findDebugLoc</a></div><div class="ttdeci">DebugLoc findDebugLoc(instr_iterator MBBI)</div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a4105866812fcd688e867f18e83302872"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a4105866812fcd688e867f18e83302872">isSafeToClobberEFLAGS</a></div><div class="ttdeci">static bool isSafeToClobberEFLAGS(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01717">X86InstrInfo.cpp:1717</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eafeeb44274a14a14010dc990daecb39a0">llvm::X86::COND_AE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00034">X86InstrInfo.h:34</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aace73c3d1efdf695d37212bd436fa675c"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aace73c3d1efdf695d37212bd436fa675c">TB_INDEX_1</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00061">X86InstrInfo.cpp:61</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a11791fa2583d22ec8724a5f29eaa188d"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a11791fa2583d22ec8724a5f29eaa188d">llvm::X86InstrInfo::isCoalescableExtInstr</a></div><div class="ttdeci">virtual bool isCoalescableExtInstr(const MachineInstr &amp;MI, unsigned &amp;SrcReg, unsigned &amp;DstReg, unsigned &amp;SubIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01453">X86InstrInfo.cpp:1453</a></div></div>
<div class="ttc" id="structllvm_1_1LiveVariables_1_1VarInfo_html_a65c816771eca7465f5e3e0bb6624ad88"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">llvm::LiveVariables::VarInfo::Kills</a></div><div class="ttdeci">std::vector&lt; MachineInstr * &gt; Kills</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00089">LiveVariables.h:89</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ad6a9e04ace03e64069c0e3a87c529dcc"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ad6a9e04ace03e64069c0e3a87c529dcc">load</a></div><div class="ttdeci">LLVM currently emits rax rax movq rax rax ret It could narrow the loads and stores to emit rax rax movq rax rax ret The trouble is that there is a TokenFactor between the store and the load</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01776">Target/X86/README.txt:1776</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a654643214ca83563f3a22bbcd05fd8b7"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a654643214ca83563f3a22bbcd05fd8b7">isRedundantFlagInstr</a></div><div class="ttdeci">static bool isRedundantFlagInstr(MachineInstr *FlagI, unsigned SrcReg, unsigned SrcReg2, int ImmValue, MachineInstr *OI)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03363">X86InstrInfo.cpp:3363</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a40eb675b7ad895a18268bc092a71aabf"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a40eb675b7ad895a18268bc092a71aabf">llvm::X86InstrInfo::areLoadsFromSameBasePtr</a></div><div class="ttdeci">virtual bool areLoadsFromSameBasePtr(SDNode *Load1, SDNode *Load2, int64_t &amp;Offset1, int64_t &amp;Offset2) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04761">X86InstrInfo.cpp:4761</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html_ae844d6ff99f067e6672e004ed7613c24"><div class="ttname"><a href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">llvm::MCInst::setOpcode</a></div><div class="ttdeci">void setOpcode(unsigned Op)</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00157">MCInst.h:157</a></div></div>
<div class="ttc" id="StackMaps_8h_html"><div class="ttname"><a href="StackMaps_8h.html">StackMaps.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02dac84d4b40d46ba3f9eb98a4d65d584670"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02dac84d4b40d46ba3f9eb98a4d65d584670">llvm::X86II::SSEDomainShift</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00431">X86BaseInfo.h:431</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a629eb5716c9e1067f25a3a7bf2be8ab8"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a629eb5716c9e1067f25a3a7bf2be8ab8">llvm::X86InstrInfo::insertSelect</a></div><div class="ttdeci">virtual void insertSelect(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, DebugLoc DL, unsigned DstReg, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, unsigned TrueReg, unsigned FalseReg) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02957">X86InstrInfo.cpp:2957</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1ecb35298bc4d1fe03997959e1210c87"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;tid)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00984">MachineInstr.h:984</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a5af2fed99951774b6a14d30ec6e73792"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">llvm::TargetMachine::getSubtarget</a></div><div class="ttdeci">const STC &amp; getSubtarget() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00132">Target/TargetMachine.h:132</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eab1840bfcd789713b29a40d9d55cb41e3">llvm::X86::COND_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00058">X86InstrInfo.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a6ca0b91d76cb52e930c7b2b70944c5bc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a6ca0b91d76cb52e930c7b2b70944c5bc">llvm::MachineInstr::substituteRegister</a></div><div class="ttdeci">void substituteRegister(unsigned FromReg, unsigned ToReg, unsigned SubIdx, const TargetRegisterInfo &amp;RegInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01202">MachineInstr.cpp:1202</a></div></div>
<div class="ttc" id="TargetOptions_8h_html"><div class="ttname"><a href="TargetOptions_8h.html">TargetOptions.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02da12e1b321252ff4c31f9a6b563d8d18b7"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da12e1b321252ff4c31f9a6b563d8d18b7">llvm::X86II::REX_W</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00367">X86BaseInfo.h:367</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaaf9d50e29346a1094fb35045851db856">llvm::X86::COND_BE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00036">X86InstrInfo.h:36</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaeb72ca445848c39685fff16f97825475">llvm::X86::COND_S</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00048">X86InstrInfo.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac485421b5fcb9454ea64e74f6396a810"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">llvm::MachineFunction::CloneMachineInstr</a></div><div class="ttdeci">MachineInstr * CloneMachineInstr(const MachineInstr *Orig)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00184">MachineFunction.cpp:184</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html">llvm::SelectionDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00169">SelectionDAG.h:169</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a154b95cc09fa78a4d398adb259b0de16"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a154b95cc09fa78a4d398adb259b0de16">copyPhysRegOpcode_AVX512</a></div><div class="ttdeci">static unsigned copyPhysRegOpcode_AVX512(unsigned &amp;DestReg, unsigned &amp;SrcReg)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03019">X86InstrInfo.cpp:3019</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb">llvm::Attribute::OptimizeForSize</a></div><div class="ttdoc">opt_size </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00091">Attributes.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_ae146d6827dae2ff77fc65b7fd319dbb8"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">llvm::MachineFrameInfo::getObjectAlignment</a></div><div class="ttdeci">unsigned getObjectAlignment(int ObjectIdx) const </div><div class="ttdoc">getObjectAlignment - Return the alignment of the specified stack object. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00361">MachineFrameInfo.h:361</a></div></div>
<div class="ttc" id="X86MachineFunctionInfo_8h_html"><div class="ttname"><a href="X86MachineFunctionInfo_8h.html">X86MachineFunctionInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">llvm::MVT::f32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00054">ValueTypes.h:54</a></div></div>
<div class="ttc" id="namespacellvm_html_a5a1ffa9f6330c88feb36340a950ba397"><div class="ttname"><a href="namespacellvm.html#a5a1ffa9f6330c88feb36340a950ba397">llvm::addRegReg</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addRegReg(const MachineInstrBuilder &amp;MIB, unsigned Reg1, bool isKill1, unsigned Reg2, bool isKill2)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00114">X86InstrBuilder.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a8de7d5cf38939044471c6ee60a01a3df"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00274">MachineOperand.h:274</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a73a1ea7a9972c485d9f3cca733deb593"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a73a1ea7a9972c485d9f3cca733deb593">llvm::X86InstrInfo::isStoreToStackSlotPostFE</a></div><div class="ttdeci">unsigned isStoreToStackSlotPostFE(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01604">X86InstrInfo.cpp:1604</a></div></div>
<div class="ttc" id="LiveVariables_8h_html"><div class="ttname"><a href="LiveVariables_8h.html">LiveVariables.h</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a52e85681cc881f82b53bd2506abd7a66"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a52e85681cc881f82b53bd2506abd7a66">llvm::X86InstrInfo::getGlobalBaseReg</a></div><div class="ttdeci">unsigned getGlobalBaseReg(MachineFunction *MF) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05100">X86InstrInfo.cpp:5100</a></div></div>
<div class="ttc" id="classllvm_1_1SDLoc_html"><div class="ttname"><a href="classllvm_1_1SDLoc.html">llvm::SDLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00799">SelectionDAGNodes.h:799</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aff83f9aeef903ed06c5098f5172624ed"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aff83f9aeef903ed06c5098f5172624ed">llvm::MachineInstr::killsRegister</a></div><div class="ttdeci">bool killsRegister(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00745">MachineInstr.h:745</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a4ad4295a88187ea1ae12ecfcfa18a70f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo * getFrameInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00174">MachineFunction.h:174</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a8151c052fa152944ef1e8d7add90db76"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a8151c052fa152944ef1e8d7add90db76">getStoreRegOpcode</a></div><div class="ttdeci">static unsigned getStoreRegOpcode(unsigned SrcReg, const TargetRegisterClass *RC, bool isStackAligned, TargetMachine &amp;TM)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03200">X86InstrInfo.cpp:3200</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af11a6ebf7ab3c388234cb6d5378439a3"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">llvm::AnalysisUsage::setPreservesCFG</a></div><div class="ttdeci">void setPreservesCFG()</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00249">Pass.cpp:249</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">llvm::MVT::i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00044">ValueTypes.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00306">SelectionDAGNodes.h:306</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aae4e327424e502e7fb04ea9a22d3412a6"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aae4e327424e502e7fb04ea9a22d3412a6">TB_INDEX_0</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00060">X86InstrInfo.cpp:60</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a00c9d82d8d59adedd1734fed16051c73"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a00c9d82d8d59adedd1734fed16051c73">llvm::MachineBasicBlock::remove</a></div><div class="ttdeci">MachineInstr * remove(MachineInstr *I)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00519">MachineBasicBlock.h:519</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eaf40beda0a4322699215cb85d7d6667b6">llvm::X86::COND_L</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00040">X86InstrInfo.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a2522af10a772a02013645b9400120912"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a2522af10a772a02013645b9400120912">llvm::X86InstrInfo::copyPhysReg</a></div><div class="ttdeci">virtual void copyPhysReg(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, DebugLoc DL, unsigned DestReg, unsigned SrcReg, bool KillSrc) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03035">X86InstrInfo.cpp:3035</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad5bef9f5be828b62f053b3017eb9dbdb"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad5bef9f5be828b62f053b3017eb9dbdb">llvm::MachineOperand::clobbersPhysReg</a></div><div class="ttdeci">static bool clobbersPhysReg(const uint32_t *RegMask, unsigned PhysReg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00461">MachineOperand.h:461</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a307eebee817f160c1b97bbe4f673103e"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a307eebee817f160c1b97bbe4f673103e">llvm::X86InstrInfo::isLoadFromStackSlotPostFE</a></div><div class="ttdeci">unsigned isLoadFromStackSlotPostFE(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01582">X86InstrInfo.cpp:1582</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea874bd4784391ae60bfdbc12d1f10bc73">llvm::X86::COND_G</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00038">X86InstrInfo.h:38</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a55f1c19ebb9fce7a442816eeb154174f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a55f1c19ebb9fce7a442816eeb154174f">llvm::MachineInstr::isSafeToMove</a></div><div class="ttdeci">bool isSafeToMove(const TargetInstrInfo *TII, AliasAnalysis *AA, bool &amp;SawStore) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01228">MachineInstr.cpp:1228</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a29763a3c587afc22e112eea9a493089e"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a29763a3c587afc22e112eea9a493089e">llvm::X86Subtarget::isUnalignedMemAccessFast</a></div><div class="ttdeci">bool isUnalignedMemAccessFast() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00295">X86Subtarget.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a3a8e37a5bdd95e6bc921cc0855a3dbf1"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a3a8e37a5bdd95e6bc921cc0855a3dbf1">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00319">MachineRegisterInfo.cpp:319</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a2895352ba760d977d04a525c6d388d08"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a2895352ba760d977d04a525c6d388d08">llvm::X86Subtarget::hasCMov</a></div><div class="ttdeci">bool hasCMov() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00257">X86Subtarget.h:257</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a66efe5c5561969cd4506c421daaf9bf3"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a66efe5c5561969cd4506c421daaf9bf3">llvm::MachineRegisterInfo::def_begin</a></div><div class="ttdeci">def_iterator def_begin(unsigned RegNo) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00237">MachineRegisterInfo.h:237</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a746b6af01e342863e802324f0156d1cb"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a746b6af01e342863e802324f0156d1cb">llvm::X86InstrInfo::RemoveBranch</a></div><div class="ttdeci">virtual unsigned RemoveBranch(MachineBasicBlock &amp;MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02851">X86InstrInfo.cpp:2851</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa789bd76f56a6ad220f593ce81085a8c5">TB_ALIGN_SHIFT</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00081">X86InstrInfo.cpp:81</a></div></div>
<div class="ttc" id="classllvm_1_1X86TargetMachine_html_a0f9e3271ccf39f4fdf00eb246e6ef5b3"><div class="ttname"><a href="classllvm_1_1X86TargetMachine.html#a0f9e3271ccf39f4fdf00eb246e6ef5b3">llvm::X86TargetMachine::getFrameLowering</a></div><div class="ttdeci">virtual const TargetFrameLowering * getFrameLowering() const </div><div class="ttdef"><b>Definition:</b> <a href="X86TargetMachine_8h_source.html#l00047">X86TargetMachine.h:47</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa4b1c412cfa1f5ab7b9eb9e041ec5203a">TB_FOLDED_LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00075">X86InstrInfo.cpp:75</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a741b097ea66320e3a1763cccefc9439a"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a741b097ea66320e3a1763cccefc9439a">llvm::X86InstrInfo::optimizeCompareInstr</a></div><div class="ttdeci">virtual bool optimizeCompareInstr(MachineInstr *CmpInstr, unsigned SrcReg, unsigned SrcReg2, int CmpMask, int CmpValue, const MachineRegisterInfo *MRI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03492">X86InstrInfo.cpp:3492</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">llvm::MVT::f64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00055">ValueTypes.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="namespacellvm_html_af36d7e69ab16b64b2e3a48c83aa9f0f6"><div class="ttname"><a href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">llvm::MinAlign</a></div><div class="ttdeci">uint64_t MinAlign(uint64_t A, uint64_t B)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00535">MathExtras.h:535</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a772a541f137327db635e21a1c8a2b7cd"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a></div><div class="ttdeci">static const uint16_t * lookup(unsigned opcode, unsigned domain)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05181">X86InstrInfo.cpp:5181</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a92635a62ef7041326cfab6622f31fbb3"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a92635a62ef7041326cfab6622f31fbb3">FuseInst</a></div><div class="ttdeci">static MachineInstr * FuseInst(MachineFunction &amp;MF, unsigned Opcode, unsigned OpNo, const SmallVectorImpl&lt; MachineOperand &gt; &amp;MOs, MachineInstr *MI, const TargetInstrInfo &amp;TII)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03899">X86InstrInfo.cpp:3899</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a055858b14215864ed367a8db6c19d6f6"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">llvm::TargetRegisterInfo::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00280">TargetRegisterInfo.h:280</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a1f3b505096c9d0a62721ef252b05cd23"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a1f3b505096c9d0a62721ef252b05cd23">llvm::X86InstrInfo::analyzeCompare</a></div><div class="ttdeci">virtual bool analyzeCompare(const MachineInstr *MI, unsigned &amp;SrcReg, unsigned &amp;SrcReg2, int &amp;CmpMask, int &amp;CmpValue) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03286">X86InstrInfo.cpp:3286</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a1fab98f965d199602ae3ffad33822a64"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a1fab98f965d199602ae3ffad33822a64">llvm::X86InstrInfo::isSafeToMoveRegClassDefs</a></div><div class="ttdeci">bool isSafeToMoveRegClassDefs(const TargetRegisterClass *RC) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05087">X86InstrInfo.cpp:5087</a></div></div>
<div class="ttc" id="SparcInstrInfo_8cpp_html_a37f317c48074b11fa501731852794c78"><div class="ttname"><a href="SparcInstrInfo_8cpp.html#a37f317c48074b11fa501731852794c78">GetOppositeBranchCondition</a></div><div class="ttdeci">static SPCC::CondCodes GetOppositeBranchCondition(SPCC::CondCodes CC)</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8cpp_source.html#l00089">SparcInstrInfo.cpp:89</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ac9485ae7d6fedd71ad4460f72c799c98"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00422">MachineOperand.h:422</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8acd0cccd396f412a2f6eef00422b3106a"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8acd0cccd396f412a2f6eef00422b3106a">llvm::TargetOpcode::PATCHPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00107">TargetOpcodes.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a183fc29cc1ccec18f5e9e4122a4aab1c"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a183fc29cc1ccec18f5e9e4122a4aab1c">llvm::MachineBasicBlock::isLiveIn</a></div><div class="ttdeci">bool isLiveIn(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00340">MachineBasicBlock.cpp:340</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00167">MachineFunction.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="namespacellvm_html_ac69ffa25019a9273380556dacb1ba33b"><div class="ttname"><a href="namespacellvm.html#ac69ffa25019a9273380556dacb1ba33b">llvm::addOffset</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addOffset(const MachineInstrBuilder &amp;MIB, int Offset)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00098">X86InstrBuilder.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af0288e181965a5ff9f0c7a75201fd142af64367be349b6e7672de902ebecae068"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142af64367be349b6e7672de902ebecae068">llvm::MachineBasicBlock::LQR_Unknown</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00591">MachineBasicBlock.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunctionPass_html_aa1eece37d175f86a6f4808c0c167f13b"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#aa1eece37d175f86a6f4808c0c167f13b">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;AU) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00036">MachineFunctionPass.cpp:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_ace690c220f3b141bdf98c86635783d8f"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ace690c220f3b141bdf98c86635783d8f">llvm::MachineInstrBuilder::addExternalSymbol</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addExternalSymbol(const char *FnName, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00136">MachineInstrBuilder.h:136</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a5a91c23866687baf221ce86ff6fde01f"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a5a91c23866687baf221ce86ff6fde01f">llvm::TargetOpcode::IMPLICIT_DEF</a></div><div class="ttdoc">IMPLICIT_DEF - This is the MachineInstr-level equivalent of undef. </div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00052">TargetOpcodes.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_af8fd8b13de89bef8f28710f5b3125c29"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#af8fd8b13de89bef8f28710f5b3125c29">llvm::X86InstrInfo::unfoldMemoryOperand</a></div><div class="ttdeci">virtual bool unfoldMemoryOperand(MachineFunction &amp;MF, MachineInstr *MI, unsigned Reg, bool UnfoldLoad, bool UnfoldStore, SmallVectorImpl&lt; MachineInstr * &gt; &amp;NewMIs) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04511">X86InstrInfo.cpp:4511</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a889f3233fc8b22311c421207244089e2"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a889f3233fc8b22311c421207244089e2">llvm::X86InstrInfo::setExecutionDomain</a></div><div class="ttdeci">void setExecutionDomain(MachineInstr *MI, unsigned Domain) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05207">X86InstrInfo.cpp:5207</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a57bf9ee7219097ff0f98da23a3b3b782"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00269">MachineOperand.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a624a062754a09d3787614d8627096705"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a624a062754a09d3787614d8627096705">llvm::MachineOperand::setReg</a></div><div class="ttdeci">void setReg(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00049">MachineInstr.cpp:49</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab09679b541a6ba1219b3602569847364"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab09679b541a6ba1219b3602569847364">llvm::MachineOperand::CreateImm</a></div><div class="ttdeci">static MachineOperand CreateImm(int64_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00542">MachineOperand.h:542</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a001d31fcea92be51d2999826b806606f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a001d31fcea92be51d2999826b806606f">llvm::MachineOperand::setSubReg</a></div><div class="ttdeci">void setSubReg(unsigned subReg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00339">MachineOperand.h:339</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_aeb6ba41f9800599d5b5ca678db61ca2f"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aeb6ba41f9800599d5b5ca678db61ca2f">llvm::TargetInstrInfo::canFoldMemoryOperand</a></div><div class="ttdeci">virtual bool canFoldMemoryOperand(const MachineInstr *MI, const SmallVectorImpl&lt; unsigned &gt; &amp;Ops) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00370">TargetInstrInfo.cpp:370</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a7b61cdafc8745d283f3721381f2853f2"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a7b61cdafc8745d283f3721381f2853f2">llvm::X86Subtarget::hasAVX512</a></div><div class="ttdeci">bool hasAVX512() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00267">X86Subtarget.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2e"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2e">llvm::X86::CondCode</a></div><div class="ttdeci">CondCode</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00032">X86InstrInfo.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a8d02c1e6ef20f42c10d6f4e7234efd61"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a8d02c1e6ef20f42c10d6f4e7234efd61">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_afe8c553ab3418eec718860c098c6e080"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#afe8c553ab3418eec718860c098c6e080">llvm::SelectionDAG::getMachineNode</a></div><div class="ttdeci">MachineSDNode * getMachineNode(unsigned Opcode, SDLoc dl, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l05411">SelectionDAG.cpp:5411</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a83521d375ab6fa527d0b6106664ca029"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a83521d375ab6fa527d0b6106664ca029">llvm::X86InstrInfo::loadRegFromAddr</a></div><div class="ttdeci">virtual void loadRegFromAddr(MachineFunction &amp;MF, unsigned DestReg, SmallVectorImpl&lt; MachineOperand &gt; &amp;Addr, const TargetRegisterClass *RC, MachineInstr::mmo_iterator MMOBegin, MachineInstr::mmo_iterator MMOEnd, SmallVectorImpl&lt; MachineInstr * &gt; &amp;NewMIs) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03267">X86InstrInfo.cpp:3267</a></div></div>
<div class="ttc" id="X86InstrBuilder_8h_html"><div class="ttname"><a href="X86InstrBuilder_8h.html">X86InstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00045">MachineInstrBuilder.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_ae682c1cef5a03537d7461093a08a13d0"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#ae682c1cef5a03537d7461093a08a13d0">llvm::X86InstrInfo::isUnpredicatedTerminator</a></div><div class="ttdeci">virtual bool isUnpredicatedTerminator(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02696">X86InstrInfo.cpp:2696</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_abf69f92f1977440a4e443a26baeb73c0"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00308">MachineRegisterInfo.cpp:308</a></div></div>
<div class="ttc" id="LLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a5a863824ff0b77fc42d329b2e9e87f14"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a5a863824ff0b77fc42d329b2e9e87f14">llvm::MachineFunction::extractStoreMemRefs</a></div><div class="ttdeci">std::pair&lt; MachineInstr::mmo_iterator, MachineInstr::mmo_iterator &gt; extractStoreMemRefs(MachineInstr::mmo_iterator Begin, MachineInstr::mmo_iterator End)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00280">MachineFunction.cpp:280</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a05ecf19c3cf3d24c1cb2373eaa1c190b"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a05ecf19c3cf3d24c1cb2373eaa1c190b">FuseTwoAddrInst</a></div><div class="ttdeci">static MachineInstr * FuseTwoAddrInst(MachineFunction &amp;MF, unsigned Opcode, const SmallVectorImpl&lt; MachineOperand &gt; &amp;MOs, MachineInstr *MI, const TargetInstrInfo &amp;TII)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03871">X86InstrInfo.cpp:3871</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aafb199cf6f6f35679ac670d7630d8b35"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafb199cf6f6f35679ac670d7630d8b35">llvm::MachineInstr::isCommutable</a></div><div class="ttdeci">bool isCommutable(QueryType Type=IgnoreBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00502">MachineInstr.h:502</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa3951764de469a7f4e532520e6bda6a2"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa3951764de469a7f4e532520e6bda6a2">getLoadRegOpcode</a></div><div class="ttdeci">static unsigned getLoadRegOpcode(unsigned DestReg, const TargetRegisterClass *RC, bool isStackAligned, const TargetMachine &amp;TM)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03208">X86InstrInfo.cpp:3208</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_aa21b132afc12ed3cead7a879506f277a"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa21b132afc12ed3cead7a879506f277a">llvm::MachineRegisterInfo::def_end</a></div><div class="ttdeci">static def_iterator def_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00240">MachineRegisterInfo.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1DomTreeNodeBase_html_a4d2422d22434aa1008a519a143364715"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a4d2422d22434aa1008a519a143364715">llvm::DomTreeNodeBase::iterator</a></div><div class="ttdeci">std::vector&lt; DomTreeNodeBase&lt; NodeT &gt; * &gt;::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00073">Dominators.h:73</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a7cc561385866365c30e01079ece8ce04"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a7cc561385866365c30e01079ece8ce04">ReplaceableInstrsAVX2</a></div><div class="ttdeci">static const uint16_t ReplaceableInstrsAVX2[][3]</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05160">X86InstrInfo.cpp:5160</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a98bd6ef07dea75f1fccf9699eabb7fe7"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a98bd6ef07dea75f1fccf9699eabb7fe7">llvm::X86InstrInfo::isReallyTriviallyReMaterializable</a></div><div class="ttdeci">bool isReallyTriviallyReMaterializable(const MachineInstr *MI, AliasAnalysis *AA) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01636">X86InstrInfo.cpp:1636</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_aecc033202cd7b81b45599f488607fa93"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#aecc033202cd7b81b45599f488607fa93">llvm::X86InstrInfo::shouldScheduleLoadsNear</a></div><div class="ttdeci">virtual bool shouldScheduleLoadsNear(SDNode *Load1, SDNode *Load2, int64_t Offset1, int64_t Offset2, unsigned NumLoads) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04866">X86InstrInfo.cpp:4866</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">llvm::MVT::i16</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00045">ValueTypes.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a0848c971395758cf592821550b725853"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a0848c971395758cf592821550b725853">llvm::MachineBasicBlock::reverse_iterator</a></div><div class="ttdeci">std::reverse_iterator&lt; iterator &gt; reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00216">MachineBasicBlock.h:216</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2eacb2f86eaebe8b719f743d17a2d5a5f3d">llvm::X86::COND_NE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00042">X86InstrInfo.h:42</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aa1ec82398ade62414be35d8431c0a33b"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">llvm::MachineInstrBuilder::addMBB</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMBB(MachineBasicBlock *MBB, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00098">MachineInstrBuilder.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1StackMaps_html_a181f65d4a4da75240c4f105cf644fa1da8590171dd4cec9b967dbcf0bd167dbd9"><div class="ttname"><a href="classllvm_1_1StackMaps.html#a181f65d4a4da75240c4f105cf644fa1da8590171dd4cec9b967dbcf0bd167dbd9">llvm::StackMaps::IndirectMemRefOp</a></div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00104">StackMaps.h:104</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html_ab43657ed1abe2e2ed3a6a394f233ebd0"><div class="ttname"><a href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">llvm::VectorType::get</a></div><div class="ttdeci">static VectorType * get(Type *ElementType, unsigned NumElements)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00706">Type.cpp:706</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a55194ec3a1e49d04eab64e993e614246"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">llvm::MCInstrDesc::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdoc">Return the number of declared MachineOperands for this MachineInstruction. Note that variadic (isVari...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00190">MCInstrDesc.h:190</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aad1703d177022f893845c16d8c1b168c"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aad1703d177022f893845c16d8c1b168c">hasLiveCondCodeDef</a></div><div class="ttdeci">static bool hasLiveCondCodeDef(MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01818">X86InstrInfo.cpp:1818</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a34ab07c56acf0fe7f68a6da0d514bec7"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">llvm::MachineInstrBuilder::addOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addOperand(const MachineOperand &amp;MO) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00166">MachineInstrBuilder.h:166</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a340712de3e78fec11c338735cab17df7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">llvm::MachineFunction::iterator</a></div><div class="ttdeci">BasicBlockListType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00303">MachineFunction.h:303</a></div></div>
<div class="ttc" id="namespacellvm_html_a7923e3e207de8bc1d0d6a5091316ddde"><div class="ttname"><a href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a></div><div class="ttdeci">ItTy prior(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00167">STLExtras.h:167</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a336b337afa3ab43de1fbe0a295b6700a"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a336b337afa3ab43de1fbe0a295b6700a">llvm::X86InstrInfo::optimizeLoadInstr</a></div><div class="ttdeci">virtual MachineInstr * optimizeLoadInstr(MachineInstr *MI, const MachineRegisterInfo *MRI, unsigned &amp;FoldAsLoadDefReg, MachineInstr *&amp;DefMI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03744">X86InstrInfo.cpp:3744</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00061">Target/TargetMachine.h:61</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa2fa8e83a3a09332e405c3caf1988da24"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa2fa8e83a3a09332e405c3caf1988da24">TB_ALIGN_64</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00085">X86InstrInfo.cpp:85</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ab8fd10f439804d8d7872bc1389653fce"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">llvm::MachineInstr::addRegisterKilled</a></div><div class="ttdeci">bool addRegisterKilled(unsigned IncomingReg, const TargetRegisterInfo *RegInfo, bool AddIfNotFound=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01635">MachineInstr.cpp:1635</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea73469030600320118cd4a02f934ca9bc">llvm::X86::COND_NS</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00045">X86InstrInfo.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a2647d450874ce14d72de7aae2df51716"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a2647d450874ce14d72de7aae2df51716">llvm::X86InstrInfo::reMaterialize</a></div><div class="ttdeci">void reMaterialize(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned DestReg, unsigned SubIdx, const MachineInstr *Orig, const TargetRegisterInfo &amp;TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01795">X86InstrInfo.cpp:1795</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_ab2a616786f0b16d1e4b953fd53e82d86"><div class="ttname"><a href="X86InstrInfo_8cpp.html#ab2a616786f0b16d1e4b953fd53e82d86">getCMovFromCond</a></div><div class="ttdeci">static unsigned getCMovFromCond(X86::CondCode CC, unsigned RegBytes, bool HasMemoryOperand)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02649">X86InstrInfo.cpp:2649</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_af2ed3490fe47d88ef2d7f3edce4bf113"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#af2ed3490fe47d88ef2d7f3edce4bf113">llvm::TargetRegisterClass::vt_begin</a></div><div class="ttdeci">vt_iterator vt_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00113">TargetRegisterInfo.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1X86TargetMachine_html_a1d7b0c92b19bd1374ae80477ca874189"><div class="ttname"><a href="classllvm_1_1X86TargetMachine.html#a1d7b0c92b19bd1374ae80477ca874189">llvm::X86TargetMachine::getSubtargetImpl</a></div><div class="ttdeci">virtual const X86Subtarget * getSubtargetImpl() const </div><div class="ttdef"><b>Definition:</b> <a href="X86TargetMachine_8h_source.html#l00053">X86TargetMachine.h:53</a></div></div>
<div class="ttc" id="structX86OpTblEntry_html_a9bd55d66f8d387542f5ec1f294ab088f"><div class="ttname"><a href="structX86OpTblEntry.html#a9bd55d66f8d387542f5ec1f294ab088f">X86OpTblEntry::Flags</a></div><div class="ttdeci">uint16_t Flags</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00092">X86InstrInfo.cpp:92</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a0266e46a4cac213732f593e99518944f"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a0266e46a4cac213732f593e99518944f">isFrameStoreOpcode</a></div><div class="ttdeci">static bool isFrameStoreOpcode(int Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l01545">X86InstrInfo.cpp:1545</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a0e4e5eef3cc7c47acbb753b9d3872348"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">llvm::MachineOperand::readsReg</a></div><div class="ttdeci">bool readsReg() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00326">MachineOperand.h:326</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="MachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa70d8135638492f2ecaf133579cde1f4"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa70d8135638492f2ecaf133579cde1f4">lookupAVX2</a></div><div class="ttdeci">static const uint16_t * lookupAVX2(unsigned opcode, unsigned domain)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05188">X86InstrInfo.cpp:5188</a></div></div>
<div class="ttc" id="structX86OpTblEntry_html_a89b108ccfbba23a95360245f3788b1d9"><div class="ttname"><a href="structX86OpTblEntry.html#a89b108ccfbba23a95360245f3788b1d9">X86OpTblEntry::MemOp</a></div><div class="ttdeci">uint16_t MemOp</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00091">X86InstrInfo.cpp:91</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_aace49d2a73a247360919a7fef0a8c630"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#aace49d2a73a247360919a7fef0a8c630">llvm::X86InstrInfo::convertToThreeAddress</a></div><div class="ttdeci">virtual MachineInstr * convertToThreeAddress(MachineFunction::iterator &amp;MFI, MachineBasicBlock::iterator &amp;MBBI, LiveVariables *LV) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02044">X86InstrInfo.cpp:2044</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a15f9cbc2754513319207f31d1555d736"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a15f9cbc2754513319207f31d1555d736">llvm::X86InstrInfo::ReverseBranchCondition</a></div><div class="ttdeci">virtual bool ReverseBranchCondition(SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05077">X86InstrInfo.cpp:5077</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aaecaefff31e16433b60789777747f5dc3">TB_NO_REVERSE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00068">X86InstrInfo.cpp:68</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aaa1eed53016f5d7e12499da95c6bb8de"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aaa1eed53016f5d7e12499da95c6bb8de">getSwappedCondition</a></div><div class="ttdeci">static X86::CondCode getSwappedCondition(X86::CondCode CC)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l02604">X86InstrInfo.cpp:2604</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a0fc7a349a4ab737607def6cb461791fd"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a0fc7a349a4ab737607def6cb461791fd">llvm::MachineBasicBlock::isLayoutSuccessor</a></div><div class="ttdeci">bool isLayoutSuccessor(const MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00623">MachineBasicBlock.cpp:623</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00094">SelectionDAGNodes.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a3bb254ec28eb1a361adef1f65be4822f"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a3bb254ec28eb1a361adef1f65be4822f">llvm::X86InstrInfo::X86InstrInfo</a></div><div class="ttdeci">X86InstrInfo(X86TargetMachine &amp;tm)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00098">X86InstrInfo.cpp:98</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">llvm::MachineRegisterInfo::defusechain_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00204">MachineRegisterInfo.h:204</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_aa52ea6a123f47db5e6b145e5fc5e369aa52b2670cc1730cf0f1f5ae181e0470fa"><div class="ttname"><a href="X86InstrInfo_8cpp.html#aa52ea6a123f47db5e6b145e5fc5e369aa52b2670cc1730cf0f1f5ae181e0470fa">TB_INDEX_3</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l00063">X86InstrInfo.cpp:63</a></div></div>
<div class="ttc" id="namespacellvm_html_a473ee30de68dbcd22e515a82f31cf656"><div class="ttname"><a href="namespacellvm.html#a473ee30de68dbcd22e515a82f31cf656">llvm::createCleanupLocalDynamicTLSPass</a></div><div class="ttdeci">FunctionPass * createCleanupLocalDynamicTLSPass()</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05492">X86InstrInfo.cpp:5492</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_afee96ecb8e8588a068aa3c1743b63352"><div class="ttname"><a href="X86InstrInfo_8cpp.html#afee96ecb8e8588a068aa3c1743b63352">Expand2AddrUndef</a></div><div class="ttdeci">static bool Expand2AddrUndef(MachineInstrBuilder &amp;MIB, const MCInstrDesc &amp;Desc)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l03821">X86InstrInfo.cpp:3821</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063"><div class="ttname"><a href="namespacellvm_1_1X86.html#a1a356a51a1fb4cc3c427599082cf1d2ea4af201423e9be297ec72e1ac6ad77063">llvm::X86::COND_NP</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00044">X86InstrInfo.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_afda3f1971b3e44709267be818ffd3035"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#afda3f1971b3e44709267be818ffd3035">llvm::MachineOperand::CreateFI</a></div><div class="ttdeci">static MachineOperand CreateFI(int Idx)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00592">MachineOperand.h:592</a></div></div>
<div class="ttc" id="classllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00040">MachineDominators.h:40</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">llvm::RegState::Define</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00031">MachineInstrBuilder.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a43386af65581b8de506f3b57ba6c05b0"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">llvm::MachineFrameInfo::getObjectSize</a></div><div class="ttdeci">int64_t getObjectSize(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00347">MachineFrameInfo.h:347</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPool_html_ad9e4b5817af07b8be3f3ccf9d08df771"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html#ad9e4b5817af07b8be3f3ccf9d08df771">llvm::MachineConstantPool::getConstantPoolIndex</a></div><div class="ttdeci">unsigned getConstantPoolIndex(const Constant *C, unsigned Alignment)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00865">MachineFunction.cpp:865</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_abbf52e5d5823c0724fe7b8385d3157d9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abbf52e5d5823c0724fe7b8385d3157d9">llvm::MachineInstr::modifiesRegister</a></div><div class="ttdeci">bool modifiesRegister(unsigned Reg, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00760">MachineInstr.h:760</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4eb718a8caedcad900fd7cd937cac"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4eb718a8caedcad900fd7cd937cac">llvm::MachineInstr::isBarrier</a></div><div class="ttdeci">bool isBarrier(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00356">MachineInstr.h:356</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_ac4eea48cdd9677207d5cf8927f07116c"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#ac4eea48cdd9677207d5cf8927f07116c">llvm::X86InstrInfo::getPartialRegUpdateClearance</a></div><div class="ttdeci">unsigned getPartialRegUpdateClearance(const MachineInstr *MI, unsigned OpNum, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04089">X86InstrInfo.cpp:4089</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_ac9cfb5edfc4b0b419f87c36c624d2d84"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">llvm::X86Subtarget::hasAVX</a></div><div class="ttdeci">bool hasAVX() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00265">X86Subtarget.h:265</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5b45953b758fdfe88452530f7d8371bc"><div class="ttname"><a href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">llvm::EVT::getSimpleVT</a></div><div class="ttdeci">MVT getSimpleVT() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00749">ValueTypes.h:749</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4af2a257043145ad650eafb4402f9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">DebugLoc getDebugLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00244">MachineInstr.h:244</a></div></div>
<div class="ttc" id="classllvm_1_1X86TargetMachine_html_a245ed1de411cd3ba114322a573b524f5"><div class="ttname"><a href="classllvm_1_1X86TargetMachine.html#a245ed1de411cd3ba114322a573b524f5">llvm::X86TargetMachine::getInstrInfo</a></div><div class="ttdeci">virtual const X86InstrInfo * getInstrInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="X86TargetMachine_8h_source.html#l00044">X86TargetMachine.h:44</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a0a26f2051d28a56b0132627dcb82c367"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a0a26f2051d28a56b0132627dcb82c367">NoFusing</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; NoFusing(&quot;disable-spill-fusing&quot;, cl::desc(&quot;Disable fusing of spill code into instructions&quot;))</div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a7ef138746b04be6d07091b9ba49d74da"><div class="ttname"><a href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">llvm::SDNode::isMachineOpcode</a></div><div class="ttdeci">bool isMachineOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00384">SelectionDAGNodes.h:384</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_afe3745334feafa68985dee7caa1a254f"><div class="ttname"><a href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">llvm::SDNode::getMachineOpcode</a></div><div class="ttdeci">unsigned getMachineOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00389">SelectionDAGNodes.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_abb87c1c9d9046e29211e9875e27ceef9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const </div><div class="ttdoc">Access to memory operands of the instruction. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00291">MachineInstr.h:291</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_afdf2770d4d0e00f3875afd6e7c61aa9d"><div class="ttname"><a href="Target_2README_8txt.html#afdf2770d4d0e00f3875afd6e7c61aa9d">X86</a></div><div class="ttdeci">Unrolling by would eliminate the &amp;in both leading to a net reduction in code size The resultant code would then also be suitable for exit value computation We miss a bunch of rotate opportunities on various including etc On X86</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00599">Target/README.txt:599</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:03:13 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
