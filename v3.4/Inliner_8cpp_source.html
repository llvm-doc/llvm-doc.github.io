<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: Inliner.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Inliner_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Inliner.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Inliner_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Inliner.cpp - Code common to all inliners --------------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements the mechanics required to implement inlining without</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// missing any calls and updating the call graph.  The decisions of which calls</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// are profitable to inline are implemented elsewhere.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   16</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;inline&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlinerPass_8h.html">llvm/Transforms/IPO/InlinerPass.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraph_8h.html">llvm/Analysis/CallGraph.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineCost_8h.html">llvm/Analysis/InlineCost.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallSite_8h.html">llvm/Support/CallSite.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Cloning_8h.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<a class="code" href="Inliner_8cpp.html#a8def873a39ece42cc6499bb9ac8dd1e0">STATISTIC</a>(NumInlined, <span class="stringliteral">&quot;Number of functions inlined&quot;</span>);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="Inliner_8cpp.html#a8def873a39ece42cc6499bb9ac8dd1e0">STATISTIC</a>(NumCallsDeleted, <span class="stringliteral">&quot;Number of call sites deleted, not inlined&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<a class="code" href="Inliner_8cpp.html#a8def873a39ece42cc6499bb9ac8dd1e0">STATISTIC</a>(NumDeleted, <span class="stringliteral">&quot;Number of functions deleted because all callers found&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="Inliner_8cpp.html#a8def873a39ece42cc6499bb9ac8dd1e0">STATISTIC</a>(NumMergedAllocas, <span class="stringliteral">&quot;Number of allocas merged together&quot;</span>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// This weirdly named statistic tracks the number of times that, when attempting</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// to inline a function A into B, we analyze the callers of B in order to see</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// if those would be more profitable and blocked inline steps.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<a class="code" href="Inliner_8cpp.html#a8def873a39ece42cc6499bb9ac8dd1e0">STATISTIC</a>(NumCallerCallersAnalyzed, <span class="stringliteral">&quot;Number of caller-callers analyzed&quot;</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<a class="code" href="Inliner_8cpp.html#abc7dd6abf4a8a82ab9abcff5686aacf8">InlineLimit</a>(<span class="stringliteral">&quot;inline-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(225), <a class="code" href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6ea61d3cb794533763159788c493ad266d9">cl::ZeroOrMore</a>,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Control the amount of inlining to perform (default = 225)&quot;</span>));</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<a class="code" href="Inliner_8cpp.html#a155256dae9eff9b764b9d5eb5a10d8a9">HintThreshold</a>(<span class="stringliteral">&quot;inlinehint-threshold&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(325),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;              <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Threshold for inlining functions with inline hint&quot;</span>));</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// Threshold to use when optsize is specified (and there is no -inline-limit).</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a57b6a9cbde44c147a096830db071daf6">   54</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="Inliner_8cpp.html#a57b6a9cbde44c147a096830db071daf6">OptSizeThreshold</a> = 75;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structllvm_1_1Inliner.html#a684e17b3a0e3f1da103dc89007f86a8a">   56</a></span>&#160;<a class="code" href="structllvm_1_1Inliner.html#a684e17b3a0e3f1da103dc89007f86a8a">Inliner::Inliner</a>(<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>) </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  : <a class="code" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(ID), InlineThreshold(<a class="code" href="Inliner_8cpp.html#abc7dd6abf4a8a82ab9abcff5686aacf8">InlineLimit</a>), InsertLifetime(<a class="code" href="namespacetrue.html">true</a>) {}</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structllvm_1_1Inliner.html#a9e4896c489243a526c437bdb565bbd15">   59</a></span>&#160;<a class="code" href="structllvm_1_1Inliner.html#a684e17b3a0e3f1da103dc89007f86a8a">Inliner::Inliner</a>(<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>, <span class="keywordtype">int</span> <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>, <span class="keywordtype">bool</span> InsertLifetime)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  : <a class="code" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(ID), InlineThreshold(<a class="code" href="Inliner_8cpp.html#abc7dd6abf4a8a82ab9abcff5686aacf8">InlineLimit</a>.getNumOccurrences() &gt; 0 ?</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                          <a class="code" href="Inliner_8cpp.html#abc7dd6abf4a8a82ab9abcff5686aacf8">InlineLimit</a> : Threshold),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    InsertLifetime(InsertLifetime) {}</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/// getAnalysisUsage - For this class, we declare that we require and preserve</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/// the call graph.  If the derived class implements this method, it should</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/// always explicitly call the implementation here.</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structllvm_1_1Inliner.html#a8118328d04211c3c6ce01ba325e035de">   67</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="structllvm_1_1Inliner.html#a8118328d04211c3c6ce01ba325e035de">Inliner::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="classllvm_1_1CallGraphSCCPass.html#aafcbee837fed187a54b74f201a748160">CallGraphSCCPass::getAnalysisUsage</a>(AU);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;ArrayType*, std::vector&lt;AllocaInst*&gt;</a> &gt;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#ad8197eb0f236c8eac8937caf6c8b81d7">   73</a></span>&#160;<a class="code" href="Inliner_8cpp.html#ad8197eb0f236c8eac8937caf6c8b81d7">InlinedArrayAllocasTy</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">/// \brief If the inlined function had a higher stack protection level than the</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/// calling function, then bump up the caller&#39;s stack protection level.</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a7a414398b6abeb1f2a5f3cc68a8d07aa">   77</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Inliner_8cpp.html#a7a414398b6abeb1f2a5f3cc68a8d07aa">AdjustCallerSSPLevel</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *Caller, <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// If upgrading the SSP attribute, clear out the old SSP Attributes first.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// Having multiple SSP attributes doesn&#39;t actually hurt, but it adds useless</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// clutter to the IR.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  B.<a class="code" href="classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">addAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eacc3334fefcec41d5d7416f31685cabea">Attribute::StackProtect</a>)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    .<a class="code" href="classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">addAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eae2d980c80d5d2243c9fef6c8c04b1931">Attribute::StackProtectStrong</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a> OldSSPAttr = AttributeSet::get(Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(),</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                              AttributeSet::FunctionIndex,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                              <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a> CallerAttr = Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>(),</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;               CalleeAttr = Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>();</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> (CalleeAttr.hasAttribute(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                              <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea32b4ecce4fcb41571469ec7ff4a01345">Attribute::StackProtectReq</a>)) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">removeAttributes</a>(AttributeSet::FunctionIndex, OldSSPAttr);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">addFnAttr</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea32b4ecce4fcb41571469ec7ff4a01345">Attribute::StackProtectReq</a>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CalleeAttr.hasAttribute(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                     <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eae2d980c80d5d2243c9fef6c8c04b1931">Attribute::StackProtectStrong</a>) &amp;&amp;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;             !CallerAttr.hasAttribute(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                      <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea32b4ecce4fcb41571469ec7ff4a01345">Attribute::StackProtectReq</a>)) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">removeAttributes</a>(AttributeSet::FunctionIndex, OldSSPAttr);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">addFnAttr</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eae2d980c80d5d2243c9fef6c8c04b1931">Attribute::StackProtectStrong</a>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CalleeAttr.hasAttribute(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                     <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eacc3334fefcec41d5d7416f31685cabea">Attribute::StackProtect</a>) &amp;&amp;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;           !CallerAttr.hasAttribute(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                    <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea32b4ecce4fcb41571469ec7ff4a01345">Attribute::StackProtectReq</a>) &amp;&amp;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;           !CallerAttr.hasAttribute(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                    <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eae2d980c80d5d2243c9fef6c8c04b1931">Attribute::StackProtectStrong</a>))</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">addFnAttr</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eacc3334fefcec41d5d7416f31685cabea">Attribute::StackProtect</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">/// InlineCallIfPossible - If it is possible to inline the specified call site,</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/// do so and update the CallGraph for this operation.</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/// This function also does some basic book-keeping to update the IR.  The</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/// InlinedArrayAllocas map keeps track of any allocas that are already</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">/// available from other  functions inlined into the caller.  If we are able to</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/// inline this call site we attempt to reuse already available allocas or add</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/// any new allocas to the set if not possible.</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a976a9827cc098b84745e4a16318f4ecc">  117</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Inliner_8cpp.html#a976a9827cc098b84745e4a16318f4ecc">InlineCallIfPossible</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS, <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                 <a class="code" href="classllvm_1_1DenseMap.html">InlinedArrayAllocasTy</a> &amp;InlinedArrayAllocas,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                 <span class="keywordtype">int</span> InlineHistory, <span class="keywordtype">bool</span> InsertLifetime,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// Try to inline the function.  Get the list of static allocas that were</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// inlined.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">InlineFunction</a>(CS, IFI, InsertLifetime))</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="Inliner_8cpp.html#a7a414398b6abeb1f2a5f3cc68a8d07aa">AdjustCallerSSPLevel</a>(Caller, Callee);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Look at all of the allocas that we inlined through this call site.  If we</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// have already inlined other allocas through other calls into this function,</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// then we know that they have disjoint lifetimes and that we can merge them.</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// There are many heuristics possible for merging these allocas, and the</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// different options have different tradeoffs.  One thing that we *really*</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// don&#39;t want to hurt is SRoA: once inlining happens, often allocas are no</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// longer address taken and so they can be promoted.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Our &quot;solution&quot; for that is to only merge allocas whose outermost type is an</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// array type.  These are usually not promoted because someone is using a</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// variable index into them.  These are also often the most important ones to</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// merge.</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// A better solution would be to have real memory lifetime markers in the IR</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// and not have the inliner do any merging of allocas at all.  This would</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// allow the backend to do proper stack slot coloring of all allocas that</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// *actually make it to the backend*, which is really what we want.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// Because we don&#39;t have this information, we do this simple and useful hack.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;AllocaInst*, 16&gt;</a> UsedAllocas;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// When processing our SCC, check to see if CS was inlined from some other</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// call site.  For example, if we&#39;re processing &quot;A&quot; in this code:</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">//   A() { B() }</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">//   B() { x = alloca ... C() }</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">//   C() { y = alloca ... }</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Assume that C was not inlined into B initially, and so we&#39;re processing A</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// and decide to inline B into A.  Doing this makes an alloca available for</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// reuse and makes a callsite (C) available for inlining.  When we process</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// the C call site we don&#39;t want to do any alloca merging between X and Y</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// because their scopes are not disjoint.  We could make this smarter by</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// keeping track of the inline history for each alloca in the</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// InlinedArrayAllocas but this isn&#39;t likely to be a significant win.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (InlineHistory != -1)  <span class="comment">// Only do merging for top-level call sites in SCC.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  </div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// Loop over all the allocas we have so far and see if they can be merged with</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// a previously inlined alloca.  If not, remember that we had it.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> AllocaNo = 0, e = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>.size();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;       AllocaNo != e; ++AllocaNo) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>[AllocaNo];</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    </div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// Don&#39;t bother trying to merge array allocations (they will usually be</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// canonicalized to be an allocation *of* an array), or allocations whose</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// type is not itself an array (because we&#39;re afraid of pessimizing SRoA).</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *ATy = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a>&gt;(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">getAllocatedType</a>());</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (ATy == 0 || AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a066eba0d0eb9d9655c9b580a2a279b0a">isArrayAllocation</a>())</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    </div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// Get the list of all available allocas for this array type.</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    std::vector&lt;AllocaInst*&gt; &amp;AllocasForType = InlinedArrayAllocas[ATy];</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    </div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// Loop over the allocas in AllocasForType to see if we can reuse one.  Note</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// that we have to be careful not to reuse the same &quot;available&quot; alloca for</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// multiple different allocas that we just inlined, we use the &#39;UsedAllocas&#39;</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// set to keep track of which &quot;available&quot; allocas are being used by this</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// function.  Also, AllocasForType can be empty of course!</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">bool</span> MergedAwayAlloca = <span class="keyword">false</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = AllocasForType.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AvailableAlloca = AllocasForType[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordtype">unsigned</span> Align1 = AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">getAlignment</a>(),</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;               Align2 = AvailableAlloca-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">getAlignment</a>();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="comment">// If we don&#39;t have data layout information, and only one alloca is using</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="comment">// the target default, then we can&#39;t safely merge them because we can&#39;t</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">// pick the greater alignment.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">if</span> (!TD &amp;&amp; (!Align1 || !Align2) &amp;&amp; Align1 != Align2)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      </div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="comment">// The available alloca has to be in the right function, not in some other</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="comment">// function in this SCC.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">if</span> (AvailableAlloca-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != AI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>())</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      </div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="comment">// If the inlined function already uses this alloca then we can&#39;t reuse</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="comment">// it.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">if</span> (!UsedAllocas.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(AvailableAlloca))</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      </div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// Otherwise, we *can* reuse it, RAUW AI into AvailableAlloca and declare</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="comment">// success!</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ***MERGED ALLOCA: &quot;</span> &lt;&lt; *AI &lt;&lt; <span class="stringliteral">&quot;\n\t\tINTO: &quot;</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                   &lt;&lt; *AvailableAlloca &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      </div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      AI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(AvailableAlloca);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (Align1 != Align2) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span> (!Align1 || !Align2) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          assert(TD &amp;&amp; <span class="stringliteral">&quot;DataLayout required to compare default alignments&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          <span class="keywordtype">unsigned</span> TypeAlign = TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">getABITypeAlignment</a>(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">getAllocatedType</a>());</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          Align1 = Align1 ? Align1 : TypeAlign;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;          Align2 = Align2 ? Align2 : TypeAlign;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (Align1 &gt; Align2)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          AvailableAlloca-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a42defc71631bc55fcb48421784b276c9">setAlignment</a>(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">getAlignment</a>());</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      AI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      MergedAwayAlloca = <span class="keyword">true</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      ++NumMergedAllocas;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>[AllocaNo] = 0;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// If we already nuked the alloca, we&#39;re done with it.</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (MergedAwayAlloca)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    </div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// If we were unable to merge away the alloca either because there are no</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// allocas of the right type available or because we reused them all</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// already, remember that this alloca came from an inlined function and mark</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// it used so we don&#39;t reuse it for other allocas from this inline</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// operation.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    AllocasForType.push_back(AI);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    UsedAllocas.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(AI);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  </div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="structllvm_1_1Inliner.html#aa81a47f1798e8594efeb7cc097c5aac2">  255</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1Inliner.html#a898d32aab9e4ccad52ea854a179b1202">Inliner::getInlineThreshold</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordtype">int</span> thres = InlineThreshold; <span class="comment">// -inline-threshold or else selected by</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                               <span class="comment">// overall opt level</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// If -inline-threshold is not given, listen to the optsize attribute when it</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// would decrease the threshold.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">bool</span> OptSize = Caller &amp;&amp; !Caller-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() &amp;&amp;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                         <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb">Attribute::OptimizeForSize</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="Inliner_8cpp.html#abc7dd6abf4a8a82ab9abcff5686aacf8">InlineLimit</a>.getNumOccurrences() &gt; 0) &amp;&amp; OptSize &amp;&amp;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      OptSizeThreshold &lt; thres)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    thres = <a class="code" href="Inliner_8cpp.html#a57b6a9cbde44c147a096830db071daf6">OptSizeThreshold</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// Listen to the inlinehint attribute when it would increase the threshold</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// and the caller does not need to minimize its size.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordtype">bool</span> InlineHint = Callee &amp;&amp; !Callee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() &amp;&amp;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                         <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea43226f7785dec1140ad49c545dc3c674">Attribute::InlineHint</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> (InlineHint &amp;&amp; <a class="code" href="Inliner_8cpp.html#a155256dae9eff9b764b9d5eb5a10d8a9">HintThreshold</a> &gt; thres</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      &amp;&amp; !Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                               <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea490ee0eef953b867ec5f39859c6a03bf">Attribute::MinSize</a>))</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    thres = <a class="code" href="Inliner_8cpp.html#a155256dae9eff9b764b9d5eb5a10d8a9">HintThreshold</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">return</span> thres;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/// shouldInline - Return true if the inliner should attempt to inline</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/// at the given CallSite.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> Inliner::shouldInline(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classllvm_1_1InlineCost.html">InlineCost</a> IC = <a class="code" href="structllvm_1_1Inliner.html#a9d648a6780642b0fe493bc41d36188bf">getInlineCost</a>(CS);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  </div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (IC.<a class="code" href="classllvm_1_1InlineCost.html#a70663819812e65d40baf349306139502">isAlways</a>()) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    Inlining: cost=always&quot;</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;, Call: &quot;</span> &lt;&lt; *CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  </div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">if</span> (IC.<a class="code" href="classllvm_1_1InlineCost.html#aa1645f29cbd305578cb5077ab0b8cde5">isNever</a>()) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    NOT Inlining: cost=never&quot;</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;, Call: &quot;</span> &lt;&lt; *CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  </div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (!IC) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    NOT Inlining: cost=&quot;</span> &lt;&lt; IC.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>()</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;, thres=&quot;</span> &lt;&lt; (IC.<a class="code" href="classllvm_1_1InlineCost.html#abec7a9510993b1475d6dc8a489258e9f">getCostDelta</a>() + IC.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>())</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;, Call: &quot;</span> &lt;&lt; *CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  </div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// Try to detect the case where the current inlining candidate caller (call</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// it B) is a static or linkonce-ODR function and is an inlining candidate</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// elsewhere, and the current candidate callee (call it C) is large enough</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// that inlining it into B would make B too big to inline later. In these</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// circumstances it may be best not to inline C into B, but to inline B into</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// its callers.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// This only applies to static and linkonce-ODR functions because those are</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// expected to be available for inlining in the translation units where they</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// are used. Thus we will always have the opportunity to make local inlining</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">// decisions. Importantly the linkonce-ODR linkage covers inline functions</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// and templates in C++.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// FIXME: All of this logic should be sunk into getInlineCost. It relies on</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// the internal implementation of the inline cost metrics rather than</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// treating them as truly abstract units etc.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (Caller-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>() ||</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      Caller-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>() == <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">GlobalValue::LinkOnceODRLinkage</a>) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordtype">int</span> TotalSecondaryCost = 0;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">// The candidate cost to be imposed upon the current function.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> CandidateCost = IC.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>() - (<a class="code" href="namespacellvm_1_1InlineConstants.html#aa96196bd6a654ffedf2837f7b467532b">InlineConstants::CallPenalty</a> + 1);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// This bool tracks what happens if we do NOT inline C into B.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">bool</span> callerWillBeRemoved = Caller-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>();</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// This bool tracks what happens if we DO inline C into B.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">bool</span> inliningPreventsSomeOuterInline = <span class="keyword">false</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Caller-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E =Caller-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); </div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS2(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// If this isn&#39;t a call to Caller (it could be some other sort</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// of reference) skip it.  Such references will prevent the caller</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// from being removed.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> (!CS2 || CS2.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>() != Caller) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        callerWillBeRemoved = <span class="keyword">false</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="classllvm_1_1InlineCost.html">InlineCost</a> IC2 = <a class="code" href="structllvm_1_1Inliner.html#a9d648a6780642b0fe493bc41d36188bf">getInlineCost</a>(CS2);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      ++NumCallerCallersAnalyzed;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordflow">if</span> (!IC2) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        callerWillBeRemoved = <span class="keyword">false</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">if</span> (IC2.<a class="code" href="classllvm_1_1InlineCost.html#a70663819812e65d40baf349306139502">isAlways</a>())</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">// See if inlining or original callsite would erase the cost delta of</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="comment">// this callsite. We subtract off the penalty for the call instruction,</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">// which we would be deleting.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">if</span> (IC2.<a class="code" href="classllvm_1_1InlineCost.html#abec7a9510993b1475d6dc8a489258e9f">getCostDelta</a>() &lt;= CandidateCost) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        inliningPreventsSomeOuterInline = <span class="keyword">true</span>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        TotalSecondaryCost += IC2.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// If all outer calls to Caller would get inlined, the cost for the last</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// one is set very low by getInlineCost, in anticipation that Caller will</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// be removed entirely.  We did not account for this above unless there</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// is only one caller of Caller.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (callerWillBeRemoved &amp;&amp; Caller-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>() != Caller-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>())</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      TotalSecondaryCost += <a class="code" href="namespacellvm_1_1InlineConstants.html#ac32c5e568abcce09107853ccf11fbab6">InlineConstants::LastCallToStaticBonus</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (inliningPreventsSomeOuterInline &amp;&amp; TotalSecondaryCost &lt; IC.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>()) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    NOT Inlining: &quot;</span> &lt;&lt; *CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>() &lt;&lt;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;           <span class="stringliteral">&quot; Cost = &quot;</span> &lt;&lt; IC.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>() &lt;&lt;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;           <span class="stringliteral">&quot;, outer Cost = &quot;</span> &lt;&lt; TotalSecondaryCost &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    Inlining: cost=&quot;</span> &lt;&lt; IC.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>()</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;, thres=&quot;</span> &lt;&lt; (IC.<a class="code" href="classllvm_1_1InlineCost.html#abec7a9510993b1475d6dc8a489258e9f">getCostDelta</a>() + IC.<a class="code" href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">getCost</a>())</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;, Call: &quot;</span> &lt;&lt; *CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">/// InlineHistoryIncludes - Return true if the specified inline history ID</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">/// indicates an inline history that includes the specified function.</span></div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a13bcc9282e847fdb0bcb64f27a2e6002">  385</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="Inliner_8cpp.html#a13bcc9282e847fdb0bcb64f27a2e6002">InlineHistoryIncludes</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>, <span class="keywordtype">int</span> InlineHistoryID,</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;Function*, int&gt; &gt; &amp;InlineHistory) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">while</span> (InlineHistoryID != -1) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    assert(<span class="keywordtype">unsigned</span>(InlineHistoryID) &lt; InlineHistory.size() &amp;&amp;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;           <span class="stringliteral">&quot;Invalid inline history ID&quot;</span>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (InlineHistory[InlineHistoryID].first == F)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    InlineHistoryID = InlineHistory[InlineHistoryID].second;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="structllvm_1_1Inliner.html#a858c5642c087e71c160a4ba5c9e3bca7">  397</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1Inliner.html#a858c5642c087e71c160a4ba5c9e3bca7">Inliner::runOnSCC</a>(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;SCC) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG = getAnalysis&lt;CallGraph&gt;();</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD = getAnalysisIfAvailable&lt;DataLayout&gt;();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI = getAnalysisIfAvailable&lt;TargetLibraryInfo&gt;();</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Function*, 8&gt;</a> SCCFunctions;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inliner visiting SCC:&quot;</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraphSCC.html#a5dc6f41d85a83e036bf7f9a25797e2ec">CallGraphSCC::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SCC.<a class="code" href="classllvm_1_1CallGraphSCC.html#aa262134562bc5f5df6c3f536162469b6">begin</a>(), E = SCC.<a class="code" href="classllvm_1_1CallGraphSCC.html#a6699d964429a39e8f78b348cb2535bf2">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = (*I)-&gt;getFunction();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (F) SCCFunctions.insert(F);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; (F ? F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() : <span class="stringliteral">&quot;INDIRECTNODE&quot;</span>));</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// Scan through and identify all call sites ahead of time so that we only</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// inline call sites in the original functions, not call sites that result</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// from inlining other functions.</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;CallSite, int&gt;</a>, 16&gt; CallSites;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  </div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// When inlining a callee produces new call sites, we want to keep track of</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// the fact that they were inlined from the callee.  This allows us to avoid</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// infinite inlining in some obscure cases.  To represent this, we use an</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// index into the InlineHistory vector.</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Function*, int&gt;</a>, 8&gt; InlineHistory;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraphSCC.html#a5dc6f41d85a83e036bf7f9a25797e2ec">CallGraphSCC::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SCC.<a class="code" href="classllvm_1_1CallGraphSCC.html#aa262134562bc5f5df6c3f536162469b6">begin</a>(), E = SCC.<a class="code" href="classllvm_1_1CallGraphSCC.html#a6699d964429a39e8f78b348cb2535bf2">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = (*I)-&gt;getFunction();</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!F) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    </div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = F-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), E = F-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != E; ++<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(), E = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS(cast&lt;Value&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="comment">// If this isn&#39;t a call, or it is a call to an intrinsic, it can</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">// never be inlined.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">if</span> (!CS || isa&lt;IntrinsicInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        </div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="comment">// If this is a direct call to an external function, we can never inline</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">// it.  If it is an indirect call, inlining may resolve it to be a</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment">// direct call, so we keep it.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>() &amp;&amp; CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>()-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>())</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        </div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(CS, -1));</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &lt;&lt; <span class="stringliteral">&quot; call sites.\n&quot;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">// If there are no calls in this function, exit early.</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (CallSites.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  </div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// Now that we have all of the call sites, move the ones to functions in the</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="comment">// current SCC to the end of the list.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordtype">unsigned</span> FirstCallInSCC = CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; FirstCallInSCC; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = CallSites[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first.getCalledFunction())</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">if</span> (SCCFunctions.count(<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>))</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CallSites[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>--], CallSites[--FirstCallInSCC]);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  </div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">InlinedArrayAllocasTy</a> InlinedArrayAllocas;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> InlineInfo(&amp;CG, TD);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  </div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="comment">// Now that we have all of the call sites, loop over them and inline them if</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="comment">// it looks profitable to do so.</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordtype">bool</span> LocalChange;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    LocalChange = <span class="keyword">false</span>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// Iterate over the outer loop because inlining functions can cause indirect</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">// calls to become direct calls.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> CSi = 0; CSi != CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ++CSi) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS = CallSites[CSi].first;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      </div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="comment">// If this call site is dead and it is to a readonly function, we should</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="comment">// just delete the call instead of trying to inline it, regardless of</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="comment">// size.  This happens because IPSCCP propagates the result out of the</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="comment">// call and then we&#39;re left with the dead call.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abe283966f269761ee387642061c4451e">isInstructionTriviallyDead</a>(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>(), TLI)) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    -&gt; Deleting dead call: &quot;</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                     &lt;&lt; *CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">// Update the call graph by deleting the edge from Callee to Caller.</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        CG[Caller]-&gt;removeCallEdgeFor(CS);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        ++NumCallsDeleted;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="comment">// We can only inline direct calls to non-declarations.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">if</span> (Callee == 0 || Callee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      </div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment">// If this call site was obtained by inlining another function, verify</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// that the include path for the function did not include the callee</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">// itself.  If so, we&#39;d be recursively inlining the same function,</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">// which would provide the same callsites, which would cause us to</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">// infinitely inline.</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordtype">int</span> InlineHistoryID = CallSites[CSi].second;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> (InlineHistoryID != -1 &amp;&amp;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <a class="code" href="Inliner_8cpp.html#a13bcc9282e847fdb0bcb64f27a2e6002">InlineHistoryIncludes</a>(Callee, InlineHistoryID, InlineHistory))</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        </div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        </div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">// If the policy determines that we should inline this function,</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">// try to do so.</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (!shouldInline(CS))</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="comment">// Attempt to inline the function.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="Inliner_8cpp.html#a976a9827cc098b84745e4a16318f4ecc">InlineCallIfPossible</a>(CS, InlineInfo, InlinedArrayAllocas,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                  InlineHistoryID, InsertLifetime, TD))</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        ++NumInlined;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        </div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="comment">// If inlining this function gave us any new call sites, throw them</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment">// onto our worklist to process.  They are useful inline candidates.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">if</span> (!InlineInfo.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#aaf3b82cc11d277accc62e3ebf9f9d28e">InlinedCalls</a>.empty()) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;          <span class="comment">// Create a new inline history entry for this, so that we remember</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;          <span class="comment">// that these new callsites came about due to inlining Callee.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          <span class="keywordtype">int</span> NewHistoryID = InlineHistory.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          InlineHistory.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(Callee, InlineHistoryID));</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = InlineInfo.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#aaf3b82cc11d277accc62e3ebf9f9d28e">InlinedCalls</a>.size();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;               <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <a class="code" href="classllvm_1_1Value.html">Value</a> *Ptr = InlineInfo.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#aaf3b82cc11d277accc62e3ebf9f9d28e">InlinedCalls</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a>(Ptr), NewHistoryID));</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;          }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      </div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="comment">// If we inlined or deleted the last possible call site to the function,</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="comment">// delete the function body now.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="keywordflow">if</span> (Callee &amp;&amp; Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>() &amp;&amp; Callee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>() &amp;&amp;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          <span class="comment">// TODO: Can remove if in SCC now.</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          !SCCFunctions.count(Callee) &amp;&amp;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;          </div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          <span class="comment">// The function may be apparently dead, but if there are indirect</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;          <span class="comment">// callgraph references to the node, we cannot delete it yet, this</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          <span class="comment">// could invalidate the CGSCC iterator.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          CG[Callee]-&gt;getNumReferences() == 0) {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    -&gt; Deleting dead function: &quot;</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;              &lt;&lt; Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CalleeNode = CG[Callee];</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        </div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">// Remove any call graph edges from the callee to its callees.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        CalleeNode-&gt;removeAllCalledFunctions();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        </div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// Removing the node for callee from the call graph and delete it.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keyword">delete</span> CG.<a class="code" href="classllvm_1_1CallGraph.html#a10ae28b08e292f846fb954e805e533ce">removeFunctionFromModule</a>(CalleeNode);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        ++NumDeleted;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="comment">// Remove this call site from the list.  If possible, use </span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="comment">// swap/pop_back for efficiency, but do not use it if doing so would</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="comment">// move a call site to a function in this SCC before the</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">// &#39;FirstCallInSCC&#39; barrier.</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">if</span> (SCC.<a class="code" href="classllvm_1_1CallGraphSCC.html#a2186990102b83e37303ad3180127f527">isSingular</a>()) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        CallSites[CSi] = CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        CallSites.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(CallSites.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+CSi);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      --CSi;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      LocalChange = <span class="keyword">true</span>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  } <span class="keywordflow">while</span> (LocalChange);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">return</span> Changed;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">// doFinalization - Remove now-dead linkonce functions at the end of</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">// processing to avoid breaking the SCC traversal.</span></div><div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="structllvm_1_1Inliner.html#a37fdb5d9c74686e9d834de2d2b911cf6">  572</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1Inliner.html#a37fdb5d9c74686e9d834de2d2b911cf6">Inliner::doFinalization</a>(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structllvm_1_1Inliner.html#a92f46ce0db10f7b7bcbcc57d5a65652c">removeDeadFunctions</a>(CG);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">/// removeDeadFunctions - Remove dead functions that are not included in</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">/// DNR (Do Not Remove) list.</span></div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="structllvm_1_1Inliner.html#a92f46ce0db10f7b7bcbcc57d5a65652c">  578</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1Inliner.html#a92f46ce0db10f7b7bcbcc57d5a65652c">Inliner::removeDeadFunctions</a>(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG, <span class="keywordtype">bool</span> AlwaysInlineOnly) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallGraphNode*, 16&gt;</a> FunctionsToRemove;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// Scan for all of the functions, looking for ones that should now be removed</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">// from the program.  Insert the dead ones in the FunctionsToRemove set.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraph.html#ab24f58be396694af68593145e5f8159a">CallGraph::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CG.<a class="code" href="classllvm_1_1CallGraph.html#aaeef5828c39699b414d1c5bb2996eccd">begin</a>(), E = CG.<a class="code" href="classllvm_1_1CallGraph.html#a8d4255a1c63f75411c1b78245d65e746">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CGN = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = CGN-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#ab40c70f303f70e989a10efced4036a57">getFunction</a>();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (!F || F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>())</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="comment">// Handle the case when this function is called and we only want to care</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// about always-inline functions. This is a bit of a hack to share code</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// between here and the InlineAlways pass.</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (AlwaysInlineOnly &amp;&amp;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        !F-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                         <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabfe11fa9b5a9912f2dfb73eb12ee0bb1">Attribute::AlwaysInline</a>))</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// If the only remaining users of the function are dead constants, remove</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// them.</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1Constant.html#a50d0911852017f2168de329f53d8568d">removeDeadConstantUsers</a>();</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (!F-&gt;<a class="code" href="classllvm_1_1Function.html#a09f4de698936d7b646c9ef5a0cc0920d">isDefTriviallyDead</a>())</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    </div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// Remove any call graph edges from the function to its callees.</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    CGN-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#ab61fa6ccb9c51f78735fc7efc62d9671">removeAllCalledFunctions</a>();</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// Remove any edges from the external node to the function&#39;s call graph</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// node.  These edges might have been made irrelegant due to</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// optimization of the program.</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    CG.<a class="code" href="classllvm_1_1CallGraph.html#a5fa30e39a8aabf78d23749a245b90361">getExternalCallingNode</a>()-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#ad2a5c5546a1d16403d77d2a437ab7dd6">removeAnyCallEdgeTo</a>(CGN);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// Removing the node for callee from the call graph and delete it.</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(CGN);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">if</span> (FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="comment">// Now that we know which functions to delete, do so.  We didn&#39;t want to do</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="comment">// this inline, because that would invalidate our CallGraph::iterator</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="comment">// objects. :(</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// Note that it doesn&#39;t matter that we are iterating over a non-stable order</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">// here to do this, it doesn&#39;t matter which order the functions are deleted</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// in.</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">array_pod_sort</a>(FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>());</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(std::unique(FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                      FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>()),</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                          FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>());</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;CallGraphNode *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                                                  E = FunctionsToRemove.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keyword">delete</span> CG.<a class="code" href="classllvm_1_1CallGraph.html#a10ae28b08e292f846fb954e805e533ce">removeFunctionFromModule</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    ++NumDeleted;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div><div class="ttc" id="classllvm_1_1Function_html_a09f4de698936d7b646c9ef5a0cc0920d"><div class="ttname"><a href="classllvm_1_1Function.html#a09f4de698936d7b646c9ef5a0cc0920d">llvm::Function::isDefTriviallyDead</a></div><div class="ttdeci">bool isDefTriviallyDead() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00712">Function.cpp:712</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html_a70663819812e65d40baf349306139502"><div class="ttname"><a href="classllvm_1_1InlineCost.html#a70663819812e65d40baf349306139502">llvm::InlineCost::isAlways</a></div><div class="ttdeci">bool isAlways() const </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00083">InlineCost.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a38ea691c2eeaf3facd74d5cfb0c725b0"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00218">GlobalValue.h:218</a></div></div>
<div class="ttc" id="structllvm_1_1Inliner_html_a37fdb5d9c74686e9d834de2d2b911cf6"><div class="ttname"><a href="structllvm_1_1Inliner.html#a37fdb5d9c74686e9d834de2d2b911cf6">llvm::Inliner::doFinalization</a></div><div class="ttdeci">virtual bool doFinalization(CallGraph &amp;CG)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00572">Inliner.cpp:572</a></div></div>
<div class="ttc" id="structllvm_1_1Inliner_html_a898d32aab9e4ccad52ea854a179b1202"><div class="ttname"><a href="structllvm_1_1Inliner.html#a898d32aab9e4ccad52ea854a179b1202">llvm::Inliner::getInlineThreshold</a></div><div class="ttdeci">unsigned getInlineThreshold() const </div><div class="ttdef"><b>Definition:</b> <a href="InlinerPass_8h_source.html#l00053">InlinerPass.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00167">Function.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00072">Instruction.cpp:72</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="namespacellvm_html_ae907336cbc9a42264a3b9743a3042b31"><div class="ttname"><a href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">llvm::InlineFunction</a></div><div class="ttdeci">bool InlineFunction(CallInst *C, InlineFunctionInfo &amp;IFI, bool InsertLifetime=true)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00034">InlineFunction.cpp:34</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCC_html_a2186990102b83e37303ad3180127f527"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html#a2186990102b83e37303ad3180127f527">llvm::CallGraphSCC::isSingular</a></div><div class="ttdeci">bool isSingular() const </div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00093">CallGraphSCCPass.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a42defc71631bc55fcb48421784b276c9"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a42defc71631bc55fcb48421784b276c9">llvm::AllocaInst::setAlignment</a></div><div class="ttdeci">void setAlignment(unsigned Align)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00892">Instructions.cpp:892</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCC_html_a5dc6f41d85a83e036bf7f9a25797e2ec"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html#a5dc6f41d85a83e036bf7f9a25797e2ec">llvm::CallGraphSCC::iterator</a></div><div class="ttdeci">std::vector&lt; CallGraphNode * &gt;::const_iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00100">CallGraphSCCPass.h:100</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00397">Function.h:397</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea43226f7785dec1140ad49c545dc3c674"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea43226f7785dec1140ad49c545dc3c674">llvm::Attribute::InlineHint</a></div><div class="ttdoc">Source said inlining was desirable. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00075">Attributes.h:75</a></div></div>
<div class="ttc" id="structllvm_1_1Inliner_html_a92f46ce0db10f7b7bcbcc57d5a65652c"><div class="ttname"><a href="structllvm_1_1Inliner.html#a92f46ce0db10f7b7bcbcc57d5a65652c">llvm::Inliner::removeDeadFunctions</a></div><div class="ttdeci">bool removeDeadFunctions(CallGraph &amp;CG, bool AlwaysInlineOnly=false)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00578">Inliner.cpp:578</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html_ab24f58be396694af68593145e5f8159a"><div class="ttname"><a href="classllvm_1_1CallGraph.html#ab24f58be396694af68593145e5f8159a">llvm::CallGraph::iterator</a></div><div class="ttdeci">FunctionMapTy::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00107">CallGraph.h:107</a></div></div>
<div class="ttc" id="InlineCost_8h_html"><div class="ttname"><a href="InlineCost_8h.html">InlineCost.h</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1AttrBuilder_html_a59d23ba2e7eac46cbc6cd3086e013b49"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">llvm::AttrBuilder::addAttribute</a></div><div class="ttdeci">AttrBuilder &amp; addAttribute(Attribute::AttrKind Val)</div><div class="ttdoc">Add an attribute to the builder. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00968">Attributes.cpp:968</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html">llvm::InlineFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00160">Cloning.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html_a54abbe67d4a53c92652f1666dc19281f"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">llvm::AttributeSet::hasAttribute</a></div><div class="ttdeci">bool hasAttribute(unsigned Index, Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the attribute exists at the given index. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00818">Attributes.cpp:818</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html">llvm::CallGraphNode</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00173">CallGraph.h:173</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html"><div class="ttname"><a href="classllvm_1_1InlineCost.html">llvm::InlineCost</a></div><div class="ttdoc">Represents the cost of inlining a function. </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00050">InlineCost.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCCPass_html_aafcbee837fed187a54b74f201a748160"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html#aafcbee837fed187a54b74f201a748160">llvm::CallGraphSCCPass::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;Info) const </div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8cpp_source.html#l00572">CallGraphSCCPass.cpp:572</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_a5e8919aeb8fba23fbe8d7384e7483ddf"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">llvm::InlineFunctionInfo::StaticAllocas</a></div><div class="ttdeci">SmallVector&lt; AllocaInst *, 4 &gt; StaticAllocas</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00172">Cloning.h:172</a></div></div>
<div class="ttc" id="CallSite_8h_html"><div class="ttname"><a href="CallSite_8h.html">CallSite.h</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_ab40c70f303f70e989a10efced4036a57"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#ab40c70f303f70e989a10efced4036a57">llvm::CallGraphNode::getFunction</a></div><div class="ttdeci">Function * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00212">CallGraph.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a066eba0d0eb9d9655c9b580a2a279b0a"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a066eba0d0eb9d9655c9b580a2a279b0a">llvm::AllocaInst::isArrayAllocation</a></div><div class="ttdeci">bool isArrayAllocation() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00900">Instructions.cpp:900</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a14eccc6fc74a87bc4d14c280c7574eaf"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">llvm::CallSiteBase::getCaller</a></div><div class="ttdeci">FunTy * getCaller() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00153">CallSite.h:153</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCC_html_a6699d964429a39e8f78b348cb2535bf2"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html#a6699d964429a39e8f78b348cb2535bf2">llvm::CallGraphSCC::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00102">CallGraphSCCPass.h:102</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html"><div class="ttname"><a href="classllvm_1_1AttributeSet.html">llvm::AttributeSet</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00202">Attributes.h:202</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_ad8197eb0f236c8eac8937caf6c8b81d7"><div class="ttname"><a href="Inliner_8cpp.html#ad8197eb0f236c8eac8937caf6c8b81d7">InlinedArrayAllocasTy</a></div><div class="ttdeci">DenseMap&lt; ArrayType *, std::vector&lt; AllocaInst * &gt; &gt; InlinedArrayAllocasTy</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00073">Inliner.cpp:73</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html_a007624bb7cdd296844e44f42b819b2eb"><div class="ttname"><a href="classllvm_1_1InlineCost.html#a007624bb7cdd296844e44f42b819b2eb">llvm::InlineCost::getCost</a></div><div class="ttdeci">int getCost() const </div><div class="ttdoc">Get the inline cost estimate. It is an error to call this on an &quot;always&quot; or &quot;never&quot; InlineCost...</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00089">InlineCost.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCCPass_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html">llvm::CallGraphSCCPass</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00034">CallGraphSCCPass.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html_a10ae28b08e292f846fb954e805e533ce"><div class="ttname"><a href="classllvm_1_1CallGraph.html#a10ae28b08e292f846fb954e805e533ce">llvm::CallGraph::removeFunctionFromModule</a></div><div class="ttdeci">Function * removeFunctionFromModule(CallGraphNode *CGN)</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8cpp_source.html#l00144">CallGraph.cpp:144</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a214c60dbb4f1ed467e5a3420db6eefd6"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00906">Instructions.cpp:906</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="TargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8021d47422cc0a35797629e4ebe6dd3e"><div class="ttname"><a href="classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">llvm::Function::addFnAttr</a></div><div class="ttdeci">void addFnAttr(Attribute::AttrKind N)</div><div class="ttdoc">Add function attributes to this function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00176">Function.h:176</a></div></div>
<div class="ttc" id="CallGraph_8h_html"><div class="ttname"><a href="CallGraph_8h.html">CallGraph.h</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_a57b6a9cbde44c147a096830db071daf6"><div class="ttname"><a href="Inliner_8cpp.html#a57b6a9cbde44c147a096830db071daf6">OptSizeThreshold</a></div><div class="ttdeci">const int OptSizeThreshold</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00054">Inliner.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00332">DerivedTypes.h:332</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_ac32c5e568abcce09107853ccf11fbab6"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#ac32c5e568abcce09107853ccf11fbab6">llvm::InlineConstants::LastCallToStaticBonus</a></div><div class="ttdeci">const int LastCallToStaticBonus</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00032">InlineCost.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00303">Value.cpp:303</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html_abec7a9510993b1475d6dc8a489258e9f"><div class="ttname"><a href="classllvm_1_1InlineCost.html#abec7a9510993b1475d6dc8a489258e9f">llvm::InlineCost::getCostDelta</a></div><div class="ttdeci">int getCostDelta() const </div><div class="ttdoc">Get the cost delta from the threshold for inlining. Only valid if the cost is of the variable kind...</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00097">InlineCost.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a12df9495b95331ab7ed614624e5268d2"><div class="ttname"><a href="classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">llvm::Function::removeAttributes</a></div><div class="ttdeci">void removeAttributes(unsigned i, AttributeSet attr)</div><div class="ttdoc">removes the attributes from the list of attributes. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00296">Function.cpp:296</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00395">Function.h:395</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_aa96196bd6a654ffedf2837f7b467532b"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#aa96196bd6a654ffedf2837f7b467532b">llvm::InlineConstants::CallPenalty</a></div><div class="ttdeci">const int CallPenalty</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00031">InlineCost.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eacc3334fefcec41d5d7416f31685cabea"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eacc3334fefcec41d5d7416f31685cabea">llvm::Attribute::StackProtect</a></div><div class="ttdoc">Stack protection. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00102">Attributes.h:102</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_abc7dd6abf4a8a82ab9abcff5686aacf8"><div class="ttname"><a href="Inliner_8cpp.html#abc7dd6abf4a8a82ab9abcff5686aacf8">InlineLimit</a></div><div class="ttdeci">static cl::opt&lt; int &gt; InlineLimit(&quot;inline-threshold&quot;, cl::Hidden, cl::init(225), cl::ZeroOrMore, cl::desc(&quot;Control the amount of inlining to perform (default = 225)&quot;))</div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">llvm::GlobalValue::LinkOnceODRLinkage</a></div><div class="ttdoc">Same, but only replaced by something equivalent. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00037">GlobalValue.h:37</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="namespacellvm_html_add1eb5637dd671428b6f138ed3db6428"><div class="ttname"><a href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">llvm::array_pod_sort</a></div><div class="ttdeci">void array_pod_sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00289">STLExtras.h:289</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_ad2a5c5546a1d16403d77d2a437ab7dd6"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#ad2a5c5546a1d16403d77d2a437ab7dd6">llvm::CallGraphNode::removeAnyCallEdgeTo</a></div><div class="ttdeci">void removeAnyCallEdgeTo(CallGraphNode *Callee)</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8cpp_source.html#l00221">CallGraph.cpp:221</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon&lt; T &gt;::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00157">SmallVector.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae4c67f835911559821939fb23a2e7aff"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">llvm::CallSiteBase::getInstruction</a></div><div class="ttdeci">InstrTy * getInstruction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00079">CallSite.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1AttrBuilder_html"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html">llvm::AttrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00390">Attributes.h:390</a></div></div>
<div class="ttc" id="namespacellvm_html_abe283966f269761ee387642061c4451e"><div class="ttname"><a href="namespacellvm.html#abe283966f269761ee387642061c4451e">llvm::isInstructionTriviallyDead</a></div><div class="ttdeci">bool isInstructionTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="Local_8cpp_source.html#l00266">Local.cpp:266</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_ad441932c20e5b9ba36c8c72a6c7f5ec3"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">llvm::AllocaInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00103">Instructions.h:103</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_aaf3b82cc11d277accc62e3ebf9f9d28e"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#aaf3b82cc11d277accc62e3ebf9f9d28e">llvm::InlineFunctionInfo::InlinedCalls</a></div><div class="ttdeci">SmallVector&lt; WeakVH, 8 &gt; InlinedCalls</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00176">Cloning.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a492234b10e0c5918d72a3a15a6f0fa6ea61d3cb794533763159788c493ad266d9"><div class="ttname"><a href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6ea61d3cb794533763159788c493ad266d9">llvm::cl::ZeroOrMore</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00086">CommandLine.h:86</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_a7a414398b6abeb1f2a5f3cc68a8d07aa"><div class="ttname"><a href="Inliner_8cpp.html#a7a414398b6abeb1f2a5f3cc68a8d07aa">AdjustCallerSSPLevel</a></div><div class="ttdeci">static void AdjustCallerSSPLevel(Function *Caller, Function *Callee)</div><div class="ttdoc">If the inlined function had a higher stack protection level than the calling function, then bump up the caller&amp;#39;s stack protection level. </div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00077">Inliner.cpp:77</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a18c110c35e9133222a37b28d30f8a90f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00478">SmallVector.h:478</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="structllvm_1_1Inliner_html_a9d648a6780642b0fe493bc41d36188bf"><div class="ttname"><a href="structllvm_1_1Inliner.html#a9d648a6780642b0fe493bc41d36188bf">llvm::Inliner::getInlineCost</a></div><div class="ttdeci">virtual InlineCost getInlineCost(CallSite CS)=0</div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_abb381519d34dcb9ccf673bf7689d0721"><div class="ttname"><a href="classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">llvm::DataLayout::getABITypeAlignment</a></div><div class="ttdeci">unsigned getABITypeAlignment(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00582">DataLayout.cpp:582</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="InlinerPass_8h_html"><div class="ttname"><a href="InlinerPass_8h.html">InlinerPass.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb">llvm::Attribute::OptimizeForSize</a></div><div class="ttdoc">opt_size </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00091">Attributes.h:91</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_a155256dae9eff9b764b9d5eb5a10d8a9"><div class="ttname"><a href="Inliner_8cpp.html#a155256dae9eff9b764b9d5eb5a10d8a9">HintThreshold</a></div><div class="ttdeci">static cl::opt&lt; int &gt; HintThreshold(&quot;inlinehint-threshold&quot;, cl::Hidden, cl::init(325), cl::desc(&quot;Threshold for inlining functions with inline hint&quot;))</div></div>
<div class="ttc" id="Cloning_8h_html"><div class="ttname"><a href="Cloning_8h.html">Cloning.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCC_html_aa262134562bc5f5df6c3f536162469b6"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html#aa262134562bc5f5df6c3f536162469b6">llvm::CallGraphSCC::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00101">CallGraphSCCPass.h:101</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html"><div class="ttname"><a href="classllvm_1_1CallGraph.html">llvm::CallGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00072">CallGraph.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_ab61fa6ccb9c51f78735fc7efc62d9671"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#ab61fa6ccb9c51f78735fc7efc62d9671">llvm::CallGraphNode::removeAllCalledFunctions</a></div><div class="ttdeci">void removeAllCalledFunctions()</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00244">CallGraph.h:244</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="structllvm_1_1Inliner_html_a8118328d04211c3c6ce01ba325e035de"><div class="ttname"><a href="structllvm_1_1Inliner.html#a8118328d04211c3c6ce01ba325e035de">llvm::Inliner::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;Info) const </div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00067">Inliner.cpp:67</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eabfe11fa9b5a9912f2dfb73eb12ee0bb1"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabfe11fa9b5a9912f2dfb73eb12ee0bb1">llvm::Attribute::AlwaysInline</a></div><div class="ttdoc">inline=always </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00070">Attributes.h:70</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eae2d980c80d5d2243c9fef6c8c04b1931"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eae2d980c80d5d2243c9fef6c8c04b1931">llvm::Attribute::StackProtectStrong</a></div><div class="ttdoc">Strong Stack protection. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00104">Attributes.h:104</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00260">SmallVector.h:260</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html_a8d4255a1c63f75411c1b78245d65e746"><div class="ttname"><a href="classllvm_1_1CallGraph.html#a8d4255a1c63f75411c1b78245d65e746">llvm::CallGraph::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00115">CallGraph.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_abefc2d8baa67d6f9e49c95912cfde480"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">llvm::GlobalValue::hasLocalLinkage</a></div><div class="ttdeci">bool hasLocalLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00211">GlobalValue.h:211</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_a976a9827cc098b84745e4a16318f4ecc"><div class="ttname"><a href="Inliner_8cpp.html#a976a9827cc098b84745e4a16318f4ecc">InlineCallIfPossible</a></div><div class="ttdeci">static bool InlineCallIfPossible(CallSite CS, InlineFunctionInfo &amp;IFI, InlinedArrayAllocasTy &amp;InlinedArrayAllocas, int InlineHistory, bool InsertLifetime, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00117">Inliner.cpp:117</a></div></div>
<div class="ttc" id="CaptureTracking_8cpp_html_ac30708db2a991631cbf3d95c6324d929"><div class="ttname"><a href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a></div><div class="ttdeci">static int const Threshold</div><div class="ttdef"><b>Definition:</b> <a href="CaptureTracking_8cpp_source.html#l00080">CaptureTracking.cpp:80</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac38c53f76ef532f91f1666c8a87370e9"><div class="ttname"><a href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00149">Value.h:149</a></div></div>
<div class="ttc" id="Local_8h_html"><div class="ttname"><a href="Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_a50d0911852017f2168de329f53d8568d"><div class="ttname"><a href="classllvm_1_1Constant.html#a50d0911852017f2168de329f53d8568d">llvm::Constant::removeDeadConstantUsers</a></div><div class="ttdeci">void removeDeadConstantUsers() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00395">Constants.cpp:395</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCC_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html">llvm::CallGraphSCC</a></div><div class="ttdoc">CallGraphSCC - This is a single SCC that a CallGraphSCCPass is run on. </div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00083">CallGraphSCCPass.h:83</a></div></div>
<div class="ttc" id="structllvm_1_1Inliner_html_a858c5642c087e71c160a4ba5c9e3bca7"><div class="ttname"><a href="structllvm_1_1Inliner.html#a858c5642c087e71c160a4ba5c9e3bca7">llvm::Inliner::runOnSCC</a></div><div class="ttdeci">virtual bool runOnSCC(CallGraphSCC &amp;SCC)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00397">Inliner.cpp:397</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_a13bcc9282e847fdb0bcb64f27a2e6002"><div class="ttname"><a href="Inliner_8cpp.html#a13bcc9282e847fdb0bcb64f27a2e6002">InlineHistoryIncludes</a></div><div class="ttdeci">static bool InlineHistoryIncludes(Function *F, int InlineHistoryID, const SmallVectorImpl&lt; std::pair&lt; Function *, int &gt; &gt; &amp;InlineHistory)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00385">Inliner.cpp:385</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_a8def873a39ece42cc6499bb9ac8dd1e0"><div class="ttname"><a href="Inliner_8cpp.html#a8def873a39ece42cc6499bb9ac8dd1e0">STATISTIC</a></div><div class="ttdeci">STATISTIC(NumInlined,&quot;Number of functions inlined&quot;)</div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="structllvm_1_1Inliner_html_a684e17b3a0e3f1da103dc89007f86a8a"><div class="ttname"><a href="structllvm_1_1Inliner.html#a684e17b3a0e3f1da103dc89007f86a8a">llvm::Inliner::Inliner</a></div><div class="ttdeci">Inliner(char &amp;ID)</div><div class="ttdef"><b>Definition:</b> <a href="Inliner_8cpp_source.html#l00056">Inliner.cpp:56</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html_aa1645f29cbd305578cb5077ab0b8cde5"><div class="ttname"><a href="classllvm_1_1InlineCost.html#aa1645f29cbd305578cb5077ab0b8cde5">llvm::InlineCost::isNever</a></div><div class="ttdeci">bool isNever() const </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00084">InlineCost.h:84</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallSite_html"><div class="ttname"><a href="classllvm_1_1CallSite.html">llvm::CallSite</a></div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00295">CallSite.h:295</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html_a5fa30e39a8aabf78d23749a245b90361"><div class="ttname"><a href="classllvm_1_1CallGraph.html#a5fa30e39a8aabf78d23749a245b90361">llvm::CallGraph::getExternalCallingNode</a></div><div class="ttdeci">CallGraphNode * getExternalCallingNode() const </div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00134">CallGraph.h:134</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea32b4ecce4fcb41571469ec7ff4a01345"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea32b4ecce4fcb41571469ec7ff4a01345">llvm::Attribute::StackProtectReq</a></div><div class="ttdoc">Stack protection required. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00103">Attributes.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html_aaeef5828c39699b414d1c5bb2996eccd"><div class="ttname"><a href="classllvm_1_1CallGraph.html#aaeef5828c39699b414d1c5bb2996eccd">llvm::CallGraph::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00114">CallGraph.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a7966cd72245302e38c19138b4ad408b4"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">llvm::CallSiteBase::getCalledFunction</a></div><div class="ttdeci">FunTy * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00093">CallSite.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea490ee0eef953b867ec5f39859c6a03bf"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea490ee0eef953b867ec5f39859c6a03bf">llvm::Attribute::MinSize</a></div><div class="ttdoc">Function must be optimized for size first. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00077">Attributes.h:77</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:58 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
