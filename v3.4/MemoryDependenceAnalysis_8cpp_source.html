<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: MemoryDependenceAnalysis.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('MemoryDependenceAnalysis_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MemoryDependenceAnalysis.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MemoryDependenceAnalysis_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MemoryDependenceAnalysis.cpp - Mem Deps Implementation -------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements an analysis that determines, for a given memory</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// operation, what preceding memory operations it depends on.  It builds on</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// alias analysis information, and tries to provide a lazy, caching interface to</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// a common kind of alias information query.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   17</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;memdep&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryDependenceAnalysis_8h.html">llvm/Analysis/MemoryDependenceAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/Analysis/Dominators.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PHITransAddr_8h.html">llvm/Analysis/PHITransAddr.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PredIteratorCache_8h.html">llvm/Support/PredIteratorCache.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a>(NumCacheNonLocal, <span class="stringliteral">&quot;Number of fully cached non-local responses&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a>(NumCacheDirtyNonLocal, <span class="stringliteral">&quot;Number of dirty cached non-local responses&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a>(NumUncacheNonLocal, <span class="stringliteral">&quot;Number of uncached non-local responses&quot;</span>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a>(NumCacheNonLocalPtr,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;          <span class="stringliteral">&quot;Number of fully cached non-local ptr responses&quot;</span>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a>(NumCacheDirtyNonLocalPtr,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;          <span class="stringliteral">&quot;Number of cached, but dirty, non-local ptr responses&quot;</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a>(NumUncacheNonLocalPtr,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;          <span class="stringliteral">&quot;Number of uncached non-local ptr responses&quot;</span>);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a>(NumCacheCompleteNonLocalPtr,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;          <span class="stringliteral">&quot;Number of block queries that were completely cached&quot;</span>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// Limit for the number of instructions to scan in a block.</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#afbfb945cd59740858dd8509ffa6b0506">   50</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#afbfb945cd59740858dd8509ffa6b0506">BlockScanLimit</a> = 100;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#ab6ba33bdfb3c4da44d4586ae1f1966aa">MemoryDependenceAnalysis::ID</a> = 0;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// Register this pass...</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#aecf67c929495cf8397e9eb4c401e8d2e">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html">MemoryDependenceAnalysis</a>, <span class="stringliteral">&quot;memdep&quot;</span>,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <span class="stringliteral">&quot;Memory Dependence Analysis&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<a class="code" href="PassSupport_8h.html#af0564bcdde2dd4400c670ca278c6035f">INITIALIZE_AG_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a>)</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a3950b99d68513a8206c71fdc9f95627c">   58</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html">MemoryDependenceAnalysis</a>, &quot;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a3950b99d68513a8206c71fdc9f95627c">memdep</a>&quot;,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                      &quot;<a class="code" href="classllvm_1_1sys_1_1Memory.html">Memory</a> <a class="code" href="classllvm_1_1Dependence.html">Dependence</a> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#ac7401c647f9a17905e254a5cbb65c7ee">Analysis</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacetrue.html">true</a>)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a26e8790867f9e0f559f527aca0bdf587">   61</a></span>&#160;MemoryDependenceAnalysis::MemoryDependenceAnalysis()</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;: <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>), PredCache(0) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="namespacellvm.html#a7b146b3c939051bc7543ee06b4bfb3b1">initializeMemoryDependenceAnalysisPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#ae490259cdcea86028795a092037c4890">   65</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#ae490259cdcea86028795a092037c4890">MemoryDependenceAnalysis::~MemoryDependenceAnalysis</a>() {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">/// Clean up memory in between runs</span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a38913a0f2400c2b3ba25cfee8cc1c280">   69</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a38913a0f2400c2b3ba25cfee8cc1c280">MemoryDependenceAnalysis::releaseMemory</a>() {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  NonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  PredCache-&gt;clear();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/// getAnalysisUsage - Does not modify anything.  It uses Alias Analysis.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a16dada1a57699243411a7b8f2237bb48">   83</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a16dada1a57699243411a7b8f2237bb48">MemoryDependenceAnalysis::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a>&gt;();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a11e3a5dc537b36f96296238cb7a05990">   88</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a11e3a5dc537b36f96296238cb7a05990">MemoryDependenceAnalysis::runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  AA = &amp;getAnalysis&lt;AliasAnalysis&gt;();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  TD = getAnalysisIfAvailable&lt;DataLayout&gt;();</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  DT = getAnalysisIfAvailable&lt;DominatorTree&gt;();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (!PredCache)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    PredCache.reset(<span class="keyword">new</span> <a class="code" href="classllvm_1_1PredIteratorCache.html">PredIteratorCache</a>());</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/// RemoveFromReverseMap - This is a helper function that removes Val from</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/// &#39;Inst&#39;s set in ReverseMap.  If the set becomes empty, remove Inst&#39;s entry.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyTy&gt;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">  100</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>*,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                 <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;KeyTy, 4&gt;</a> &gt; &amp;ReverseMap,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                 <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst, KeyTy Val) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keyword">typename</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction*, SmallPtrSet&lt;KeyTy, 4&gt;</a> &gt;::iterator</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  InstIt = ReverseMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(Inst);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  assert(InstIt != ReverseMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>() &amp;&amp; <span class="stringliteral">&quot;Reverse map out of sync?&quot;</span>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">bool</span> Found = InstIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(Val);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  assert(Found &amp;&amp; <span class="stringliteral">&quot;Invalid reverse map!&quot;</span>); (void)Found;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span> (InstIt-&gt;second.<a class="code" href="classllvm_1_1DenseMapBase.html#acdd674781be3766718b3a0b38540a4bc">empty</a>())</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    ReverseMap.erase(InstIt);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/// GetLocation - If the given instruction references a specific memory</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/// location, fill in Loc with the details, otherwise set Loc.Ptr to null.</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">/// Return a ModRefInfo value describing the general behavior of the</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/// instruction.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span><span class="keyword">static</span></div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#afb744ee3844b3c1f807fe12ec53a6cfb">  117</a></span>&#160;<a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460">AliasAnalysis::ModRefResult</a> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#afb744ee3844b3c1f807fe12ec53a6cfb">GetLocation</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                        <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                        <a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(Inst)) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (LI-&gt;isUnordered()) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      Loc = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">getLocation</a>(LI);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5">AliasAnalysis::Ref</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (LI-&gt;getOrdering() == <a class="code" href="namespacellvm.html#abf74b2f0dbae96f4708d3e407b36df02a7754cbc42d54bad3979ed1789b780b28">Monotonic</a>) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      Loc = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">getLocation</a>(LI);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">AliasAnalysis::ModRef</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    Loc = <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>();</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">AliasAnalysis::ModRef</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *SI = dyn_cast&lt;StoreInst&gt;(Inst)) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (SI-&gt;isUnordered()) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      Loc = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">getLocation</a>(SI);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">AliasAnalysis::Mod</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (SI-&gt;getOrdering() == <a class="code" href="namespacellvm.html#abf74b2f0dbae96f4708d3e407b36df02a7754cbc42d54bad3979ed1789b780b28">Monotonic</a>) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      Loc = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">getLocation</a>(SI);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">AliasAnalysis::ModRef</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    Loc = <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>();</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">AliasAnalysis::ModRef</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VAArgInst.html">VAArgInst</a> *V = dyn_cast&lt;VAArgInst&gt;(Inst)) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    Loc = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">getLocation</a>(V);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">AliasAnalysis::ModRef</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = <a class="code" href="namespacellvm.html#a42a9f1e04ad580b344123c15dbb29d39">isFreeCall</a>(Inst, AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a2f0a6f0f6e25c24ba9b434ba5b5a9906">getTargetLibraryInfo</a>())) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// calls to free() deallocate the entire structure</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    Loc = <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>(CI-&gt;getArgOperand(0));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">AliasAnalysis::Mod</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(Inst))</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">Intrinsic::lifetime_start</a>:</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373">Intrinsic::lifetime_end</a>:</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a39197eb94db0d5d99219a826fef11477">Intrinsic::invariant_start</a>:</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      Loc = <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>(II-&gt;getArgOperand(1),</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                    cast&lt;ConstantInt&gt;(II-&gt;getArgOperand(0))</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                      -&gt;getZExtValue(),</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                    II-&gt;getMetadata(<a class="code" href="classllvm_1_1LLVMContext.html#a0869c4dfee48696ce863fcd367eba52da66682b7e33233c8e51196bbf274726a2">LLVMContext::MD_tbaa</a>));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="comment">// These intrinsics don&#39;t really modify the memory, but returning Mod</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="comment">// will allow them to be handled conservatively.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">AliasAnalysis::Mod</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a41b4c572902601d7499bc287874271d9">Intrinsic::invariant_end</a>:</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      Loc = <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>(II-&gt;getArgOperand(2),</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                    cast&lt;ConstantInt&gt;(II-&gt;getArgOperand(1))</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                      -&gt;getZExtValue(),</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                    II-&gt;getMetadata(<a class="code" href="classllvm_1_1LLVMContext.html#a0869c4dfee48696ce863fcd367eba52da66682b7e33233c8e51196bbf274726a2">LLVMContext::MD_tbaa</a>));</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="comment">// These intrinsics don&#39;t really modify the memory, but returning Mod</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="comment">// will allow them to be handled conservatively.</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">AliasAnalysis::Mod</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// Otherwise, just do the coarse-grained thing that always works.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#aa26de3d6e38997b9041e824ea558c770">mayWriteToMemory</a>())</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">AliasAnalysis::ModRef</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a0fd8d3c26bf5cd614b0e6a9b8886a5d0">mayReadFromMemory</a>())</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5">AliasAnalysis::Ref</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c">AliasAnalysis::NoModRef</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/// getCallSiteDependencyFrom - Private helper for finding the local</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/// dependencies of a call site.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> MemoryDependenceAnalysis::</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;getCallSiteDependencyFrom(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS, <span class="keywordtype">bool</span> isReadOnlyCall,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                          <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> ScanIt, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordtype">unsigned</span> Limit = <a class="code" href="MemoryDependenceAnalysis_8cpp.html#afbfb945cd59740858dd8509ffa6b0506">BlockScanLimit</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// Walk backwards through the block, looking for dependencies</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">while</span> (ScanIt != BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>()) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// Limit the amount of scanning we do so we don&#39;t end up with quadratic</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// running time on extreme testcases.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    --Limit;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (!Limit)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = --ScanIt;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// If this inst is a memory op, get the pointer it accessed</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> Loc;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460">AliasAnalysis::ModRefResult</a> MR = <a class="code" href="MemoryDependenceAnalysis_8cpp.html#afb744ee3844b3c1f807fe12ec53a6cfb">GetLocation</a>(Inst, Loc, AA);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="comment">// A simple instruction.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">if</span> (AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">getModRefInfo</a>(CS, Loc) != <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c">AliasAnalysis::NoModRef</a>)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> InstCS = cast&lt;Value&gt;(Inst)) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// Debug intrinsics don&#39;t cause dependences.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(Inst)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// If these two calls do not interfere, look past it.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">switch</span> (AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">getModRefInfo</a>(CS, InstCS)) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c">AliasAnalysis::NoModRef</a>:</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// If the two calls are the same, return InstCS as a Def, so that</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// CS can be found redundant and eliminated.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> (isReadOnlyCall &amp;&amp; !(MR &amp; <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">AliasAnalysis::Mod</a>) &amp;&amp;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a0998fa064652459be9475ad460ee381f">isIdenticalToWhenDefined</a>(Inst))</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="comment">// Otherwise if the two calls don&#39;t interact (e.g. InstCS is readnone)</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="comment">// keep scanning.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// If we could not obtain a pointer for the instruction and the instruction</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// touches memory then assume that this is a dependency.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (MR != <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c">AliasAnalysis::NoModRef</a>)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// No dependence found.  If this is the entry block of the function, it is</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// unknown, otherwise it is non-local.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (BB != &amp;BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>())</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">/// isLoadLoadClobberIfExtendedToFullWidth - Return true if LI is a load that</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">/// would fully overlap MemLoc if done as a wider legal integer load.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">/// MemLocBase, MemLocOffset are lazily computed here the first time the</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">/// base/offs of memloc is needed.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a4e69b97c1ce46b7503d184291e65c73c">  255</a></span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a4e69b97c1ce46b7503d184291e65c73c">isLoadLoadClobberIfExtendedToFullWidth</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;MemLoc,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;MemLocBase,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                       int64_t &amp;MemLocOffs,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// If we have no target data, we can&#39;t do this.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (TD == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// If we haven&#39;t already computed the base/offset of MemLoc, do so now.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (MemLocBase == 0)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    MemLocBase = <a class="code" href="namespacellvm.html#a090878b40a781fbfccd4496adb00dd19">GetPointerBaseWithConstantOffset</a>(MemLoc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>, MemLocOffs, TD);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordtype">unsigned</span> Size = <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a7136be51f5ad007feee921c8ffec54da">MemoryDependenceAnalysis::</a></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a7136be51f5ad007feee921c8ffec54da">    getLoadLoadClobberFullWidthSize</a>(MemLocBase, MemLocOffs, MemLoc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#aba42e84910b42f9684564b8512a30b2e">Size</a>,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                    LI, *TD);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">return</span> Size != 0;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">/// getLoadLoadClobberFullWidthSize - This is a little bit of analysis that</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">/// looks at a memory location for a load (specified by MemLocBase, Offs,</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/// and Size) and compares it against a load.  If the specified load could</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">/// be safely widened to a larger integer load that is 1) still efficient,</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">/// 2) safe for the target, and 3) would provide the specified memory</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">/// location value, then this function returns the size in bytes of the</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/// load width to use.  If not, this returns zero.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a7136be51f5ad007feee921c8ffec54da">MemoryDependenceAnalysis::</a></div><div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a7136be51f5ad007feee921c8ffec54da">  281</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a7136be51f5ad007feee921c8ffec54da">getLoadLoadClobberFullWidthSize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *MemLocBase, int64_t MemLocOffs,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                <span class="keywordtype">unsigned</span> MemLocSize, <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;TD) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// We can only extend simple integer loads.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;IntegerType&gt;(LI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) || !LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a156c478ee8e7d1602143cdbad4bd5385">isSimple</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// Load widening is hostile to ThreadSanitizer: it may cause false positives</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// or make the reports more cryptic (access sizes are wrong).</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (LI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      hasAttribute(AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead9b16070672b3e2ba75616590c7f5678">Attribute::SanitizeThread</a>))</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Get the base of this load.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  int64_t LIOffs = 0;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *LIBase =</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="namespacellvm.html#a090878b40a781fbfccd4496adb00dd19">GetPointerBaseWithConstantOffset</a>(LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>(), LIOffs, &amp;TD);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// If the two pointers are not based on the same pointer, we can&#39;t tell that</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// they are related.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span> (LIBase != MemLocBase) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// Okay, the two values are based on the same pointer, but returned as</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// no-alias.  This happens when we have things like two byte loads at &quot;P+1&quot;</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// and &quot;P+3&quot;.  Check to see if increasing the size of the &quot;LI&quot; load up to its</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// alignment (or the largest native integer type) will allow us to load all</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// the bits required by MemLoc.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// If MemLoc is before LI, then no widening of LI will help us out.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (MemLocOffs &lt; LIOffs) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// Get the alignment of the load in bytes.  We assume that it is safe to load</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// any legal integer up to this size without a problem.  For example, if we&#39;re</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// looking at an i8 load on x86-32 that is known 1024 byte aligned, we can</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// widen it up to an i32 load.  If it is known 2-byte aligned, we can widen it</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// to i16.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordtype">unsigned</span> LoadAlign = LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad1168fc42bcba1b71217a4969483671a">getAlignment</a>();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  int64_t MemLocEnd = MemLocOffs+MemLocSize;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// If no amount of rounding up will let MemLoc fit into LI, then bail out.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> (LIOffs+LoadAlign &lt; MemLocEnd) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// This is the size of the load to try.  Start with the next larger power of</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// two.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordtype">unsigned</span> NewLoadByteSize = LI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">getPrimitiveSizeInBits</a>()/8U;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  NewLoadByteSize = <a class="code" href="namespacellvm.html#a0490c32aa8dd63ddc56bb046fd0258c7">NextPowerOf2</a>(NewLoadByteSize);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// If this load size is bigger than our known alignment or would not fit</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// into a native integer register, then we fail.</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (NewLoadByteSize &gt; LoadAlign ||</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        !TD.<a class="code" href="classllvm_1_1DataLayout.html#a87901387c729722d5d63edd1d35119d7">fitsInLegalInteger</a>(NewLoadByteSize*8))</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (LIOffs+NewLoadByteSize &gt; MemLocEnd &amp;&amp;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        LI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          hasAttribute(AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea72bdab14ef59ecc35ce5e1212fddc6c2">Attribute::SanitizeAddress</a>))</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// We will be reading past the location accessed by the original program.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// While this is safe in a regular build, Address Safety analysis tools</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="comment">// may start reporting false warnings. So, don&#39;t do widening.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">// If a load of this width would include all of MemLoc, then we succeed.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (LIOffs+NewLoadByteSize &gt;= MemLocEnd)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">return</span> NewLoadByteSize;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    NewLoadByteSize &lt;&lt;= 1;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">/// getPointerDependencyFrom - Return the instruction on which a memory</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">/// location depends.  If isLoad is true, this routine ignores may-aliases with</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">/// read-only operations.  If isLoad is false, this routine ignores may-aliases</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/// with reads from read-only locations.  If possible, pass the query</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">/// instruction as well; this function may take advantage of the metadata</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/// annotated to the query instruction to refine the result.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#aceb25240e12150012f05a402170ff404">MemoryDependenceAnalysis::</a></div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#aceb25240e12150012f05a402170ff404">  358</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#aceb25240e12150012f05a402170ff404">getPointerDependencyFrom</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;MemLoc, <span class="keywordtype">bool</span> isLoad,</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                         <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> ScanIt, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                         <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *MemLocBase = 0;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  int64_t MemLocOffset = 0;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordtype">unsigned</span> Limit = <a class="code" href="MemoryDependenceAnalysis_8cpp.html#afbfb945cd59740858dd8509ffa6b0506">BlockScanLimit</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordtype">bool</span> isInvariantLoad = <span class="keyword">false</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">if</span> (isLoad &amp;&amp; QueryInst) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>&gt;(QueryInst);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (LI &amp;&amp; LI-&gt;<a class="code" href="classllvm_1_1Instruction.html#aafa29112cbe02e4adc9b36752c771991">getMetadata</a>(<a class="code" href="classllvm_1_1LLVMContext.html#a0869c4dfee48696ce863fcd367eba52da1eb8d19f434b9b137bd23b846cac1b8d">LLVMContext::MD_invariant_load</a>) != 0)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      isInvariantLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">// Walk backwards through the basic block, looking for dependencies.</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">while</span> (ScanIt != BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>()) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = --ScanIt;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(Inst))</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="comment">// Debug intrinsics don&#39;t (and can&#39;t) cause dependencies.</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (isa&lt;DbgInfoIntrinsic&gt;(II)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// Limit the amount of scanning we do so we don&#39;t end up with quadratic</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// running time on extreme testcases.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    --Limit;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (!Limit)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(Inst)) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="comment">// If we reach a lifetime begin or end marker, then the query ends here</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="comment">// because the value is undefined.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">Intrinsic::lifetime_start</a>) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="comment">// FIXME: This only considers queries directly on the invariant-tagged</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="comment">// pointer, not on query pointers that are indexed off of them.  It&#39;d</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="comment">// be nice to handle that at some point (the right approach is to use</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="comment">// GetPointerBaseWithConstantOffset).</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">if</span> (AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a06b4956d73c0a0f5b4901924bf2a98d7">isMustAlias</a>(<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>(II-&gt;getArgOperand(1)),</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                            MemLoc))</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(II);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// Values depend on loads if the pointers are must aliased.  This means that</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// a load depends on another must aliased load from the same value.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(Inst)) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="comment">// Atomic loads have complications involved.</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="comment">// FIXME: This is overly conservative.</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">if</span> (!LI-&gt;isUnordered())</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(LI);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> LoadLoc = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">getLocation</a>(LI);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="comment">// If we found a pointer, check if it could be the same as our pointer.</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826">AliasAnalysis::AliasResult</a> R = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">alias</a>(LoadLoc, MemLoc);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">if</span> (isLoad) {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b">AliasAnalysis::NoAlias</a>) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          <span class="comment">// If this is an over-aligned integer load (for example,</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          <span class="comment">// &quot;load i8* %P, align 4&quot;) see if it would obviously overlap with the</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          <span class="comment">// queried location if widened to a larger load (e.g. if the queried</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <span class="comment">// location is 1 byte at P+1).  If so, return it as a load/load</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          <span class="comment">// clobber result, allowing the client to decide to widen the load if</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          <span class="comment">// it wants to.</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ITy = dyn_cast&lt;IntegerType&gt;(LI-&gt;getType()))</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordflow">if</span> (LI-&gt;getAlignment()*8 &gt; ITy-&gt;getPrimitiveSizeInBits() &amp;&amp;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a4e69b97c1ce46b7503d184291e65c73c">isLoadLoadClobberIfExtendedToFullWidth</a>(MemLoc, MemLocBase,</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                                       MemLocOffset, LI, TD))</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">// Must aliased loads are defs of each other.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826acc20b6673c6cc680294a17b0f0f5d676">AliasAnalysis::MustAlias</a>)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor">#if 0 // FIXME: Temporarily disabled. GVN is cleverly rewriting loads</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="comment">// in terms of clobbering loads, but since it does this by looking</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="comment">// at the clobbering load directly, it doesn&#39;t know about any</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="comment">// phi translation that may have happened along the way.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">// If we have a partial alias, then return this as a clobber for the</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="comment">// client to handle.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826ab8760c4d7e18fd8a42e2cbe27518c9cd">AliasAnalysis::PartialAlias</a>)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// Random may-alias loads don&#39;t depend on each other without a</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="comment">// dependence.</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="comment">// Stores don&#39;t depend on other no-aliased accesses.</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b">AliasAnalysis::NoAlias</a>)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="comment">// Stores don&#39;t alias loads from read-only memory.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">if</span> (AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#abf9502ffcd1aeddfe91345685e3c78a9">pointsToConstantMemory</a>(LoadLoc))</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="comment">// Stores depend on may/must aliased loads.</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *SI = dyn_cast&lt;StoreInst&gt;(Inst)) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="comment">// Atomic stores have complications involved.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="comment">// FIXME: This is overly conservative.</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">if</span> (!SI-&gt;isUnordered())</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(SI);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="comment">// If alias analysis can tell that this store is guaranteed to not modify</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="comment">// the query pointer, ignore it.  Use getModRefInfo to handle cases where</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="comment">// the query pointer points to constant memory etc.</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keywordflow">if</span> (AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">getModRefInfo</a>(SI, MemLoc) == <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c">AliasAnalysis::NoModRef</a>)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="comment">// Ok, this store might clobber the query pointer.  Check to see if it is</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="comment">// a must alias: in this case, we want to return this as a def.</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> StoreLoc = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">getLocation</a>(SI);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="comment">// If we found a pointer, check if it could be the same as our pointer.</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826">AliasAnalysis::AliasResult</a> R = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">alias</a>(StoreLoc, MemLoc);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b">AliasAnalysis::NoAlias</a>)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">if</span> (R == <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826acc20b6673c6cc680294a17b0f0f5d676">AliasAnalysis::MustAlias</a>)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">if</span> (isInvariantLoad)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;       <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// If this is an allocation, and if we know that the accessed pointer is to</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// the allocation, return Def.  This means that there is no dependence and</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// the access can be optimized based on that.  For example, a load could</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// turn into undef.</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// Note: Only determine this to be a malloc if Inst is the malloc call, not</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// a subsequent bitcast of the malloc call result.  There can be stores to</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// the malloced memory between the malloc call and its bitcast uses, and we</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// need to continue scanning until the malloc call.</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a2f0a6f0f6e25c24ba9b434ba5b5a9906">getTargetLibraryInfo</a>();</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(Inst) || <a class="code" href="namespacellvm.html#a1facc4deb1c9405622eda25f392c460a">isNoAliasFn</a>(Inst, TLI)) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *AccessPtr = <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(MemLoc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>, TD);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">if</span> (AccessPtr == Inst || AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a06b4956d73c0a0f5b4901924bf2a98d7">isMustAlias</a>(Inst, AccessPtr))</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">MemDepResult::getDef</a>(Inst);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="comment">// Be conservative if the accessed pointer may alias the allocation.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="keywordflow">if</span> (AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">alias</a>(Inst, AccessPtr) != <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b">AliasAnalysis::NoAlias</a>)</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="comment">// If the allocation is not aliased and does not read memory (like</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="comment">// strdup), it is safe to ignore.</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(Inst) ||</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;          <a class="code" href="namespacellvm.html#a2658c0d02aefac95af1af537f4180cb2">isMallocLikeFn</a>(Inst, TLI) || <a class="code" href="namespacellvm.html#a6af2bcc7c5e0f3aa4df1526781e6b122">isCallocLikeFn</a>(Inst, TLI))</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// See if this instruction (e.g. a call or vaarg) mod/ref&#39;s the pointer.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460">AliasAnalysis::ModRefResult</a> MR = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">getModRefInfo</a>(Inst, MemLoc);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// If necessary, perform additional analysis.</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (MR == <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">AliasAnalysis::ModRef</a>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      MR = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a650241dcf00905f4085c878ec988e27f">callCapturesBefore</a>(Inst, MemLoc, DT);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">switch</span> (MR) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c">AliasAnalysis::NoModRef</a>:</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="comment">// If the call has no effect on the queried pointer, just ignore it.</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">AliasAnalysis::Mod</a>:</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5">AliasAnalysis::Ref</a>:</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="comment">// If the call is known to never store to the pointer, and if this is a</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="comment">// load query, we can safely ignore it (scan past it).</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">if</span> (isLoad)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="comment">// Otherwise, there is a potential dependence.  Return a clobber.</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">MemDepResult::getClobber</a>(Inst);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// No dependence found.  If this is the entry block of the function, it is</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// unknown, otherwise it is non-local.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span> (BB != &amp;BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>())</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">/// getDependency - Return the instruction on which a memory operation</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">/// depends.</span></div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a467f81f7c124644d999390ff8cca4727">  546</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a467f81f7c124644d999390ff8cca4727">MemoryDependenceAnalysis::getDependency</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *QueryInst) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ScanPos = QueryInst;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// Check for a cached result</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;LocalCache = LocalDeps[QueryInst];</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// If the cached entry is non-dirty, just return it.  Note that this depends</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// on MemDepResult&#39;s default constructing to &#39;dirty&#39;.</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">if</span> (!LocalCache.isDirty())</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">return</span> LocalCache;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// Otherwise, if we have a dirty entry, we know we can start the scan at that</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// instruction, which may save us some work.</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = LocalCache.<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>()) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    ScanPos = Inst;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseLocalDeps, Inst, QueryInst);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *QueryParent = QueryInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// Do the scan.</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a>(QueryInst) == QueryParent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>()) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="comment">// No dependence found.  If this is the entry block of the function, it is</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// unknown, otherwise it is non-local.</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span> (QueryParent != &amp;QueryParent-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>())</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      LocalCache = <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      LocalCache = <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> MemLoc;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460">AliasAnalysis::ModRefResult</a> MR = <a class="code" href="MemoryDependenceAnalysis_8cpp.html#afb744ee3844b3c1f807fe12ec53a6cfb">GetLocation</a>(QueryInst, MemLoc, AA);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (MemLoc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="comment">// If we can do a pointer scan, make it happen.</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordtype">bool</span> isLoad = !(MR &amp; <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">AliasAnalysis::Mod</a>);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(QueryInst))</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        isLoad |= II-&gt;getIntrinsicID() == <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">Intrinsic::lifetime_start</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      LocalCache = <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#aceb25240e12150012f05a402170ff404">getPointerDependencyFrom</a>(MemLoc, isLoad, ScanPos,</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                            QueryParent, QueryInst);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(QueryInst) || isa&lt;InvokeInst&gt;(QueryInst)) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> QueryCS(QueryInst);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordtype">bool</span> isReadOnly = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a9568a7e6c44fd9d259f2949a401ece11">onlyReadsMemory</a>(QueryCS);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      LocalCache = getCallSiteDependencyFrom(QueryCS, isReadOnly, ScanPos,</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                             QueryParent);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="comment">// Non-memory instruction.</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      LocalCache = <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>();</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="comment">// Remember the result!</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LocalCache.<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>())</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    ReverseLocalDeps[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].insert(QueryInst);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> LocalCache;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">/// AssertSorted - This method is used when -debug is specified to verify that</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"></span><span class="comment">/// cache arrays are properly kept sorted.</span></div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">  606</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">AssertSorted</a>(<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">MemoryDependenceAnalysis::NonLocalDepInfo</a> &amp;Cache,</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                         <span class="keywordtype">int</span> Count = -1) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span> (Count == -1) Count = Cache.size();</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">if</span> (Count == 0) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != unsigned(Count); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    assert(!(Cache[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; Cache[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1]) &amp;&amp; <span class="stringliteral">&quot;Cache isn&#39;t sorted!&quot;</span>);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">/// getNonLocalCallDependency - Perform a full dependency query for the</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">/// specified call, returning the set of blocks that the value is</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">/// potentially live across.  The returned set of results will include a</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">/// &quot;NonLocal&quot; result for all blocks where the value is live across.</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">/// This method assumes the instruction returns a &quot;NonLocal&quot; dependency</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">/// within its own block.</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">/// This returns a reference to an internal data structure that may be</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">/// invalidated on the next non-local query or when an instruction is</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">/// removed.  Clients must copy this data if they want it around longer than</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">/// that.</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">MemoryDependenceAnalysis::NonLocalDepInfo</a> &amp;</div><div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#ab04c5a7f34b7ac7d1dc587b7785a31d9">  629</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#ab04c5a7f34b7ac7d1dc587b7785a31d9">MemoryDependenceAnalysis::getNonLocalCallDependency</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> QueryCS) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  assert(<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a467f81f7c124644d999390ff8cca4727">getDependency</a>(QueryCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()).isNonLocal() &amp;&amp;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; <span class="stringliteral">&quot;getNonLocalCallDependency should only be used on calls with non-local deps!&quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  PerInstNLInfo &amp;CacheP = NonLocalDeps[QueryCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()];</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a> &amp;Cache = CacheP.first;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">  /// DirtyBlocks - This is the set of blocks that need to be recomputed.  In</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">  /// the cached case, this can happen due to instructions being deleted etc. In</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">  /// the uncached case, this starts out as the set of predecessors we care</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">  /// about.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock*, 32&gt;</a> DirtyBlocks;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">if</span> (!Cache.empty()) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// Okay, we have a cache entry.  If we know it is not dirty, just return it</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// with no computation.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">if</span> (!CacheP.second) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      ++NumCacheNonLocal;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordflow">return</span> Cache;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// If we already have a partially computed set of results, scan them to</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// determine what is dirty, seeding our initial DirtyBlocks worklist.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">for</span> (NonLocalDepInfo::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Cache.begin(), E = Cache.end();</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getResult().isDirty())</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        DirtyBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB());</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// Sort the cache so that we can do fast binary search lookups below.</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    std::sort(Cache.begin(), Cache.end());</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    ++NumCacheDirtyNonLocal;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">//cerr &lt;&lt; &quot;CACHED CASE: &quot; &lt;&lt; DirtyBlocks.size() &lt;&lt; &quot; dirty: &quot;</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">//     &lt;&lt; Cache.size() &lt;&lt; &quot; cached: &quot; &lt;&lt; *QueryInst;</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// Seed DirtyBlocks with each of the preds of QueryInst&#39;s block.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *QueryBB = QueryCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> **PI = PredCache-&gt;GetPreds(QueryBB); *PI; ++PI)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      DirtyBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*PI);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    ++NumUncacheNonLocal;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="comment">// isReadonlyCall - If this is a read-only call, we can be more aggressive.</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordtype">bool</span> isReadonlyCall = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a9568a7e6c44fd9d259f2949a401ece11">onlyReadsMemory</a>(QueryCS);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock*, 64&gt;</a> Visited;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordtype">unsigned</span> NumSortedEntries = Cache.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a41c201584742f7eb45b2be8cd54e3bcb">size</a>();</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">AssertSorted</a>(Cache));</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// Iterate while we still have blocks to update.</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">while</span> (!DirtyBlocks.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DirtyBB = DirtyBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    DirtyBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// Already processed this block?</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(DirtyBB))</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="comment">// Do a binary search to see if we already have an entry for this block in</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="comment">// the cache set.  If so, find it.</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">AssertSorted</a>(Cache, NumSortedEntries));</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    NonLocalDepInfo::iterator Entry =</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      std::upper_bound(Cache.begin(), Cache.begin()+NumSortedEntries,</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                       <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(DirtyBB));</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (Entry != Cache.begin() &amp;&amp; <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">prior</a>(Entry)-&gt;getBB() == DirtyBB)</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      --Entry;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> *ExistingResult = 0;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (Entry != Cache.begin()+NumSortedEntries &amp;&amp;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        Entry-&gt;getBB() == DirtyBB) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="comment">// If we already have an entry, and if it isn&#39;t already dirty, the block</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="comment">// is done.</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">if</span> (!Entry-&gt;getResult().isDirty())</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="comment">// Otherwise, remember this slot so we can update the value.</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      ExistingResult = &amp;*Entry;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// If the dirty entry has a pointer, start scanning from it so we don&#39;t have</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// to rescan the entire block.</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> ScanPos = DirtyBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>();</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (ExistingResult) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>()) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        ScanPos = Inst;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="comment">// We&#39;re removing QueryInst&#39;s use of Inst.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseNonLocalDeps, Inst,</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                             QueryCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>());</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// Find out if this block has a local dependency for QueryInst.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Dep;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (ScanPos != DirtyBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>()) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      Dep = getCallSiteDependencyFrom(QueryCS, isReadonlyCall,ScanPos, DirtyBB);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DirtyBB != &amp;DirtyBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>()) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="comment">// No dependence found.  If this is the entry block of the function, it is</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="comment">// a clobber, otherwise it is unknown.</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      Dep = <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">MemDepResult::getNonLocal</a>();</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      Dep = <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">MemDepResult::getNonFuncLocal</a>();</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// If we had a dirty entry for the block, update it.  Otherwise, just add</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// a new entry.</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (ExistingResult)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">setResult</a>(Dep);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      Cache.push_back(<a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(DirtyBB, Dep));</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">// If the block has a dependency (i.e. it isn&#39;t completely transparent to</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// the value), remember the association!</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (!Dep.isNonLocal()) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="comment">// Keep the ReverseNonLocalDeps map up to date so we can efficiently</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="comment">// update this when we remove instructions.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = Dep.getInst())</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        ReverseNonLocalDeps[Inst].insert(QueryCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>());</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="comment">// If the block *is* completely transparent to the load, we need to check</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="comment">// the predecessors of this block.  Add them to our worklist.</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> **PI = PredCache-&gt;GetPreds(DirtyBB); *PI; ++PI)</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        DirtyBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*PI);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">return</span> Cache;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">/// getNonLocalPointerDependency - Perform a full dependency query for an</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">/// access to the specified (non-volatile) memory location, returning the</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">/// set of instructions that either define or clobber the value.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">/// This method assumes the pointer has a &quot;NonLocal&quot; dependency within its</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">/// own block.</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a27e4a925fd1ad26aea61b15ecfcf5558">MemoryDependenceAnalysis::</a></div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a27e4a925fd1ad26aea61b15ecfcf5558">  767</a></span>&#160;<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a27e4a925fd1ad26aea61b15ecfcf5558">getNonLocalPointerDependency</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc, <span class="keywordtype">bool</span> isLoad,</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                             <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FromBB,</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;NonLocalDepResult&gt;</a> &amp;Result) {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  assert(Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;         <span class="stringliteral">&quot;Can&#39;t get pointer deps of a non-pointer!&quot;</span>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  Result.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> Address(const_cast&lt;Value *&gt;(Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>), TD);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// This is the set of blocks we&#39;ve inspected, and the pointer we consider in</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">// each block.  Because of critical edges, we currently bail out if querying</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">// a block with multiple different pointers.  This can happen during PHI</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="comment">// translation.</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock*, Value*&gt;</a> Visited;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">if</span> (!getNonLocalPointerDepFromBB(Address, Loc, isLoad, FromBB,</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                                   Result, Visited, <span class="keyword">true</span>))</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  Result.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  Result.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(FromBB,</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                     <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(),</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                                     const_cast&lt;Value *&gt;(Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>)));</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">/// GetNonLocalInfoForBlock - Compute the memdep value for BB with</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">/// Pointer/PointeeSize using either cached information in Cache or by doing a</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">/// lookup (which may use dirty cache info if available).  If we do a lookup,</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">/// add the result to the cache.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> MemoryDependenceAnalysis::</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;GetNonLocalInfoForBlock(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc,</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        <span class="keywordtype">bool</span> isLoad, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                        <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a> *Cache, <span class="keywordtype">unsigned</span> NumSortedEntries) {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">// Do a binary search to see if we already have an entry for this block in</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">// the cache set.  If so, find it.</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  NonLocalDepInfo::iterator Entry =</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    std::upper_bound(Cache-&gt;begin(), Cache-&gt;begin()+NumSortedEntries,</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                     <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(BB));</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordflow">if</span> (Entry != Cache-&gt;begin() &amp;&amp; (Entry-1)-&gt;getBB() == <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    --Entry;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> *ExistingResult = 0;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (Entry != Cache-&gt;begin()+NumSortedEntries &amp;&amp; Entry-&gt;getBB() == <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    ExistingResult = &amp;*Entry;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">// If we have a cached entry, and it is non-dirty, use it as the value for</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="comment">// this dependency.</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span> (ExistingResult &amp;&amp; !ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>().isDirty()) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    ++NumCacheNonLocalPtr;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">return</span> ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>();</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="comment">// Otherwise, we have to scan for the value.  If we have a dirty cache</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">// entry, start scanning from its position, otherwise we scan from the end</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">// of the block.</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> ScanPos = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>();</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">if</span> (ExistingResult &amp;&amp; ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>()) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    assert(ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == BB &amp;&amp;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;           <span class="stringliteral">&quot;Instruction invalidated?&quot;</span>);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    ++NumCacheDirtyNonLocalPtr;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    ScanPos = ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>().<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">// Eliminating the dirty entry from &#39;Cache&#39;, so update the reverse info.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a> CacheKey(Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>, isLoad);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, ScanPos, CacheKey);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    ++NumUncacheNonLocalPtr;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// Scan the block for the dependency.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Dep = <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#aceb25240e12150012f05a402170ff404">getPointerDependencyFrom</a>(Loc, isLoad, ScanPos, BB);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// If we had a dirty entry for the block, update it.  Otherwise, just add</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// a new entry.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">if</span> (ExistingResult)</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    ExistingResult-&gt;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">setResult</a>(Dep);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    Cache-&gt;push_back(<a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a>(BB, Dep));</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">// If the block has a dependency (i.e. it isn&#39;t completely transparent to</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// the value), remember the reverse association because we just added it</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// to Cache!</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">if</span> (!Dep.<a class="code" href="classllvm_1_1MemDepResult.html#aa6d7a9e81b4749376498640463eb5dc2">isDef</a>() &amp;&amp; !Dep.<a class="code" href="classllvm_1_1MemDepResult.html#ae409b288c7f70a6c57586535abed3808">isClobber</a>())</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">return</span> Dep;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// Keep the ReverseNonLocalPtrDeps map up to date so we can efficiently</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// update MemDep when we remove instructions.</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = Dep.<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>();</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  assert(Inst &amp;&amp; <span class="stringliteral">&quot;Didn&#39;t depend on anything?&quot;</span>);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a> CacheKey(Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">Ptr</a>, isLoad);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  ReverseNonLocalPtrDeps[Inst].<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(CacheKey);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">return</span> Dep;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">/// SortNonLocalDepInfoCache - Sort the a NonLocalDepInfo cache, given a certain</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">/// number of elements in the array that are already properly ordered.  This is</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">/// optimized for the case when only a few entries are added.</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="MemoryDependenceAnalysis_8cpp.html#a2a5b2ca7088c06272319b7718936c88b">  864</a></span>&#160;<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a2a5b2ca7088c06272319b7718936c88b">SortNonLocalDepInfoCache</a>(<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">MemoryDependenceAnalysis::NonLocalDepInfo</a> &amp;Cache,</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                         <span class="keywordtype">unsigned</span> NumSortedEntries) {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">switch</span> (Cache.size() - NumSortedEntries) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="comment">// done, no new entries.</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">case</span> 2: {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Two new entries, insert the last one into place.</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> Val = Cache.back();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    Cache.pop_back();</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    MemoryDependenceAnalysis::NonLocalDepInfo::iterator Entry =</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      std::upper_bound(Cache.begin(), Cache.end()-1, Val);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    Cache.insert(Entry, Val);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// FALL THROUGH.</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// One new entry, Just insert the new value at the appropriate position.</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span> (Cache.size() != 1) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> Val = Cache.back();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      Cache.pop_back();</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      MemoryDependenceAnalysis::NonLocalDepInfo::iterator Entry =</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        std::upper_bound(Cache.begin(), Cache.end(), Val);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      Cache.insert(Entry, Val);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="comment">// Added many values, do a full scale sort.</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    std::sort(Cache.begin(), Cache.end());</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;}</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">/// getNonLocalPointerDepFromBB - Perform a dependency query based on</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">/// pointer/pointeesize starting at the end of StartBB.  Add any clobber/def</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">/// results to the results vector and keep track of which blocks are visited in</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">/// &#39;Visited&#39;.</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">/// This has special behavior for the first block queries (when SkipFirstBlock</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">/// is true).  In this special case, it ignores the contents of the specified</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">/// block and starts returning dependence info for its predecessors.</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">/// This function returns false on success, or true to indicate that it could</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">/// not compute dependence information for some reason.  This should be treated</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">/// as a clobber dependence on the first instruction in the predecessor block.</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> MemoryDependenceAnalysis::</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;getNonLocalPointerDepFromBB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;Pointer,</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                            <span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc,</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                            <span class="keywordtype">bool</span> isLoad, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *StartBB,</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;NonLocalDepResult&gt;</a> &amp;Result,</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                            <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock*, Value*&gt;</a> &amp;Visited,</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                            <span class="keywordtype">bool</span> SkipFirstBlock) {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// Look up the cached info for Pointer.</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  ValueIsLoadPair CacheKey(Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>(), isLoad);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// Set up a temporary NLPI value. If the map doesn&#39;t yet have an entry for</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// CacheKey, this value will be inserted as the associated value. Otherwise,</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// it&#39;ll be ignored, and we&#39;ll have to check to see if the cached size and</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// tbaa tag are consistent with the current query.</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  NonLocalPointerInfo InitialNLPI;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  InitialNLPI.Size = Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#aba42e84910b42f9684564b8512a30b2e">Size</a>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  InitialNLPI.TBAATag = Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a2fdb794f07cee21bb46d6b2cb8170901">TBAATag</a>;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">// Get the NLPI for CacheKey, inserting one into the map if it doesn&#39;t</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// already have one.</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  std::pair&lt;CachedNonLocalPointerInfo::iterator, bool&gt; Pair =</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(std::make_pair(CacheKey, InitialNLPI));</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  NonLocalPointerInfo *CacheInfo = &amp;Pair.first-&gt;second;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">// If we already have a cache entry for this CacheKey, we may need to do some</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// work to reconcile the cache entry and the current query.</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">if</span> (!Pair.second) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">if</span> (CacheInfo-&gt;Size &lt; Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#aba42e84910b42f9684564b8512a30b2e">Size</a>) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="comment">// The query&#39;s Size is greater than the cached one. Throw out the</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="comment">// cached data and proceed with the query at the greater size.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      CacheInfo-&gt;Size = Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#aba42e84910b42f9684564b8512a30b2e">Size</a>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">for</span> (NonLocalDepInfo::iterator DI = CacheInfo-&gt;NonLocalDeps.begin(),</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;           <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a> = CacheInfo-&gt;NonLocalDeps.end(); DI != <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a>; ++DI)</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = DI-&gt;getResult().getInst())</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;          <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, Inst, CacheKey);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      CacheInfo-&gt;NonLocalDeps.clear();</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CacheInfo-&gt;Size &gt; Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#aba42e84910b42f9684564b8512a30b2e">Size</a>) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="comment">// This query&#39;s Size is less than the cached one. Conservatively restart</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="comment">// the query using the greater size.</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordflow">return</span> getNonLocalPointerDepFromBB(Pointer,</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                                         Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a2e1f29abce73568e33d2273dc7decfe6">getWithNewSize</a>(CacheInfo-&gt;Size),</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                                         isLoad, StartBB, Result, Visited,</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                                         SkipFirstBlock);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// If the query&#39;s TBAATag is inconsistent with the cached one,</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">// conservatively throw out the cached data and restart the query with</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="comment">// no tag if needed.</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (CacheInfo-&gt;TBAATag != Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a2fdb794f07cee21bb46d6b2cb8170901">TBAATag</a>) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="keywordflow">if</span> (CacheInfo-&gt;TBAATag) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        CacheInfo-&gt;TBAATag = 0;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">for</span> (NonLocalDepInfo::iterator DI = CacheInfo-&gt;NonLocalDeps.begin(),</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;             <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a> = CacheInfo-&gt;NonLocalDeps.end(); DI != <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a>; ++DI)</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = DI-&gt;getResult().getInst())</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, Inst, CacheKey);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        CacheInfo-&gt;NonLocalDeps.clear();</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">if</span> (Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a2fdb794f07cee21bb46d6b2cb8170901">TBAATag</a>)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">return</span> getNonLocalPointerDepFromBB(Pointer, Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a8b8d65c71552f8c2e5bd194d67ebedf8">getWithoutTBAATag</a>(),</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                                           isLoad, StartBB, Result, Visited,</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                                           SkipFirstBlock);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  }</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a> *Cache = &amp;CacheInfo-&gt;NonLocalDeps;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="comment">// If we have valid cached information for exactly the block we are</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="comment">// investigating, just return it with no recomputation.</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">if</span> (CacheInfo-&gt;Pair == BBSkipFirstBlockPair(StartBB, SkipFirstBlock)) {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// We have a fully cached result for this query then we can just return the</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="comment">// cached results and populate the visited set.  However, we have to verify</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">// that we don&#39;t already have conflicting results for these blocks.  Check</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">// to ensure that if a block in the results set is in the visited set that</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="comment">// it was for the same pointer query.</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#acdd674781be3766718b3a0b38540a4bc">empty</a>()) {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="keywordflow">for</span> (NonLocalDepInfo::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Cache-&gt;begin(), E = Cache-&gt;end();</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock*, Value*&gt;::iterator</a> VI = Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB());</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">if</span> (VI == Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>() || VI-&gt;second == Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>())</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="comment">// We have a pointer mismatch in a block.  Just return clobber, saying</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="comment">// that something was clobbered in this result.  We could also do a</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="comment">// non-fully cached query, but there is little point in doing this.</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      }</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Addr = Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>();</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">for</span> (NonLocalDepInfo::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Cache-&gt;begin(), E = Cache-&gt;end();</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(std::make_pair(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB(), Addr));</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getResult().isNonLocal()) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="keywordflow">if</span> (!DT) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        Result.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB(),</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                                           <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(),</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                           Addr));</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5ff15505ad3a19cbc8e6d4cb3633d669">isReachableFromEntry</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB())) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        Result.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getResult(), Addr));</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    ++NumCacheCompleteNonLocalPtr;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="comment">// Otherwise, either this is a new block, a block with an invalid cache</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="comment">// pointer or one that we&#39;re about to invalidate by putting more info into it</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// than its valid cache info.  If empty, the result will be valid cache info,</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// otherwise it isn&#39;t.</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (Cache-&gt;empty())</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    CacheInfo-&gt;Pair = BBSkipFirstBlockPair(StartBB, SkipFirstBlock);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock*, 32&gt;</a> Worklist;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(StartBB);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// PredList used inside loop.</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;BasicBlock*, PHITransAddr&gt;</a>, 16&gt; PredList;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">// Keep track of the entries that we know are sorted.  Previously cached</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">// entries will all be sorted.  The entries we add we only sort on demand (we</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="comment">// don&#39;t insert every element into its sorted position).  We know that we</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="comment">// won&#39;t get any reuse from currently inserted values, because we don&#39;t</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// revisit blocks after we insert info for them.</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordtype">unsigned</span> NumSortedEntries = Cache-&gt;<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">AssertSorted</a>(*Cache));</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">// Skip the first block if we have it.</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> (!SkipFirstBlock) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="comment">// Analyze the dependency of *Pointer in FromBB.  See if we already have</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="comment">// been here.</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      assert(Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(BB) &amp;&amp; <span class="stringliteral">&quot;Should check &#39;visited&#39; before adding to WL&quot;</span>);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="comment">// Get the dependency info for Pointer in BB.  If we have cached</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="comment">// information, we will use it, otherwise we compute it.</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">AssertSorted</a>(*Cache, NumSortedEntries));</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Dep = GetNonLocalInfoForBlock(Loc, isLoad, BB, Cache,</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                                                 NumSortedEntries);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="comment">// If we got a Def or Clobber, add this to the list of results.</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="keywordflow">if</span> (!Dep.<a class="code" href="classllvm_1_1MemDepResult.html#a2a64d8f5153ebc0e8c08d0702c2c4aab">isNonLocal</a>()) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">if</span> (!DT) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;          Result.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(BB,</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                             <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(),</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                             Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>()));</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5ff15505ad3a19cbc8e6d4cb3633d669">isReachableFromEntry</a>(BB)) {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;          Result.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(BB, Dep, Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>()));</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="comment">// If &#39;Pointer&#39; is an instruction defined in this block, then we need to do</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="comment">// phi translation to change it into a value live in the predecessor block.</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">// If not, we just add the predecessors to the worklist and scan them with</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="comment">// the same Pointer.</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">if</span> (!Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#ac3bbb43654c937b5eab64de7b7e9c89c">NeedsPHITranslationFromBlock</a>(BB)) {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      SkipFirstBlock = <span class="keyword">false</span>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock*, 16&gt;</a> NewBlocks;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> **PI = PredCache-&gt;GetPreds(BB); *PI; ++PI) {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="comment">// Verify that we haven&#39;t looked at this block yet.</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        std::pair&lt;DenseMap&lt;BasicBlock*,Value*&gt;::iterator, <span class="keywordtype">bool</span>&gt;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;          InsertRes = Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(std::make_pair(*PI, Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>()));</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> (InsertRes.second) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;          <span class="comment">// First time we&#39;ve looked at *PI.</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;          NewBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*PI);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="comment">// If we have seen this block before, but it was with a different</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="comment">// pointer then we have a phi translation failure and we have to treat</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="comment">// this as a clobber.</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">if</span> (InsertRes.first-&gt;second != Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>()) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;          <span class="comment">// Make sure to clean up the Visited map before continuing on to</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;          <span class="comment">// PredTranslationFailure.</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NewBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(NewBlocks[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;          <span class="keywordflow">goto</span> PredTranslationFailure;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(NewBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), NewBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>());</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// We do need to do phi translation, if we know ahead of time we can&#39;t phi</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">// translate this value, don&#39;t even try.</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (!Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#a5c0a098e4fec390904312efff0ac2f17">IsPotentiallyPHITranslatable</a>())</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">goto</span> PredTranslationFailure;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// We may have added values to the cache list before this PHI translation.</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">// If so, we haven&#39;t done anything to ensure that the cache remains sorted.</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// Sort it now (if needed) so that recursive invocations of</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="comment">// getNonLocalPointerDepFromBB and other routines that could reuse the cache</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// value will only see properly sorted cache arrays.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">if</span> (Cache &amp;&amp; NumSortedEntries != Cache-&gt;size()) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a2a5b2ca7088c06272319b7718936c88b">SortNonLocalDepInfoCache</a>(*Cache, NumSortedEntries);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      NumSortedEntries = Cache-&gt;size();</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    Cache = 0;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    PredList.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> **PI = PredCache-&gt;GetPreds(BB); *PI; ++PI) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred = *PI;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      PredList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(Pred, Pointer));</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="comment">// Get the PHI translated pointer in this predecessor.  This can fail if</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="comment">// not translatable, in which case the getAddr() returns null.</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;PredPointer = PredList.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().second;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      PredPointer.<a class="code" href="classllvm_1_1PHITransAddr.html#acef00be533f811953711c37421a8bb13">PHITranslateValue</a>(BB, Pred, 0);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PredPtrVal = PredPointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>();</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="comment">// Check to see if we have already visited this pred block with another</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="comment">// pointer.  If so, we can&#39;t do this lookup.  This failure can occur</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="comment">// with PHI translation when a critical edge exists and the PHI node in</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="comment">// the successor translates to a pointer value different than the</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="comment">// pointer the block was first analyzed with.</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      std::pair&lt;DenseMap&lt;BasicBlock*,Value*&gt;::iterator, <span class="keywordtype">bool</span>&gt;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        InsertRes = Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(std::make_pair(Pred, PredPtrVal));</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">if</span> (!InsertRes.second) {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="comment">// We found the pred; take it off the list of preds to visit.</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        PredList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="comment">// If the predecessor was visited with PredPtr, then we already did</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">// the analysis and can ignore it.</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordflow">if</span> (InsertRes.first-&gt;second == PredPtrVal)</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="comment">// Otherwise, the block was previously analyzed with a different</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="comment">// pointer.  We can&#39;t represent the result of this case, so we just</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="comment">// treat this as a phi translation failure.</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="comment">// Make sure to clean up the Visited map before continuing on to</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="comment">// PredTranslationFailure.</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = PredList.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          Visited.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(PredList[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="keywordflow">goto</span> PredTranslationFailure;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">// Actually process results here; this need to be a separate loop to avoid</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">// calling getNonLocalPointerDepFromBB for blocks we don&#39;t want to return</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="comment">// any results for.  (getNonLocalPointerDepFromBB will modify our</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="comment">// datastructures in ways the code after the PredTranslationFailure label</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="comment">// doesn&#39;t expect.)</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = PredList.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred = PredList[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;PredPointer = PredList[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PredPtrVal = PredPointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>();</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordtype">bool</span> CanTranslate = <span class="keyword">true</span>;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="comment">// If PHI translation was unable to find an available pointer in this</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="comment">// predecessor, then we have to assume that the pointer is clobbered in</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="comment">// that predecessor.  We can still do PRE of the load, which would insert</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="comment">// a computation of the pointer in this predecessor.</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">if</span> (PredPtrVal == 0)</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        CanTranslate = <span class="keyword">false</span>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="comment">// FIXME: it is entirely possible that PHI translating will end up with</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="comment">// the same value.  Consider PHI translating something like:</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="comment">// X = phi [x, bb1], [y, bb2].  PHI translating for bb1 doesn&#39;t *need*</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="comment">// to recurse here, pedantically speaking.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="comment">// If getNonLocalPointerDepFromBB fails here, that means the cached</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="comment">// result conflicted with the Visited list; we have to conservatively</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="comment">// assume it is unknown, but this also does not block PRE of the load.</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <span class="keywordflow">if</span> (!CanTranslate ||</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;          getNonLocalPointerDepFromBB(PredPointer,</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                                      Loc.<a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html#a52c120bd27338c58c3ba3bbeb62711f0">getWithNewPtr</a>(PredPtrVal),</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                                      isLoad, Pred,</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                                      Result, Visited)) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="comment">// Add the entry to the Result list.</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a> Entry(Pred, <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>(), PredPtrVal);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        Result.push_back(Entry);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="comment">// Since we had a phi translation failure, the cache for CacheKey won&#39;t</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="comment">// include all of the entries that we need to immediately satisfy future</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="comment">// queries.  Mark this in NonLocalPointerDeps by setting the</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="comment">// BBSkipFirstBlockPair pointer to null.  This requires reuse of the</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="comment">// cached value to do more work but not miss the phi trans failure.</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        NonLocalPointerInfo &amp;NLPI = NonLocalPointerDeps[CacheKey];</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        NLPI.Pair = BBSkipFirstBlockPair();</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      }</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// Refresh the CacheInfo/Cache pointer so that it isn&#39;t invalidated.</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    CacheInfo = &amp;NonLocalPointerDeps[CacheKey];</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    Cache = &amp;CacheInfo-&gt;NonLocalDeps;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    NumSortedEntries = Cache-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a957e195a6793721ddc164589934b8f89">size</a>();</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">// Since we did phi translation, the &quot;Cache&quot; set won&#39;t contain all of the</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="comment">// results for the query.  This is ok (we can still use it to accelerate</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">// specific block queries) but we can&#39;t do the fastpath &quot;return all</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="comment">// results from the set&quot;  Clear out the indicator for this.</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    SkipFirstBlock = <span class="keyword">false</span>;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  PredTranslationFailure:</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="comment">// The following code is &quot;failure&quot;; we can&#39;t produce a sane translation</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">// for the given block.  It assumes that we haven&#39;t modified any of</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// our datastructures while processing the current block.</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span> (Cache == 0) {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="comment">// Refresh the CacheInfo/Cache pointer if it got invalidated.</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      CacheInfo = &amp;NonLocalPointerDeps[CacheKey];</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      Cache = &amp;CacheInfo-&gt;NonLocalDeps;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      NumSortedEntries = Cache-&gt;<a class="code" href="classllvm_1_1DenseMapBase.html#a957e195a6793721ddc164589934b8f89">size</a>();</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// Since we failed phi translation, the &quot;Cache&quot; set won&#39;t contain all of the</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="comment">// results for the query.  This is ok (we can still use it to accelerate</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">// specific block queries) but we can&#39;t do the fastpath &quot;return all</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="comment">// results from the set&quot;.  Clear out the indicator for this.</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    CacheInfo-&gt;Pair = BBSkipFirstBlockPair();</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">// If *nothing* works, mark the pointer as unknown.</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="comment">// If this is the magic first block, return this as a clobber of the whole</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="comment">// incoming value.  Since we can&#39;t phi translate to one of the predecessors,</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="comment">// we have to bail out.</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> (SkipFirstBlock)</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacellvm_1_1sys_1_1path.html#a8fb092ecc42706d8901ee791cd6c90a7">NonLocalDepInfo::reverse_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Cache-&gt;rbegin(); ; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Cache-&gt;rend() &amp;&amp; <span class="stringliteral">&quot;Didn&#39;t find current block??&quot;</span>);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB() != <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getResult().isNonLocal() &amp;&amp;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;             <span class="stringliteral">&quot;Should only be here with transparent block&quot;</span>);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setResult(<a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">MemDepResult::getUnknown</a>());</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      Result.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBB(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getResult(),</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                                         Pointer.<a class="code" href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">getAddr</a>()));</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="comment">// Okay, we&#39;re done now.  If we added new values to the cache, re-sort it.</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a2a5b2ca7088c06272319b7718936c88b">SortNonLocalDepInfoCache</a>(*Cache, NumSortedEntries);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">AssertSorted</a>(*Cache));</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;}</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">/// RemoveCachedNonLocalPointerDependencies - If P exists in</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">/// CachedNonLocalPointerInfo, remove it.</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemoryDependenceAnalysis::</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;RemoveCachedNonLocalPointerDependencies(ValueIsLoadPair <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <a class="code" href="classllvm_1_1DenseMapBase.html#a8929cfa18b37b789368a620e9577bb90">CachedNonLocalPointerInfo::iterator</a> It =</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(P);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordflow">if</span> (It == NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">// Remove all of the entries in the BB-&gt;val map.  This involves removing</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// instructions from the reverse map.</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a> &amp;PInfo = It-&gt;second.NonLocalDeps;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PInfo.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1Target.html">Target</a> = PInfo[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getResult().getInst();</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">if</span> (Target == 0) <span class="keywordflow">continue</span>;  <span class="comment">// Ignore non-local dep results.</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    assert(Target-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == PInfo[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getBB());</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="comment">// Eliminating the dirty entry from &#39;Cache&#39;, so update the reverse info.</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseNonLocalPtrDeps, Target, P);</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="comment">// Remove P from NonLocalPointerDeps (which deletes NonLocalDepInfo).</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(It);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">/// invalidateCachedPointerInfo - This method is used to invalidate cached</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">/// information about the specified pointer, because it may be too</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">/// conservative in memdep.  This is an optional call that can be used when</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">/// the client detects an equivalence between the pointer and some other</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">/// value and replaces the other value with ptr. This can make Ptr available</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">/// in more places that cached info does not necessarily keep.</span></div><div class="line"><a name="l01297"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a8a98b3bbfad709f98b2fbb843e87a0e7"> 1297</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a8a98b3bbfad709f98b2fbb843e87a0e7">MemoryDependenceAnalysis::invalidateCachedPointerInfo</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Ptr) {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// If Ptr isn&#39;t really a pointer, just ignore it.</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">if</span> (!Ptr-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">// Flush store info for the pointer.</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  RemoveCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(Ptr, <span class="keyword">false</span>));</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">// Flush load info for the pointer.</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  RemoveCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(Ptr, <span class="keyword">true</span>));</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">/// invalidateCachedPredecessors - Clear the PredIteratorCache info.</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">/// This needs to be done when the CFG changes, e.g., due to splitting</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">/// critical edges.</span></div><div class="line"><a name="l01309"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#a7cd615a3d4ee5a8272d3fe4411c11185"> 1309</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#a7cd615a3d4ee5a8272d3fe4411c11185">MemoryDependenceAnalysis::invalidateCachedPredecessors</a>() {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  PredCache-&gt;clear();</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;}</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment">/// removeInstruction - Remove an instruction from the dependence analysis,</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">/// updating the dependence of instructions that previously depended on it.</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment">/// This method attempts to keep the cache coherent using the reverse map.</span></div><div class="line"><a name="l01316"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#ad400b0aba217fdd5a826f50204b5d7c0"> 1316</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#ad400b0aba217fdd5a826f50204b5d7c0">MemoryDependenceAnalysis::removeInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *RemInst) {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">// Walk through the Non-local dependencies, removing this one as the value</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="comment">// for any cached queries.</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">NonLocalDepMapType::iterator</a> NLDI = NonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(RemInst);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">if</span> (NLDI != NonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a> &amp;BlockMap = NLDI-&gt;second.first;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordflow">for</span> (NonLocalDepInfo::iterator DI = BlockMap.begin(), <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a> = BlockMap.end();</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;         DI != <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a>; ++DI)</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = DI-&gt;getResult().getInst())</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseNonLocalDeps, Inst, RemInst);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    NonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(NLDI);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  }</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="comment">// If we have a cached local dependence query for this instruction, remove it.</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">LocalDepMapType::iterator</a> LocalDepEntry = LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(RemInst);</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordflow">if</span> (LocalDepEntry != LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="comment">// Remove us from DepInst&#39;s reverse set now that the local dep info is gone.</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = LocalDepEntry-&gt;second.getInst())</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <a class="code" href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a>(ReverseLocalDeps, Inst, RemInst);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// Remove this local dependency info.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(LocalDepEntry);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="comment">// If we have any cached pointer dependencies on this instruction, remove</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// them.  If the instruction has non-pointer type, then it can&#39;t be a pointer</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// base.</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="comment">// Remove it from both the load info and the store info.  The instruction</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">// can&#39;t be in either of these maps if it is non-pointer.</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">if</span> (RemInst-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    RemoveCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(RemInst, <span class="keyword">false</span>));</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    RemoveCachedNonLocalPointerDependencies(<a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(RemInst, <span class="keyword">true</span>));</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">// Loop over all of the things that depend on the instruction we&#39;re removing.</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Instruction*, Instruction*&gt;</a>, 8&gt; ReverseDepsToAdd;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// If we find RemInst as a clobber or Def in any of the maps for other values,</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// we need to replace its entry with a dirty version of the instruction after</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">// it.  If RemInst is a terminator, we use a null dirty value.</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="comment">// Using a dirty version of the instruction after RemInst saves having to scan</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="comment">// the entire block to get to this point.</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> NewDirtyVal;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordflow">if</span> (!RemInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a237e6bf58bc993ea494bdde7480ca428">isTerminator</a>())</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    NewDirtyVal = MemDepResult::getDirty(++<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a>(RemInst));</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">ReverseDepMapType::iterator</a> ReverseDepIt = ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(RemInst);</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">if</span> (ReverseDepIt != ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;</a> &amp;ReverseDeps = ReverseDepIt-&gt;second;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="comment">// RemInst can&#39;t be the terminator if it has local stuff depending on it.</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    assert(!ReverseDeps.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a095445850ef2c64e96b4c05120cecf66">empty</a>() &amp;&amp; !isa&lt;TerminatorInst&gt;(RemInst) &amp;&amp;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;           <span class="stringliteral">&quot;Nothing can locally depend on a terminator&quot;</span>);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ReverseDeps.<a class="code" href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">begin</a>(),</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;         E = ReverseDeps.<a class="code" href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InstDependingOnRemInst = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      assert(InstDependingOnRemInst != RemInst &amp;&amp;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;             <span class="stringliteral">&quot;Already removed our local dep info&quot;</span>);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      LocalDeps[InstDependingOnRemInst] = NewDirtyVal;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="comment">// Make sure to remember that new things depend on NewDepInst.</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      assert(NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>() &amp;&amp; <span class="stringliteral">&quot;There is no way something else can have &quot;</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;             <span class="stringliteral">&quot;a local dep on this if it is a terminator!&quot;</span>);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>(),</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                                                InstDependingOnRemInst));</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(ReverseDepIt);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="comment">// Add new reverse deps after scanning the set, to avoid invalidating the</span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="comment">// &#39;ReverseDeps&#39; reference.</span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">while</span> (!ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      ReverseLocalDeps[ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().first]</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        .<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().second);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    }</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  }</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  ReverseDepIt = ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(RemInst);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span> (ReverseDepIt != ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;</a> &amp;Set = ReverseDepIt-&gt;second;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Set.<a class="code" href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">begin</a>(), E = Set.<a class="code" href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">end</a>();</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      assert(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != RemInst &amp;&amp; <span class="stringliteral">&quot;Already removed NonLocalDep info for RemInst&quot;</span>);</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      PerInstNLInfo &amp;INLD = NonLocalDeps[*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="comment">// The information is now dirty!</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      INLD.second = <span class="keyword">true</span>;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <span class="keywordflow">for</span> (NonLocalDepInfo::iterator DI = INLD.first.begin(),</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;           <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a> = INLD.first.end(); DI != <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a>; ++DI) {</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">if</span> (DI-&gt;getResult().getInst() != RemInst) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <span class="comment">// Convert to a dirty entry for the subsequent instruction.</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        DI-&gt;setResult(NewDirtyVal);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NextI = NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>())</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;          ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(NextI, *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      }</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    }</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(ReverseDepIt);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">// Add new reverse deps after scanning the set, to avoid invalidating &#39;Set&#39;</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">while</span> (!ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      ReverseNonLocalDeps[ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().first]</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        .<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().second);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      ReverseDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  }</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="comment">// If the instruction is in ReverseNonLocalPtrDeps then it appears as a</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="comment">// value in the NonLocalPointerDeps info.</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">ReverseNonLocalPtrDepTy::iterator</a> ReversePtrDepIt =</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(RemInst);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="keywordflow">if</span> (ReversePtrDepIt != ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;ValueIsLoadPair, 4&gt;</a> &amp;Set = ReversePtrDepIt-&gt;second;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;Instruction*, ValueIsLoadPair&gt;</a>,8&gt; ReversePtrDepsToAdd;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSetIterator.html">SmallPtrSet&lt;ValueIsLoadPair, 4&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Set.<a class="code" href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">begin</a>(),</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;         E = Set.<a class="code" href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      assert(P.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>() != RemInst &amp;&amp;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;             <span class="stringliteral">&quot;Already removed NonLocalPointerDeps info for RemInst&quot;</span>);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a> &amp;NLPDI = NonLocalPointerDeps[<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>].NonLocalDeps;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="comment">// The cache is not valid for any specific block anymore.</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      NonLocalPointerDeps[<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>].Pair = <a class="code" href="classllvm_1_1PointerIntPair.html">BBSkipFirstBlockPair</a>();</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="comment">// Update any entries for RemInst to use the instruction after it.</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="keywordflow">for</span> (NonLocalDepInfo::iterator DI = NLPDI.begin(), <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a> = NLPDI.end();</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;           DI != <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">DE</a>; ++DI) {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="keywordflow">if</span> (DI-&gt;getResult().getInst() != RemInst) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="comment">// Convert to a dirty entry for the subsequent instruction.</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        DI-&gt;setResult(NewDirtyVal);</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewDirtyInst = NewDirtyVal.<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>())</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;          ReversePtrDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(NewDirtyInst, P));</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      }</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="comment">// Re-sort the NonLocalDepInfo.  Changing the dirty entry to its</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="comment">// subsequent value may invalidate the sortedness.</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      std::sort(NLPDI.begin(), NLPDI.end());</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(ReversePtrDepIt);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">while</span> (!ReversePtrDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      ReverseNonLocalPtrDeps[ReversePtrDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().first]</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        .<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(ReversePtrDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().second);</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      ReversePtrDepsToAdd.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    }</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  }</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  assert(!NonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(RemInst) &amp;&amp; <span class="stringliteral">&quot;RemInst got reinserted?&quot;</span>);</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a2fc1bfe12fa3756cb293da322a3a0454">deleteValue</a>(RemInst);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(verifyRemoved(RemInst));</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}<span class="comment"></span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment">/// verifyRemoved - Verify that the specified instruction does not occur</span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">/// in our internal data structures.</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> MemoryDependenceAnalysis::verifyRemoved(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *D)<span class="keyword"> const </span>{</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">LocalDepMapType::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(),</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;       E = LocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.getInst() != D &amp;&amp;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;           <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  }</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">CachedNonLocalPointerInfo::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(),</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;       E = NonLocalPointerDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first.getPointer() != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in NLPD map key&quot;</span>);</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a> &amp;Val = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.NonLocalDeps;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">for</span> (NonLocalDepInfo::const_iterator II = Val.begin(), E = Val.end();</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;         II != E; ++II)</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      assert(II-&gt;getResult().getInst() != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs as NLPD value&quot;</span>);</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  }</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">NonLocalDepMapType::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(),</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;       E = NonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keyword">const</span> PerInstNLInfo &amp;INLD = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">for</span> (NonLocalDepInfo::const_iterator II = INLD.first.begin(),</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;         EE = INLD.first.end(); II  != EE; ++II)</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      assert(II-&gt;getResult().getInst() != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  }</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">ReverseDepMapType::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(),</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;       E = ReverseLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;::const_iterator</a> II = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.begin(),</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;         EE = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.end(); II != EE; ++II)</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      assert(*II != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  }</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">ReverseDepMapType::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(),</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;       E = ReverseNonLocalDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>();</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;::const_iterator</a> II = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.begin(),</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;         EE = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.end(); II != EE; ++II)</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      assert(*II != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in data structures&quot;</span>);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  }</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">ReverseNonLocalPtrDepTy::const_iterator</a></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(),</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;       E = ReverseNonLocalPtrDeps.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    assert(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first != D &amp;&amp; <span class="stringliteral">&quot;Inst occurs in rev NLPD map&quot;</span>);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSetIterator.html">SmallPtrSet&lt;ValueIsLoadPair, 4&gt;::const_iterator</a> II = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.begin(),</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;         E = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.end(); II != E; ++II)</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      assert(*II != <a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(D, <span class="keyword">false</span>) &amp;&amp;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;             *II != <a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>(D, <span class="keyword">true</span>) &amp;&amp;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;             <span class="stringliteral">&quot;Inst occurs in ReverseNonLocalPtrDeps map&quot;</span>);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  }</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;}</div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373">llvm::Intrinsic::lifetime_end</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01254">Intrinsics.h:1254</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa96743b70089c7a0ef5d935f34173826ab8760c4d7e18fd8a42e2cbe27518c9cd"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826ab8760c4d7e18fd8a42e2cbe27518c9cd">llvm::AliasAnalysis::PartialAlias</a></div><div class="ttdoc">Pointers differ, but pointees overlap. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00164">AliasAnalysis.h:164</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_abf9502ffcd1aeddfe91345685e3c78a9"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#abf9502ffcd1aeddfe91345685e3c78a9">llvm::AliasAnalysis::pointsToConstantMemory</a></div><div class="ttdeci">virtual bool pointsToConstantMemory(const Location &amp;Loc, bool OrLocal=false)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00057">AliasAnalysis.cpp:57</a></div></div>
<div class="ttc" id="classllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00035">PassRegistry.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a8a98b3bbfad709f98b2fbb843e87a0e7"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a8a98b3bbfad709f98b2fbb843e87a0e7">llvm::MemoryDependenceAnalysis::invalidateCachedPointerInfo</a></div><div class="ttdeci">void invalidateCachedPointerInfo(Value *Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01297">MemoryDependenceAnalysis.cpp:1297</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5">llvm::AliasAnalysis::Ref</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00231">AliasAnalysis.h:231</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_aa6d7a9e81b4749376498640463eb5dc2"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#aa6d7a9e81b4749376498640463eb5dc2">llvm::MemDepResult::isDef</a></div><div class="ttdeci">bool isDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00132">MemoryDependenceAnalysis.h:132</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_afbfb945cd59740858dd8509ffa6b0506"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#afbfb945cd59740858dd8509ffa6b0506">BlockScanLimit</a></div><div class="ttdeci">static const int BlockScanLimit</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00050">MemoryDependenceAnalysis.cpp:50</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8h_html"><div class="ttname"><a href="MemoryDependenceAnalysis_8h.html">MemoryDependenceAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a3f09a65a9c9d7bfff6c6271976d1baba"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">llvm::AliasAnalysis::getModRefInfo</a></div><div class="ttdeci">ModRefResult getModRefInfo(const Instruction *I, const Location &amp;Loc)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00353">AliasAnalysis.h:353</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html_a5ff15505ad3a19cbc8e6d4cb3633d669"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5ff15505ad3a19cbc8e6d4cb3633d669">llvm::DominatorTree::isReachableFromEntry</a></div><div class="ttdeci">bool isReachableFromEntry(const BasicBlock *A) const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00879">Dominators.h:879</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_a90f6ea490b2dda15f00cf09a9c5cd98d"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a90f6ea490b2dda15f00cf09a9c5cd98d">RemoveFromReverseMap</a></div><div class="ttdeci">static void RemoveFromReverseMap(DenseMap&lt; Instruction *, SmallPtrSet&lt; KeyTy, 4 &gt; &gt; &amp;ReverseMap, Instruction *Inst, KeyTy Val)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00100">MemoryDependenceAnalysis.cpp:100</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Memory_html"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html">llvm::sys::Memory</a></div><div class="ttdoc">An abstraction for memory operations. </div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00045">Memory.h:45</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a090878b40a781fbfccd4496adb00dd19"><div class="ttname"><a href="namespacellvm.html#a090878b40a781fbfccd4496adb00dd19">llvm::GetPointerBaseWithConstantOffset</a></div><div class="ttdeci">Value * GetPointerBaseWithConstantOffset(Value *Ptr, int64_t &amp;Offset, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01716">ValueTracking.cpp:1716</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_a99998ec12f1359427a3d20c43a27d1f1"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a99998ec12f1359427a3d20c43a27d1f1">AssertSorted</a></div><div class="ttdeci">static void AssertSorted(MemoryDependenceAnalysis::NonLocalDepInfo &amp;Cache, int Count=-1)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00606">MemoryDependenceAnalysis.cpp:606</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="InstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ae5518d24851e606666c97b9daa9a647f">llvm::AliasAnalysis::ModRef</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00231">AliasAnalysis.h:231</a></div></div>
<div class="ttc" id="PHITransAddr_8h_html"><div class="ttname"><a href="PHITransAddr_8h.html">PHITransAddr.h</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_ae490259cdcea86028795a092037c4890"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#ae490259cdcea86028795a092037c4890">llvm::MemoryDependenceAnalysis::~MemoryDependenceAnalysis</a></div><div class="ttdeci">~MemoryDependenceAnalysis()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00065">MemoryDependenceAnalysis.cpp:65</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_a156c478ee8e7d1602143cdbad4bd5385"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a156c478ee8e7d1602143cdbad4bd5385">llvm::LoadInst::isSimple</a></div><div class="ttdeci">bool isSimple() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00218">Instructions.h:218</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_ae409b288c7f70a6c57586535abed3808"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#ae409b288c7f70a6c57586535abed3808">llvm::MemDepResult::isClobber</a></div><div class="ttdeci">bool isClobber() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00128">MemoryDependenceAnalysis.h:128</a></div></div>
<div class="ttc" id="namespacellvm_html_a42a9f1e04ad580b344123c15dbb29d39"><div class="ttname"><a href="namespacellvm.html#a42a9f1e04ad580b344123c15dbb29d39">llvm::isFreeCall</a></div><div class="ttdeci">const CallInst * isFreeCall(const Value *I, const TargetLibraryInfo *TLI)</div><div class="ttdoc">isFreeCall - Returns non-null if the value is a call to the builtin free() </div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00316">MemoryBuiltins.cpp:316</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="namespacellvm_html_ace6c957db39858291c6ce01c38e78480"><div class="ttname"><a href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">llvm::GetUnderlyingObject</a></div><div class="ttdeci">Value * GetUnderlyingObject(Value *V, const DataLayout *TD=0, unsigned MaxLookup=6)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01899">ValueTracking.cpp:1899</a></div></div>
<div class="ttc" id="classllvm_1_1PHITransAddr_html_ac3bbb43654c937b5eab64de7b7e9c89c"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#ac3bbb43654c937b5eab64de7b7e9c89c">llvm::PHITransAddr::NeedsPHITranslationFromBlock</a></div><div class="ttdeci">bool NeedsPHITranslationFromBlock(BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00058">PHITransAddr.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a400eaca9881c8dcab97e9f42b1ab1815"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T LLVM_ATTRIBUTE_UNUSED_RESULT pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00430">SmallVector.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa96743b70089c7a0ef5d935f34173826"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826">llvm::AliasAnalysis::AliasResult</a></div><div class="ttdeci">AliasResult</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00161">AliasAnalysis.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00172">PassSupport.h:172</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_ae4760893fa2bd86ce4460d3171fb9a82"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">llvm::MemDepResult::getDef</a></div><div class="ttdeci">static MemDepResult getDef(Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00105">MemoryDependenceAnalysis.h:105</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html">llvm::AliasAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00056">AliasAnalysis.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html">llvm::MemoryDependenceAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00257">MemoryDependenceAnalysis.h:257</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b">llvm::AliasAnalysis::NoAlias</a></div><div class="ttdoc">No dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00162">AliasAnalysis.h:162</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a7136be51f5ad007feee921c8ffec54da"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a7136be51f5ad007feee921c8ffec54da">llvm::MemoryDependenceAnalysis::getLoadLoadClobberFullWidthSize</a></div><div class="ttdeci">static unsigned getLoadLoadClobberFullWidthSize(const Value *MemLocBase, int64_t MemLocOffs, unsigned MemLocSize, const LoadInst *LI, const DataLayout &amp;TD)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00281">MemoryDependenceAnalysis.cpp:281</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a27e4a925fd1ad26aea61b15ecfcf5558"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a27e4a925fd1ad26aea61b15ecfcf5558">llvm::MemoryDependenceAnalysis::getNonLocalPointerDependency</a></div><div class="ttdeci">void getNonLocalPointerDependency(const AliasAnalysis::Location &amp;Loc, bool isLoad, BasicBlock *BB, SmallVectorImpl&lt; NonLocalDepResult &gt; &amp;Result)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00767">MemoryDependenceAnalysis.cpp:767</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="Dominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a1facc4deb1c9405622eda25f392c460a"><div class="ttname"><a href="namespacellvm.html#a1facc4deb1c9405622eda25f392c460a">llvm::isNoAliasFn</a></div><div class="ttdeci">bool isNoAliasFn(const Value *V, const TargetLibraryInfo *TLI, bool LookThroughBitCast=false)</div><div class="ttdoc">Tests if a value is a call or invoke to a function that returns a NoAlias pointer (including malloc/c...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00157">MemoryBuiltins.cpp:157</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_ab6ba33bdfb3c4da44d4586ae1f1966aa"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#ab6ba33bdfb3c4da44d4586ae1f1966aa">llvm::MemoryDependenceAnalysis::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00332">MemoryDependenceAnalysis.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a0fd8d3c26bf5cd614b0e6a9b8886a5d0"><div class="ttname"><a href="classllvm_1_1Instruction.html#a0fd8d3c26bf5cd614b0e6a9b8886a5d0">llvm::Instruction::mayReadFromMemory</a></div><div class="ttdeci">bool mayReadFromMemory() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00421">Instruction.cpp:421</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a11e3a5dc537b36f96296238cb7a05990"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a11e3a5dc537b36f96296238cb7a05990">llvm::MemoryDependenceAnalysis::runOnFunction</a></div><div class="ttdeci">bool runOnFunction(Function &amp;)</div><div class="ttdoc">Pass Implementation stuff. This doesn&amp;#39;t do any analysis eagerly. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00088">MemoryDependenceAnalysis.cpp:88</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1PredIteratorCache_html"><div class="ttname"><a href="classllvm_1_1PredIteratorCache.html">llvm::PredIteratorCache</a></div><div class="ttdef"><b>Definition:</b> <a href="PredIteratorCache_8h_source.html#l00027">PredIteratorCache.h:27</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html_a2fdb794f07cee21bb46d6b2cb8170901"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html#a2fdb794f07cee21bb46d6b2cb8170901">llvm::AliasAnalysis::Location::TBAATag</a></div><div class="ttdeci">const MDNode * TBAATag</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00117">AliasAnalysis.h:117</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_a7029b247b93771322bd18f833963a291"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a7029b247b93771322bd18f833963a291">STATISTIC</a></div><div class="ttdeci">STATISTIC(NumCacheNonLocal,&quot;Number of fully cached non-local responses&quot;)</div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a52fc7f344e74f168cb4b4c808dcfde1c">llvm::AliasAnalysis::NoModRef</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00231">AliasAnalysis.h:231</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00255">Instructions.h:255</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a9568a7e6c44fd9d259f2949a401ece11"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a9568a7e6c44fd9d259f2949a401ece11">llvm::AliasAnalysis::onlyReadsMemory</a></div><div class="ttdeci">bool onlyReadsMemory(ImmutableCallSite CS)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00315">AliasAnalysis.h:315</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a87800772e5bbce0b8e0cb23b54e47f58"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">llvm::MemDepResult::getUnknown</a></div><div class="ttdeci">static MemDepResult getUnknown()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00121">MemoryDependenceAnalysis.h:121</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html_a2e1f29abce73568e33d2273dc7decfe6"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html#a2e1f29abce73568e33d2273dc7decfe6">llvm::AliasAnalysis::Location::getWithNewSize</a></div><div class="ttdeci">Location getWithNewSize(uint64_t NewSize) const </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00129">AliasAnalysis.h:129</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a16dada1a57699243411a7b8f2237bb48"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a16dada1a57699243411a7b8f2237bb48">llvm::MemoryDependenceAnalysis::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;AU) const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00083">MemoryDependenceAnalysis.cpp:83</a></div></div>
<div class="ttc" id="namespacellvm_html_abf74b2f0dbae96f4708d3e407b36df02a7754cbc42d54bad3979ed1789b780b28"><div class="ttname"><a href="namespacellvm.html#abf74b2f0dbae96f4708d3e407b36df02a7754cbc42d54bad3979ed1789b780b28">llvm::Monotonic</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00039">Instructions.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a0998fa064652459be9475ad460ee381f"><div class="ttname"><a href="classllvm_1_1Instruction.html#a0998fa064652459be9475ad460ee381f">llvm::Instruction::isIdenticalToWhenDefined</a></div><div class="ttdeci">bool isIdenticalToWhenDefined(const Instruction *I) const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00272">Instruction.cpp:272</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_afb744ee3844b3c1f807fe12ec53a6cfb"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#afb744ee3844b3c1f807fe12ec53a6cfb">GetLocation</a></div><div class="ttdeci">static AliasAnalysis::ModRefResult GetLocation(const Instruction *Inst, AliasAnalysis::Location &amp;Loc, AliasAnalysis *AA)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00117">MemoryDependenceAnalysis.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon&lt; T &gt;::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00157">SmallVector.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1PHITransAddr_html_acef00be533f811953711c37421a8bb13"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#acef00be533f811953711c37421a8bb13">llvm::PHITransAddr::PHITranslateValue</a></div><div class="ttdeci">bool PHITranslateValue(BasicBlock *CurBB, BasicBlock *PredBB, const DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8cpp_source.html#l00322">PHITransAddr.cpp:322</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html">llvm::PointerIntPair</a></div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00042">PointerIntPair.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1PHITransAddr_html"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html">llvm::PHITransAddr</a></div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00035">PHITransAddr.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae4c67f835911559821939fb23a2e7aff"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">llvm::CallSiteBase::getInstruction</a></div><div class="ttdeci">InstrTy * getInstruction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00079">CallSite.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a59949d72986d3e9fdb7e7c9272c02f0f"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">llvm::AliasAnalysis::alias</a></div><div class="ttdeci">virtual AliasResult alias(const Location &amp;LocA, const Location &amp;LocB)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00052">AliasAnalysis.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepResult_html"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html">llvm::NonLocalDepResult</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00215">MemoryDependenceAnalysis.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460ab9c7e2bf8dd3d89289b8a8cccefe4808">llvm::AliasAnalysis::Mod</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00231">AliasAnalysis.h:231</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_adfd696331e43abcbcf5060bf0cd506e4"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">llvm::MemDepResult::getNonFuncLocal</a></div><div class="ttdeci">static MemDepResult getNonFuncLocal()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00117">MemoryDependenceAnalysis.h:117</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_a3950b99d68513a8206c71fdc9f95627c"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a3950b99d68513a8206c71fdc9f95627c">memdep</a></div><div class="ttdeci">memdep</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00058">MemoryDependenceAnalysis.cpp:58</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00293">Pass.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00223">Instructions.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_abd0c15cf35f0f3bfd2e092c55d5e6069"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">llvm::NonLocalDepEntry::getResult</a></div><div class="ttdeci">const MemDepResult &amp; getResult() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00205">MemoryDependenceAnalysis.h:205</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html_a0869c4dfee48696ce863fcd367eba52da66682b7e33233c8e51196bbf274726a2"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#a0869c4dfee48696ce863fcd367eba52da66682b7e33233c8e51196bbf274726a2">llvm::LLVMContext::MD_tbaa</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00047">LLVMContext.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Integer representation type. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00037">DerivedTypes.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a4efb46d4834f6f750ae0649ed89ce44c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::count</a></div><div class="ttdeci">bool count(const KeyT &amp;Val) const</div><div class="ttdoc">count - Return true if the specified key is in the map. </div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00103">DenseMap.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_a35eb598d0afaa4a88efcddf50be97b74"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">llvm::NonLocalDepEntry::setResult</a></div><div class="ttdeci">void setResult(const MemDepResult &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00203">MemoryDependenceAnalysis.h:203</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html">llvm::AliasAnalysis::Location</a></div><div class="ttdoc">Location - A description of a memory location. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00106">AliasAnalysis.h:106</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_a095445850ef2c64e96b4c05120cecf66"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a095445850ef2c64e96b4c05120cecf66">llvm::SmallPtrSetImpl::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00074">SmallPtrSet.h:74</a></div></div>
<div class="ttc" id="PassSupport_8h_html_af0564bcdde2dd4400c670ca278c6035f"><div class="ttname"><a href="PassSupport_8h.html#af0564bcdde2dd4400c670ca278c6035f">INITIALIZE_AG_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_AG_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00169">PassSupport.h:169</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a669d55980a7d4b6307b94596deeb0b1f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(in_iter in_start, in_iter in_end)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00445">SmallVector.h:445</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_aceb25240e12150012f05a402170ff404"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#aceb25240e12150012f05a402170ff404">llvm::MemoryDependenceAnalysis::getPointerDependencyFrom</a></div><div class="ttdeci">MemDepResult getPointerDependencyFrom(const AliasAnalysis::Location &amp;Loc, bool isLoad, BasicBlock::iterator ScanIt, BasicBlock *BB, Instruction *QueryInst=0)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00358">MemoryDependenceAnalysis.cpp:358</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="namespacellvm_html_a0490c32aa8dd63ddc56bb046fd0258c7"><div class="ttname"><a href="namespacellvm.html#a0490c32aa8dd63ddc56bb046fd0258c7">llvm::NextPowerOf2</a></div><div class="ttdeci">uint64_t NextPowerOf2(uint64_t A)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00546">MathExtras.h:546</a></div></div>
<div class="ttc" id="classllvm_1_1VAArgInst_html"><div class="ttname"><a href="classllvm_1_1VAArgInst.html">llvm::VAArgInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01506">Instructions.h:1506</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a2fc1bfe12fa3756cb293da322a3a0454"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a2fc1bfe12fa3756cb293da322a3a0454">llvm::AliasAnalysis::deleteValue</a></div><div class="ttdeci">virtual void deleteValue(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00063">AliasAnalysis.cpp:63</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00723">Target/README.txt:723</a></div></div>
<div class="ttc" id="classllvm_1_1PHITransAddr_html_a5c0a098e4fec390904312efff0ac2f17"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#a5c0a098e4fec390904312efff0ac2f17">llvm::PHITransAddr::IsPotentiallyPHITranslatable</a></div><div class="ttdeci">bool IsPotentiallyPHITranslatable() const </div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8cpp_source.html#l00115">PHITransAddr.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_aa26de3d6e38997b9041e824ea558c770"><div class="ttname"><a href="classllvm_1_1Instruction.html#aa26de3d6e38997b9041e824ea558c770">llvm::Instruction::mayWriteToMemory</a></div><div class="ttdeci">bool mayWriteToMemory() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00441">Instruction.cpp:441</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html"><div class="ttname"><a href="classllvm_1_1MemDepResult.html">llvm::MemDepResult</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00040">MemoryDependenceAnalysis.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a237e6bf58bc993ea494bdde7480ca428"><div class="ttname"><a href="classllvm_1_1Instruction.html#a237e6bf58bc993ea494bdde7480ca428">llvm::Instruction::isTerminator</a></div><div class="ttdeci">bool isTerminator() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00086">Instruction.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a06b4956d73c0a0f5b4901924bf2a98d7"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a06b4956d73c0a0f5b4901924bf2a98d7">llvm::AliasAnalysis::isMustAlias</a></div><div class="ttdeci">bool isMustAlias(const Location &amp;LocA, const Location &amp;LocB)</div><div class="ttdoc">isMustAlias - A convenience wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00203">AliasAnalysis.h:203</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetIterator_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetIterator.html">llvm::SmallPtrSetIterator</a></div><div class="ttdoc">SmallPtrSetIterator - This implements a const_iterator for SmallPtrSet. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00174">SmallPtrSet.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a699a66e504b48fdeff124e82f6c61917"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00153">DenseMap.h:153</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html_a2aafa035d16eddeaadc40efbf8c721e5"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">llvm::PointerIntPair::getPointer</a></div><div class="ttdeci">PointerTy getPointer() const </div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00070">PointerIntPair.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a87901387c729722d5d63edd1d35119d7"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a87901387c729722d5d63edd1d35119d7">llvm::DataLayout::fitsInLegalInteger</a></div><div class="ttdeci">bool fitsInLegalInteger(unsigned Width) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00230">DataLayout.h:230</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00195">BasicBlock.h:195</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a6acfd94bce56e2812f8e5d7626dd9b8f"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">llvm::MemDepResult::getClobber</a></div><div class="ttdeci">static MemDepResult getClobber(Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00109">MemoryDependenceAnalysis.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_aafa29112cbe02e4adc9b36752c771991"><div class="ttname"><a href="classllvm_1_1Instruction.html#aafa29112cbe02e4adc9b36752c771991">llvm::Instruction::getMetadata</a></div><div class="ttdeci">MDNode * getMetadata(unsigned KindID) const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00140">Instruction.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a269c7b8adcd29645a4f901196fc08806"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00190">DenseMap.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_a41c201584742f7eb45b2be8cd54e3bcb"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a41c201584742f7eb45b2be8cd54e3bcb">llvm::SmallPtrSetImpl::size</a></div><div class="ttdeci">unsigned size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00075">SmallPtrSet.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a2a64d8f5153ebc0e8c08d0702c2c4aab"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a2a64d8f5153ebc0e8c08d0702c2c4aab">llvm::MemDepResult::isNonLocal</a></div><div class="ttdeci">bool isNonLocal() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00137">MemoryDependenceAnalysis.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_af98ef3ed6d09824e50ec69cebc839609"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">llvm::MemoryDependenceAnalysis::NonLocalDepInfo</a></div><div class="ttdeci">std::vector&lt; NonLocalDepEntry &gt; NonLocalDepInfo</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00263">MemoryDependenceAnalysis.h:263</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a30f2c362631e3728d2f47a8203071ade"><div class="ttname"><a href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00380">Function.h:380</a></div></div>
<div class="ttc" id="PredIteratorCache_8h_html"><div class="ttname"><a href="PredIteratorCache_8h.html">PredIteratorCache.h</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00078">TargetRegistry.h:78</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a957e195a6793721ddc164589934b8f89"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a957e195a6793721ddc164589934b8f89">llvm::DenseMapBase::size</a></div><div class="ttdeci">unsigned size() const </div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00070">DenseMap.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00094">PassAnalysisSupport.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a432d7e955f44b118b4261eae03d7a8af"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">llvm::DenseMapBase::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00053">DenseMap.h:53</a></div></div>
<div class="ttc" id="namespacellvm_html_a2658c0d02aefac95af1af537f4180cb2"><div class="ttname"><a href="namespacellvm.html#a2658c0d02aefac95af1af537f4180cb2">llvm::isMallocLikeFn</a></div><div class="ttdeci">bool isMallocLikeFn(const Value *V, const TargetLibraryInfo *TLI, bool LookThroughBitCast=false)</div><div class="ttdoc">Tests if a value is a call or invoke to a library function that allocates uninitialized memory (such ...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00167">MemoryBuiltins.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aec9dbab832cd8052f85cd2a9dbb3816e"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aec9dbab832cd8052f85cd2a9dbb3816e">llvm::AliasAnalysis::getLocation</a></div><div class="ttdeci">Location getLocation(const LoadInst *LI)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00227">AliasAnalysis.cpp:227</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_aecf67c929495cf8397e9eb4c401e8d2e"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#aecf67c929495cf8397e9eb4c401e8d2e">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(MemoryDependenceAnalysis,&quot;memdep&quot;,&quot;Memory Dependence Analysis&quot;, false, true) INITIALIZE_PASS_END(MemoryDependenceAnalysis</div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a8929cfa18b37b789368a620e9577bb90"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a8929cfa18b37b789368a620e9577bb90">llvm::DenseMapBase::iterator</a></div><div class="ttdeci">DenseMapIterator&lt; KeyT, ValueT, KeyInfoT &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00050">DenseMap.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ead9b16070672b3e2ba75616590c7f5678"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead9b16070672b3e2ba75616590c7f5678">llvm::Attribute::SanitizeThread</a></div><div class="ttdoc">ThreadSanitizer is on. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00107">Attributes.h:107</a></div></div>
<div class="ttc" id="namespacellvm_html_a7b146b3c939051bc7543ee06b4bfb3b1"><div class="ttname"><a href="namespacellvm.html#a7b146b3c939051bc7543ee06b4bfb3b1">llvm::initializeMemoryDependenceAnalysisPass</a></div><div class="ttdeci">void initializeMemoryDependenceAnalysisPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="AliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a8452eb6508c00e2b6d56926bebc79f57"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">llvm::MemDepResult::getInst</a></div><div class="ttdeci">Instruction * getInst() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00158">MemoryDependenceAnalysis.h:158</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_a2a5b2ca7088c06272319b7718936c88b"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a2a5b2ca7088c06272319b7718936c88b">SortNonLocalDepInfoCache</a></div><div class="ttdeci">static void SortNonLocalDepInfoCache(MemoryDependenceAnalysis::NonLocalDepInfo &amp;Cache, unsigned NumSortedEntries)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00864">MemoryDependenceAnalysis.cpp:864</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a467f81f7c124644d999390ff8cca4727"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a467f81f7c124644d999390ff8cca4727">llvm::MemoryDependenceAnalysis::getDependency</a></div><div class="ttdeci">MemDepResult getDependency(Instruction *QueryInst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00546">MemoryDependenceAnalysis.cpp:546</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a39197eb94db0d5d99219a826fef11477"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a39197eb94db0d5d99219a826fef11477">llvm::Intrinsic::invariant_start</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01253">Intrinsics.h:1253</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html_a0869c4dfee48696ce863fcd367eba52da1eb8d19f434b9b137bd23b846cac1b8d"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#a0869c4dfee48696ce863fcd367eba52da1eb8d19f434b9b137bd23b846cac1b8d">llvm::LLVMContext::MD_invariant_load</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00052">LLVMContext.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a7cd615a3d4ee5a8272d3fe4411c11185"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a7cd615a3d4ee5a8272d3fe4411c11185">llvm::MemoryDependenceAnalysis::invalidateCachedPredecessors</a></div><div class="ttdeci">void invalidateCachedPredecessors()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01309">MemoryDependenceAnalysis.cpp:1309</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_ad1168fc42bcba1b71217a4969483671a"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad1168fc42bcba1b71217a4969483671a">llvm::LoadInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00181">Instructions.h:181</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a8fb092ecc42706d8901ee791cd6c90a7"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a8fb092ecc42706d8901ee791cd6c90a7">llvm::sys::path::reverse_iterator</a></div><div class="ttdeci">std::reverse_iterator&lt; const_iterator &gt; reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="Path_8h_source.html#l00079">Path.h:79</a></div></div>
<div class="ttc" id="namespacellvm_html_a6af2bcc7c5e0f3aa4df1526781e6b122"><div class="ttname"><a href="namespacellvm.html#a6af2bcc7c5e0f3aa4df1526781e6b122">llvm::isCallocLikeFn</a></div><div class="ttdeci">bool isCallocLikeFn(const Value *V, const TargetLibraryInfo *TLI, bool LookThroughBitCast=false)</div><div class="ttdoc">Tests if a value is a call or invoke to a library function that allocates zero-filled memory (such as...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00174">MemoryBuiltins.cpp:174</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da2c6497f6ed5314c6fcd9ab88c9528543">llvm::X86II::DE</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00332">X86BaseInfo.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea72bdab14ef59ecc35ce5e1212fddc6c2"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea72bdab14ef59ecc35ce5e1212fddc6c2">llvm::Attribute::SanitizeAddress</a></div><div class="ttdoc">AddressSanitizer is on. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00106">Attributes.h:106</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html_a24197872686f605dcfd25b6e5d3cc7fa"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html#a24197872686f605dcfd25b6e5d3cc7fa">llvm::AliasAnalysis::Location::Ptr</a></div><div class="ttdeci">const Value * Ptr</div><div class="ttdoc">Ptr - The address of the start of the location. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00108">AliasAnalysis.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a7f055d0b03ebf1d6a5988b178e9b8f4f"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">llvm::SmallPtrSet::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00279">SmallPtrSet.h:279</a></div></div>
<div class="ttc" id="MemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_acdd674781be3766718b3a0b38540a4bc"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#acdd674781be3766718b3a0b38540a4bc">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00067">DenseMap.h:67</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html_aba42e84910b42f9684564b8512a30b2e"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html#aba42e84910b42f9684564b8512a30b2e">llvm::AliasAnalysis::Location::Size</a></div><div class="ttdeci">uint64_t Size</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00114">AliasAnalysis.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00260">SmallVector.h:260</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_ab04c5a7f34b7ac7d1dc587b7785a31d9"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#ab04c5a7f34b7ac7d1dc587b7785a31d9">llvm::MemoryDependenceAnalysis::getNonLocalCallDependency</a></div><div class="ttdeci">const NonLocalDepInfo &amp; getNonLocalCallDependency(CallSite QueryCS)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00629">MemoryDependenceAnalysis.cpp:629</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5a7cfa245af120b44ac8a86143bb9e57"><div class="ttname"><a href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">unsigned getPrimitiveSizeInBits() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00117">Type.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ac12fffcedd4a1c8bf428d694451f816c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">llvm::AnalysisUsage::addRequiredTransitive</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitive()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00061">PassAnalysisSupport.h:61</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_ac7401c647f9a17905e254a5cbb65c7ee"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#ac7401c647f9a17905e254a5cbb65c7ee">Analysis</a></div><div class="ttdeci">Memory Dependence Analysis</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00058">MemoryDependenceAnalysis.cpp:58</a></div></div>
<div class="ttc" id="LLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a41b4c572902601d7499bc287874271d9"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a41b4c572902601d7499bc287874271d9">llvm::Intrinsic::invariant_end</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01252">Intrinsics.h:1252</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00037">DenseMap.h:37</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html_a52c120bd27338c58c3ba3bbeb62711f0"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html#a52c120bd27338c58c3ba3bbeb62711f0">llvm::AliasAnalysis::Location::getWithNewPtr</a></div><div class="ttdeci">Location getWithNewPtr(const Value *NewPtr) const </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00123">AliasAnalysis.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a83d29c51155787c607268c2659559460"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460">llvm::AliasAnalysis::ModRefResult</a></div><div class="ttdeci">ModRefResult</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00231">AliasAnalysis.h:231</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a669d599eeacffd29a09050e2af83bf67"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">llvm::SmallPtrSet::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00276">SmallPtrSet.h:276</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html_a8b8d65c71552f8c2e5bd194d67ebedf8"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html#a8b8d65c71552f8c2e5bd194d67ebedf8">llvm::AliasAnalysis::Location::getWithoutTBAATag</a></div><div class="ttdeci">Location getWithoutTBAATag() const </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00135">AliasAnalysis.h:135</a></div></div>
<div class="ttc" id="namespacellvm_html_a7923e3e207de8bc1d0d6a5091316ddde"><div class="ttname"><a href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a></div><div class="ttdeci">ItTy prior(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00167">STLExtras.h:167</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a2f0a6f0f6e25c24ba9b434ba5b5a9906"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a2f0a6f0f6e25c24ba9b434ba5b5a9906">llvm::AliasAnalysis::getTargetLibraryInfo</a></div><div class="ttdeci">const TargetLibraryInfo * getTargetLibraryInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00094">AliasAnalysis.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html">llvm::NonLocalDepEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00190">MemoryDependenceAnalysis.h:190</a></div></div>
<div class="ttc" id="MemoryDependenceAnalysis_8cpp_html_a4e69b97c1ce46b7503d184291e65c73c"><div class="ttname"><a href="MemoryDependenceAnalysis_8cpp.html#a4e69b97c1ce46b7503d184291e65c73c">isLoadLoadClobberIfExtendedToFullWidth</a></div><div class="ttdeci">static bool isLoadLoadClobberIfExtendedToFullWidth(const AliasAnalysis::Location &amp;MemLoc, const Value *&amp;MemLocBase, int64_t &amp;MemLocOffs, const LoadInst *LI, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00255">MemoryDependenceAnalysis.cpp:255</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a650241dcf00905f4085c878ec988e27f"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a650241dcf00905f4085c878ec988e27f">llvm::AliasAnalysis::callCapturesBefore</a></div><div class="ttdeci">ModRefResult callCapturesBefore(const Instruction *I, const AliasAnalysis::Location &amp;MemLoc, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00416">AliasAnalysis.cpp:416</a></div></div>
<div class="ttc" id="classllvm_1_1CallSite_html"><div class="ttname"><a href="classllvm_1_1CallSite.html">llvm::CallSite</a></div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00295">CallSite.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1Dependence_html"><div class="ttname"><a href="classllvm_1_1Dependence.html">llvm::Dependence</a></div><div class="ttdef"><b>Definition:</b> <a href="DependenceAnalysis_8h_source.html#l00070">DependenceAnalysis.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1PHITransAddr_html_af60a67af0b2069b0bd4206378e2af814"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html#af60a67af0b2069b0bd4206378e2af814">llvm::PHITransAddr::getAddr</a></div><div class="ttdeci">Value * getAddr() const </div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00054">PHITransAddr.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a465c166d520399ff2b114c8aac5e7f3d"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">llvm::MemDepResult::getNonLocal</a></div><div class="ttdeci">static MemDepResult getNonLocal()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00113">MemoryDependenceAnalysis.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa96743b70089c7a0ef5d935f34173826acc20b6673c6cc680294a17b0f0f5d676"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826acc20b6673c6cc680294a17b0f0f5d676">llvm::AliasAnalysis::MustAlias</a></div><div class="ttdoc">Pointers are equal. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00165">AliasAnalysis.h:165</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a6467bd6bb128c8b69a478548fc17351c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00078">DenseMap.h:78</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_a38913a0f2400c2b3ba25cfee8cc1c280"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#a38913a0f2400c2b3ba25cfee8cc1c280">llvm::MemoryDependenceAnalysis::releaseMemory</a></div><div class="ttdeci">void releaseMemory()</div><div class="ttdoc">Clean up memory in between runs. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l00069">MemoryDependenceAnalysis.cpp:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">llvm::Intrinsic::lifetime_start</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01255">Intrinsics.h:1255</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_ad400b0aba217fdd5a826f50204b5d7c0"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#ad400b0aba217fdd5a826f50204b5d7c0">llvm::MemoryDependenceAnalysis::removeInstruction</a></div><div class="ttdeci">void removeInstruction(Instruction *InstToRemove)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8cpp_source.html#l01316">MemoryDependenceAnalysis.cpp:1316</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:06 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
