<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: InlineCost.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('InlineCost_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">InlineCost.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="InlineCost_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- InlineCost.cpp - Cost analysis for inliner -------------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements inline cost analysis.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="InlineCost_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   14</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;inline-cost&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineCost_8h.html">llvm/Analysis/InlineCost.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantFolding_8h.html">llvm/Analysis/ConstantFolding.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetTransformInfo_8h.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConv_8h.html">llvm/IR/CallingConv.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstVisitor_8h.html">llvm/InstVisitor.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallSite_8h.html">llvm/Support/CallSite.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GetElementPtrTypeIterator_8h.html">llvm/Support/GetElementPtrTypeIterator.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<a class="code" href="InlineCost_8cpp.html#a6ceabc8f314cb80a475cec4bf2425839">STATISTIC</a>(NumCallsAnalyzed, <span class="stringliteral">&quot;Number of call sites analyzed&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">class </span>CallAnalyzer : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InstVisitor.html">InstVisitor</a>&lt;CallAnalyzer, bool&gt; {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1InstVisitor.html">InstVisitor&lt;CallAnalyzer, bool&gt;</a> Base;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1InstVisitor.html">InstVisitor</a>&lt;CallAnalyzer, bool&gt;;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// DataLayout if available, or null.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *<span class="keyword">const</span> TD;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">  /// The TargetTransformInfo available for this compilation.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;TTI;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="comment">// The called function.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordtype">int</span> Cost;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordtype">bool</span> IsCallerRecursive;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordtype">bool</span> IsRecursiveCall;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordtype">bool</span> ExposesReturnsTwice;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordtype">bool</span> HasDynamicAlloca;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordtype">bool</span> ContainsNoDuplicateCall;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">bool</span> HasReturn;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordtype">bool</span> HasIndirectBr;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">  /// Number of bytes allocated statically by the callee.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span>  uint64_t AllocatedSize;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordtype">unsigned</span> NumInstructions, NumVectorInstructions;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordtype">int</span> FiftyPercentVectorBonus, TenPercentVectorBonus;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">int</span> VectorBonus;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// While we walk the potentially-inlined instructions, we build up and</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// maintain a mapping of simplified values specific to this callsite. The</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// idea is to propagate any special information we have about arguments to</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// this call through the inlinable section of the function, and account for</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// likely simplifications post-inlining. The most important aspect we track</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// is CFG altering simplifications -- when we prove a basic block dead, that</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// can cause dramatic shifts in the cost of inlining a function.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Constant *&gt;</a> SimplifiedValues;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// Keep track of the values which map back (through function arguments) to</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// allocas on the caller stack which could be simplified through SROA.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;</a> SROAArgValues;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// The mapping of caller Alloca values to their accumulated cost savings. If</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// we have to disable SROA for one of the allocas, this tells us how much</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// cost must be added.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;</a> SROAArgCosts;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// Keep track of values which map to a pointer base and constant offset.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, std::pair&lt;Value *, APInt&gt;</a> &gt; ConstantOffsetPtrs;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// Custom simplification helper routines.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">bool</span> isAllocaDerivedArg(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">bool</span> lookupSROAArgAndCost(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Arg,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                            <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> &amp;CostIt);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">void</span> disableSROA(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordtype">void</span> disableSROA(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">void</span> accumulateSROACost(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                          <span class="keywordtype">int</span> InstructionCost);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">bool</span> handleSROACandidate(<span class="keywordtype">bool</span> IsSROAValid,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                           <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                           <span class="keywordtype">int</span> InstructionCost);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">bool</span> isGEPOffsetConstant(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;GEP);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordtype">bool</span> accumulateGEPOffset(<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> &amp;GEP, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Offset);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordtype">bool</span> simplifyCallSite(<a class="code" href="classllvm_1_1Function.html">Function</a> *F, <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *stripAndComputeInBoundsConstantOffsets(<a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;V);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// Custom analysis routines.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordtype">bool</span> analyzeBlock(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// Disable several entry points to the visitor so we don&#39;t accidentally use</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// them by declaring but not defining them here.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">void</span> visit(<a class="code" href="classllvm_1_1Module.html">Module</a> *);     <span class="keywordtype">void</span> visit(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">void</span> visit(<a class="code" href="classllvm_1_1Function.html">Function</a> *);   <span class="keywordtype">void</span> visit(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">void</span> visit(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *); <span class="keywordtype">void</span> visit(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// Provide base case for our instruction visit.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">bool</span> visitInstruction(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// Our visit overrides.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">bool</span> visitAlloca(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">bool</span> visitPHI(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">bool</span> visitGetElementPtr(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">bool</span> visitBitCast(<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordtype">bool</span> visitPtrToInt(<a class="code" href="classllvm_1_1PtrToIntInst.html">PtrToIntInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">bool</span> visitIntToPtr(<a class="code" href="classllvm_1_1IntToPtrInst.html">IntToPtrInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">bool</span> visitCastInst(<a class="code" href="classllvm_1_1CastInst.html">CastInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">bool</span> visitUnaryInstruction(<a class="code" href="classllvm_1_1UnaryInstruction.html">UnaryInstruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">bool</span> visitCmpInst(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordtype">bool</span> visitSub(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordtype">bool</span> visitBinaryOperator(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordtype">bool</span> visitLoad(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordtype">bool</span> visitStore(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordtype">bool</span> visitExtractValue(<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordtype">bool</span> visitInsertValue(<a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">bool</span> visitCallSite(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordtype">bool</span> visitReturnInst(<a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> &amp;RI);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">bool</span> visitBranchInst(<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;BI);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordtype">bool</span> visitSwitchInst(<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;SI);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordtype">bool</span> visitIndirectBrInst(<a class="code" href="classllvm_1_1IndirectBrInst.html">IndirectBrInst</a> &amp;IBI);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordtype">bool</span> visitResumeInst(<a class="code" href="classllvm_1_1ResumeInst.html">ResumeInst</a> &amp;RI);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordtype">bool</span> visitUnreachableInst(<a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  CallAnalyzer(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;TTI,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;               <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;Callee, <span class="keywordtype">int</span> Threshold)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      : TD(TD), TTI(TTI), F(Callee), Threshold(Threshold), Cost(0),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        IsCallerRecursive(<a class="code" href="namespacefalse.html">false</a>), IsRecursiveCall(<a class="code" href="namespacefalse.html">false</a>),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        ExposesReturnsTwice(<a class="code" href="namespacefalse.html">false</a>), HasDynamicAlloca(<a class="code" href="namespacefalse.html">false</a>),</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        ContainsNoDuplicateCall(<a class="code" href="namespacefalse.html">false</a>), HasReturn(<a class="code" href="namespacefalse.html">false</a>), HasIndirectBr(<a class="code" href="namespacefalse.html">false</a>),</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        AllocatedSize(0), NumInstructions(0), NumVectorInstructions(0),</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        FiftyPercentVectorBonus(0), TenPercentVectorBonus(0), VectorBonus(0),</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        NumConstantArgs(0), NumConstantOffsetPtrArgs(0), NumAllocaArgs(0),</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        NumConstantPtrCmps(0), NumConstantPtrDiffs(0),</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        NumInstructionsSimplified(0), SROACostSavings(0),</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        SROACostSavingsLost(0) {}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">bool</span> analyzeCall(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordtype">int</span> getThreshold() { <span class="keywordflow">return</span> <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>; }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">int</span> getCost() { <span class="keywordflow">return</span> Cost; }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// Keep a bunch of stats about the cost savings found so we can print them</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// out when debugging.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">unsigned</span> NumConstantArgs;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">unsigned</span> NumConstantOffsetPtrArgs;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">unsigned</span> NumAllocaArgs;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">unsigned</span> NumConstantPtrCmps;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">unsigned</span> NumConstantPtrDiffs;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">unsigned</span> NumInstructionsSimplified;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordtype">unsigned</span> SROACostSavings;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordtype">unsigned</span> SROACostSavingsLost;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a03503773241005f01b090b9862aad304">dump</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;};</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;} <span class="comment">// namespace</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/// \brief Test whether the given value is an Alloca-derived function argument.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::isAllocaDerivedArg(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> SROAArgValues.count(V);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/// \brief Lookup the SROA-candidate argument and cost iterator which V maps to.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">/// Returns false if V does not map to a SROA-candidate.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::lookupSROAArgAndCost(</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Arg, <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> &amp;CostIt) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> (SROAArgValues.empty() || SROAArgCosts.empty())</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;::iterator</a> ArgIt = SROAArgValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(V);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (ArgIt == SROAArgValues.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>())</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  Arg = ArgIt-&gt;second;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  CostIt = SROAArgCosts.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(Arg);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">return</span> CostIt != SROAArgCosts.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>();</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// \brief Disable SROA for the candidate marked by this cost iterator.</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// This marks the candidate as no longer viable for SROA, and adds the cost</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/// savings associated with it back into the inline cost measurement.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> CallAnalyzer::disableSROA(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// If we&#39;re no longer able to perform SROA we need to undo its cost savings</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// and prevent subsequent analysis.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  Cost += CostIt-&gt;second;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  SROACostSavings -= CostIt-&gt;second;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  SROACostSavingsLost += CostIt-&gt;second;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  SROAArgCosts.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(CostIt);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/// \brief If &#39;V&#39; maps to a SROA candidate, disable SROA for it.</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> CallAnalyzer::disableSROA(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> (lookupSROAArgAndCost(V, SROAArg, CostIt))</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    disableSROA(CostIt);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/// \brief Accumulate the given cost for a particular SROA candidate.</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> CallAnalyzer::accumulateSROACost(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                      <span class="keywordtype">int</span> InstructionCost) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  CostIt-&gt;second += InstructionCost;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  SROACostSavings += InstructionCost;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/// \brief Helper for the common pattern of handling a SROA candidate.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">/// Either accumulates the cost savings if the SROA remains valid, or disables</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">/// SROA for the candidate.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::handleSROACandidate(<span class="keywordtype">bool</span> IsSROAValid,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                       <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                       <span class="keywordtype">int</span> InstructionCost) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> (IsSROAValid) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    accumulateSROACost(CostIt, InstructionCost);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  disableSROA(CostIt);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/// \brief Check whether a GEP&#39;s indices are all constant.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">/// Respects any simplified values known during the analysis of this callsite.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::isGEPOffsetConstant(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;GEP) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">User::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = GEP.<a class="code" href="classllvm_1_1GetElementPtrInst.html#aceaa5a2bd964e34d0dbf3ed1f146abc7">idx_begin</a>(), E = GEP.<a class="code" href="classllvm_1_1GetElementPtrInst.html#a63d9ee4f6ab51fd7586c7ad7510a5b33">idx_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; !SimplifiedValues.lookup(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">/// \brief Accumulate a constant GEP offset into an APInt if possible.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">/// Returns false if unable to compute the offset for any reason. Respects any</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/// simplified values known during the analysis of this callsite.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::accumulateGEPOffset(<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> &amp;GEP, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Offset) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (!TD)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">unsigned</span> IntPtrWidth = TD-&gt;getPointerSizeInBits();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  assert(IntPtrWidth == Offset.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>());</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> GTI = <a class="code" href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(GEP), GTE = <a class="code" href="namespacellvm.html#a43c6ebb4fd35ebd815d66a2df4eed0b9">gep_type_end</a>(GEP);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;       GTI != GTE; ++GTI) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *OpC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(GTI.getOperand());</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (!OpC)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *SimpleOp = SimplifiedValues.lookup(GTI.getOperand()))</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        OpC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(SimpleOp);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (!OpC)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (OpC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// Handle a struct index, which adds its field offset to the pointer.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI)) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordtype">unsigned</span> ElementIdx = OpC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1StructLayout.html">StructLayout</a> *SL = TD-&gt;getStructLayout(STy);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      Offset += <a class="code" href="classllvm_1_1APInt.html">APInt</a>(IntPtrWidth, SL-&gt;<a class="code" href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">getElementOffset</a>(ElementIdx));</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> TypeSize(IntPtrWidth, TD-&gt;getTypeAllocSize(GTI.getIndexedType()));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    Offset += OpC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a5a7096f0c3b6477de7213fd55fa8775a">sextOrTrunc</a>(IntPtrWidth) * TypeSize;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitAlloca(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// FIXME: Check whether inlining will turn a dynamic alloca into a static</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// alloca, and handle that case.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Accumulate the allocated size.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">if</span> (I.<a class="code" href="classllvm_1_1AllocaInst.html#ae1147bebd023c80a6cda73a19b8c1d36">isStaticAlloca</a>()) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = I.<a class="code" href="classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">getAllocatedType</a>();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    AllocatedSize += (TD ? TD-&gt;getTypeAllocSize(Ty) :</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                      Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">getPrimitiveSizeInBits</a>());</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// We will happily inline static alloca instructions.</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (I.<a class="code" href="classllvm_1_1AllocaInst.html#ae1147bebd023c80a6cda73a19b8c1d36">isStaticAlloca</a>())</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> Base::visitAlloca(I);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// FIXME: This is overly conservative. Dynamic allocas are inefficient for</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// a variety of reasons, and so we would like to not inline them into</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// functions which don&#39;t currently have a dynamic alloca. This simply</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// disables inlining altogether in the presence of a dynamic alloca.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  HasDynamicAlloca = <span class="keyword">true</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitPHI(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;I) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// FIXME: We should potentially be tracking values through phi nodes,</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// especially when they collapse to a single value due to deleted CFG edges</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// during inlining.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// FIXME: We need to propagate SROA *disabling* through phi nodes, even</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">// though we don&#39;t want to propagate it&#39;s bonuses. The idea is to disable</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// SROA if it *might* be used in an inappropriate manner.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// Phi nodes are always zero-cost.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitGetElementPtr(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;I) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordtype">bool</span> SROACandidate = lookupSROAArgAndCost(I.<a class="code" href="classllvm_1_1GetElementPtrInst.html#ad200825f26189cd43f3b80728649c4a9">getPointerOperand</a>(),</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                            SROAArg, CostIt);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// Try to fold GEPs of constant-offset call site argument pointers. This</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// requires target data and inbounds GEPs.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (TD &amp;&amp; I.<a class="code" href="classllvm_1_1GetElementPtrInst.html#aa87e8100bba232cc73678f86231d7e58">isInBounds</a>()) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// Check if we have a base + offset for the pointer.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Ptr = I.<a class="code" href="classllvm_1_1GetElementPtrInst.html#ad200825f26189cd43f3b80728649c4a9">getPointerOperand</a>();</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    std::pair&lt;Value *, APInt&gt; BaseAndOffset = ConstantOffsetPtrs.lookup(Ptr);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (BaseAndOffset.first) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// Check if the offset of this GEP is constant, and if so accumulate it</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// into Offset.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> (!accumulateGEPOffset(cast&lt;GEPOperator&gt;(I), BaseAndOffset.second)) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment">// Non-constant GEPs aren&#39;t folded, and disable SROA.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> (SROACandidate)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          disableSROA(CostIt);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="comment">// Add the result as a new mapping to Base + Offset.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      ConstantOffsetPtrs[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = BaseAndOffset;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="comment">// Also handle SROA candidates here, we already know that the GEP is</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="comment">// all-constant indexed.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span> (SROACandidate)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        SROAArgValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = SROAArg;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">if</span> (isGEPOffsetConstant(I)) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (SROACandidate)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      SROAArgValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = SROAArg;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Constant GEPs are modeled as free.</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// Variable GEPs will require math and will disable SROA.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">if</span> (SROACandidate)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    disableSROA(CostIt);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitBitCast(<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> &amp;I) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// Propagate constants through bitcasts.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *COp = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">if</span> (!COp)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    COp = SimplifiedValues.lookup(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span> (COp)</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(COp, I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// Track base/offsets through casts</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  std::pair&lt;Value *, APInt&gt; BaseAndOffset</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    = ConstantOffsetPtrs.lookup(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Casts don&#39;t change the offset, just wrap it up.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (BaseAndOffset.first)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    ConstantOffsetPtrs[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = BaseAndOffset;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// Also look for SROA candidates here.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span> (lookupSROAArgAndCost(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), SROAArg, CostIt))</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    SROAArgValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = SROAArg;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// Bitcasts are always zero cost.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitPtrToInt(<a class="code" href="classllvm_1_1PtrToIntInst.html">PtrToIntInst</a> &amp;I) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// Propagate constants through ptrtoint.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *COp = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (!COp)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    COp = SimplifiedValues.lookup(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (COp)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a84ffd51540ffbe5964dce7ba4ab0baea">ConstantExpr::getPtrToInt</a>(COp, I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// Track base/offset pairs when converted to a plain integer provided the</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// integer is large enough to represent the pointer.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordtype">unsigned</span> IntegerSize = I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (TD &amp;&amp; IntegerSize &gt;= TD-&gt;getPointerSizeInBits()) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    std::pair&lt;Value *, APInt&gt; BaseAndOffset</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      = ConstantOffsetPtrs.lookup(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (BaseAndOffset.first)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      ConstantOffsetPtrs[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = BaseAndOffset;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// This is really weird. Technically, ptrtoint will disable SROA. However,</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// unless that ptrtoint is *used* somewhere in the live basic blocks after</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// inlining, it will be nuked, and SROA should proceed. All of the uses which</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// would block SROA would also block SROA if applied directly to a pointer,</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// and so we can just add the integer in here. The only places where SROA is</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// preserved either cannot fire on an integer, or won&#39;t in-and-of themselves</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// disable SROA (ext) w/o some later use that we would see and disable.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (lookupSROAArgAndCost(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), SROAArg, CostIt))</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    SROAArgValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = SROAArg;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TargetTransformInfo::TCC_Free</a> == TTI.getUserCost(&amp;I);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitIntToPtr(<a class="code" href="classllvm_1_1IntToPtrInst.html">IntToPtrInst</a> &amp;I) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// Propagate constants through ptrtoint.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *COp = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (!COp)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    COp = SimplifiedValues.lookup(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">if</span> (COp)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">ConstantExpr::getIntToPtr</a>(COp, I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="comment">// Track base/offset pairs when round-tripped through a pointer without</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// modifications provided the integer is not too large.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordtype">unsigned</span> IntegerSize = Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (TD &amp;&amp; IntegerSize &lt;= TD-&gt;getPointerSizeInBits()) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    std::pair&lt;Value *, APInt&gt; BaseAndOffset = ConstantOffsetPtrs.lookup(Op);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (BaseAndOffset.first)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      ConstantOffsetPtrs[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = BaseAndOffset;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">// &quot;Propagate&quot; SROA here in the same manner as we do for ptrtoint above.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (lookupSROAArgAndCost(Op, SROAArg, CostIt))</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    SROAArgValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = SROAArg;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TargetTransformInfo::TCC_Free</a> == TTI.getUserCost(&amp;I);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitCastInst(<a class="code" href="classllvm_1_1CastInst.html">CastInst</a> &amp;I) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// Propagate constants through ptrtoint.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *COp = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">if</span> (!COp)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    COp = SimplifiedValues.lookup(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (COp)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a1e1ce75d651c76b6869b4218e34618c8">ConstantExpr::getCast</a>(I.<a class="code" href="classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">getOpcode</a>(), COp, I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// Disable SROA in the face of arbitrary casts we don&#39;t whitelist elsewhere.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  disableSROA(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">TargetTransformInfo::TCC_Free</a> == TTI.getUserCost(&amp;I);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitUnaryInstruction(<a class="code" href="classllvm_1_1UnaryInstruction.html">UnaryInstruction</a> &amp;I) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Operand = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *COp = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(Operand);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (!COp)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    COp = SimplifiedValues.lookup(Operand);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">if</span> (COp)</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(I.<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>(), I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(),</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                               COp, TD)) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// Disable any SROA on the argument to arbitrary unary operators.</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  disableSROA(Operand);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitCmpInst(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> &amp;I) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *RHS = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// First try to handle simplified comparisons.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(LHS))</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *SimpleLHS = SimplifiedValues.lookup(LHS))</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      LHS = SimpleLHS;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(RHS))</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *SimpleRHS = SimplifiedValues.lookup(RHS))</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      RHS = SimpleRHS;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(LHS)) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(RHS))</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#ac5728c914b7e92030243a21e49ab1552">ConstantExpr::getCompare</a>(I.<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>(), CLHS, CRHS)) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (I.<a class="code" href="classllvm_1_1CmpInst.html#afb3301fb99a3b118d9fe496faf1b114b">getOpcode</a>() == Instruction::FCmp)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// Otherwise look for a comparison between constant offset pointers with</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// a common base.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LHSBase, *RHSBase;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSOffset, RHSOffset;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LHSBase, LHSOffset) = ConstantOffsetPtrs.lookup(LHS);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">if</span> (LHSBase) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(RHSBase, RHSOffset) = ConstantOffsetPtrs.lookup(RHS);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (RHSBase &amp;&amp; LHSBase == RHSBase) {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="comment">// We have common bases, fold the icmp to a constant based on the</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="comment">// offsets.</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(LHS-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), LHSOffset);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(RHS-&gt;getContext(), RHSOffset);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(I.<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>(), CLHS, CRHS)) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        ++NumConstantPtrCmps;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// If the comparison is an equality comparison with null, we can simplify it</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// for any alloca-derived argument.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">if</span> (I.<a class="code" href="classllvm_1_1CmpInst.html#af162a6169f32ae3aa6a58ae6458409cf">isEquality</a>() &amp;&amp; isa&lt;ConstantPointerNull&gt;(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)))</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (isAllocaDerivedArg(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0))) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="comment">// We can actually predict the result of comparisons between an</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="comment">// alloca-derived value and null. Note that this fires regardless of</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="comment">// SROA firing.</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordtype">bool</span> IsNotEqual = I.<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>() == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = IsNotEqual ? <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                                        : <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// Finally check for SROA candidates in comparisons.</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (lookupSROAArgAndCost(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), SROAArg, CostIt)) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      accumulateSROACost(CostIt, <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    disableSROA(CostIt);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitSub(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;I) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">// Try to handle a special case: we can fold computing the difference of two</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">// constant-related pointers.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *RHS = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LHSBase, *RHSBase;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSOffset, RHSOffset;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LHSBase, LHSOffset) = ConstantOffsetPtrs.lookup(LHS);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">if</span> (LHSBase) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(RHSBase, RHSOffset) = ConstantOffsetPtrs.lookup(RHS);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (RHSBase &amp;&amp; LHSBase == RHSBase) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="comment">// We have common bases, fold the subtract to a constant based on the</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="comment">// offsets.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(LHS-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), LHSOffset);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(RHS-&gt;getContext(), RHSOffset);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">ConstantExpr::getSub</a>(CLHS, CRHS)) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        ++NumConstantPtrDiffs;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="comment">// Otherwise, fall back to the generic logic for simplifying and handling</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">// instructions.</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">return</span> Base::visitSub(I);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitBinaryOperator(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;I) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *RHS = I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(LHS))</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *SimpleLHS = SimplifiedValues.lookup(LHS))</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      LHS = SimpleLHS;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(RHS))</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *SimpleRHS = SimplifiedValues.lookup(RHS))</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      RHS = SimpleRHS;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SimpleV = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(I.<a class="code" href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>(), LHS, RHS, TD);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast_or_null&lt;Constant&gt;(SimpleV)) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="comment">// Disable any SROA on arguments to arbitrary, unsimplified binary operators.</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  disableSROA(LHS);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  disableSROA(RHS);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitLoad(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;I) {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">if</span> (lookupSROAArgAndCost(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), SROAArg, CostIt)) {</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (I.<a class="code" href="classllvm_1_1LoadInst.html#a156c478ee8e7d1602143cdbad4bd5385">isSimple</a>()) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      accumulateSROACost(CostIt, <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    disableSROA(CostIt);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitStore(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> &amp;I) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SROAArg;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, int&gt;::iterator</a> CostIt;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">if</span> (lookupSROAArgAndCost(I.<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), SROAArg, CostIt)) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">if</span> (I.<a class="code" href="classllvm_1_1StoreInst.html#a1149c7eeefca671ac2685bca13843568">isSimple</a>()) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      accumulateSROACost(CostIt, <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    disableSROA(CostIt);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitExtractValue(<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> &amp;I) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">// Constant folding for extract value is trivial.</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I.<a class="code" href="classllvm_1_1ExtractValueInst.html#ab87e7c5a729885396b3b045ad375e4b8">getAggregateOperand</a>());</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (!C)</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    C = SimplifiedValues.lookup(I.<a class="code" href="classllvm_1_1ExtractValueInst.html#ab87e7c5a729885396b3b045ad375e4b8">getAggregateOperand</a>());</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">if</span> (C) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="classllvm_1_1ConstantExpr.html#ae906b7591a3335568e5ebe6e589ea6d1">ConstantExpr::getExtractValue</a>(C, I.<a class="code" href="classllvm_1_1ExtractValueInst.html#aabcc9d0c7c5b68bf66032d1c1c1aa4dd">getIndices</a>());</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// SROA can look through these but give them a cost.</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitInsertValue(<a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> &amp;I) {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="comment">// Constant folding for insert value is trivial.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *AggC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I.<a class="code" href="classllvm_1_1InsertValueInst.html#a082d322376f368b751695d3687954471">getAggregateOperand</a>());</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">if</span> (!AggC)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    AggC = SimplifiedValues.lookup(I.<a class="code" href="classllvm_1_1InsertValueInst.html#a082d322376f368b751695d3687954471">getAggregateOperand</a>());</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *InsertedC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I.<a class="code" href="classllvm_1_1InsertValueInst.html#a9a004adbac8f42baab2ae52ae879a34b">getInsertedValueOperand</a>());</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (!InsertedC)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    InsertedC = SimplifiedValues.lookup(I.<a class="code" href="classllvm_1_1InsertValueInst.html#a9a004adbac8f42baab2ae52ae879a34b">getInsertedValueOperand</a>());</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">if</span> (AggC &amp;&amp; InsertedC) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    SimplifiedValues[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="classllvm_1_1ConstantExpr.html#ac2603d2633ba560918c756365de9cd64">ConstantExpr::getInsertValue</a>(AggC, InsertedC,</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                                        I.<a class="code" href="classllvm_1_1InsertValueInst.html#a1fb1cc7adc35b5742dc6760eb93630a7">getIndices</a>());</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="comment">// SROA can look through these but give them a cost.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">/// \brief Try to simplify a call site.</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">/// Takes a concrete function and callsite and tries to actually simplify it by</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">/// analyzing the arguments and call itself with instsimplify. Returns true if</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">/// it has simplified the callsite to some other entity (a constant), making it</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">/// free.</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::simplifyCallSite(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>, <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// FIXME: Using the instsimplify logic directly for this is inefficient</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="comment">// because we have to continually rebuild the argument list even when no</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">// simplifications can be performed. Until that is fixed with remapping</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// inside of instsimplify, directly constant fold calls here.</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a1169dcf3eb121e1b727bb8b532d7c69a">canConstantFoldCallTo</a>(F))</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="comment">// Try to re-map the arguments to constants.</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 4&gt;</a> ConstantArgs;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  ConstantArgs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>());</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">CallSite::arg_iterator</a> I = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>(), E = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">arg_end</a>();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;       I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *C = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(*I);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (!C)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      C = dyn_cast_or_null&lt;Constant&gt;(SimplifiedValues.lookup(*I));</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> (!C)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// This argument doesn&#39;t map to a constant.</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    ConstantArgs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(C);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *C = <a class="code" href="namespacellvm.html#abaa7bb099e75b4a5dba358a498783f83">ConstantFoldCall</a>(F, ConstantArgs)) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    SimplifiedValues[CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;}</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitCallSite(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3f7d431f47311b40fa590e267f17ec6e">hasFnAttr</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaf8fdc5a281d0fbd473c53fad75bc74fa">Attribute::ReturnsTwice</a>) &amp;&amp;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      !F.<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                                      <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaf8fdc5a281d0fbd473c53fad75bc74fa">Attribute::ReturnsTwice</a>)) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// This aborts the entire analysis.</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    ExposesReturnsTwice = <span class="keyword">true</span>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a5770c10251145ce2b6a2dc99906cba64">isCall</a>() &amp;&amp;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      cast&lt;CallInst&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>())-&gt;hasFnAttr(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabdd013d932f9aa7ccaa9886bc1a54b63">Attribute::NoDuplicate</a>))</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    ContainsNoDuplicateCall = <span class="keyword">true</span>;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *F = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>()) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// When we have a concrete function, first try to simplify it directly.</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (simplifyCallSite(F, CS))</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">// Next check if it is an intrinsic we know about.</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// FIXME: Lift this into part of the InstVisitor.</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>())) {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">return</span> Base::visitCallSite(CS);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">Intrinsic::memset</a>:</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">Intrinsic::memcpy</a>:</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a59ba1d701385742520aa8a3478099fb7">Intrinsic::memmove</a>:</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="comment">// SROA can usually chew through these intrinsics, but they aren&#39;t free.</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (F == CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="comment">// This flag will fully abort the analysis, so don&#39;t bother with anything</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="comment">// else.</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      IsRecursiveCall = <span class="keyword">true</span>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (TTI.isLoweredToCall(F)) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="comment">// We account for the average 1 instruction per call argument setup</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="comment">// here.</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      Cost += CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>() * <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="comment">// Everything other than inline ASM will also have a significant cost</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="comment">// merely from making the call.</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;InlineAsm&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>()))</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        Cost += <a class="code" href="namespacellvm_1_1InlineConstants.html#aa96196bd6a654ffedf2837f7b467532b">InlineConstants::CallPenalty</a>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> Base::visitCallSite(CS);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// Otherwise we&#39;re in a very special case -- an indirect function call. See</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// if we can be particularly clever about this.</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Callee = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>();</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">// First, pay the price of the argument setup. We account for the average</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">// 1 instruction per call argument setup here.</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  Cost += CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>() * <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// Next, check if this happens to be an indirect function call to a known</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">// function in this inline context. If not, we&#39;ve done all we can.</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *F = dyn_cast_or_null&lt;Function&gt;(SimplifiedValues.lookup(Callee));</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">if</span> (!F)</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> Base::visitCallSite(CS);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">// If we have a constant that we are calling as a function, we can peer</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// through it and see the function target. This happens not infrequently</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// during devirtualization and so we want to give it a hefty bonus for</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// inlining, but cap that bonus in the event that inlining wouldn&#39;t pan</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// out. Pretend to inline the function, with a custom threshold.</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  CallAnalyzer CA(TD, TTI, *F, <a class="code" href="namespacellvm_1_1InlineConstants.html#a6e878d84d424326fd6132b320f075c97">InlineConstants::IndirectCallThreshold</a>);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">if</span> (CA.analyzeCall(CS)) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// We were able to inline the indirect call! Subtract the cost from the</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// bonus we want to apply, but don&#39;t go below zero.</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    Cost -= std::max(0, <a class="code" href="namespacellvm_1_1InlineConstants.html#a6e878d84d424326fd6132b320f075c97">InlineConstants::IndirectCallThreshold</a> - CA.getCost());</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordflow">return</span> Base::visitCallSite(CS);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;}</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitReturnInst(<a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> &amp;RI) {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// At least one return instruction will be free after inlining.</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordtype">bool</span> Free = !HasReturn;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  HasReturn = <span class="keyword">true</span>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordflow">return</span> Free;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitBranchInst(<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;BI) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="comment">// We model unconditional branches as essentially free -- they really</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="comment">// shouldn&#39;t exist at all, but handling them makes the behavior of the</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// inliner more regular and predictable. Interestingly, conditional branches</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="comment">// which will fold away are also free.</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordflow">return</span> BI.<a class="code" href="classllvm_1_1BranchInst.html#a382131e712e55e8324fbd5068de17b78">isUnconditional</a>() || isa&lt;ConstantInt&gt;(BI.<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>()) ||</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;         dyn_cast_or_null&lt;ConstantInt&gt;(</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;             SimplifiedValues.lookup(BI.<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>()));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitSwitchInst(<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;SI) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">// We model unconditional switches as free, see the comments on handling</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// branches.</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">return</span> isa&lt;ConstantInt&gt;(SI.<a class="code" href="classllvm_1_1SwitchInst.html#add5ee99852e9927d0777e74572c91708">getCondition</a>()) ||</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;         dyn_cast_or_null&lt;ConstantInt&gt;(</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;             SimplifiedValues.lookup(SI.<a class="code" href="classllvm_1_1SwitchInst.html#add5ee99852e9927d0777e74572c91708">getCondition</a>()));</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitIndirectBrInst(<a class="code" href="classllvm_1_1IndirectBrInst.html">IndirectBrInst</a> &amp;IBI) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// We never want to inline functions that contain an indirectbr.  This is</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// incorrect because all the blockaddress&#39;s (in static global initializers</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// for example) would be referring to the original function, and this</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">// indirect jump would jump from the inlined copy of the function into the</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="comment">// original function which is extremely undefined behavior.</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// FIXME: This logic isn&#39;t really right; we can safely inline functions with</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// indirectbr&#39;s as long as no other function or global references the</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// blockaddress of a block within the current function.  And as a QOI issue,</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// if someone is using a blockaddress without an indirectbr, and that</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="comment">// reference somehow ends up in another function or global, we probably don&#39;t</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="comment">// want to inline this function.</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  HasIndirectBr = <span class="keyword">true</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;}</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitResumeInst(<a class="code" href="classllvm_1_1ResumeInst.html">ResumeInst</a> &amp;RI) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// FIXME: It&#39;s not clear that a single instruction is an accurate model for</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// the inline cost of a resume instruction.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitUnreachableInst(<a class="code" href="classllvm_1_1UnreachableInst.html">UnreachableInst</a> &amp;I) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">// FIXME: It might be reasonably to discount the cost of instructions leading</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// to unreachable as they have the lowest possible impact on both runtime and</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// code size.</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// No actual code is needed for unreachable.</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="keywordtype">bool</span> CallAnalyzer::visitInstruction(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;I) {</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// Some instructions are free. All of the free intrinsics can also be</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="comment">// handled by SROA, etc.</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">if</span> (TargetTransformInfo::TCC_Free == TTI.getUserCost(&amp;I))</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">// We found something we don&#39;t understand or can&#39;t handle. Mark any SROA-able</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="comment">// values in the operand list as no longer viable.</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">User::op_iterator</a> OI = I.<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>(), OE = I.<a class="code" href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>(); OI != OE; ++OI)</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    disableSROA(*OI);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">/// \brief Analyze a basic block for its contribution to the inline cost.</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">/// This method walks the analyzer over every instruction in the given basic</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">/// block and accounts for their cost during inlining at this callsite. It</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">/// aborts early if the threshold has been exceeded or an impossible to inline</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">/// construct has been detected. It returns false if inlining is no longer</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">/// viable, and true if inlining remains viable.</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::analyzeBlock(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> I = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(), E = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    ++NumInstructions;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ExtractElementInst&gt;(I) || I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>())</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      ++NumVectorInstructions;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">// If the instruction simplified to a constant, there is no cost to this</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// instruction. Visit the instructions using our InstVisitor to account for</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="comment">// all of the per-instruction logic. The visit tree returns true if we</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">// consumed the instruction in any way, and false if the instruction&#39;s base</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">// cost should count against inlining.</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (Base::visit(I))</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      ++NumInstructionsSimplified;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      Cost += <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="comment">// If the visit this instruction detected an uninlinable pattern, abort.</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> (IsRecursiveCall || ExposesReturnsTwice || HasDynamicAlloca ||</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        HasIndirectBr)</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="comment">// If the caller is a recursive function then we don&#39;t want to inline</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">// functions which allocate a lot of stack space because it would increase</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// the caller stack usage dramatically.</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (IsCallerRecursive &amp;&amp;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        AllocatedSize &gt; <a class="code" href="namespacellvm_1_1InlineConstants.html#ac331ecdb7100a8944856d0e27d4dfdd5">InlineConstants::TotalAllocaSizeRecursiveCaller</a>)</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">if</span> (NumVectorInstructions &gt; NumInstructions/2)</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      VectorBonus = FiftyPercentVectorBonus;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NumVectorInstructions &gt; NumInstructions/10)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      VectorBonus = TenPercentVectorBonus;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      VectorBonus = 0;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// Check if we&#39;ve past the threshold so we don&#39;t spin in huge basic</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// blocks that will never inline.</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">if</span> (Cost &gt; (<a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> + VectorBonus))</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">/// \brief Compute the base pointer and cumulative constant offsets for V.</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">/// This strips all constant offsets off of V, leaving it the base pointer, and</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">/// accumulates the total constant offset applied in the returned constant. It</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">/// returns 0 if V is not a pointer, and returns the constant &#39;0&#39; if there are</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">/// no constant offsets applied.</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CallAnalyzer::stripAndComputeInBoundsConstantOffsets(<a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;V) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">if</span> (!TD || !V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordtype">unsigned</span> IntPtrWidth = TD-&gt;getPointerSizeInBits();</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Offset = <a class="code" href="classllvm_1_1APInt.html#a4ba7d7f0a1e911c8384e236b5f6c1959">APInt::getNullValue</a>(IntPtrWidth);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// Even though we don&#39;t look through PHI nodes, we could be called on an</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">// instruction in an unreachable block, which may be on a cycle.</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 4&gt;</a> Visited;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(V);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP = dyn_cast&lt;GEPOperator&gt;(V)) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">if</span> (!GEP-&gt;<a class="code" href="classllvm_1_1GEPOperator.html#ac876de9f2b1ddbe458be4d57e3e11b16">isInBounds</a>() || !accumulateGEPOffset(*GEP, Offset))</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      V = GEP-&gt;<a class="code" href="classllvm_1_1GEPOperator.html#a3e7aed6d56bdb4dfdb9faf5821d159d6">getPointerOperand</a>();</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">Operator::getOpcode</a>(V) == Instruction::BitCast) {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      V = cast&lt;Operator&gt;(V)-&gt;getOperand(0);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(V)) {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordflow">if</span> (GA-&gt;mayBeOverridden())</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      V = GA-&gt;getAliasee();</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    assert(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected operand type!&quot;</span>);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  } <span class="keywordflow">while</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(V));</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntPtrTy = TD-&gt;getIntPtrType(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>());</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keywordflow">return</span> cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(IntPtrTy, Offset));</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">/// \brief Analyze a call site for potential inlining.</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">/// Returns true if inlining this call is viable, and false if it is not</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">/// viable. It computes the cost and adjusts the threshold based on numerous</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">/// factors and heuristics. If this method returns false but the computed cost</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">/// is below the computed threshold, then inlining was forcibly disabled by</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">/// some artifact of the routine.</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> CallAnalyzer::analyzeCall(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  ++NumCallsAnalyzed;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="comment">// Track whether the post-inlining function would have more than one basic</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// block. A single basic block is often intended for inlining. Balloon the</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="comment">// threshold by 50% until we pass the single-BB phase.</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordtype">bool</span> SingleBB = <span class="keyword">true</span>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordtype">int</span> SingleBBBonus = <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> / 2;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> += SingleBBBonus;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// Perform some tweaks to the cost and threshold based on the direct</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// callsite information.</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="comment">// We want to more aggressively inline vector-dense kernels, so up the</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="comment">// threshold, and we&#39;ll lower it if the % of vector instructions gets too</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="comment">// low.</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  assert(NumInstructions == 0);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  assert(NumVectorInstructions == 0);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  FiftyPercentVectorBonus = <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  TenPercentVectorBonus = <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> / 2;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="comment">// Give out bonuses per argument, as the instructions setting them up will</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// be gone after inlining.</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (TD &amp;&amp; CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a2b51df7c4694230be653c4b5a3186029">isByValArgument</a>(I)) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="comment">// We approximate the number of loads and stores needed by dividing the</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="comment">// size of the byval type by the target&#39;s pointer size.</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PTy = cast&lt;PointerType&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a65a550af73bd99c96abea847916aa4e9">getArgument</a>(I)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="keywordtype">unsigned</span> TypeSize = TD-&gt;getTypeSizeInBits(PTy-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>());</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keywordtype">unsigned</span> PointerSize = TD-&gt;getPointerSizeInBits();</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="comment">// Ceiling division.</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keywordtype">unsigned</span> NumStores = (TypeSize + PointerSize - 1) / PointerSize;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <span class="comment">// If it generates more than 8 stores it is likely to be expanded as an</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="comment">// inline memcpy so we take that as an upper bound. Otherwise we assume</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="comment">// one load and one store per word copied.</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="comment">// FIXME: The maxStoresPerMemcpy setting from the target should be used</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="comment">// here instead of a magic number of 8, but it&#39;s not available via</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="comment">// DataLayout.</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      NumStores = std::min(NumStores, 8U);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      Cost -= 2 * NumStores * <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="comment">// For non-byval arguments subtract off one instruction per call</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="comment">// argument.</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      Cost -= <a class="code" href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">InlineConstants::InstrCost</a>;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// If there is only one call of the function, and it has internal linkage,</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="comment">// the cost of inlining it drops dramatically.</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordtype">bool</span> OnlyOneCallAndLocalLinkage = F.<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>() &amp;&amp; F.<a class="code" href="classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>() &amp;&amp;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    &amp;F == CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">if</span> (OnlyOneCallAndLocalLinkage)</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    Cost += <a class="code" href="namespacellvm_1_1InlineConstants.html#ac32c5e568abcce09107853ccf11fbab6">InlineConstants::LastCallToStaticBonus</a>;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="comment">// If the instruction after the call, or if the normal destination of the</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="comment">// invoke is an unreachable instruction, the function is noreturn. As such,</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// there is little point in inlining this unless there is literally zero</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// cost.</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Instr = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>();</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(Instr)) {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (isa&lt;UnreachableInst&gt;(II-&gt;getNormalDest()-&gt;begin()))</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> = 1;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;UnreachableInst&gt;(++<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a>(Instr)))</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> = 1;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="comment">// If this function uses the coldcc calling convention, prefer not to inline</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// it.</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (F.<a class="code" href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">getCallingConv</a>() == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a94ec9273479164e4aec1d5d91b71dc85">CallingConv::Cold</a>)</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    Cost += <a class="code" href="namespacellvm_1_1InlineConstants.html#a169b2b8289fb0aefc607ae29c8b95cc6">InlineConstants::ColdccPenalty</a>;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">// Check if we&#39;re done. This can happen due to bonuses and penalties.</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordflow">if</span> (Cost &gt; <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>)</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span> (F.<a class="code" href="classllvm_1_1Function.html#a6a782b47efe4d6ad9a7a36b6525d9203">empty</a>())</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>();</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="comment">// Check if the caller function is recursive itself.</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> U = Caller-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E = Caller-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;       U != E; ++U) {</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> Site(cast&lt;Value&gt;(*U));</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span> (!Site)</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I = Site.getInstruction();</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>() == Caller) {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      IsCallerRecursive = <span class="keyword">true</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="comment">// Populate our simplified values by mapping from function arguments to call</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="comment">// arguments with known important simplifications.</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <a class="code" href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">CallSite::arg_iterator</a> CAI = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>();</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> FAI = F.<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(), FAE = F.<a class="code" href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">arg_end</a>();</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;       FAI != FAE; ++FAI, ++CAI) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    assert(CAI != CS.<a class="code" href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">arg_end</a>());</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *C = dyn_cast&lt;Constant&gt;(CAI))</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      SimplifiedValues[FAI] = C;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrArg = *CAI;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *C = stripAndComputeInBoundsConstantOffsets(PtrArg)) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      ConstantOffsetPtrs[FAI] = std::make_pair(PtrArg, C-&gt;getValue());</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="comment">// We can SROA any pointer arguments derived from alloca instructions.</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(PtrArg)) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        SROAArgValues[FAI] = PtrArg;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        SROAArgCosts[PtrArg] = 0;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      }</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  }</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  NumConstantArgs = SimplifiedValues.size();</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  NumConstantOffsetPtrArgs = ConstantOffsetPtrs.size();</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  NumAllocaArgs = SROAArgValues.size();</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">// The worklist of live basic blocks in the callee *after* inlining. We avoid</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">// adding basic blocks of the callee which can be proven to be dead for this</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="comment">// particular call site in order to get more accurate cost estimates. This</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">// requires a somewhat heavyweight iteration pattern: we need to walk the</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// basic blocks in a breadth-first order as we insert live successors. To</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// accomplish this, prioritizing for small iterations because we exit after</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="comment">// crossing our threshold, we use a small-size optimized SetVector.</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1SetVector.html">SetVector&lt;BasicBlock *, SmallVector&lt;BasicBlock *, 16&gt;</a>,</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                                  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 16&gt;</a> &gt; BBSetVector;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  BBSetVector BBWorklist;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  BBWorklist.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(&amp;F.<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>());</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// Note that we *must not* cache the size, this loop grows the worklist.</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx != BBWorklist.size(); ++Idx) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// Bail out the moment we cross the threshold. This means we&#39;ll under-count</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// the cost, but only when undercounting doesn&#39;t matter.</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (Cost &gt; (<a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> + VectorBonus))</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB = BBWorklist[Idx];</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">if</span> (BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a1fee8126b6c3a0c7b06575afcc5db913">empty</a>())</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// Analyze the cost of this block. If we blow through the threshold, this</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// returns false, and we can bail on out.</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">if</span> (!analyzeBlock(BB)) {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">if</span> (IsRecursiveCall || ExposesReturnsTwice || HasDynamicAlloca ||</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;          HasIndirectBr)</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="comment">// If the caller is a recursive function then we don&#39;t want to inline</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="comment">// functions which allocate a lot of stack space because it would increase</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">// the caller stack usage dramatically.</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">if</span> (IsCallerRecursive &amp;&amp;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;          AllocatedSize &gt; <a class="code" href="namespacellvm_1_1InlineConstants.html#ac331ecdb7100a8944856d0e27d4dfdd5">InlineConstants::TotalAllocaSizeRecursiveCaller</a>)</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <a class="code" href="classllvm_1_1TerminatorInst.html">TerminatorInst</a> *TI = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>();</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="comment">// Add in the live successors by first checking whether we have terminator</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// that may be simplified based on the values simplified by this call.</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = dyn_cast&lt;BranchInst&gt;(TI)) {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="keywordflow">if</span> (BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a03cc0dff22b31447f43af97acb76b1a2">isConditional</a>()) {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *Cond = BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>();</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SimpleCond</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;              = dyn_cast_or_null&lt;ConstantInt&gt;(SimplifiedValues.lookup(Cond))) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;          BBWorklist.insert(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(SimpleCond-&gt;isZero() ? 1 : 0));</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        }</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> *SI = dyn_cast&lt;SwitchInst&gt;(TI)) {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Cond = SI-&gt;<a class="code" href="classllvm_1_1SwitchInst.html#add5ee99852e9927d0777e74572c91708">getCondition</a>();</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SimpleCond</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            = dyn_cast_or_null&lt;ConstantInt&gt;(SimplifiedValues.lookup(Cond))) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        BBWorklist.insert(SI-&gt;<a class="code" href="classllvm_1_1SwitchInst.html#ad3a1537c850f63ce48bcf45694cde73f">findCaseValue</a>(SimpleCond).<a class="code" href="classllvm_1_1SwitchInst_1_1CaseIteratorT.html#a143819a808ec85e9997566fdf42e9372">getCaseSuccessor</a>());</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="comment">// If we&#39;re unable to select a particular successor, just count all of</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="comment">// them.</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> TIdx = 0, TSize = TI-&gt;<a class="code" href="classllvm_1_1TerminatorInst.html#a4c26d3b92af99a6c8defd89a2d39ca32">getNumSuccessors</a>(); TIdx != TSize;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;         ++TIdx)</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      BBWorklist.insert(TI-&gt;<a class="code" href="classllvm_1_1TerminatorInst.html#a3aac3b6c36415a2b08f65ead9e3e51e7">getSuccessor</a>(TIdx));</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="comment">// If we had any successors at this point, than post-inlining is likely to</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="comment">// have them as well. Note that we assume any basic blocks which existed</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="comment">// due to branches or switches which folded above will also fold after</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="comment">// inlining.</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> (SingleBB &amp;&amp; TI-&gt;<a class="code" href="classllvm_1_1TerminatorInst.html#a4c26d3b92af99a6c8defd89a2d39ca32">getNumSuccessors</a>() &gt; 1) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="comment">// Take off the bonus we applied to the threshold.</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> -= SingleBBBonus;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      SingleBB = <span class="keyword">false</span>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  }</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">// If this is a noduplicate call, we can still inline as long as </span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// inlining this would cause the removal of the caller (so the instruction</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">// is not actually duplicated, just moved).</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (!OnlyOneCallAndLocalLinkage &amp;&amp; ContainsNoDuplicateCall)</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a> += VectorBonus;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordflow">return</span> Cost &lt; <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment">/// \brief Dump stats about this call&#39;s analysis.</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a03503773241005f01b090b9862aad304">CallAnalyzer::dump</a>() {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="preprocessor">#define DEBUG_PRINT_STAT(x) llvm::dbgs() &lt;&lt; &quot;      &quot; #x &quot;: &quot; &lt;&lt; x &lt;&lt; &quot;\n&quot;</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(NumConstantArgs);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(NumConstantOffsetPtrArgs);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(NumAllocaArgs);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(NumConstantPtrCmps);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(NumConstantPtrDiffs);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(NumInstructionsSimplified);</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(SROACostSavings);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(SROACostSavingsLost);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <a class="code" href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a>(ContainsNoDuplicateCall);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="preprocessor">#undef DEBUG_PRINT_STAT</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;}</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<a class="code" href="InlineCost_8cpp.html#a8da89751cac9bdb4f3d335e30ebd1eeb">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1InlineCostAnalysis.html">InlineCostAnalysis</a>, <span class="stringliteral">&quot;inline-cost&quot;</span>, <span class="stringliteral">&quot;Inline Cost Analysis&quot;</span>,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                      <span class="keyword">true</span>, <span class="keyword">true</span>)</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<a class="code" href="PassSupport_8h.html#af0564bcdde2dd4400c670ca278c6035f">INITIALIZE_AG_DEPENDENCY</a>(<a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a>)</div><div class="line"><a name="l01188"></a><span class="lineno"><a class="line" href="InlineCost_8cpp.html#a72e5fb972d0d33ee1af75c177d806646"> 1188</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1InlineCostAnalysis.html">InlineCostAnalysis</a>, &quot;<a class="code" href="README-SSE_8txt.html#a78ce60676bc45399d8211dcb14823111">inline</a>-<a class="code" href="InlineCost_8cpp.html#ab6ddd0dbb46ded4c06ea4031e40c7fb8">cost</a>&quot;, &quot;Inline Cost <a class="code" href="InlineCost_8cpp.html#adeabdaeca068e07c5ca69ec79ffe55b5">Analysis</a>&quot;,</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                    <a class="code" href="namespacetrue.html">true</a>, true)</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="keywordtype">char</span> InlineCostAnalysis::<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a> = 0;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineCostAnalysis.html#a38d99b01e10bb8f786bef56426a1babf"> 1193</a></span>&#160;InlineCostAnalysis::InlineCostAnalysis() : <a class="code" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(ID), TD(0) {}</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineCostAnalysis.html#a392885755e214e79f0f059f36c7a3ddd"> 1195</a></span>&#160;<a class="code" href="classllvm_1_1InlineCostAnalysis.html#a392885755e214e79f0f059f36c7a3ddd">InlineCostAnalysis::~InlineCostAnalysis</a>() {}</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div><div class="line"><a name="l01197"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineCostAnalysis.html#ad13634c519f2583a5aa430c97185be4b"> 1197</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1InlineCostAnalysis.html#ad13634c519f2583a5aa430c97185be4b">InlineCostAnalysis::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a>&gt;();</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="classllvm_1_1CallGraphSCCPass.html#aafcbee837fed187a54b74f201a748160">CallGraphSCCPass::getAnalysisUsage</a>(AU);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineCostAnalysis.html#a0c20b41a4969eddc411af8aacc5edcb7"> 1203</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1InlineCostAnalysis.html#a0c20b41a4969eddc411af8aacc5edcb7">InlineCostAnalysis::runOnSCC</a>(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;SCC) {</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  TD = getAnalysisIfAvailable&lt;DataLayout&gt;();</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  TTI = &amp;getAnalysis&lt;TargetTransformInfo&gt;();</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;}</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineCostAnalysis.html#a3a5cc89538a4c887c1973d90837e50b4"> 1209</a></span>&#160;<a class="code" href="classllvm_1_1InlineCost.html">InlineCost</a> <a class="code" href="classllvm_1_1InlineCostAnalysis.html#a3a5cc89538a4c887c1973d90837e50b4">InlineCostAnalysis::getInlineCost</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS, <span class="keywordtype">int</span> <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">return</span> getInlineCost(CS, CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>(), <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;}</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment">/// \brief Test that two functions either have or have not the given attribute</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">///        at the same time.</span></div><div class="line"><a name="l01215"></a><span class="lineno"><a class="line" href="InlineCost_8cpp.html#ab2de9e23832ae802d303e079c7f92259"> 1215</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InlineCost_8cpp.html#ab2de9e23832ae802d303e079c7f92259">attributeMatches</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *F1, <a class="code" href="classllvm_1_1Function.html">Function</a> *F2,</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                             <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> Attr) {</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">return</span> F1-&gt;<a class="code" href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">hasFnAttribute</a>(Attr) == F2-&gt;<a class="code" href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">hasFnAttribute</a>(Attr);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;}</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">/// \brief Test that there are no attribute conflicts between Caller and Callee</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">///        that prevent inlining.</span></div><div class="line"><a name="l01222"></a><span class="lineno"><a class="line" href="InlineCost_8cpp.html#a2e958cadccb2c36d94f3456f68b22658"> 1222</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InlineCost_8cpp.html#a2e958cadccb2c36d94f3456f68b22658">functionsHaveCompatibleAttributes</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *Caller,</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                              <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InlineCost_8cpp.html#ab2de9e23832ae802d303e079c7f92259">attributeMatches</a>(Caller, Callee, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea72bdab14ef59ecc35ce5e1212fddc6c2">Attribute::SanitizeAddress</a>) &amp;&amp;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;         <a class="code" href="InlineCost_8cpp.html#ab2de9e23832ae802d303e079c7f92259">attributeMatches</a>(Caller, Callee, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eada8a2c5e520306d4b7cf64e8056fbd83">Attribute::SanitizeMemory</a>) &amp;&amp;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;         <a class="code" href="InlineCost_8cpp.html#ab2de9e23832ae802d303e079c7f92259">attributeMatches</a>(Caller, Callee, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead9b16070672b3e2ba75616590c7f5678">Attribute::SanitizeThread</a>);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineCostAnalysis.html#ac5a97bbd0a82f4c165d6b5fb289b9110"> 1229</a></span>&#160;<a class="code" href="classllvm_1_1InlineCost.html">InlineCost</a> <a class="code" href="classllvm_1_1InlineCostAnalysis.html#a3a5cc89538a4c887c1973d90837e50b4">InlineCostAnalysis::getInlineCost</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS, <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee,</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                                             <span class="keywordtype">int</span> <a class="code" href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a>) {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="comment">// Cannot inline indirect calls.</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">if</span> (!Callee)</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a0f35ef1ca1e7a0d68536b9f1388e02ed">llvm::InlineCost::getNever</a>();</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="comment">// Calls to functions with always-inline attributes should be inlined</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="comment">// whenever possible.</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">if</span> (Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">hasFnAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabfe11fa9b5a9912f2dfb73eb12ee0bb1">Attribute::AlwaysInline</a>)) {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">if</span> (isInlineViable(*Callee))</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a4071e05ae564f65cd2f1c7bde93d3e47">llvm::InlineCost::getAlways</a>();</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a0f35ef1ca1e7a0d68536b9f1388e02ed">llvm::InlineCost::getNever</a>();</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  }</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// Never inline functions with conflicting attributes (unless callee has</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="comment">// always-inline attribute).</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="InlineCost_8cpp.html#a2e958cadccb2c36d94f3456f68b22658">functionsHaveCompatibleAttributes</a>(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>(), Callee))</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a0f35ef1ca1e7a0d68536b9f1388e02ed">llvm::InlineCost::getNever</a>();</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="comment">// Don&#39;t inline this call if the caller has the optnone attribute.</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">hasFnAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eac6f6773426b2f18e03f35aace3d7a86c">Attribute::OptimizeNone</a>))</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a0f35ef1ca1e7a0d68536b9f1388e02ed">llvm::InlineCost::getNever</a>();</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="comment">// Don&#39;t inline functions which can be redefined at link-time to mean</span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="comment">// something else.  Don&#39;t inline functions marked noinline or call sites</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// marked noinline.</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">if</span> (Callee-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a211c14a84be4519439d616f9027d86c9">mayBeOverridden</a>() ||</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">hasFnAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea052000a0d23d9d8afe3917cad142fc2e">Attribute::NoInline</a>) || CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7e7da4a8a6bb556de0f736a9bdb6584d">isNoInline</a>())</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a0f35ef1ca1e7a0d68536b9f1388e02ed">llvm::InlineCost::getNever</a>();</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;      Analyzing call of &quot;</span> &lt;&lt; Callee-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;...\n&quot;</span>);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  CallAnalyzer CA(TD, *TTI, *Callee, Threshold);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordtype">bool</span> ShouldInline = CA.analyzeCall(CS);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(CA.dump());</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// Check if there was a reason to force inlining or no inlining.</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">if</span> (!ShouldInline &amp;&amp; CA.getCost() &lt; CA.getThreshold())</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a0f35ef1ca1e7a0d68536b9f1388e02ed">InlineCost::getNever</a>();</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">if</span> (ShouldInline &amp;&amp; CA.getCost() &gt;= CA.getThreshold())</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#a4071e05ae564f65cd2f1c7bde93d3e47">InlineCost::getAlways</a>();</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InlineCost.html#ac7c62ec9e2cd5d974f662038b8c8951f">llvm::InlineCost::get</a>(CA.getCost(), CA.getThreshold());</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineCostAnalysis.html#afc5294b9eacd6796cf4d8060f6cc6b15"> 1276</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1InlineCostAnalysis.html#afc5294b9eacd6796cf4d8060f6cc6b15">InlineCostAnalysis::isInlineViable</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;F) {</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordtype">bool</span> ReturnsTwice =</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    F.<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                                   <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaf8fdc5a281d0fbd473c53fad75bc74fa">Attribute::ReturnsTwice</a>);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> BI = F.<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), BE = F.<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); BI != BE; ++BI) {</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">// Disallow inlining of functions which contain an indirect branch.</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> (isa&lt;IndirectBrInst&gt;(BI-&gt;getTerminator()))</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> II = BI-&gt;begin(), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = BI-&gt;end(); II != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;         ++II) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS(II);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <span class="keywordflow">if</span> (!CS)</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="comment">// Disallow recursive calls.</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordflow">if</span> (&amp;F == CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>())</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="comment">// Disallow calls which expose returns-twice to a function not previously</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="comment">// attributed as such.</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <span class="keywordflow">if</span> (!ReturnsTwice &amp;&amp; CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a5770c10251145ce2b6a2dc99906cba64">isCall</a>() &amp;&amp;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;          cast&lt;CallInst&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>())-&gt;canReturnTwice())</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  }</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div><div class="ttc" id="classllvm_1_1ReturnInst_html"><div class="ttname"><a href="classllvm_1_1ReturnInst.html">llvm::ReturnInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02279">Instructions.h:2279</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00445">Constants.cpp:445</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html_ad200825f26189cd43f3b80728649c4a9"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#ad200825f26189cd43f3b80728649c4a9">llvm::GetElementPtrInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00790">Instructions.h:790</a></div></div>
<div class="ttc" id="classllvm_1_1CastInst_html_adc3489e61d5f37a0e4c5589859fbccc2"><div class="ttname"><a href="classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">llvm::CastInst::getOpcode</a></div><div class="ttdeci">Instruction::CastOps getOpcode() const </div><div class="ttdoc">Return the opcode of this CastInst. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00603">InstrTypes.h:603</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00633">InstrTypes.h:633</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a4786e64977a3af38f29adee46b70a863"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00425">SmallVector.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html">llvm::ExtractValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01740">Instructions.h:1740</a></div></div>
<div class="ttc" id="classllvm_1_1InstVisitor_html"><div class="ttname"><a href="classllvm_1_1InstVisitor.html">llvm::InstVisitor</a></div><div class="ttdoc">Base class for instruction visitors. </div><div class="ttdef"><b>Definition:</b> <a href="InstVisitor_8h_source.html#l00081">InstVisitor.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a082d322376f368b751695d3687954471"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a082d322376f368b751695d3687954471">llvm::InsertValueInst::getAggregateOperand</a></div><div class="ttdeci">Value * getAggregateOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01901">Instructions.h:1901</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a1fb1cc7adc35b5742dc6760eb93630a7"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a1fb1cc7adc35b5742dc6760eb93630a7">llvm::InsertValueInst::getIndices</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getIndices() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01921">Instructions.h:1921</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ad979b3c1bc975ee23810e3018ffe951b"><div class="ttname"><a href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits()</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00135">Type.cpp:135</a></div></div>
<div class="ttc" id="namespacellvm_html_a1169dcf3eb121e1b727bb8b532d7c69a"><div class="ttname"><a href="namespacellvm.html#a1169dcf3eb121e1b727bb8b532d7c69a">llvm::canConstantFoldCallTo</a></div><div class="ttdeci">bool canConstantFoldCallTo(const Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01180">ConstantFolding.cpp:1180</a></div></div>
<div class="ttc" id="GlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_acc2eeccdf71d83b3c08d6218317a1430"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">llvm::CallSiteBase::arg_end</a></div><div class="ttdeci">IterTy arg_end() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00143">CallSite.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00397">Function.h:397</a></div></div>
<div class="ttc" id="CallingConv_8h_html"><div class="ttname"><a href="CallingConv_8h.html">CallingConv.h</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a13ce8cb4c50c5b3505915467e14ad95a"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">llvm::CallSiteBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00145">CallSite.h:145</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="InlineCost_8cpp_html_a2e958cadccb2c36d94f3456f68b22658"><div class="ttname"><a href="InlineCost_8cpp.html#a2e958cadccb2c36d94f3456f68b22658">functionsHaveCompatibleAttributes</a></div><div class="ttdeci">static bool functionsHaveCompatibleAttributes(Function *Caller, Function *Callee)</div><div class="ttdoc">Test that there are no attribute conflicts between Caller and Callee that prevent inlining...</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01222">InlineCost.cpp:1222</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html_a1149c7eeefca671ac2685bca13843568"><div class="ttname"><a href="classllvm_1_1StoreInst.html#a1149c7eeefca671ac2685bca13843568">llvm::StoreInst::isSimple</a></div><div class="ttdeci">bool isSimple() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00338">Instructions.h:338</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_a169b2b8289fb0aefc607ae29c8b95cc6"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#a169b2b8289fb0aefc607ae29c8b95cc6">llvm::InlineConstants::ColdccPenalty</a></div><div class="ttdeci">const int ColdccPenalty</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00033">InlineCost.h:33</a></div></div>
<div class="ttc" id="namespacellvm_html_a43c6ebb4fd35ebd815d66a2df4eed0b9"><div class="ttname"><a href="namespacellvm.html#a43c6ebb4fd35ebd815d66a2df4eed0b9">llvm::gep_type_end</a></div><div class="ttdeci">gep_type_iterator gep_type_end(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00089">GetElementPtrTypeIterator.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="InlineCost_8h_html"><div class="ttname"><a href="InlineCost_8h.html">InlineCost.h</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8300ac1ef141b8a7c63c13fa9369d976"><div class="ttname"><a href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">llvm::Function::arg_end</a></div><div class="ttdeci">arg_iterator arg_end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00418">Function.h:418</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="InstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a554ab77949b0a16670a83ec3307501eb"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">llvm::ConstantExpr::getSub</a></div><div class="ttdeci">static Constant * getSub(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02051">Constants.cpp:2051</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html_a54abbe67d4a53c92652f1666dc19281f"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">llvm::AttributeSet::hasAttribute</a></div><div class="ttdeci">bool hasAttribute(unsigned Index, Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the attribute exists at the given index. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00818">Attributes.cpp:818</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_a156c478ee8e7d1602143cdbad4bd5385"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a156c478ee8e7d1602143cdbad4bd5385">llvm::LoadInst::isSimple</a></div><div class="ttdeci">bool isSimple() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00218">Instructions.h:218</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">llvm::Intrinsic::memcpy</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01260">Intrinsics.h:1260</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00116">User.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html"><div class="ttname"><a href="classllvm_1_1InlineCost.html">llvm::InlineCost</a></div><div class="ttdoc">Represents the cost of inlining a function. </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00050">InlineCost.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_af162a6169f32ae3aa6a58ae6458409cf"><div class="ttname"><a href="classllvm_1_1CmpInst.html#af162a6169f32ae3aa6a58ae6458409cf">llvm::CmpInst::isEquality</a></div><div class="ttdeci">bool isEquality() const </div><div class="ttdoc">Determine if this is an equals/not equals predicate. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03079">Instructions.cpp:3079</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00091">ARMBaseInfo.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCCPass_html_aafcbee837fed187a54b74f201a748160"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html#aafcbee837fed187a54b74f201a748160">llvm::CallGraphSCCPass::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;Info) const </div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8cpp_source.html#l00572">CallGraphSCCPass.cpp:572</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a65a550af73bd99c96abea847916aa4e9"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a65a550af73bd99c96abea847916aa4e9">llvm::CallSiteBase::getArgument</a></div><div class="ttdeci">ValTy * getArgument(unsigned ArgNo) const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00111">CallSite.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_af4d5ada526cdf057f5f29047e058187d"><div class="ttname"><a href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00161">Function.h:161</a></div></div>
<div class="ttc" id="CallSite_8h_html"><div class="ttname"><a href="CallSite_8h.html">CallSite.h</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html">llvm::generic_gep_type_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00023">GetElementPtrTypeIterator.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html_aabcc9d0c7c5b68bf66032d1c1c1aa4dd"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#aabcc9d0c7c5b68bf66032d1c1c1aa4dd">llvm::ExtractValueInst::getIndices</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getIndices() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01800">Instructions.h:1800</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html"><div class="ttname"><a href="classllvm_1_1StructLayout.html">llvm::StructLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00418">DataLayout.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a14eccc6fc74a87bc4d14c280c7574eaf"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">llvm::CallSiteBase::getCaller</a></div><div class="ttdeci">FunTy * getCaller() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00153">CallSite.h:153</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a382131e712e55e8324fbd5068de17b78"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a382131e712e55e8324fbd5068de17b78">llvm::BranchInst::isUnconditional</a></div><div class="ttdeci">bool isUnconditional() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02391">Instructions.h:2391</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea052000a0d23d9d8afe3917cad142fc2e"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea052000a0d23d9d8afe3917cad142fc2e">llvm::Attribute::NoInline</a></div><div class="ttdoc">inline=never </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00085">Attributes.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1CastInst_html"><div class="ttname"><a href="classllvm_1_1CastInst.html">llvm::CastInst</a></div><div class="ttdoc">Base class of casting instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00387">InstrTypes.h:387</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&amp;#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdoc">not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00673">InstrTypes.h:673</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00060">Use.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCCPass_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html">llvm::CallGraphSCCPass</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00034">CallGraphSCCPass.h:34</a></div></div>
<div class="ttc" id="InlineCost_8cpp_html_ab2de9e23832ae802d303e079c7f92259"><div class="ttname"><a href="InlineCost_8cpp.html#ab2de9e23832ae802d303e079c7f92259">attributeMatches</a></div><div class="ttdeci">static bool attributeMatches(Function *F1, Function *F2, Attribute::AttrKind Attr)</div><div class="ttdoc">Test that two functions either have or have not the given attribute at the same time. </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01215">InlineCost.cpp:1215</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00172">PassSupport.h:172</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_ae906b7591a3335568e5ebe6e589ea6d1"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae906b7591a3335568e5ebe6e589ea6d1">llvm::ConstantExpr::getExtractValue</a></div><div class="ttdeci">static Constant * getExtractValue(Constant *Agg, ArrayRef&lt; unsigned &gt; Idxs)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02000">Constants.cpp:2000</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a214c60dbb4f1ed467e5a3420db6eefd6"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00906">Instructions.cpp:906</a></div></div>
<div class="ttc" id="InlineCost_8cpp_html_ab2134ebaeaea50d7cf9be53c567777eb"><div class="ttname"><a href="InlineCost_8cpp.html#ab2134ebaeaea50d7cf9be53c567777eb">DEBUG_PRINT_STAT</a></div><div class="ttdeci">#define DEBUG_PRINT_STAT(x)</div></div>
<div class="ttc" id="classllvm_1_1InlineCostAnalysis_html_ad13634c519f2583a5aa430c97185be4b"><div class="ttname"><a href="classllvm_1_1InlineCostAnalysis.html#ad13634c519f2583a5aa430c97185be4b">llvm::InlineCostAnalysis::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01197">InlineCost.cpp:1197</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1PtrToIntInst_html"><div class="ttname"><a href="classllvm_1_1PtrToIntInst.html">llvm::PtrToIntInst</a></div><div class="ttdoc">This class represents a cast from a pointer to an integer. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03539">Instructions.h:3539</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a6edd823ba5e4e1effc8280ca8a1194ef"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Return the zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00116">Constants.h:116</a></div></div>
<div class="ttc" id="Operator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">llvm::Intrinsic::memset</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01262">Intrinsics.h:1262</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a593bc53015a060d260c75fc599f9a7b1"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">llvm::ConstantExpr::getICmp</a></div><div class="ttdeci">static Constant * getICmp(unsigned short pred, Constant *LHS, Constant *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01881">Constants.cpp:1881</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a1fee8126b6c3a0c7b06575afcc5db913"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a1fee8126b6c3a0c7b06575afcc5db913">llvm::BasicBlock::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00204">BasicBlock.h:204</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a74e70ecbb79defbbfa6f6c87f76155bf"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">llvm::BranchInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02406">Instructions.h:2406</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a84ffd51540ffbe5964dce7ba4ab0baea"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a84ffd51540ffbe5964dce7ba4ab0baea">llvm::ConstantExpr::getPtrToInt</a></div><div class="ttdeci">static Constant * getPtrToInt(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01648">Constants.cpp:1648</a></div></div>
<div class="ttc" id="classllvm_1_1BitCastInst_html"><div class="ttname"><a href="classllvm_1_1BitCastInst.html">llvm::BitCastInst</a></div><div class="ttdoc">This class represents a no-op cast from one type to another. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03587">Instructions.h:3587</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html_aceaa5a2bd964e34d0dbf3ed1f146abc7"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#aceaa5a2bd964e34d0dbf3ed1f146abc7">llvm::GetElementPtrInst::idx_begin</a></div><div class="ttdeci">op_iterator idx_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00785">Instructions.h:785</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a9a004adbac8f42baab2ae52ae879a34b"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a9a004adbac8f42baab2ae52ae879a34b">llvm::InsertValueInst::getInsertedValueOperand</a></div><div class="ttdeci">Value * getInsertedValueOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01911">Instructions.h:1911</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_ac32c5e568abcce09107853ccf11fbab6"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#ac32c5e568abcce09107853ccf11fbab6">llvm::InlineConstants::LastCallToStaticBonus</a></div><div class="ttdeci">const int LastCallToStaticBonus</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00032">InlineCost.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00255">Instructions.h:255</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a1abce20a9eff3d23ce05331962b1997c"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">llvm::CallSiteBase::getCalledValue</a></div><div class="ttdeci">ValTy * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00085">CallSite.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCostAnalysis_html_a0c20b41a4969eddc411af8aacc5edcb7"><div class="ttname"><a href="classllvm_1_1InlineCostAnalysis.html#a0c20b41a4969eddc411af8aacc5edcb7">llvm::InlineCostAnalysis::runOnSCC</a></div><div class="ttdeci">bool runOnSCC(CallGraphSCC &amp;SCC)</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01203">InlineCost.cpp:1203</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a15e279291892399c141cd01c7e358cbf"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01660">Constants.cpp:1660</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00395">Function.h:395</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_aa96196bd6a654ffedf2837f7b467532b"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#aa96196bd6a654ffedf2837f7b467532b">llvm::InlineConstants::CallPenalty</a></div><div class="ttdeci">const int CallPenalty</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00031">InlineCost.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1SequentialType_html_a39f2c3a62f293faf11ac28b15bc53359"><div class="ttname"><a href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">llvm::SequentialType::getElementType</a></div><div class="ttdeci">Type * getElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00319">DerivedTypes.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html_aa87e8100bba232cc73678f86231d7e58"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#aa87e8100bba232cc73678f86231d7e58">llvm::GetElementPtrInst::isInBounds</a></div><div class="ttdeci">bool isInBounds() const </div><div class="ttdoc">isInBounds - Determine whether the GEP has the inbounds flag. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01426">Instructions.cpp:1426</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="namespacellvm_html_abaa7bb099e75b4a5dba358a498783f83"><div class="ttname"><a href="namespacellvm.html#abaa7bb099e75b4a5dba358a498783f83">llvm::ConstantFoldCall</a></div><div class="ttdeci">Constant * ConstantFoldCall(Function *F, ArrayRef&lt; Constant * &gt; Operands, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01321">ConstantFolding.cpp:1321</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html_ae10c4483372a357a0d3411b3d64be10c"><div class="ttname"><a href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">llvm::StructLayout::getElementOffset</a></div><div class="ttdeci">uint64_t getElementOffset(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00442">DataLayout.h:442</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a9c293af587813d72fdc976697dd07f23"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">llvm::CallSiteBase&lt; Function, Value, User, Instruction, CallInst, InvokeInst, User::op_iterator &gt;::arg_iterator</a></div><div class="ttdeci">User::op_iterator arg_iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00133">CallSite.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1TerminatorInst_html_a4c26d3b92af99a6c8defd89a2d39ca32"><div class="ttname"><a href="classllvm_1_1TerminatorInst.html#a4c26d3b92af99a6c8defd89a2d39ca32">llvm::TerminatorInst::getNumSuccessors</a></div><div class="ttdeci">unsigned getNumSuccessors() const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00059">InstrTypes.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00709">Instructions.h:709</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCostAnalysis_html_afc5294b9eacd6796cf4d8060f6cc6b15"><div class="ttname"><a href="classllvm_1_1InlineCostAnalysis.html#afc5294b9eacd6796cf4d8060f6cc6b15">llvm::InlineCostAnalysis::isInlineViable</a></div><div class="ttdeci">bool isInlineViable(Function &amp;Callee)</div><div class="ttdoc">Minimal filter to detect invalid constructs for inlining. </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01276">InlineCost.cpp:1276</a></div></div>
<div class="ttc" id="namespacellvm_html_a03503773241005f01b090b9862aad304"><div class="ttname"><a href="namespacellvm.html#a03503773241005f01b090b9862aad304">llvm::dump</a></div><div class="ttdeci">void dump(const SparseBitVector&lt; ElementSize &gt; &amp;LHS, raw_ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00882">SparseBitVector.h:882</a></div></div>
<div class="ttc" id="classllvm_1_1TerminatorInst_html"><div class="ttname"><a href="classllvm_1_1TerminatorInst.html">llvm::TerminatorInst</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00035">InstrTypes.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_a6e878d84d424326fd6132b320f075c97"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#a6e878d84d424326fd6132b320f075c97">llvm::InlineConstants::IndirectCallThreshold</a></div><div class="ttdeci">const int IndirectCallThreshold</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00030">InlineCost.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae4c67f835911559821939fb23a2e7aff"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">llvm::CallSiteBase::getInstruction</a></div><div class="ttdeci">InstrTy * getInstruction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00079">CallSite.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1TerminatorInst_html_a3aac3b6c36415a2b08f65ead9e3e51e7"><div class="ttname"><a href="classllvm_1_1TerminatorInst.html#a3aac3b6c36415a2b08f65ead9e3e51e7">llvm::TerminatorInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned idx) const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00065">InstrTypes.h:65</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a211c14a84be4519439d616f9027d86c9"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a211c14a84be4519439d616f9027d86c9">llvm::GlobalValue::mayBeOverridden</a></div><div class="ttdeci">static bool mayBeOverridden(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00171">GlobalValue.h:171</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02350">Instructions.h:2350</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6f725580f7834e2ca90762965866dad4"><div class="ttname"><a href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00229">Type.h:229</a></div></div>
<div class="ttc" id="classllvm_1_1UnreachableInst_html"><div class="ttname"><a href="classllvm_1_1UnreachableInst.html">llvm::UnreachableInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03142">Instructions.h:3142</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1ResumeInst_html"><div class="ttname"><a href="classllvm_1_1ResumeInst.html">llvm::ResumeInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03090">Instructions.h:3090</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCostAnalysis_html"><div class="ttname"><a href="classllvm_1_1InlineCostAnalysis.html">llvm::InlineCostAnalysis</a></div><div class="ttdoc">Cost analyzer used by inliner. </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00101">InlineCost.h:101</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a59ba1d701385742520aa8a3478099fb7"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a59ba1d701385742520aa8a3478099fb7">llvm::Intrinsic::memmove</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01261">Intrinsics.h:1261</a></div></div>
<div class="ttc" id="classllvm_1_1IndirectBrInst_html"><div class="ttname"><a href="classllvm_1_1IndirectBrInst.html">llvm::IndirectBrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02743">Instructions.h:2743</a></div></div>
<div class="ttc" id="classllvm_1_1TargetTransformInfo_html_ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html#ac44f6b9fdbb5f9cc199f8329cb0b272ca89f768b1267e3083b4eb05b4ab77e717">llvm::TargetTransformInfo::TCC_Free</a></div><div class="ttdoc">Expected to fold away in lowering. </div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00093">TargetTransformInfo.h:93</a></div></div>
<div class="ttc" id="InstVisitor_8h_html"><div class="ttname"><a href="InstVisitor_8h.html">InstVisitor.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_ac3ac11f694a6c40ee45f49ac94068124"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#ac3ac11f694a6c40ee45f49ac94068124">llvm::InlineConstants::InstrCost</a></div><div class="ttdeci">const int InstrCost</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00029">InlineCost.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_af41f58e730804d10b91fcff39b035f74"><div class="ttname"><a href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">llvm::User::op_end</a></div><div class="ttdeci">op_iterator op_end()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00118">User.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01252">APInt.h:1252</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html_a0f35ef1ca1e7a0d68536b9f1388e02ed"><div class="ttname"><a href="classllvm_1_1InlineCost.html#a0f35ef1ca1e7a0d68536b9f1388e02ed">llvm::InlineCost::getNever</a></div><div class="ttdeci">static InlineCost getNever()</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00074">InlineCost.h:74</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html_a3e7aed6d56bdb4dfdb9faf5821d159d6"><div class="ttname"><a href="classllvm_1_1GEPOperator.html#a3e7aed6d56bdb4dfdb9faf5821d159d6">llvm::GEPOperator::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00382">Operator.h:382</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8bf193a781a92cae52d7f9216d0824f8"><div class="ttname"><a href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">llvm::Function::arg_begin</a></div><div class="ttdeci">arg_iterator arg_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00410">Function.h:410</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00714">InstrTypes.h:714</a></div></div>
<div class="ttc" id="InlineCost_8cpp_html_adeabdaeca068e07c5ca69ec79ffe55b5"><div class="ttname"><a href="InlineCost_8cpp.html#adeabdaeca068e07c5ca69ec79ffe55b5">Analysis</a></div><div class="ttdeci">inline Inline Cost Analysis</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01188">InlineCost.cpp:1188</a></div></div>
<div class="ttc" id="classllvm_1_1IntToPtrInst_html"><div class="ttname"><a href="classllvm_1_1IntToPtrInst.html">llvm::IntToPtrInst</a></div><div class="ttdoc">This class represents a cast from an integer to a pointer. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03499">Instructions.h:3499</a></div></div>
<div class="ttc" id="PassSupport_8h_html_af0564bcdde2dd4400c670ca278c6035f"><div class="ttname"><a href="PassSupport_8h.html#af0564bcdde2dd4400c670ca278c6035f">INITIALIZE_AG_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_AG_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00169">PassSupport.h:169</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00517">Value.cpp:517</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eabdd013d932f9aa7ccaa9886bc1a54b63"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabdd013d932f9aa7ccaa9886bc1a54b63">llvm::Attribute::NoDuplicate</a></div><div class="ttdoc">Call cannot be duplicated. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00083">Attributes.h:83</a></div></div>
<div class="ttc" id="namespacellvm_html_a9a0b7acac205af164daef4017f9d193d"><div class="ttname"><a href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">llvm::SimplifyBinOp</a></div><div class="ttdeci">Value * SimplifyBinOp(unsigned Opcode, Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02929">InstructionSimplify.cpp:2929</a></div></div>
<div class="ttc" id="InlineCost_8cpp_html_a6ceabc8f314cb80a475cec4bf2425839"><div class="ttname"><a href="InlineCost_8cpp.html#a6ceabc8f314cb80a475cec4bf2425839">STATISTIC</a></div><div class="ttdeci">STATISTIC(NumCallsAnalyzed,&quot;Number of call sites analyzed&quot;)</div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a03cc0dff22b31447f43af97acb76b1a2"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a03cc0dff22b31447f43af97acb76b1a2">llvm::BranchInst::isConditional</a></div><div class="ttdeci">bool isConditional() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02392">Instructions.h:2392</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a88505baf41407782678a5df1702d2d31"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00326">InstrTypes.h:326</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aba93ec4079f8d709a1d5b4745310782e"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01672">Constants.cpp:1672</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a2b51df7c4694230be653c4b5a3186029"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a2b51df7c4694230be653c4b5a3186029">llvm::CallSiteBase::isByValArgument</a></div><div class="ttdeci">bool isByValArgument(unsigned ArgNo) const </div><div class="ttdoc">Determine whether this argument is passed by value. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00256">CallSite.h:256</a></div></div>
<div class="ttc" id="classllvm_1_1TargetTransformInfo_html"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html">llvm::TargetTransformInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetTransformInfo_8h_source.html#l00039">TargetTransformInfo.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00195">BasicBlock.h:195</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_ae1147bebd023c80a6cda73a19b8c1d36"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#ae1147bebd023c80a6cda73a19b8c1d36">llvm::AllocaInst::isStaticAlloca</a></div><div class="ttdeci">bool isStaticAlloca() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00913">Instructions.cpp:913</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a269c7b8adcd29645a4f901196fc08806"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00190">DenseMap.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1SwitchInst_1_1CaseIteratorT_html_a143819a808ec85e9997566fdf42e9372"><div class="ttname"><a href="classllvm_1_1SwitchInst_1_1CaseIteratorT.html#a143819a808ec85e9997566fdf42e9372">llvm::SwitchInst::CaseIteratorT::getCaseSuccessor</a></div><div class="ttdeci">BasicBlockTy * getCaseSuccessor()</div><div class="ttdoc">Resolves successor for current case. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02518">Instructions.h:2518</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a30f2c362631e3728d2f47a8203071ade"><div class="ttname"><a href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00380">Function.h:380</a></div></div>
<div class="ttc" id="classllvm_1_1SwitchInst_html_ad3a1537c850f63ce48bcf45694cde73f"><div class="ttname"><a href="classllvm_1_1SwitchInst.html#ad3a1537c850f63ce48bcf45694cde73f">llvm::SwitchInst::findCaseValue</a></div><div class="ttdeci">CaseIt findCaseValue(const ConstantInt *C)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02664">Instructions.h:2664</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00438">Constants.cpp:438</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html_ab87e7c5a729885396b3b045ad375e4b8"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#ab87e7c5a729885396b3b045ad375e4b8">llvm::ExtractValueInst::getAggregateOperand</a></div><div class="ttdeci">Value * getAggregateOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01790">Instructions.h:1790</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html"><div class="ttname"><a href="classllvm_1_1GEPOperator.html">llvm::GEPOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00357">Operator.h:357</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="InlineCost_8cpp_html_a8da89751cac9bdb4f3d335e30ebd1eeb"><div class="ttname"><a href="InlineCost_8cpp.html#a8da89751cac9bdb4f3d335e30ebd1eeb">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(InlineCostAnalysis,&quot;inline-cost&quot;,&quot;Inline Cost Analysis&quot;, true, true) INITIALIZE_PASS_END(InlineCostAnalysis</div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eac6f6773426b2f18e03f35aace3d7a86c"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eac6f6773426b2f18e03f35aace3d7a86c">llvm::Attribute::OptimizeNone</a></div><div class="ttdoc">Function must not be optimized. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00092">Attributes.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00094">PassAnalysisSupport.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a6a782b47efe4d6ad9a7a36b6525d9203"><div class="ttname"><a href="classllvm_1_1Function.html#a6a782b47efe4d6ad9a7a36b6525d9203">llvm::Function::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00401">Function.h:401</a></div></div>
<div class="ttc" id="classllvm_1_1SwitchInst_html_add5ee99852e9927d0777e74572c91708"><div class="ttname"><a href="classllvm_1_1SwitchInst.html#add5ee99852e9927d0777e74572c91708">llvm::SwitchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02610">Instructions.h:2610</a></div></div>
<div class="ttc" id="ConstantFolding_8h_html"><div class="ttname"><a href="ConstantFolding_8h.html">ConstantFolding.h</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCostAnalysis_html_a392885755e214e79f0f059f36c7a3ddd"><div class="ttname"><a href="classllvm_1_1InlineCostAnalysis.html#a392885755e214e79f0f059f36c7a3ddd">llvm::InlineCostAnalysis::~InlineCostAnalysis</a></div><div class="ttdeci">~InlineCostAnalysis()</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01195">InlineCost.cpp:1195</a></div></div>
<div class="ttc" id="classllvm_1_1Operator_html_a2f14b03fb8025d2bfa20a34da2b20ccf"><div class="ttname"><a href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">llvm::Operator::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00051">Operator.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ead9b16070672b3e2ba75616590c7f5678"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead9b16070672b3e2ba75616590c7f5678">llvm::Attribute::SanitizeThread</a></div><div class="ttdoc">ThreadSanitizer is on. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00107">Attributes.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="GetElementPtrTypeIterator_8h_html"><div class="ttname"><a href="GetElementPtrTypeIterator_8h.html">GetElementPtrTypeIterator.h</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a84309bb8c34c8bc5694ec5d48dd8668f"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02394">Instructions.h:2394</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a603f8f8d2c9d8de6762092830cf82b13"><div class="ttname"><a href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">llvm::Function::hasFnAttribute</a></div><div class="ttdeci">bool hasFnAttribute(Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the function has the attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00200">Function.h:200</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a5770c10251145ce2b6a2dc99906cba64"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a5770c10251145ce2b6a2dc99906cba64">llvm::CallSiteBase::isCall</a></div><div class="ttdeci">bool isCall() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00073">CallSite.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html_a63d9ee4f6ab51fd7586c7ad7510a5b33"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#a63d9ee4f6ab51fd7586c7ad7510a5b33">llvm::GetElementPtrInst::idx_end</a></div><div class="ttdeci">op_iterator idx_end()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00787">Instructions.h:787</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html_ac876de9f2b1ddbe458be4d57e3e11b16"><div class="ttname"><a href="classllvm_1_1GEPOperator.html#ac876de9f2b1ddbe458be4d57e3e11b16">llvm::GEPOperator::isInBounds</a></div><div class="ttdeci">bool isInBounds() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00373">Operator.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a3f7d431f47311b40fa590e267f17ec6e"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a3f7d431f47311b40fa590e267f17ec6e">llvm::CallSiteBase::hasFnAttr</a></div><div class="ttdeci">bool hasFnAttr(Attribute::AttrKind A) const </div><div class="ttdoc">Return true if this function has the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00187">CallSite.h:187</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eabfe11fa9b5a9912f2dfb73eb12ee0bb1"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabfe11fa9b5a9912f2dfb73eb12ee0bb1">llvm::Attribute::AlwaysInline</a></div><div class="ttdoc">inline=always </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00070">Attributes.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea72bdab14ef59ecc35ce5e1212fddc6c2"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea72bdab14ef59ecc35ce5e1212fddc6c2">llvm::Attribute::SanitizeAddress</a></div><div class="ttdoc">AddressSanitizer is on. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00106">Attributes.h:106</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5cb76a65b6524dba1493dd2b9dc3abbe"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">TerminatorInst * getTerminator()</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00120">BasicBlock.cpp:120</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a085b82f074c28030fb8e194377ed2d0c"><div class="ttname"><a href="classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00161">Value.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a7e7da4a8a6bb556de0f736a9bdb6584d"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a7e7da4a8a6bb556de0f736a9bdb6584d">llvm::CallSiteBase::isNoInline</a></div><div class="ttdeci">bool isNoInline() const </div><div class="ttdoc">Return true if the call should not be inlined. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00208">CallSite.h:208</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5a7cfa245af120b44ac8a86143bb9e57"><div class="ttname"><a href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">unsigned getPrimitiveSizeInBits() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00117">Type.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_ac2603d2633ba560918c756365de9cd64"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ac2603d2633ba560918c756365de9cd64">llvm::ConstantExpr::getInsertValue</a></div><div class="ttdeci">static Constant * getInsertValue(Constant *Agg, Constant *Val, ArrayRef&lt; unsigned &gt; Idxs)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01980">Constants.cpp:1980</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCostAnalysis_html_a3a5cc89538a4c887c1973d90837e50b4"><div class="ttname"><a href="classllvm_1_1InlineCostAnalysis.html#a3a5cc89538a4c887c1973d90837e50b4">llvm::InlineCostAnalysis::getInlineCost</a></div><div class="ttdeci">InlineCost getInlineCost(CallSite CS, int Threshold)</div><div class="ttdoc">Get an InlineCost object representing the cost of inlining this callsite. </div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01209">InlineCost.cpp:1209</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_affa0f3ae92ab8696fccd107c0addf5a2"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">llvm::CallSiteBase::arg_begin</a></div><div class="ttdeci">IterTy arg_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00137">CallSite.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_abefc2d8baa67d6f9e49c95912cfde480"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">llvm::GlobalValue::hasLocalLinkage</a></div><div class="ttdeci">bool hasLocalLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00211">GlobalValue.h:211</a></div></div>
<div class="ttc" id="classllvm_1_1UnaryInstruction_html"><div class="ttname"><a href="classllvm_1_1UnaryInstruction.html">llvm::UnaryInstruction</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00089">InstrTypes.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_afb3301fb99a3b118d9fe496faf1b114b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#afb3301fb99a3b118d9fe496faf1b114b">llvm::CmpInst::getOpcode</a></div><div class="ttdeci">OtherOps getOpcode() const </div><div class="ttdoc">Get the opcode casted to the right type. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00709">InstrTypes.h:709</a></div></div>
<div class="ttc" id="CaptureTracking_8cpp_html_ac30708db2a991631cbf3d95c6324d929"><div class="ttname"><a href="CaptureTracking_8cpp.html#ac30708db2a991631cbf3d95c6324d929">Threshold</a></div><div class="ttdeci">static int const Threshold</div><div class="ttdef"><b>Definition:</b> <a href="CaptureTracking_8cpp_source.html#l00080">CaptureTracking.cpp:80</a></div></div>
<div class="ttc" id="SetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1SwitchInst_html"><div class="ttname"><a href="classllvm_1_1SwitchInst.html">llvm::SwitchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02449">Instructions.h:2449</a></div></div>
<div class="ttc" id="namespacellvm_1_1InlineConstants_html_ac331ecdb7100a8944856d0e27d4dfdd5"><div class="ttname"><a href="namespacellvm_1_1InlineConstants.html#ac331ecdb7100a8944856d0e27d4dfdd5">llvm::InlineConstants::TotalAllocaSizeRecursiveCaller</a></div><div class="ttdeci">const unsigned TotalAllocaSizeRecursiveCaller</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00037">InlineCost.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eaf8fdc5a281d0fbd473c53fad75bc74fa"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaf8fdc5a281d0fbd473c53fad75bc74fa">llvm::Attribute::ReturnsTwice</a></div><div class="ttdoc">Function can return twice. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00096">Attributes.h:96</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a5a7096f0c3b6477de7213fd55fa8775a"><div class="ttname"><a href="classllvm_1_1APInt.html#a5a7096f0c3b6477de7213fd55fa8775a">llvm::APInt::sextOrTrunc</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT sextOrTrunc(unsigned width) const </div><div class="ttdoc">Sign extend or truncate to width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01010">APInt.cpp:1010</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphSCC_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html">llvm::CallGraphSCC</a></div><div class="ttdoc">CallGraphSCC - This is a single SCC that a CallGraphSCCPass is run on. </div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00083">CallGraphSCCPass.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00083">Instruction.h:83</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974a94ec9273479164e4aec1d5d91b71dc85"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a94ec9273479164e4aec1d5d91b71dc85">llvm::CallingConv::Cold</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00045">CallingConv.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1SetVector_html"><div class="ttname"><a href="classllvm_1_1SetVector.html">llvm::SetVector</a></div><div class="ttdoc">A vector that has set insertion semantics. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00037">SetVector.h:37</a></div></div>
<div class="ttc" id="SmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a3e98ee8971fbf32f7f84f5a7399b5b67"><div class="ttname"><a href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">llvm::ConstantFoldInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldInstOperands(unsigned Opcode, Type *DestTy, ArrayRef&lt; Constant * &gt; Ops, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00954">ConstantFolding.cpp:954</a></div></div>
<div class="ttc" id="classllvm_1_1InvokeInst_html"><div class="ttname"><a href="classllvm_1_1InvokeInst.html">llvm::InvokeInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02841">Instructions.h:2841</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="InlineCost_8cpp_html_ab6ddd0dbb46ded4c06ea4031e40c7fb8"><div class="ttname"><a href="InlineCost_8cpp.html#ab6ddd0dbb46ded4c06ea4031e40c7fb8">cost</a></div><div class="ttdeci">inline cost</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8cpp_source.html#l01188">InlineCost.cpp:1188</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_ac5728c914b7e92030243a21e49ab1552"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ac5728c914b7e92030243a21e49ab1552">llvm::ConstantExpr::getCompare</a></div><div class="ttdeci">static Constant * getCompare(unsigned short pred, Constant *C1, Constant *C2)</div><div class="ttdoc">Return an ICmp or FCmp comparison operator constant expression. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01809">Constants.cpp:1809</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a78ce60676bc45399d8211dcb14823111"><div class="ttname"><a href="README-SSE_8txt.html#a78ce60676bc45399d8211dcb14823111">inline</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions inline</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00053">README-SSE.txt:53</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="TargetTransformInfo_8h_html"><div class="ttname"><a href="TargetTransformInfo_8h.html">TargetTransformInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a4ba7d7f0a1e911c8384e236b5f6c1959"><div class="ttname"><a href="classllvm_1_1APInt.html#a4ba7d7f0a1e911c8384e236b5f6c1959">llvm::APInt::getNullValue</a></div><div class="ttdeci">static APInt getNullValue(unsigned numBits)</div><div class="ttdoc">Get the &amp;#39;0&amp;#39; value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00457">APInt.h:457</a></div></div>
<div class="ttc" id="classllvm_1_1CallSite_html"><div class="ttname"><a href="classllvm_1_1CallSite.html">llvm::CallSite</a></div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00295">CallSite.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a1e1ce75d651c76b6869b4218e34618c8"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a1e1ce75d651c76b6869b4218e34618c8">llvm::ConstantExpr::getCast</a></div><div class="ttdeci">static Constant * getCast(unsigned ops, Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01444">Constants.cpp:1444</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html_a4071e05ae564f65cd2f1c7bde93d3e47"><div class="ttname"><a href="classllvm_1_1InlineCost.html#a4071e05ae564f65cd2f1c7bde93d3e47">llvm::InlineCost::getAlways</a></div><div class="ttdeci">static InlineCost getAlways()</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00071">InlineCost.h:71</a></div></div>
<div class="ttc" id="namespacellvm_html_a7dc3e2c002713fec56bdbf16aa704576"><div class="ttname"><a href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a></div><div class="ttdeci">tier&lt; T1, T2 &gt; tie(T1 &amp;f, T2 &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00216">STLExtras.h:216</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eada8a2c5e520306d4b7cf64e8056fbd83"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eada8a2c5e520306d4b7cf64e8056fbd83">llvm::Attribute::SanitizeMemory</a></div><div class="ttdoc">MemorySanitizer is on. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00108">Attributes.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1InlineCost_html_ac7c62ec9e2cd5d974f662038b8c8951f"><div class="ttname"><a href="classllvm_1_1InlineCost.html#ac7c62ec9e2cd5d974f662038b8c8951f">llvm::InlineCost::get</a></div><div class="ttdeci">static InlineCost get(int Cost, int Threshold)</div><div class="ttdef"><b>Definition:</b> <a href="InlineCost_8h_source.html#l00066">InlineCost.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a7966cd72245302e38c19138b4ad408b4"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">llvm::CallSiteBase::getCalledFunction</a></div><div class="ttdeci">FunTy * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00093">CallSite.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html">llvm::InsertValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01846">Instructions.h:1846</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60e"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">llvm::Attribute::AttrKind</a></div><div class="ttdeci">AttrKind</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00064">Attributes.h:64</a></div></div>
<div class="ttc" id="namespacellvm_html_ac828b9b52935f87659a4adf237f820a3"><div class="ttname"><a href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">llvm::gep_type_begin</a></div><div class="ttdeci">gep_type_iterator gep_type_begin(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00085">GetElementPtrTypeIterator.h:85</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:56 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
