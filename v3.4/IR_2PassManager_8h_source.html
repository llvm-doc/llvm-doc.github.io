<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: PassManager.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('IR_2PassManager_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">IR/PassManager.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="IR_2PassManager_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- PassManager.h - Pass management infrastructure -----------*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// This header defines various interfaces for pass management in LLVM. There</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/// is no &quot;pass&quot; interface in LLVM per se. Instead, an instance of any class</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/// which supports a method to &#39;run&#39; it over a unit of IR can be used as</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/// a pass. A pass manager is generally a tool to collect a sequence of passes</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// which run over a particular IR construct, and run each of them in sequence</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// over each such construct in the containing IR construct. As there is no</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/// containing IR construct for a Module, a manager for passes over modules</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// forms the base case which runs its managed passes in sequence over the</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/// single module provided.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/// The core IR library provides managers for running passes over</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/// modules and functions.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/// * FunctionPassManager can run over a Module, runs each pass over</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">///   a Function.</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/// * ModulePassManager must be directly run, runs each pass over the Module.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// Note that the implementations of the pass managers use concept-based</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// polymorphism as outlined in the &quot;Value Semantics and Concept-based</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// Polymorphism&quot; talk (or its abbreviated sibling &quot;Inheritance Is The Base</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// Class of Evil&quot;) by Sean Parent:</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/// * http://github.com/sean-parent/sean-parent.github.com/wiki/Papers-and-Presentations</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// * http://www.youtube.com/watch?v=_BpMYeUFXv8</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// * http://channel9.msdn.com/Events/GoingNative/2013/Inheritance-Is-The-Base-Class-of-Evil</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="polymorphic__ptr_8h.html">llvm/ADT/polymorphic_ptr.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="type__traits_8h.html">llvm/Support/type_traits.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">class </span>Module;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">class </span>Function;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// \brief Implementation details of the pass manager interfaces.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span><span class="keyword">namespace </span>detail {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// \brief Template for the abstract base class used to dispatch</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/// polymorphically over pass objects.</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structllvm_1_1detail_1_1PassConcept.html">   56</a></span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1detail_1_1PassConcept.html">PassConcept</a> {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// Boiler plate necessary for the container of derived classes.</span></div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structllvm_1_1detail_1_1PassConcept.html#a4e84d7ecbbe601affbc8f272e89d9be8">   58</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a4e84d7ecbbe601affbc8f272e89d9be8">~PassConcept</a>() {}</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html">PassConcept</a> *<a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a2c5253296b92e7fdaf3d83b43c17d418">clone</a>() = 0;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">  /// \brief The polymorphic API which runs the pass over a given IR entity.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a66e8645d9f2b75fe93420483b21b2451">run</a>(<a class="code" href="classT.html">T</a> Arg) = 0;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;};</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/// \brief A template wrapper used to implement the polymorphic API.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/// Can be instantiated for any object which provides a \c run method</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">/// accepting a \c T. It requires the pass to be a copyable</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/// object.</span></div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structllvm_1_1detail_1_1PassModel.html">   70</a></span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> PassT&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1detail_1_1PassModel.html">PassModel</a> : <a class="code" href="structllvm_1_1detail_1_1PassConcept.html">PassConcept</a>&lt;T&gt; {</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structllvm_1_1detail_1_1PassModel.html#a4d6f6aecc7c94d74bb75005934fb4d31">   71</a></span>&#160;  <a class="code" href="structllvm_1_1detail_1_1PassModel.html#a4d6f6aecc7c94d74bb75005934fb4d31">PassModel</a>(PassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>) : Pass(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Pass)) {}</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structllvm_1_1detail_1_1PassModel.html#af2733bdea296501cabf5e937a3fabe8f">   72</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="structllvm_1_1detail_1_1PassModel.html">PassModel</a> *<a class="code" href="structllvm_1_1detail_1_1PassModel.html#af2733bdea296501cabf5e937a3fabe8f">clone</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="structllvm_1_1detail_1_1PassModel.html">PassModel</a>(<a class="code" href="classllvm_1_1Pass.html">Pass</a>); }</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structllvm_1_1detail_1_1PassModel.html#a5955f8a478c8e2f80acba1b8c51f13a3">   73</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1detail_1_1PassModel.html#a5955f8a478c8e2f80acba1b8c51f13a3">run</a>(<a class="code" href="classT.html">T</a> Arg) { <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Pass.html">Pass</a>.run(Arg); }</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structllvm_1_1detail_1_1PassModel.html#a92cbed4c73f947b726eb2440e377ff81">   74</a></span>&#160;  PassT <a class="code" href="structllvm_1_1detail_1_1PassModel.html#a92cbed4c73f947b726eb2440e377ff81">Pass</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;};</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classllvm_1_1ModulePassManager.html">   81</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1ModulePassManager.html">ModulePassManager</a> {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classllvm_1_1ModulePassManager.html#a6912fd23af5cf15de5611a2ad168a82b">   83</a></span>&#160;  <a class="code" href="classllvm_1_1ModulePassManager.html#a6912fd23af5cf15de5611a2ad168a82b">ModulePassManager</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager</a> *AM = 0) : M(M), AM(AM) {}</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classllvm_1_1ModulePassManager.html#a98169122c135382db60bbcf894abca0c">   85</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ModulePassT&gt; <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ModulePassManager.html#a98169122c135382db60bbcf894abca0c">addPass</a>(ModulePassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    Passes.push_back(<span class="keyword">new</span> ModulePassModel&lt;ModulePassT&gt;(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Pass)));</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a66e8645d9f2b75fe93420483b21b2451">run</a>();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// Pull in the concept type and model template specialized for modules.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html">detail::PassConcept&lt;Module *&gt;</a> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html">ModulePassConcept</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keyword">struct </span>ModulePassModel : <a class="code" href="structllvm_1_1detail_1_1PassModel.html">detail::PassModel</a>&lt;Module *, PassT&gt; {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    ModulePassModel(PassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>) : <a class="code" href="structllvm_1_1detail_1_1PassModel.html">detail::PassModel&lt;Module *, PassT&gt;</a>(Pass) {}</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  };</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager</a> *AM;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  std::vector&lt;polymorphic_ptr&lt;ModulePassConcept&gt; &gt; Passes;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;};</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classllvm_1_1FunctionPassManager.html">  104</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1FunctionPassManager.html">FunctionPassManager</a> {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classllvm_1_1FunctionPassManager.html#a53ea6108ba09ae0aace6deed5e71fa95">  106</a></span>&#160;  <a class="code" href="classllvm_1_1FunctionPassManager.html#a53ea6108ba09ae0aace6deed5e71fa95">FunctionPassManager</a>(<a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager</a> *AM = 0) : AM(AM) {}</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classllvm_1_1FunctionPassManager.html#a579a279a2f106647e0ed5f1d1fa93c48">  108</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> FunctionPassT&gt; <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1FunctionPassManager.html#a579a279a2f106647e0ed5f1d1fa93c48">addPass</a>(FunctionPassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    Passes.push_back(<span class="keyword">new</span> FunctionPassModel&lt;FunctionPassT&gt;(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Pass)));</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a66e8645d9f2b75fe93420483b21b2451">run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Pull in the concept type and model template specialized for functions.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html">detail::PassConcept&lt;Function *&gt;</a> <a class="code" href="structllvm_1_1detail_1_1PassConcept.html">FunctionPassConcept</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keyword">struct </span>FunctionPassModel : <a class="code" href="structllvm_1_1detail_1_1PassModel.html">detail::PassModel</a>&lt;Function *, PassT&gt; {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    FunctionPassModel(PassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>)</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        : <a class="code" href="structllvm_1_1detail_1_1PassModel.html">detail::PassModel&lt;Function *, PassT&gt;</a>(Pass) {}</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  };</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager</a> *AM;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  std::vector&lt;polymorphic_ptr&lt;FunctionPassConcept&gt; &gt; Passes;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;};</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">/// \brief An analysis manager to coordinate and cache analyses run over</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">/// a module.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">/// The analysis manager is typically used by passes in a pass pipeline</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">/// (consisting potentially of several individual pass managers) over a module</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/// of IR. It provides registration of available analyses, declaring</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">/// requirements on support for specific analyses, running of an specific</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">/// analysis over a specific unit of IR to compute an analysis result, and</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">/// caching of the analysis results to reuse them across multiple passes.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/// It is the responsibility of callers to use the invalidation API to</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">/// invalidate analysis results when the IR they correspond to changes. The</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">/// \c ModulePassManager and \c FunctionPassManager do this automatically.</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classllvm_1_1AnalysisManager.html">  141</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager</a> {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classllvm_1_1AnalysisManager.html#aba3c25a9c1b871e6c81aa8f65ee769dd">  143</a></span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html#aba3c25a9c1b871e6c81aa8f65ee769dd">AnalysisManager</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) : M(M) {}</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// \brief Get the result of an analysis pass for this module.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">  /// If there is not a valid cached result in the manager already, this will</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">  /// re-run the analysis to produce a valid result.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  /// The module passed in must be the same module as the analysis manager was</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  /// constructed around.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classllvm_1_1AnalysisManager.html#a149e44615e9c4e5435d6742b636ce1bc">  153</a></span>&#160;  <span class="keyword">const</span> <span class="keyword">typename</span> PassT::Result &amp;<a class="code" href="classllvm_1_1AnalysisManager.html#a149e44615e9c4e5435d6742b636ce1bc">getResult</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    assert(ModuleAnalysisPasses.count(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>()) &amp;&amp;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;           <span class="stringliteral">&quot;This analysis pass was not registered prior to being queried&quot;</span>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">const</span> AnalysisResultConcept&lt;Module&gt; &amp;ResultConcept =</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        getResultImpl(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>(), M);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">typedef</span> AnalysisResultModel&lt;Module, typename PassT::Result&gt; ResultModelT;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>ResultModelT &amp;<span class="keyword">&gt;</span>(ResultConcept).Result;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">  /// \brief Get the result of an analysis pass for a function.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">  /// If there is not a valid cached result in the manager already, this will</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">  /// re-run the analysis to produce a valid result.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classllvm_1_1AnalysisManager.html#a20cd90510f5384ed510d76f997430942">  168</a></span>&#160;  <span class="keyword">const</span> <span class="keyword">typename</span> PassT::Result &amp;<a class="code" href="classllvm_1_1AnalysisManager.html#a20cd90510f5384ed510d76f997430942">getResult</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    assert(FunctionAnalysisPasses.count(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>()) &amp;&amp;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;           <span class="stringliteral">&quot;This analysis pass was not registered prior to being queried&quot;</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> AnalysisResultConcept&lt;Function&gt; &amp;ResultConcept =</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        getResultImpl(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>(), F);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">typedef</span> AnalysisResultModel&lt;Function, typename PassT::Result&gt; ResultModelT;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>ResultModelT &amp;<span class="keyword">&gt;</span>(ResultConcept).Result;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">  /// \brief Register an analysis pass with the manager.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">  /// This provides an initialized and set-up analysis pass to the</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">  /// analysis</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">  /// manager. Whomever is setting up analysis passes must use this to</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">  /// populate</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  /// the manager with all of the analysis passes available.</span></div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classllvm_1_1AnalysisManager.html#a25166e07346e610fddf2c4208d8e1d25">  185</a></span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt; <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AnalysisManager.html#a25166e07346e610fddf2c4208d8e1d25">registerAnalysisPass</a>(PassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    registerAnalysisPassImpl&lt;PassT&gt;(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Pass));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">  /// \brief Invalidate a specific analysis pass for an IR module.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">  /// Note that the analysis result can disregard invalidation.</span></div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classllvm_1_1AnalysisManager.html#a0d71e14d8f5faccba31533520e6329bd">  192</a></span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt; <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AnalysisManager.html#a0d71e14d8f5faccba31533520e6329bd">invalidate</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    invalidateImpl(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>(), M);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">  /// \brief Invalidate a specific analysis pass for an IR function.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">  /// Note that the analysis result can disregard invalidation.</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classllvm_1_1AnalysisManager.html#a6ae5867f1a979925c04863362b8bd6cc">  199</a></span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt; <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1AnalysisManager.html#a6ae5867f1a979925c04863362b8bd6cc">invalidate</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    invalidateImpl(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>(), F);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">  /// \brief Invalidate analyses cached for an IR Module.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">  /// Note that specific analysis results can disregard invalidation by</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">  /// overriding their invalidate method.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">  /// The module must be the module this analysis manager was constructed</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">  /// around.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> invalidateAll(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  /// \brief Invalidate analyses cached for an IR Function.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  /// Note that specific analysis results can disregard invalidation by</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">  /// overriding the invalidate method.</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> invalidateAll(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  /// \brief Abstract concept of an analysis result.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">  /// This concept is parameterized over the IR unit that this result pertains</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /// to.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> IRUnitT&gt; <span class="keyword">struct </span>AnalysisResultConcept {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">virtual</span> ~AnalysisResultConcept() {}</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">virtual</span> AnalysisResultConcept *<a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a2c5253296b92e7fdaf3d83b43c17d418">clone</a>() = 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    /// \brief Method to try and mark a result as invalid.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    /// When the outer \c AnalysisManager detects a change in some underlying</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">    /// unit of the IR, it will call this method on all of the results cached.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    /// \returns true if the result should indeed be invalidated (the default).</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> invalidate(IRUnitT *<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>) = 0;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  };</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">  /// \brief Wrapper to model the analysis result concept.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  /// Can wrap any type which implements a suitable invalidate member and model</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">  /// the AnalysisResultConcept for the AnalysisManager.</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> IRUnitT, <span class="keyword">typename</span> ResultT&gt;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keyword">struct </span>AnalysisResultModel : AnalysisResultConcept&lt;IRUnitT&gt; {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    AnalysisResultModel(ResultT Result) : Result(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Result)) {}</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">virtual</span> AnalysisResultModel *<a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a2c5253296b92e7fdaf3d83b43c17d418">clone</a>() {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> AnalysisResultModel(Result);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">    /// \brief The model delegates to the \c ResultT method.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> invalidate(IRUnitT *<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>) { <span class="keywordflow">return</span> Result.invalidate(IR); }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    ResultT Result;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  };</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">  /// \brief Abstract concept of an analysis pass.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  /// This concept is parameterized over the IR unit that it can run over and</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  /// produce an analysis result.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> IRUnitT&gt; <span class="keyword">struct </span>AnalysisPassConcept {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">virtual</span> ~AnalysisPassConcept() {}</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keyword">virtual</span> AnalysisPassConcept *<a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a2c5253296b92e7fdaf3d83b43c17d418">clone</a>() = 0;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">    /// \brief Method to run this analysis over a unit of IR.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    /// \returns The analysis result object to be queried by users, the caller</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    /// takes ownership.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> AnalysisResultConcept&lt;IRUnitT&gt; *<a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a66e8645d9f2b75fe93420483b21b2451">run</a>(IRUnitT *<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>) = 0;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  };</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">  /// \brief Wrapper to model the analysis pass concept.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">  /// Can wrap any type which implements a suitable \c run method. The method</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">  /// must accept the IRUnitT as an argument and produce an object which can be</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">  /// wrapped in a \c AnalysisResultModel.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keyword">struct </span>AnalysisPassModel : AnalysisPassConcept&lt;typename PassT::IRUnitT&gt; {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    AnalysisPassModel(PassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>) : Pass(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Pass)) {}</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">virtual</span> AnalysisPassModel *<a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a2c5253296b92e7fdaf3d83b43c17d418">clone</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> AnalysisPassModel(Pass); }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// FIXME: Replace PassT::IRUnitT with type traits when we use C++11.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> PassT::IRUnitT IRUnitT;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// FIXME: Replace PassT::Result with type traits when we use C++11.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">typedef</span> AnalysisResultModel&lt;IRUnitT, typename PassT::Result&gt; ResultModelT;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">    /// \brief The model delegates to the \c PassT::run method.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">    /// The return is wrapped in an \c AnalysisResultModel.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> ResultModelT *<a class="code" href="structllvm_1_1detail_1_1PassConcept.html#a66e8645d9f2b75fe93420483b21b2451">run</a>(IRUnitT *<a class="code" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> ResultModelT(Pass.run(IR));</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    PassT Pass;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  };</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">  /// \brief Get a module pass result, running the pass if necessary.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> AnalysisResultConcept&lt;Module&gt; &amp;getResultImpl(<span class="keywordtype">void</span> *PassID, <a class="code" href="classllvm_1_1Module.html">Module</a> *M);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">  /// \brief Get a function pass result, running the pass if necessary.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> AnalysisResultConcept&lt;Function&gt; &amp;getResultImpl(<span class="keywordtype">void</span> *PassID,</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                                       <a class="code" href="classllvm_1_1Function.html">Function</a> *F);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">  /// \brief Invalidate a module pass result.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> invalidateImpl(<span class="keywordtype">void</span> *PassID, <a class="code" href="classllvm_1_1Module.html">Module</a> *M);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">  /// \brief Invalidate a function pass result.</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> invalidateImpl(<span class="keywordtype">void</span> *PassID, <a class="code" href="classllvm_1_1Function.html">Function</a> *F);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  /// \brief Module pass specific implementation of registration.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keyword">typename</span> <a class="code" href="structllvm_1_1enable__if.html">enable_if&lt;is_same&lt;typename PassT::IRUnitT, Module&gt;</a> &gt;<a class="code" href="Target_2LLVMBuild_8txt.html#ac6653103ff5a7ab01c54613c5a0e5b2d">::type</a></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  registerAnalysisPassImpl(PassT <a class="code" href="classllvm_1_1Pass.html">Pass</a>) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    assert(!ModuleAnalysisPasses.count(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>()) &amp;&amp;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;           <span class="stringliteral">&quot;Registered the same analysis pass twice!&quot;</span>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    ModuleAnalysisPasses[<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>()] =</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keyword">new</span> AnalysisPassModel&lt;PassT&gt;(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Pass));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">  /// \brief Function pass specific implementation of registration.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PassT&gt;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keyword">typename</span> <a class="code" href="structllvm_1_1enable__if.html">enable_if&lt;is_same&lt;typename PassT::IRUnitT, Function&gt;</a> &gt;<a class="code" href="Target_2LLVMBuild_8txt.html#ac6653103ff5a7ab01c54613c5a0e5b2d">::type</a></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  registerAnalysisPassImpl(PassT Pass) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    assert(!FunctionAnalysisPasses.count(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>()) &amp;&amp;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;           <span class="stringliteral">&quot;Registered the same analysis pass twice!&quot;</span>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    FunctionAnalysisPasses[<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">PassT::ID</a>()] =</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keyword">new</span> AnalysisPassModel&lt;PassT&gt;(<a class="code" href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a>(Pass));</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">  /// \brief Map type from module analysis pass ID to pass concept pointer.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;void *, polymorphic_ptr&lt;AnalysisPassConcept&lt;Module&gt;</a> &gt; &gt;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">ModuleAnalysisPassMapT</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">  /// \brief Collection of module analysis passes, indexed by ID.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span>  ModuleAnalysisPassMapT ModuleAnalysisPasses;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">  /// \brief Map type from module analysis pass ID to pass result concept pointer.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;void *, polymorphic_ptr&lt;AnalysisResultConcept&lt;Module&gt;</a> &gt; &gt;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">ModuleAnalysisResultMapT</a>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">  /// \brief Cache of computed module analysis results for this module.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span>  ModuleAnalysisResultMapT ModuleAnalysisResults;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">  /// \brief Map type from function analysis pass ID to pass concept pointer.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;void *, polymorphic_ptr&lt;AnalysisPassConcept&lt;Function&gt;</a> &gt; &gt;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">FunctionAnalysisPassMapT</a>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">  /// \brief Collection of function analysis passes, indexed by ID.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span>  FunctionAnalysisPassMapT FunctionAnalysisPasses;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">  /// \brief List of function analysis pass IDs and associated concept pointers.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">  /// Requires iterators to be valid across appending new entries and arbitrary</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">  /// erases. Provides both the pass ID and concept pointer such that it is</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">  /// half of a bijection and provides storage for the actual result concept.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1a7a4503996d300df70ca643d1511cd3">std::list</a>&lt;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      std::pair&lt;void *, polymorphic_ptr&lt;AnalysisResultConcept&lt;Function&gt; &gt; &gt; &gt;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  FunctionAnalysisResultListT;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">  /// \brief Map type from function pointer to our custom list type.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Function *, FunctionAnalysisResultListT&gt;</a> <a class="code" href="classllvm_1_1DenseMap.html">FunctionAnalysisResultListMapT</a>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">  /// \brief Map from function to a list of function analysis results.</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">  /// Provides linear time removal of all analysis results for a function and</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">  /// the ultimate storage for a particular cached analysis result.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"></span>  FunctionAnalysisResultListMapT FunctionAnalysisResultLists;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">  /// \brief Map type from a pair of analysis ID and function pointer to an</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">  /// iterator into a particular result list.</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;std::pair&lt;void *, Function *&gt;</a>,</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                   FunctionAnalysisResultListT::iterator&gt;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">FunctionAnalysisResultMapT</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">  /// \brief Map from an analysis ID and function to a particular cached</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">  /// analysis result.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span>  FunctionAnalysisResultMapT FunctionAnalysisResults;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">  /// \brief Module handle for the \c AnalysisManager.</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;};</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div><div class="ttc" id="classllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00082">Pass.h:82</a></div></div>
<div class="ttc" id="polymorphic__ptr_8h_html"><div class="ttname"><a href="polymorphic__ptr_8h.html">polymorphic_ptr.h</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassModel_html_a92cbed4c73f947b726eb2440e377ff81"><div class="ttname"><a href="structllvm_1_1detail_1_1PassModel.html#a92cbed4c73f947b726eb2440e377ff81">llvm::detail::PassModel::Pass</a></div><div class="ttdeci">PassT Pass</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00074">IR/PassManager.h:74</a></div></div>
<div class="ttc" id="classllvm_1_1ModulePassManager_html_a98169122c135382db60bbcf894abca0c"><div class="ttname"><a href="classllvm_1_1ModulePassManager.html#a98169122c135382db60bbcf894abca0c">llvm::ModulePassManager::addPass</a></div><div class="ttdeci">void addPass(ModulePassT Pass)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00085">IR/PassManager.h:85</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisManager_html_a149e44615e9c4e5435d6742b636ce1bc"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a149e44615e9c4e5435d6742b636ce1bc">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">const PassT::Result &amp; getResult(Module *M)</div><div class="ttdoc">Get the result of an analysis pass for this module. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00153">IR/PassManager.h:153</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassConcept_html"><div class="ttname"><a href="structllvm_1_1detail_1_1PassConcept.html">llvm::detail::PassConcept</a></div><div class="ttdoc">Template for the abstract base class used to dispatch polymorphically over pass objects. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00056">IR/PassManager.h:56</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="structllvm_1_1enable__if_html"><div class="ttname"><a href="structllvm_1_1enable__if.html">llvm::enable_if</a></div><div class="ttdef"><b>Definition:</b> <a href="type__traits_8h_source.html#l00187">type_traits.h:187</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassModel_html_a5955f8a478c8e2f80acba1b8c51f13a3"><div class="ttname"><a href="structllvm_1_1detail_1_1PassModel.html#a5955f8a478c8e2f80acba1b8c51f13a3">llvm::detail::PassModel::run</a></div><div class="ttdeci">virtual bool run(T Arg)</div><div class="ttdoc">The polymorphic API which runs the pass over a given IR entity. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00073">IR/PassManager.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1ModulePassManager_html"><div class="ttname"><a href="classllvm_1_1ModulePassManager.html">llvm::ModulePassManager</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00081">IR/PassManager.h:81</a></div></div>
<div class="ttc" id="Compiler_8h_html_a6b33418f3d62364d100deb64de465627"><div class="ttname"><a href="Compiler_8h.html#a6b33418f3d62364d100deb64de465627">llvm_move</a></div><div class="ttdeci">#define llvm_move(value)</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00108">Compiler.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisManager_html_a25166e07346e610fddf2c4208d8e1d25"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a25166e07346e610fddf2c4208d8e1d25">llvm::AnalysisManager::registerAnalysisPass</a></div><div class="ttdeci">void registerAnalysisPass(PassT Pass)</div><div class="ttdoc">Register an analysis pass with the manager. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00185">IR/PassManager.h:185</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassConcept_html_a4e84d7ecbbe601affbc8f272e89d9be8"><div class="ttname"><a href="structllvm_1_1detail_1_1PassConcept.html#a4e84d7ecbbe601affbc8f272e89d9be8">llvm::detail::PassConcept::~PassConcept</a></div><div class="ttdeci">virtual ~PassConcept()</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00058">IR/PassManager.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisManager_html_aba3c25a9c1b871e6c81aa8f65ee769dd"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#aba3c25a9c1b871e6c81aa8f65ee769dd">llvm::AnalysisManager::AnalysisManager</a></div><div class="ttdeci">AnalysisManager(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00143">IR/PassManager.h:143</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassModel_html_af2733bdea296501cabf5e937a3fabe8f"><div class="ttname"><a href="structllvm_1_1detail_1_1PassModel.html#af2733bdea296501cabf5e937a3fabe8f">llvm::detail::PassModel::clone</a></div><div class="ttdeci">virtual PassModel * clone()</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00072">IR/PassManager.h:72</a></div></div>
<div class="ttc" id="DenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="Target_2LLVMBuild_8txt_html_ac6653103ff5a7ab01c54613c5a0e5b2d"><div class="ttname"><a href="Target_2LLVMBuild_8txt.html#ac6653103ff5a7ab01c54613c5a0e5b2d">type</a></div><div class="ttdeci">with the configured native if any[component_1] type</div><div class="ttdef"><b>Definition:</b> <a href="Target_2LLVMBuild_8txt_source.html#l00032">Target/LLVMBuild.txt:32</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1ModulePassManager_html_a6912fd23af5cf15de5611a2ad168a82b"><div class="ttname"><a href="classllvm_1_1ModulePassManager.html#a6912fd23af5cf15de5611a2ad168a82b">llvm::ModulePassManager::ModulePassManager</a></div><div class="ttdeci">ModulePassManager(Module *M, AnalysisManager *AM=0)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00083">IR/PassManager.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisManager_html_a0d71e14d8f5faccba31533520e6329bd"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a0d71e14d8f5faccba31533520e6329bd">llvm::AnalysisManager::invalidate</a></div><div class="ttdeci">void invalidate(Module *M)</div><div class="ttdoc">Invalidate a specific analysis pass for an IR module. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00192">IR/PassManager.h:192</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassModel_html"><div class="ttname"><a href="structllvm_1_1detail_1_1PassModel.html">llvm::detail::PassModel</a></div><div class="ttdoc">A template wrapper used to implement the polymorphic API. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00070">IR/PassManager.h:70</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPassManager_html_a53ea6108ba09ae0aace6deed5e71fa95"><div class="ttname"><a href="classllvm_1_1FunctionPassManager.html#a53ea6108ba09ae0aace6deed5e71fa95">llvm::FunctionPassManager::FunctionPassManager</a></div><div class="ttdeci">FunctionPassManager(AnalysisManager *AM=0)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00106">IR/PassManager.h:106</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassConcept_html_a2c5253296b92e7fdaf3d83b43c17d418"><div class="ttname"><a href="structllvm_1_1detail_1_1PassConcept.html#a2c5253296b92e7fdaf3d83b43c17d418">llvm::detail::PassConcept::clone</a></div><div class="ttdeci">virtual PassConcept * clone()=0</div></div>
<div class="ttc" id="classllvm_1_1FunctionPassManager_html"><div class="ttname"><a href="classllvm_1_1FunctionPassManager.html">llvm::FunctionPassManager</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00104">IR/PassManager.h:104</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPassManager_html_a579a279a2f106647e0ed5f1d1fa93c48"><div class="ttname"><a href="classllvm_1_1FunctionPassManager.html#a579a279a2f106647e0ed5f1d1fa93c48">llvm::FunctionPassManager::addPass</a></div><div class="ttdeci">void addPass(FunctionPassT Pass)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00108">IR/PassManager.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisManager_html_a20cd90510f5384ed510d76f997430942"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a20cd90510f5384ed510d76f997430942">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">const PassT::Result &amp; getResult(Function *F)</div><div class="ttdoc">Get the result of an analysis pass for a function. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00168">IR/PassManager.h:168</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassModel_html_a4d6f6aecc7c94d74bb75005934fb4d31"><div class="ttname"><a href="structllvm_1_1detail_1_1PassModel.html#a4d6f6aecc7c94d74bb75005934fb4d31">llvm::detail::PassModel::PassModel</a></div><div class="ttdeci">PassModel(PassT Pass)</div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00071">IR/PassManager.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisManager_html_a6ae5867f1a979925c04863362b8bd6cc"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a6ae5867f1a979925c04863362b8bd6cc">llvm::AnalysisManager::invalidate</a></div><div class="ttdeci">void invalidate(Function *F)</div><div class="ttdoc">Invalidate a specific analysis pass for an IR function. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00199">IR/PassManager.h:199</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1a7a4503996d300df70ca643d1511cd3"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1a7a4503996d300df70ca643d1511cd3">list</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing list</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00532">Target/ARM/README.txt:532</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">An analysis manager to coordinate and cache analyses run over a module. </div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00141">IR/PassManager.h:141</a></div></div>
<div class="ttc" id="type__traits_8h_html"><div class="ttname"><a href="type__traits_8h.html">type_traits.h</a></div></div>
<div class="ttc" id="Lint_8cpp_html_a7fb3c9caadeb0f7fe4828d380158d0f9"><div class="ttname"><a href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a></div><div class="ttdeci">Statically lint checks LLVM IR</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00158">Lint.cpp:158</a></div></div>
<div class="ttc" id="structllvm_1_1detail_1_1PassConcept_html_a66e8645d9f2b75fe93420483b21b2451"><div class="ttname"><a href="structllvm_1_1detail_1_1PassConcept.html#a66e8645d9f2b75fe93420483b21b2451">llvm::detail::PassConcept::run</a></div><div class="ttdeci">virtual bool run(T Arg)=0</div><div class="ttdoc">The polymorphic API which runs the pass over a given IR entity. </div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:32 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
