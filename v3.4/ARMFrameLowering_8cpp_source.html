<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: ARMFrameLowering.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ARMFrameLowering_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ARMFrameLowering.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ARMFrameLowering_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- ARMFrameLowering.cpp - ARM Frame Information ----------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains the ARM implementation of TargetFrameLowering class.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMFrameLowering_8h.html">ARMFrameLowering.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMBaseInstrInfo_8h.html">ARMBaseInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMBaseRegisterInfo_8h.html">ARMBaseRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMMachineFunctionInfo_8h.html">ARMMachineFunctionInfo.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMAddressingModes_8h.html">MCTargetDesc/ARMAddressingModes.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterScavenging_8h.html">llvm/CodeGen/RegisterScavenging.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConv_8h.html">llvm/IR/CallingConv.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOptions_8h.html">llvm/Target/TargetOptions.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<a class="code" href="ARMFrameLowering_8cpp.html#a714d5787e4c9238659853436e5fcd83e">SpillAlignedNEONRegs</a>(<span class="stringliteral">&quot;align-neon-spills&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                     <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Align ARM NEON spills in prolog and epilog&quot;</span>));</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="ARMFrameLowering_8cpp.html#a0409e368b6e75e93e77f9c29a03edbe9">skipAlignedDPRCS2Spills</a>(<a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                        <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// hasFP - Return true if the specified function should have a dedicated frame</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// pointer register.  This is true if the function has variable sized allocas</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// or if frame pointer elimination is disabled.</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">   42</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">ARMFrameLowering::hasFP</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *RegInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// iOS requires FP not to be clobbered for backtracing purpose.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">isTargetIOS</a>())</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// Always eliminate non-leaf frame pointers.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">return</span> ((MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a55b913089f1134db4cc1ea6e677c62bd">DisableFramePointerElim</a>(MF) &amp;&amp;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;           MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#ad104abdabbcb68deacc60c0aea1bca34">hasCalls</a>()) ||</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;          RegInfo-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#adf8e30b3e759b1283c5fbda668190ee6">needsStackRealignment</a>(MF) ||</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;          MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5cd76eb2aeed3ae46da1bb1b132f1831">hasVarSizedObjects</a>() ||</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;          MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a48b4b361d757d1ab48f783b8875712c1">isFrameAddressTaken</a>());</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/// hasReservedCallFrame - Under normal circumstances, when a frame pointer is</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/// not required, we reserve argument space for call sites in the function</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/// immediately on entry to the current function.  This eliminates the need for</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/// add/sub sp brackets around call sites.  Returns true if the call frame is</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// included as part of the stack frame.</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#a8f1ddf69e36ed0354ae69fedd3fed9a5">   63</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#a8f1ddf69e36ed0354ae69fedd3fed9a5">ARMFrameLowering::hasReservedCallFrame</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *FFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">unsigned</span> CFSize = FFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a00e048d1d905fa65ee3377d99d4f2ae3">getMaxCallFrameSize</a>();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// It&#39;s not always a good idea to include the call frame as part of the</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// stack frame. ARM (especially Thumb) has small immediate offset to</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// address the stack frame. So a large call frame can cause poor codegen</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// and may even makes it impossible to scavenge a register.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">if</span> (CFSize &gt;= ((1 &lt;&lt; 12) - 1) / 2)  <span class="comment">// Half of imm12</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">return</span> !MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5cd76eb2aeed3ae46da1bb1b132f1831">hasVarSizedObjects</a>();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/// canSimplifyCallFramePseudos - If there is a reserved call frame, the</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/// call frame pseudos can be simplified.  Unlike most targets, having a FP</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/// is not sufficient here since we still may reference some objects via SP</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/// even when FP is available in Thumb2 mode.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#a68fb321e1ddcf431572aa4d374c3baad">   81</a></span>&#160;<a class="code" href="classllvm_1_1ARMFrameLowering.html#a68fb321e1ddcf431572aa4d374c3baad">ARMFrameLowering::canSimplifyCallFramePseudos</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#a8f1ddf69e36ed0354ae69fedd3fed9a5">hasReservedCallFrame</a>(MF) || MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5cd76eb2aeed3ae46da1bb1b132f1831">hasVarSizedObjects</a>();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#adcf1477a493b2d105f7f298b145bb188">   85</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ARMFrameLowering_8cpp.html#adcf1477a493b2d105f7f298b145bb188">isCSRestore</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                        <span class="keyword">const</span> uint16_t *CSRegs) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// Integer spill area is handled with &quot;pop&quot;.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a84c8853f87c6f19f9e75130f6b05d763">isPopOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>())) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// The first two operands are predicates. The last two are</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// imp-def and imp-use of SP. Check everything in between.</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 5, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#ab75a6192f520e98f9328bd40c28f6a05">isCalleeSavedRegister</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), CSRegs))</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> ((MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::LDR_POST_IMM ||</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;       MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::LDR_POST_REG ||</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;       MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2LDR_POST) &amp;&amp;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <a class="code" href="namespacellvm.html#ab75a6192f520e98f9328bd40c28f6a05">isCalleeSavedRegister</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), CSRegs) &amp;&amp;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == ARM::SP)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#a5509701c846b35bb908088d4d9e54a37">  107</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ARMFrameLowering_8cpp.html#a5509701c846b35bb908088d4d9e54a37">emitRegPlusImmediate</a>(<span class="keywordtype">bool</span> isARM, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                 <a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> &amp;MBBI, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <span class="keywordtype">unsigned</span> DestReg,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                 <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">int</span> NumBytes,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                 <span class="keywordtype">unsigned</span> MIFlags = <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc">MachineInstr::NoFlags</a>,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                 <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> Pred = <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                 <span class="keywordtype">unsigned</span> PredReg = 0) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (isARM)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="namespacellvm.html#a402aa8ec2571af98e3b5871721c6f642">emitARMRegPlusImmediate</a>(MBB, MBBI, dl, DestReg, SrcReg, NumBytes,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                            Pred, PredReg, TII, MIFlags);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="namespacellvm.html#ae59f84da43ddc1b247716625b3b31dfb">emitT2RegPlusImmediate</a>(MBB, MBBI, dl, DestReg, SrcReg, NumBytes,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                           Pred, PredReg, TII, MIFlags);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#a52d86bbccc7c4b6e465bace6fdc8273c">  122</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(<span class="keywordtype">bool</span> isARM, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                         <a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> &amp;MBBI, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <span class="keywordtype">int</span> NumBytes,</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                         <span class="keywordtype">unsigned</span> MIFlags = <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc">MachineInstr::NoFlags</a>,</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                         <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> Pred = <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>,</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                         <span class="keywordtype">unsigned</span> PredReg = 0) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="ARMFrameLowering_8cpp.html#a5509701c846b35bb908088d4d9e54a37">emitRegPlusImmediate</a>(isARM, MBB, MBBI, dl, TII, ARM::SP, ARM::SP, NumBytes,</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                       MIFlags, Pred, PredReg);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#ab32bf14ad0d8ab098d171a3abc45c78a">  132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#ab32bf14ad0d8ab098d171a3abc45c78a">ARMFrameLowering::emitPrologue</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = MF.<a class="code" href="classllvm_1_1MachineFunction.html#af562445435f18637f07676da054ba02c">front</a>();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MBBI = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a>  *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a> *RegInfo =</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>());</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>());</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  assert(!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>() &amp;&amp;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;         <span class="stringliteral">&quot;This emitPrologue does not support Thumb1!&quot;</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">bool</span> isARM = !AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">unsigned</span> ArgRegsSaveSize = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae615fd3ea996ab7d960995a03377af71">getArgRegsSaveSize</a>(Align);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a34874094b3ba8b56fd68801250f77183">getStackSize</a>();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5296aac05a8ccceb0d89d449611722d3">getCalleeSavedInfo</a>();</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MBBI != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() ? MBBI-&gt;getDebugLoc() : <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a>();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">unsigned</span> FramePtr = RegInfo-&gt;getFrameRegister(MF);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// Determine the sizes of each callee-save spill areas and record which frame</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// belongs to which callee-save spill areas.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">unsigned</span> GPRCS1Size = 0, GPRCS2Size = 0, DPRCSSize = 0;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">int</span> FramePtrSpillFI = 0;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">int</span> D8SpillFI = 0;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// All calls are tail calls in GHC calling conv, and functions have no</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// prologue/epilogue.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">getCallingConv</a>() == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a8e8dc64aad833bd23d07d3384522575e">CallingConv::GHC</a>)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// Allocate the vararg register save area. This is not counted in NumBytes.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> (ArgRegsSaveSize)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, MBBI, dl, TII, -ArgRegsSaveSize,</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                 <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ac39b5595d3a23db77d972ba5b37c4348">hasStackFrame</a>()) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (NumBytes != 0)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, MBBI, dl, TII, -NumBytes,</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                   <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = CSI.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = CSI[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getReg();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">int</span> FI = CSI[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getFrameIdx();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">switch</span> (Reg) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">case</span> ARM::R0:</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">case</span> ARM::R1:</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">ARM::R2</a>:</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">case</span> ARM::R3:</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">case</span> ARM::R5:</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">ARM::R6</a>:</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">case</span> ARM::R7:</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">case</span> ARM::LR:</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">if</span> (Reg == FramePtr)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        FramePtrSpillFI = FI;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      GPRCS1Size += 4;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">case</span> ARM::R8:</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">case</span> ARM::R9:</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">case</span> ARM::R10:</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">case</span> ARM::R11:</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">case</span> ARM::R12:</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (Reg == FramePtr)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        FramePtrSpillFI = FI;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">isTargetIOS</a>())</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        GPRCS2Size += 4;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        GPRCS1Size += 4;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="comment">// This is a DPR. Exclude the aligned DPRCS2 spills.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">if</span> (Reg == <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a>)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        D8SpillFI = FI;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg &lt; ARM::D8 || Reg &gt;</a>= <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a> + AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a70543217b38bd2e8dc926e315a78c930">getNumAlignedDPRCS2Regs</a>())</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        DPRCSSize += 8;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// Move past area 1.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> LastPush = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), FramePtrPush;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (GPRCS1Size &gt; 0)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    FramePtrPush = LastPush = MBBI++;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// Determine starting offsets of spill areas.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordtype">bool</span> HasFP = <a class="code" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">hasFP</a>(MF);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordtype">unsigned</span> DPRCSOffset  = NumBytes - (GPRCS1Size + GPRCS2Size + DPRCSSize);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordtype">unsigned</span> GPRCS2Offset = DPRCSOffset + DPRCSSize;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordtype">unsigned</span> GPRCS1Offset = GPRCS2Offset + GPRCS2Size;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordtype">int</span> FramePtrOffsetInPush = 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (HasFP) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    FramePtrOffsetInPush = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">getObjectOffset</a>(FramePtrSpillFI) + GPRCS1Size;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a715beb8a7c94f2868cb72ea4656f31c9">setFramePtrSpillOffset</a>(MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">getObjectOffset</a>(FramePtrSpillFI) +</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                NumBytes);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ad5045ecd1e290139522971b28a299884">setGPRCalleeSavedArea1Offset</a>(GPRCS1Offset);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#acda46c15b10dfb33ceac5c4b39580221">setGPRCalleeSavedArea2Offset</a>(GPRCS2Offset);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a6752926550d5fd64a4e4e9fc06640e15">setDPRCalleeSavedAreaOffset</a>(DPRCSOffset);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// Move past area 2.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">if</span> (GPRCS2Size &gt; 0) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    LastPush = MBBI++;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// Move past area 3.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (DPRCSSize &gt; 0) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    LastPush = MBBI++;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// Since vpush register list cannot have gaps, there may be multiple vpush</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// instructions in the prologue.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">while</span> (MBBI-&gt;getOpcode() == ARM::VSTMDDB_UPD)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      LastPush = MBBI++;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// Move past the aligned DPRCS2 area.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a70543217b38bd2e8dc926e315a78c930">getNumAlignedDPRCS2Regs</a>() &gt; 0) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    MBBI = <a class="code" href="ARMFrameLowering_8cpp.html#a0409e368b6e75e93e77f9c29a03edbe9">skipAlignedDPRCS2Spills</a>(MBBI, AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a70543217b38bd2e8dc926e315a78c930">getNumAlignedDPRCS2Regs</a>());</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// The code inserted by emitAlignedDPRCS2Spills realigns the stack, and</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// leaves the stack pointer pointing to the DPRCS2 area.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// Adjust NumBytes to represent the stack slots below the DPRCS2 area.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    NumBytes += MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">getObjectOffset</a>(D8SpillFI);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    NumBytes = DPRCSOffset;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (NumBytes) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// Adjust SP after all the callee-save spills.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0c287a0a3e811d36352812b8a7d5425e">tryFoldSPUpdateIntoPushPop</a>(MF, LastPush, NumBytes)) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">if</span> (LastPush == FramePtrPush)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        FramePtrOffsetInPush += NumBytes;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, MBBI, dl, TII, -NumBytes,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                   <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (HasFP &amp;&amp; isARM)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="comment">// Restore from fp only in ARM mode: e.g. sub sp, r7, #24</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="comment">// Note it&#39;s not safe to do this in Thumb2 mode because it would have</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="comment">// taken two instructions:</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="comment">// mov sp, r7</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="comment">// sub sp, #24</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">// If an interrupt is taken between the two instructions, then sp is in</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="comment">// an inconsistent state (pointing to the middle of callee-saved area).</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="comment">// The interrupt handler can end up clobbering the registers.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#aeebbc8bb36d06a4c62b09481cd3d94cb">setShouldRestoreSPFromFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Set FP to point to the stack slot that contains the previous FP.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// For iOS, FP is R7, which has now been stored in spill area 1.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// Otherwise, if this is not iOS, all the callee-saved registers go</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// into spill area 1, including the FP in R11.  In either case, it</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// is in area one and the adjustment needs to take place just after</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// that push.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (HasFP)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="ARMFrameLowering_8cpp.html#a5509701c846b35bb908088d4d9e54a37">emitRegPlusImmediate</a>(!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>(), MBB, ++FramePtrPush, dl, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                         FramePtr, ARM::SP, FramePtrOffsetInPush,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                         <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a414966800902f6e5b323ff39ab90f376">isTargetELF</a>() &amp;&amp; <a class="code" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">hasFP</a>(MF))</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a87a1fe769ec763a9c8f8427a017a45d7">setOffsetAdjustment</a>(MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a1ff5632f5b1783befc4324f6546a595c">getOffsetAdjustment</a>() -</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                             AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a5b7bcbb91305fd94fd5200fdb37d444b">getFramePtrSpillOffset</a>());</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a858cd4502f6da3c957874ba54cc63008">setGPRCalleeSavedArea1Size</a>(GPRCS1Size);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a4d76a3f5d557ad4b5ba0fea030c265d6">setGPRCalleeSavedArea2Size</a>(GPRCS2Size);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a01e5dd8ce0571f928ae814e3db5542fc">setDPRCalleeSavedAreaSize</a>(DPRCSSize);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// If we need dynamic stack realignment, do it here. Be paranoid and make</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// sure if we also have VLAs, we have a base pointer for frame access.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// If aligned NEON registers were spilled, the stack has already been</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// realigned.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a70543217b38bd2e8dc926e315a78c930">getNumAlignedDPRCS2Regs</a>() &amp;&amp; RegInfo-&gt;needsStackRealignment(MF)) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">unsigned</span> MaxAlign = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a0af0a11b8eda54e79422c199cb687f5c">getMaxAlignment</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    assert (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>());</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>()) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="comment">// Emit bic sp, sp, MaxAlign</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(<a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl,</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                          TII.get(ARM::BICri), ARM::SP)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                  .addReg(ARM::SP, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(MaxAlign-1)));</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="comment">// We cannot use sp as source/dest register here, thus we&#39;re emitting the</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">// following sequence:</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// mov r4, sp</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">// bic r4, r4, MaxAlign</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">// mov sp, r4</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// FIXME: It will be better just to find spare register here.</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::tMOVr), <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        .addReg(ARM::SP, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>));</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(<a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl,</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                          TII.get(ARM::t2BICri), <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                  .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                  .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(MaxAlign-1)));</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::tMOVr), ARM::SP)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>));</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#aeebbc8bb36d06a4c62b09481cd3d94cb">setShouldRestoreSPFromFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// If we need a base pointer, set it up here. It&#39;s whatever the value</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// of the stack pointer is at this point. Any variable size objects</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// will be allocated after this, so we can still use the base pointer</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// to reference locals.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// FIXME: Clarify FrameSetup flags here.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (RegInfo-&gt;hasBasePointer(MF)) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (isARM)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl,</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;              TII.get(ARM::MOVr), RegInfo-&gt;getBaseRegister())</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        .addReg(ARM::SP)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::tMOVr),</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                             RegInfo-&gt;getBaseRegister())</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        .addReg(ARM::SP));</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// If the frame has variable sized objects then the epilogue must restore</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// the sp from fp. We can assume there&#39;s an FP here since hasFP already</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// checks for hasVarSizedObjects.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">if</span> (MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a5cd76eb2aeed3ae46da1bb1b132f1831">hasVarSizedObjects</a>())</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#aeebbc8bb36d06a4c62b09481cd3d94cb">setShouldRestoreSPFromFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#af2a875a7727b4d11c868a51b51524e73">  355</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#af2a875a7727b4d11c868a51b51524e73">ARMFrameLowering::emitEpilogue</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB)<span class="keyword"> const </span>{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MBBI = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4c711446100d52415f8e142855c223e1">getLastNonDebugInstr</a>();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  assert(MBBI-&gt;isReturn() &amp;&amp; <span class="stringliteral">&quot;Can only insert epilog into returning blocks&quot;</span>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordtype">unsigned</span> RetOpcode = MBBI-&gt;getOpcode();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MBBI-&gt;getDebugLoc();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *RegInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>();</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>());</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  assert(!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>() &amp;&amp;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;         <span class="stringliteral">&quot;This emitEpilogue does not support Thumb1!&quot;</span>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordtype">bool</span> isARM = !AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>();</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordtype">unsigned</span> ArgRegsSaveSize = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae615fd3ea996ab7d960995a03377af71">getArgRegsSaveSize</a>(Align);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordtype">int</span> NumBytes = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a34874094b3ba8b56fd68801250f77183">getStackSize</a>();</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordtype">unsigned</span> FramePtr = RegInfo-&gt;getFrameRegister(MF);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">// All calls are tail calls in GHC calling conv, and functions have no</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// prologue/epilogue.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">getCallingConv</a>() == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a8e8dc64aad833bd23d07d3384522575e">CallingConv::GHC</a>)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ac39b5595d3a23db77d972ba5b37c4348">hasStackFrame</a>()) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (NumBytes != 0)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, MBBI, dl, TII, NumBytes);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Unwind MBBI to point to first LDR / VLDRD.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">const</span> uint16_t *CSRegs = RegInfo-&gt;getCalleeSavedRegs(&amp;MF);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (MBBI != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        --MBBI;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      } <span class="keywordflow">while</span> (MBBI != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; <a class="code" href="ARMFrameLowering_8cpp.html#adcf1477a493b2d105f7f298b145bb188">isCSRestore</a>(MBBI, TII, CSRegs));</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="ARMFrameLowering_8cpp.html#adcf1477a493b2d105f7f298b145bb188">isCSRestore</a>(MBBI, TII, CSRegs))</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        ++MBBI;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// Move SP to start of FP callee save spill area.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    NumBytes -= (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#adc208d17d2a07b48129f07131f199fc4">getGPRCalleeSavedArea1Size</a>() +</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                 AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9f3ec749e16a8d9de6ff3826724ca33e">getGPRCalleeSavedArea2Size</a>() +</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                 AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a36c6a3dd33fe945b3ab1cfa542f36074">getDPRCalleeSavedAreaSize</a>());</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// Reset SP based on frame pointer only if the stack frame extends beyond</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// frame pointer stack slot or target is ELF and the function has FP.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#afffb0b39dfb932ed9180cef81453abc0">shouldRestoreSPFromFP</a>()) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      NumBytes = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a5b7bcbb91305fd94fd5200fdb37d444b">getFramePtrSpillOffset</a>() - NumBytes;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">if</span> (NumBytes) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (isARM)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <a class="code" href="namespacellvm.html#a402aa8ec2571af98e3b5871721c6f642">emitARMRegPlusImmediate</a>(MBB, MBBI, dl, ARM::SP, FramePtr, -NumBytes,</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                  <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>, 0, TII);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;          <span class="comment">// It&#39;s not possible to restore SP from FP in a single instruction.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;          <span class="comment">// For iOS, this looks like:</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          <span class="comment">// mov sp, r7</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          <span class="comment">// sub sp, #24</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          <span class="comment">// This is bad, if an interrupt is taken after the mov, sp is in an</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;          <span class="comment">// inconsistent state.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;          <span class="comment">// Use the first callee-saved register as a scratch register.</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          assert(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#abe3c98b9803fa6a21eca279173c27b12">isPhysRegUsed</a>(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>) &amp;&amp;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                 <span class="stringliteral">&quot;No scratch register to restore SP from FP!&quot;</span>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          <a class="code" href="namespacellvm.html#ae59f84da43ddc1b247716625b3b31dfb">emitT2RegPlusImmediate</a>(MBB, MBBI, dl, <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, FramePtr, -NumBytes,</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                 <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>, 0, TII);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::tMOVr),</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                 ARM::SP)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>));</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="comment">// Thumb2 or ARM.</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span> (isARM)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::MOVr), ARM::SP)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            .addReg(FramePtr).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::tMOVr),</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                 ARM::SP)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            .addReg(FramePtr));</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NumBytes &amp;&amp; !<a class="code" href="namespacellvm.html#a0c287a0a3e811d36352812b8a7d5425e">tryFoldSPUpdateIntoPushPop</a>(MF, MBBI, NumBytes))</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, MBBI, dl, TII, NumBytes);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// Increment past our save areas.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a36c6a3dd33fe945b3ab1cfa542f36074">getDPRCalleeSavedAreaSize</a>()) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      MBBI++;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="comment">// Since vpop register list cannot have gaps, there may be multiple vpop</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="comment">// instructions in the epilogue.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">while</span> (MBBI-&gt;getOpcode() == ARM::VLDMDIA_UPD)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        MBBI++;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9f3ec749e16a8d9de6ff3826724ca33e">getGPRCalleeSavedArea2Size</a>()) MBBI++;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#adc208d17d2a07b48129f07131f199fc4">getGPRCalleeSavedArea1Size</a>()) MBBI++;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (RetOpcode == ARM::TCRETURNdi || RetOpcode == ARM::TCRETURNri) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// Tail call return: adjust the stack pointer and jump to callee.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    MBBI = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4c711446100d52415f8e142855c223e1">getLastNonDebugInstr</a>();</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;JumpTarget = MBBI-&gt;getOperand(0);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// Jump to label or value in register.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (RetOpcode == ARM::TCRETURNdi) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordtype">unsigned</span> TCOpcode = <a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a3ceb25cf21483ee4aae7948d98401170">isThumb</a>() ?</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;               (<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">isTargetIOS</a>() ? ARM::tTAILJMPd : ARM::tTAILJMPdND) :</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;               ARM::TAILJMPd;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(TCOpcode));</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">if</span> (JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#a58048141ed81d581f3fb9a797f3186ee">isGlobal</a>())</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">addGlobalAddress</a>(JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#a0c3a2a5a49795f8750ebd02dc0e6e11e">getGlobal</a>(), JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#ae73de4f077ea9862af9611652396202b">getOffset</a>(),</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                             JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#a91aa25eac8330cdbab5f7f12fb29359d">getTargetFlags</a>());</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        assert(JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#a312ddf2fd2162ef0c552d913369cd57f">isSymbol</a>());</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ace690c220f3b141bdf98c86635783d8f">addExternalSymbol</a>(JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#ad9456ef14a72da4e4def5d8747c41a09">getSymbolName</a>(),</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                              JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#a91aa25eac8330cdbab5f7f12fb29359d">getTargetFlags</a>());</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="comment">// Add the default predicate in Thumb mode.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a3ceb25cf21483ee4aae7948d98401170">isThumb</a>()) MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RetOpcode == ARM::TCRETURNri) {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl,</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;              TII.get(<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a3ceb25cf21483ee4aae7948d98401170">isThumb</a>() ? ARM::tTAILJMPr : ARM::TAILJMPr)).</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        addReg(JumpTarget.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">prior</a>(MBBI);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = MBBI-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      NewMI-&gt;addOperand(MBBI-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// Delete the pseudo instruction TCRETURN.</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">erase</a>(MBBI);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    MBBI = NewMI;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">if</span> (ArgRegsSaveSize)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, MBBI, dl, TII, ArgRegsSaveSize);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">/// getFrameIndexReference - Provide a base+offset reference to an FI slot for</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/// debug info.  It&#39;s the same as what we use for resolving the code-gen</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">/// references for now.  FIXME: This can go wrong when references are</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">/// SP-relative and simple call frames aren&#39;t used.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"></span><span class="keywordtype">int</span></div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#a6478f03c6bd2e44b785356dd2af29860">  494</a></span>&#160;<a class="code" href="classllvm_1_1ARMFrameLowering.html#a6478f03c6bd2e44b785356dd2af29860">ARMFrameLowering::getFrameIndexReference</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">int</span> FI,</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                         <span class="keywordtype">unsigned</span> &amp;FrameReg)<span class="keyword"> const </span>{</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#a9f4bd45d0a817adf290a5055a6e3e956">ResolveFrameIndexReference</a>(MF, FI, FrameReg, 0);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#a9f4bd45d0a817adf290a5055a6e3e956">  500</a></span>&#160;<a class="code" href="classllvm_1_1ARMFrameLowering.html#a9f4bd45d0a817adf290a5055a6e3e956">ARMFrameLowering::ResolveFrameIndexReference</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                             <span class="keywordtype">int</span> FI, <span class="keywordtype">unsigned</span> &amp;FrameReg,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                             <span class="keywordtype">int</span> SPAdj)<span class="keyword"> const </span>{</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a> *RegInfo =</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>());</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordtype">int</span> Offset = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">getObjectOffset</a>(FI) + MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a34874094b3ba8b56fd68801250f77183">getStackSize</a>();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordtype">int</span> FPOffset = Offset - AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a5b7bcbb91305fd94fd5200fdb37d444b">getFramePtrSpillOffset</a>();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordtype">bool</span> isFixed = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#abd98297b61062a9bf2bc306aa87a4039">isFixedObjectIndex</a>(FI);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  FrameReg = ARM::SP;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  Offset += SPAdj;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// SP can move around if there are allocas.  We may also lose track of SP</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// when emergency spilling inside a non-reserved call frame setup.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordtype">bool</span> hasMovingSP = !<a class="code" href="classllvm_1_1ARMFrameLowering.html#a8f1ddf69e36ed0354ae69fedd3fed9a5">hasReservedCallFrame</a>(MF);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// When dynamically realigning the stack, use the frame pointer for</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// parameters, and the stack/base pointer for locals.</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a01ecb9dfd78defd2dee58c89c443463a">needsStackRealignment</a>(MF)) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    assert (<a class="code" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">hasFP</a>(MF) &amp;&amp; <span class="stringliteral">&quot;dynamic stack realignment without a FP!&quot;</span>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span> (isFixed) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      FrameReg = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a47e108ecd9a21cb626ea629490f45e25">getFrameRegister</a>(MF);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      Offset = FPOffset;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hasMovingSP) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      assert(RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a0e3e26dbde5eb40a63a5ed4220cf6211">hasBasePointer</a>(MF) &amp;&amp;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;             <span class="stringliteral">&quot;VLAs and dynamic stack alignment, but missing base pointer!&quot;</span>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      FrameReg = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a4682c4f655dfb10da71ef7d649465d58">getBaseRegister</a>();</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> Offset;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// If there is a frame pointer, use it when we can.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">hasFP</a>(MF) &amp;&amp; AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ac39b5595d3a23db77d972ba5b37c4348">hasStackFrame</a>()) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Use frame pointer to reference fixed objects. Use it for locals if</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// there are VLAs (and thus the SP isn&#39;t reliable as a base).</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (isFixed || (hasMovingSP &amp;&amp; !RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a0e3e26dbde5eb40a63a5ed4220cf6211">hasBasePointer</a>(MF))) {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      FrameReg = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a47e108ecd9a21cb626ea629490f45e25">getFrameRegister</a>(MF);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">return</span> FPOffset;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hasMovingSP) {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      assert(RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a0e3e26dbde5eb40a63a5ed4220cf6211">hasBasePointer</a>(MF) &amp;&amp; <span class="stringliteral">&quot;missing base pointer!&quot;</span>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">isThumb2Function</a>()) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="comment">// Try to use the frame pointer if we can, else use the base pointer</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="comment">// since it&#39;s available. This is handy for the emergency spill slot, in</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// particular.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span> (FPOffset &gt;= -255 &amp;&amp; FPOffset &lt; 0) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;          FrameReg = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a47e108ecd9a21cb626ea629490f45e25">getFrameRegister</a>(MF);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;          <span class="keywordflow">return</span> FPOffset;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">isThumb2Function</a>()) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="comment">// Use  add &lt;rd&gt;, sp, #&lt;imm8&gt;</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">//      ldr &lt;rd&gt;, [sp, #&lt;imm8&gt;]</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="comment">// if at all possible to save space.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">if</span> (Offset &gt;= 0 &amp;&amp; (Offset &amp; 3) == 0 &amp;&amp; Offset &lt;= 1020)</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">return</span> Offset;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="comment">// In Thumb2 mode, the negative offset is very limited. Try to avoid</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="comment">// out of range references. ldr &lt;rt&gt;,[&lt;rn&gt;, #-&lt;imm8&gt;]</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">if</span> (FPOffset &gt;= -255 &amp;&amp; FPOffset &lt; 0) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        FrameReg = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a47e108ecd9a21cb626ea629490f45e25">getFrameRegister</a>(MF);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">return</span> FPOffset;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Offset &gt; (FPOffset &lt; 0 ? -FPOffset : FPOffset)) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="comment">// Otherwise, use SP or FP, whichever is closer to the stack slot.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      FrameReg = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a47e108ecd9a21cb626ea629490f45e25">getFrameRegister</a>(MF);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">return</span> FPOffset;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// Use the base pointer if we have one.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a0e3e26dbde5eb40a63a5ed4220cf6211">hasBasePointer</a>(MF))</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    FrameReg = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a4682c4f655dfb10da71ef7d649465d58">getBaseRegister</a>();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">return</span> Offset;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#ae09d53e8ec1de0218c59cf2da6060653">  575</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#ae09d53e8ec1de0218c59cf2da6060653">ARMFrameLowering::getFrameIndexOffset</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                          <span class="keywordtype">int</span> FI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">unsigned</span> FrameReg;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#a6478f03c6bd2e44b785356dd2af29860">getFrameIndexReference</a>(MF, FI, FrameReg);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keywordtype">void</span> ARMFrameLowering::emitPushInst(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                    <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI,</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                                    <span class="keywordtype">unsigned</span> StmOpc, <span class="keywordtype">unsigned</span> StrOpc,</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                    <span class="keywordtype">bool</span> NoGap,</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                                    <span class="keywordtype">bool</span>(*<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a>)(<span class="keywordtype">unsigned</span>, <span class="keywordtype">bool</span>),</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                    <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs,</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                                    <span class="keywordtype">unsigned</span> MIFlags)<span class="keyword"> const </span>{</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">if</span> (MI != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) DL = MI-&gt;getDebugLoc();</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned,bool&gt;</a>, 4&gt; Regs;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = CSI.size();</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">while</span> (i != 0) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordtype">unsigned</span> LastReg = 0;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">for</span> (; i != 0; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = CSI[i-1].getReg();</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a>)(Reg, <a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">isTargetIOS</a>())) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="comment">// D-registers in the aligned area DPRCS2 are NOT spilled here.</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="keywordflow">if</span> (Reg &gt;= <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a> &amp;&amp; Reg &lt; <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a> + NumAlignedDPRCS2Regs)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">// Add the callee-saved register as live-in unless it&#39;s LR and</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// @llvm.returnaddress is called. If LR is returned for</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="comment">// @llvm.returnaddress then it&#39;s already added to the function and</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="comment">// entry block live-in sets.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordtype">bool</span> isKill = <span class="keyword">true</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">if</span> (Reg == ARM::LR) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a6ea0bba3d9f50696c9610f6e7ce10f10">isReturnAddressTaken</a>() &amp;&amp;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5e4b09e8d0f31b43fd5a912ed288bccb">isLiveIn</a>(Reg))</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;          isKill = <span class="keyword">false</span>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">if</span> (isKill)</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ae26efdb76d5c56388c65dc5b02a2ae6f">addLiveIn</a>(Reg);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="comment">// If NoGap is true, push consecutive registers and then leave the rest</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="comment">// for other instructions. e.g.</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="comment">// vpush {d8, d10, d11} -&gt; vpush {d8}, vpush {d10, d11}</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">if</span> (NoGap &amp;&amp; LastReg &amp;&amp; LastReg != Reg-1)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      LastReg = <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(Reg, isKill));</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (Regs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &gt; 1 || StrOpc== 0) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(StmOpc), ARM::SP)</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                       .addReg(ARM::SP).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags));</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Regs[i].first, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Regs[i].second));</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(StrOpc),</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                                        ARM::SP)</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        .addReg(Regs[0].first, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(Regs[0].second))</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        .addReg(ARM::SP).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags)</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(-4);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    Regs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="keywordtype">void</span> ARMFrameLowering::emitPopInst(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                                   <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                                   <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI,</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                   <span class="keywordtype">unsigned</span> LdmOpc, <span class="keywordtype">unsigned</span> LdrOpc,</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                                   <span class="keywordtype">bool</span> isVarArg, <span class="keywordtype">bool</span> NoGap,</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                                   <span class="keywordtype">bool</span>(*<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a>)(<span class="keywordtype">unsigned</span>, <span class="keywordtype">bool</span>),</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                   <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs)<span class="keyword"> const </span>{</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MI-&gt;getDebugLoc();</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">unsigned</span> RetOpcode = MI-&gt;getOpcode();</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordtype">bool</span> isTailCall = (RetOpcode == ARM::TCRETURNdi ||</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                     RetOpcode == ARM::TCRETURNri);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordtype">bool</span> isInterrupt =</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      RetOpcode == ARM::SUBS_PC_LR || RetOpcode == ARM::t2SUBS_PC_LR;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> Regs;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = CSI.size();</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">while</span> (i != 0) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordtype">unsigned</span> LastReg = 0;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordtype">bool</span> DeleteRet = <span class="keyword">false</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">for</span> (; i != 0; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = CSI[i-1].getReg();</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a>)(Reg, <a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">isTargetIOS</a>())) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">// The aligned reloads from area DPRCS2 are not inserted here.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">if</span> (Reg &gt;= <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a> &amp;&amp; Reg &lt; <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a> + NumAlignedDPRCS2Regs)</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">if</span> (Reg == ARM::LR &amp;&amp; !isTailCall &amp;&amp; !isVarArg &amp;&amp; !isInterrupt &amp;&amp;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;          <a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a41db1260fa1ac571916b808a001b6149">hasV5TOps</a>()) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        Reg = ARM::PC;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        LdmOpc = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>() ? ARM::t2LDMIA_RET : ARM::LDMIA_RET;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="comment">// Fold the return instruction into the LDM.</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        DeleteRet = <span class="keyword">true</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="comment">// If NoGap is true, pop consecutive registers and then leave the rest</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="comment">// for other instructions. e.g.</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="comment">// vpop {d8, d10, d11} -&gt; vpop {d8}, vpop {d10, d11}</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">if</span> (NoGap &amp;&amp; LastReg &amp;&amp; LastReg != Reg-1)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      LastReg = <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Reg);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">if</span> (Regs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &gt; 1 || LdrOpc == 0) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LdmOpc), ARM::SP)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                       .addReg(ARM::SP));</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Regs[i], <a class="code" href="namespacellvm.html#aa5e4d7acf58e87826a15b94d37144f2b">getDefRegState</a>(<span class="keyword">true</span>));</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">if</span> (DeleteRet) {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a94ca149b1fb50c793fe1829ad17e0e4c">copyImplicitOps</a>(&amp;*MI);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      MI = MIB;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Regs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="comment">// If we adjusted the reg to PC from LR above, switch it back here. We</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="comment">// only do that for LDM.</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">if</span> (Regs[0] == ARM::PC)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        Regs[0] = ARM::LR;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LdrOpc), Regs[0])</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          .addReg(ARM::SP, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ARM::SP);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="comment">// ARM mode needs an extra reg0 here due to addrmode2. Will go away once</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="comment">// that refactoring is complete (eventually).</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">if</span> (LdrOpc == ARM::LDR_POST_REG || LdrOpc == ARM::LDR_POST_IMM) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<a class="code" href="namespacellvm_1_1ARM__AM.html#a97e4756295ed8f0cfc534cac7fa60beb">ARM_AM::getAM2Opc</a>(<a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">ARM_AM::add</a>, 4, <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efa52ce105a97f77049ddfe808bbf0f3eac">ARM_AM::no_shift</a>));</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(4);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    Regs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;}</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">/// Emit aligned spill instructions for NumAlignedDPRCS2Regs D-registers</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/// starting from d8.  Also insert stack realignment code and leave the stack</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">/// pointer pointing to the d8 spill slot.</span></div><div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#a4f2dfb3dbdcb5fd0d650cf3ea1402de4">  736</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ARMFrameLowering_8cpp.html#a4f2dfb3dbdcb5fd0d650cf3ea1402de4">emitAlignedDPRCS2Spills</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                    <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs,</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                                    <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI,</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MI-&gt;getDebugLoc();</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="comment">// Mark the D-register spill slots as properly aligned.  Since MFI computes</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// stack slot layout backwards, this can actually mean that the d-reg stack</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="comment">// slot offsets can be wrong. The offset for d8 will always be correct.</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = CSI.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordtype">unsigned</span> DNum = CSI[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getReg() - <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (DNum &gt;= 8)</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordtype">int</span> FI = CSI[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getFrameIdx();</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">// The even-numbered registers will be 16-byte aligned, the odd-numbered</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// registers will be 8-byte aligned.</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a51ea0ff0ba0a43cc30affb68aae1314c">setObjectAlignment</a>(FI, DNum % 2 ? 8 : 16);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// The stack slot for D8 needs to be maximally aligned because this is</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">// actually the point where we align the stack pointer.  MachineFrameInfo</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// computes all offsets relative to the incoming stack pointer which is a</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// bit weird when realigning the stack.  Any extra padding for this</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// over-alignment is not realized because the code inserted below adjusts</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">// the stack pointer by numregs * 8 before aligning the stack pointer.</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">if</span> (DNum == 0)</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a51ea0ff0ba0a43cc30affb68aae1314c">setObjectAlignment</a>(FI, MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a0af0a11b8eda54e79422c199cb687f5c">getMaxAlignment</a>());</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// Move the stack pointer to the d8 spill slot, and align it at the same</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// time. Leave the stack slot address in the scratch register r4.</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">//   sub r4, sp, #numregs * 8</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">//   bic r4, r4, #align - 1</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">//   mov sp, r4</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordtype">bool</span> isThumb = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>();</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  assert(!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t realign stack for thumb1&quot;</span>);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#aeebbc8bb36d06a4c62b09481cd3d94cb">setShouldRestoreSPFromFP</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// sub r4, sp, #numregs * 8</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// The immediate is &lt;= 64, so it doesn&#39;t need any special encoding.</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordtype">unsigned</span> Opc = isThumb ? ARM::t2SUBri : ARM::SUBri;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(<a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Opc), <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>)</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                              .addReg(ARM::SP)</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(8 * NumAlignedDPRCS2Regs)));</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// bic r4, r4, #align-1</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  Opc = isThumb ? ARM::t2BICri : ARM::BICri;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordtype">unsigned</span> MaxAlign = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a0af0a11b8eda54e79422c199cb687f5c">getMaxAlignment</a>();</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(<a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Opc), <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                              .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(MaxAlign - 1)));</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="comment">// mov sp, r4</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// The stack pointer must be adjusted before spilling anything, otherwise</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">// the stack slots could be clobbered by an interrupt handler.</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="comment">// Leave r4 live, it is used below.</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  Opc = isThumb ? ARM::tMOVr : ARM::MOVr;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Opc), ARM::SP)</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                            .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  MIB = <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">if</span> (!isThumb)</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(MIB);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="comment">// Now spill NumAlignedDPRCS2Regs registers starting from d8.</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="comment">// r4 holds the stack slot address.</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordtype">unsigned</span> NextReg = <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="comment">// 16-byte aligned vst1.64 with 4 d-regs and address writeback.</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="comment">// The writeback is only needed when emitting two vst1.64 instructions.</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs &gt;= 6) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordtype">unsigned</span> SupReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(NextReg, ARM::dsub_0,</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                                               &amp;ARM::QQPRRegClass);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ae26efdb76d5c56388c65dc5b02a2ae6f">addLiveIn</a>(SupReg);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VST1d64Qwb_fixed),</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                           <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>)</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                   .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(16)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(NextReg)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SupReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daacff74dc04327bef6824ecb2e3648d0f0">RegState::ImplicitKill</a>));</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    NextReg += 4;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    NumAlignedDPRCS2Regs -= 4;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// We won&#39;t modify r4 beyond this point.  It currently points to the next</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// register to be spilled.</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordtype">unsigned</span> R4BaseReg = NextReg;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// 16-byte aligned vst1.64 with 4 d-regs, no writeback.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs &gt;= 4) {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordtype">unsigned</span> SupReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(NextReg, ARM::dsub_0,</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                               &amp;ARM::QQPRRegClass);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ae26efdb76d5c56388c65dc5b02a2ae6f">addLiveIn</a>(SupReg);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VST1d64Q))</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                   .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(16).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(NextReg)</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SupReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daacff74dc04327bef6824ecb2e3648d0f0">RegState::ImplicitKill</a>));</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    NextReg += 4;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    NumAlignedDPRCS2Regs -= 4;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// 16-byte aligned vst1.64 with 2 d-regs.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs &gt;= 2) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordtype">unsigned</span> SupReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(NextReg, ARM::dsub_0,</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                               &amp;ARM::QPRRegClass);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ae26efdb76d5c56388c65dc5b02a2ae6f">addLiveIn</a>(SupReg);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VST1q64))</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                   .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(16).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SupReg));</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    NextReg += 2;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    NumAlignedDPRCS2Regs -= 2;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// Finally, use a vanilla vstr.64 for the odd last register.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ae26efdb76d5c56388c65dc5b02a2ae6f">addLiveIn</a>(NextReg);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">// vstr.64 uses addrmode5 which has an offset scale of 4.</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VSTRD))</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                   .addReg(NextReg)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((NextReg-R4BaseReg)*2));</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// The last spill instruction inserted should kill the scratch register r4.</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a>(MI)-&gt;addRegisterKilled(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, TRI);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">/// Skip past the code inserted by emitAlignedDPRCS2Spills, and return an</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">/// iterator to the following instruction.</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a></div><div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#a0409e368b6e75e93e77f9c29a03edbe9">  867</a></span>&#160;<a class="code" href="ARMFrameLowering_8cpp.html#a0409e368b6e75e93e77f9c29a03edbe9">skipAlignedDPRCS2Spills</a>(<a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                        <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs) {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">//   sub r4, sp, #numregs * 8</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">//   bic r4, r4, #align - 1</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="comment">//   mov sp, r4</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>; ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>; ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  assert(MI-&gt;mayStore() &amp;&amp; <span class="stringliteral">&quot;Expecting spill instruction&quot;</span>);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="comment">// These switches all fall through.</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">switch</span>(NumAlignedDPRCS2Regs) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordflow">case</span> 7:</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    assert(MI-&gt;mayStore() &amp;&amp; <span class="stringliteral">&quot;Expecting spill instruction&quot;</span>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    assert(MI-&gt;mayStore() &amp;&amp; <span class="stringliteral">&quot;Expecting spill instruction&quot;</span>);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    assert(MI-&gt;killsRegister(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>) &amp;&amp; <span class="stringliteral">&quot;Missed kill flag&quot;</span>);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;}</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">/// Emit aligned reload instructions for NumAlignedDPRCS2Regs D-registers</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">/// starting from d8.  These instructions are assumed to execute while the</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">/// stack is still aligned, unlike the code inserted by emitPopInst.</span></div><div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#adae3a472b94f467a206557a490dcfc18">  895</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ARMFrameLowering_8cpp.html#adae3a472b94f467a206557a490dcfc18">emitAlignedDPRCS2Restores</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                                      <a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                                      <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs,</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                                      <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI,</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI) {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MI-&gt;getDebugLoc();</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// Find the frame index assigned to d8.</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordtype">int</span> D8SpillFI = 0;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = CSI.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> (CSI[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a>() == <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a>) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      D8SpillFI = CSI[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getFrameIdx();</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">// Materialize the address of the d8 spill slot into the scratch register r4.</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">// This can be fairly complicated if the stack frame is large, so just use</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// the normal frame index elimination mechanism to do it.  This code runs as</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// the initial part of the epilog where the stack and base pointers haven&#39;t</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="comment">// been changed yet.</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordtype">bool</span> isThumb = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>();</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  assert(!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t realign stack for thumb1&quot;</span>);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordtype">unsigned</span> Opc = isThumb ? ARM::t2ADDri : ARM::ADDri;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(<a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Opc), <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                              .addFrameIndex(D8SpillFI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0)));</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// Now restore NumAlignedDPRCS2Regs registers starting from d8.</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordtype">unsigned</span> NextReg = <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a>;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// 16-byte aligned vld1.64 with 4 d-regs and writeback.</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs &gt;= 6) {</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordtype">unsigned</span> SupReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(NextReg, ARM::dsub_0,</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                                               &amp;ARM::QQPRRegClass);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VLD1d64Qwb_fixed), NextReg)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                   .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(16)</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SupReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>));</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    NextReg += 4;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    NumAlignedDPRCS2Regs -= 4;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// We won&#39;t modify r4 beyond this point.  It currently points to the next</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// register to be spilled.</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordtype">unsigned</span> R4BaseReg = NextReg;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// 16-byte aligned vld1.64 with 4 d-regs, no writeback.</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs &gt;= 4) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordtype">unsigned</span> SupReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(NextReg, ARM::dsub_0,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                                               &amp;ARM::QQPRRegClass);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VLD1d64Q), NextReg)</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                   .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(16)</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                   .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SupReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>));</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    NextReg += 4;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    NumAlignedDPRCS2Regs -= 4;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="comment">// 16-byte aligned vld1.64 with 2 d-regs.</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs &gt;= 2) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordtype">unsigned</span> SupReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(NextReg, ARM::dsub_0,</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                                               &amp;ARM::QPRRegClass);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VLD1q64), SupReg)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                   .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(16));</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    NextReg += 2;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    NumAlignedDPRCS2Regs -= 2;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="comment">// Finally, use a vanilla vldr.64 for the remaining odd register.</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs)</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MI, DL, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ARM::VLDRD), NextReg)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                   .addReg(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(2*(NextReg-R4BaseReg)));</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// Last store kills r4.</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a>(MI)-&gt;addRegisterKilled(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>, TRI);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;}</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#a640a2dc975accf2c9e8b30f01b1af2d7">  974</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#a640a2dc975accf2c9e8b30f01b1af2d7">ARMFrameLowering::spillCalleeSavedRegisters</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                                        <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                                        <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI,</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">if</span> (CSI.empty())</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordtype">unsigned</span> PushOpc = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>() ? ARM::t2STMDB_UPD : ARM::STMDB_UPD;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordtype">unsigned</span> PushOneOpc = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>() ?</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    ARM::t2STR_PRE : ARM::STR_PRE_IMM;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordtype">unsigned</span> FltOpc = ARM::VSTMDDB_UPD;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a70543217b38bd2e8dc926e315a78c930">getNumAlignedDPRCS2Regs</a>();</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  emitPushInst(MBB, MI, CSI, PushOpc, PushOneOpc, <span class="keyword">false</span>, &amp;<a class="code" href="namespacellvm.html#a80a02a405bb8c0f971331f47ce2efa68">isARMArea1Register</a>, 0,</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;               <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  emitPushInst(MBB, MI, CSI, PushOpc, PushOneOpc, <span class="keyword">false</span>, &amp;<a class="code" href="namespacellvm.html#a95342556e3188a7e86d532e22f0df8ed">isARMArea2Register</a>, 0,</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;               <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  emitPushInst(MBB, MI, CSI, FltOpc, 0, <span class="keyword">true</span>, &amp;<a class="code" href="namespacellvm.html#a19c74ab0c04f4300eb23ebc2d1bc338e">isARMArea3Register</a>,</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;               NumAlignedDPRCS2Regs, <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">MachineInstr::FrameSetup</a>);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// The code above does not insert spill code for the aligned DPRCS2 registers.</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// The stack realignment code will be inserted between the push instructions</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">// and these spills.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs)</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="ARMFrameLowering_8cpp.html#a4f2dfb3dbdcb5fd0d650cf3ea1402de4">emitAlignedDPRCS2Spills</a>(MBB, MI, NumAlignedDPRCS2Regs, CSI, TRI);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;}</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#a1d0f519b2a4b9e7cd2c2b645ce3496a6"> 1005</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMFrameLowering.html#a1d0f519b2a4b9e7cd2c2b645ce3496a6">ARMFrameLowering::restoreCalleeSavedRegisters</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                        <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                                        <span class="keyword">const</span> std::vector&lt;CalleeSavedInfo&gt; &amp;CSI,</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">if</span> (CSI.empty())</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordtype">bool</span> isVarArg = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae615fd3ea996ab7d960995a03377af71">getArgRegsSaveSize</a>() &gt; 0;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordtype">unsigned</span> NumAlignedDPRCS2Regs = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a70543217b38bd2e8dc926e315a78c930">getNumAlignedDPRCS2Regs</a>();</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// The emitPopInst calls below do not insert reloads for the aligned DPRCS2</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="comment">// registers. Do that here instead.</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordflow">if</span> (NumAlignedDPRCS2Regs)</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="ARMFrameLowering_8cpp.html#adae3a472b94f467a206557a490dcfc18">emitAlignedDPRCS2Restores</a>(MBB, MI, NumAlignedDPRCS2Regs, CSI, TRI);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordtype">unsigned</span> PopOpc = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>() ? ARM::t2LDMIA_UPD : ARM::LDMIA_UPD;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordtype">unsigned</span> LdrOpc = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>() ? ARM::t2LDR_POST :ARM::LDR_POST_IMM;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordtype">unsigned</span> FltOpc = ARM::VLDMDIA_UPD;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  emitPopInst(MBB, MI, CSI, FltOpc, 0, isVarArg, <span class="keyword">true</span>, &amp;<a class="code" href="namespacellvm.html#a19c74ab0c04f4300eb23ebc2d1bc338e">isARMArea3Register</a>,</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;              NumAlignedDPRCS2Regs);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  emitPopInst(MBB, MI, CSI, PopOpc, LdrOpc, isVarArg, <span class="keyword">false</span>,</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;              &amp;<a class="code" href="namespacellvm.html#a95342556e3188a7e86d532e22f0df8ed">isARMArea2Register</a>, 0);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  emitPopInst(MBB, MI, CSI, PopOpc, LdrOpc, isVarArg, <span class="keyword">false</span>,</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;              &amp;<a class="code" href="namespacellvm.html#a80a02a405bb8c0f971331f47ce2efa68">isARMArea1Register</a>, 0);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;}</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">// FIXME: Make generic?</span></div><div class="line"><a name="l01036"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#a740c0449e8ade45d30ba4a00af9e6902"> 1036</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ARMFrameLowering_8cpp.html#a740c0449e8ade45d30ba4a00af9e6902">GetFunctionSizeInBytes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordtype">unsigned</span> FnSize = 0;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">MachineFunction::const_iterator</a> MBBI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>(), E = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">end</a>();</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;       MBBI != E; ++MBBI) {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MBBI;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#a654b11787ac7c4344084d98bea7cf626">MachineBasicBlock::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(),E = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      FnSize += TII.<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aa68427c1132a2d221976f7fb33892dbb">GetInstSizeInBytes</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">return</span> FnSize;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">/// estimateRSStackSizeLimit - Look at each instruction that references stack</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">/// frames and return the stack size limit beyond which some of these</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">/// instructions will require a scratch register during their expansion later.</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment"></span><span class="comment">// FIXME: Move to TII?</span></div><div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#a7df1a51b08978b0d9847f14a0ea0c11b"> 1053</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ARMFrameLowering_8cpp.html#a7df1a51b08978b0d9847f14a0ea0c11b">estimateRSStackSizeLimit</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordtype">unsigned</span> Limit = (1 &lt;&lt; 12) - 1;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>(),E = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">end</a>(); <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != E; ++<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(), E = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end();</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).isFI()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="comment">// When using ADDri to get the address of a stack object, 255 is the</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="comment">// largest offset guaranteed to fit in the immediate offset.</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == ARM::ADDri) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;          Limit = std::min(Limit, (1U &lt;&lt; 8) - 1);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="comment">// Otherwise check the addressing mode.</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getDesc().TSFlags &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae">ARMII::AddrModeMask</a>) {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a3e943d975799a4c55333c54eac1a7991">ARMII::AddrMode3</a>:</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a976ddbecac99af6819d058790e33e137">ARMII::AddrModeT2_i8</a>:</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;          Limit = std::min(Limit, (1U &lt;&lt; 8) - 1);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">ARMII::AddrMode5</a>:</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4af3a6218c9c9bd03381633c799e5226d9">ARMII::AddrModeT2_i8s4</a>:</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;          Limit = std::min(Limit, ((1U &lt;&lt; 8) - 1) * 4);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9">ARMII::AddrModeT2_i12</a>:</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;          <span class="comment">// i12 supports only positive offset so these will be converted to</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;          <span class="comment">// i8 opcodes. See llvm::rewriteT2FrameIndex.</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;          <span class="keywordflow">if</span> (TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a59182730437bdb0a45a274261a7ea84b">hasFP</a>(MF) &amp;&amp; AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ac39b5595d3a23db77d972ba5b37c4348">hasStackFrame</a>())</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            Limit = std::min(Limit, (1U &lt;&lt; 8) - 1);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e">ARMII::AddrMode4</a>:</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853">ARMII::AddrMode6</a>:</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;          <span class="comment">// Addressing modes 4 &amp; 6 (load/store) instructions can&#39;t encode an</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;          <span class="comment">// immediate offset for stack references.</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;          <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// At most one FI per instruction</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">return</span> Limit;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">// In functions that realign the stack, it can be an advantage to spill the</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">// callee-saved vector registers after realigning the stack. The vst1 and vld1</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">// instructions take alignment hints that can improve performance.</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="ARMFrameLowering_8cpp.html#a78730f85f8616e9a8d2361c6e1b79083"> 1106</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ARMFrameLowering_8cpp.html#a78730f85f8616e9a8d2361c6e1b79083">checkNumAlignedDPRCS2Regs</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;()-&gt;setNumAlignedDPRCS2Regs(0);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ARMFrameLowering_8cpp.html#a714d5787e4c9238659853436e5fcd83e">SpillAlignedNEONRegs</a>)</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// Naked functions don&#39;t spill callee-saved registers.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                                     <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055">Attribute::Naked</a>))</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="comment">// We are planning to use NEON instructions vst1 / vld1.</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="keywordflow">if</span> (!MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1ARMSubtarget.html">ARMSubtarget</a>&gt;().hasNEON())</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// Don&#39;t bother if the default stack alignment is sufficiently high.</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>() &gt;= 8)</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// Aligned spills require stack realignment.</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a> *RegInfo =</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>());</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">if</span> (!RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#acb882a567e74f592cbac2ca930b7bf73">canRealignStack</a>(MF))</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// We always spill contiguous d-registers starting from d8. Count how many</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// needs spilling.  The register allocator will almost always use the</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="comment">// callee-saved registers in order, but it can happen that there are holes in</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="comment">// the range.  Registers above the hole will be spilled to the standard DPRCS</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">// area.</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keywordtype">unsigned</span> NumSpills = 0;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">for</span> (; NumSpills &lt; 8; ++NumSpills)</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (!MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#abe3c98b9803fa6a21eca279173c27b12">isPhysRegUsed</a>(<a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">ARM::D8</a> + NumSpills))</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="comment">// Don&#39;t do this for just one d-register. It&#39;s not worth it.</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">if</span> (NumSpills &lt; 2)</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// Spill the first NumSpills D-registers after realigning the stack.</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;()-&gt;setNumAlignedDPRCS2Regs(NumSpills);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="comment">// A scratch register is required for the vst1 / vld1 instructions.</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;}</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01153"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMFrameLowering.html#ab34b589c79a85cd7182f9f979ce368cc"> 1153</a></span>&#160;<a class="code" href="classllvm_1_1ARMFrameLowering.html#ab34b589c79a85cd7182f9f979ce368cc">ARMFrameLowering::processFunctionBeforeCalleeSavedScan</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                                                       <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> *RS)<span class="keyword"> const </span>{</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="comment">// This tells PEI to spill the FP as if it is any other callee-save register</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// to take advantage the eliminateFrameIndex machinery. This also ensures it</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">// is spilled in the order specified by getCalleeSavedRegs() to make it easier</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// to combine multiple loads / stores.</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordtype">bool</span> CanEliminateFrame = <span class="keyword">true</span>;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordtype">bool</span> CS1Spilled = <span class="keyword">false</span>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keywordtype">bool</span> LRSpilled = <span class="keyword">false</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordtype">unsigned</span> NumGPRSpills = 0;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> UnspilledCS1GPRs;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> UnspilledCS2GPRs;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a> *RegInfo =</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html">ARMBaseRegisterInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>());</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>());</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordtype">unsigned</span> FramePtr = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a47e108ecd9a21cb626ea629490f45e25">getFrameRegister</a>(MF);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// Spill R4 if Thumb2 function requires stack realignment - it will be used as</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// scratch register. Also spill R4 if Thumb2 function has varsized objects,</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// since it&#39;s not always possible to restore sp from fp in a single</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// instruction.</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="comment">// FIXME: It will be better just to find spare register here.</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">isThumb2Function</a>() &amp;&amp;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      (MFI-&gt;hasVarSizedObjects() || RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a01ecb9dfd78defd2dee58c89c443463a">needsStackRealignment</a>(MF)))</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>()) {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">// Spill LR if Thumb1 function uses variable length argument lists.</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae615fd3ea996ab7d960995a03377af71">getArgRegsSaveSize</a>() &gt; 0)</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(ARM::LR);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="comment">// Spill R4 if Thumb1 epilogue has to restore SP from FP. We don&#39;t know</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">// for sure what the stack size will be, but for this, an estimate is good</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="comment">// enough. If there anything changes it, it&#39;ll be a spill, which implies</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="comment">// we&#39;ve used all the registers and so R4 is already used, so not marking</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="comment">// it here will be OK.</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">// FIXME: It will be better just to find spare register here.</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordtype">unsigned</span> StackSize = MFI-&gt;estimateStackSize(MF);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (MFI-&gt;hasVarSizedObjects() || StackSize &gt; 508)</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  }</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="comment">// See if we can spill vector registers to aligned stack.</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="ARMFrameLowering_8cpp.html#a78730f85f8616e9a8d2361c6e1b79083">checkNumAlignedDPRCS2Regs</a>(MF);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="comment">// Spill the BasePtr if it&#39;s used.</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">if</span> (RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a0e3e26dbde5eb40a63a5ed4220cf6211">hasBasePointer</a>(MF))</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a4682c4f655dfb10da71ef7d649465d58">getBaseRegister</a>());</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// Don&#39;t spill FP if the frame can be eliminated. This is determined</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// by scanning the callee-save registers to see if any is used.</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keyword">const</span> uint16_t *CSRegs = RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a141fe016bee792f7ad8aca26c4032815">getCalleeSavedRegs</a>(&amp;MF);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; CSRegs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = CSRegs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordtype">bool</span> Spilled = <span class="keyword">false</span>;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span> (MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#abe3c98b9803fa6a21eca279173c27b12">isPhysRegUsed</a>(Reg)) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      Spilled = <span class="keyword">true</span>;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      CanEliminateFrame = <span class="keyword">false</span>;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (!ARM::GPRRegClass.contains(Reg))</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> (Spilled) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      NumGPRSpills++;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">isTargetIOS</a>()) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">if</span> (Reg == ARM::LR)</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          LRSpilled = <span class="keyword">true</span>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        CS1Spilled = <span class="keyword">true</span>;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="comment">// Keep track if LR and any of R4, R5, R6, and R7 is spilled.</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordflow">switch</span> (Reg) {</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">case</span> ARM::LR:</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        LRSpilled = <span class="keyword">true</span>;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="comment">// Fallthrough</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">case</span> ARM::R0: <span class="keywordflow">case</span> ARM::R1:</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">ARM::R2</a>: <span class="keywordflow">case</span> ARM::R3:</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>: <span class="keywordflow">case</span> ARM::R5:</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">ARM::R6</a>: <span class="keywordflow">case</span> ARM::R7:</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        CS1Spilled = <span class="keyword">true</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      }</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">STI</a>.<a class="code" href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">isTargetIOS</a>()) {</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Reg);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      }</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="keywordflow">switch</span> (Reg) {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">case</span> ARM::R0: <span class="keywordflow">case</span> ARM::R1:</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">ARM::R2</a>: <span class="keywordflow">case</span> ARM::R3:</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">ARM::R4</a>: <span class="keywordflow">case</span> ARM::R5:</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">ARM::R6</a>: <span class="keywordflow">case</span> ARM::R7:</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordflow">case</span> ARM::LR:</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Reg);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        UnspilledCS2GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Reg);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      }</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="keywordtype">bool</span> ForceLRSpill = <span class="keyword">false</span>;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keywordflow">if</span> (!LRSpilled &amp;&amp; AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>()) {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordtype">unsigned</span> FnSize = <a class="code" href="ARMFrameLowering_8cpp.html#a740c0449e8ade45d30ba4a00af9e6902">GetFunctionSizeInBytes</a>(MF, TII);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="comment">// Force LR to be spilled if the Thumb function size is &gt; 2048. This enables</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="comment">// use of BL to implement far jump. If it turns out that it&#39;s not needed</span></div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">// then the branch fix up path will undo it.</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">if</span> (FnSize &gt;= (1 &lt;&lt; 11)) {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      CanEliminateFrame = <span class="keyword">false</span>;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      ForceLRSpill = <span class="keyword">true</span>;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  }</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="comment">// If any of the stack slot references may be out of range of an immediate</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="comment">// offset, make sure a register (or a spill slot) is available for the</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// register scavenger. Note that if we&#39;re indexing off the frame pointer, the</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">// effective stack size is 4 bytes larger since the FP points to the stack</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">// slot of the previous FP. Also, if we have variable sized objects in the</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="comment">// function, stack slot references will often be negative, and some of</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="comment">// our instructions are positive-offset only, so conservatively consider</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="comment">// that case to want a spill slot (or register) as well. Similarly, if</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="comment">// the function adjusts the stack pointer during execution and the</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="comment">// adjustments aren&#39;t already part of our stack size estimate, our offset</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="comment">// calculations may be off, so be conservative.</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="comment">// FIXME: We could add logic to be more precise about negative offsets</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">//        and which instructions will need a scratch register for them. Is it</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">//        worth the effort and added fragility?</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keywordtype">bool</span> BigStack =</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    (RS &amp;&amp;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;     (MFI-&gt;estimateStackSize(MF) +</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      ((<a class="code" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">hasFP</a>(MF) &amp;&amp; AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ac39b5595d3a23db77d972ba5b37c4348">hasStackFrame</a>()) ? 4:0) &gt;=</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <a class="code" href="ARMFrameLowering_8cpp.html#a7df1a51b08978b0d9847f14a0ea0c11b">estimateRSStackSizeLimit</a>(MF, <span class="keyword">this</span>)))</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    || MFI-&gt;hasVarSizedObjects()</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    || (MFI-&gt;adjustsStack() &amp;&amp; !<a class="code" href="classllvm_1_1ARMFrameLowering.html#a68fb321e1ddcf431572aa4d374c3baad">canSimplifyCallFramePseudos</a>(MF));</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordtype">bool</span> ExtraCSSpill = <span class="keyword">false</span>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordflow">if</span> (BigStack || !CanEliminateFrame || RegInfo-&gt;<a class="code" href="classllvm_1_1ARMBaseRegisterInfo.html#a77cbba4423b35e9f705d45d70085cec2">cannotEliminateFrame</a>(MF)) {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a5e9f6fe4d5ecd84c637b458a75dcc845">setHasStackFrame</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// If LR is not spilled, but at least one of R4, R5, R6, and R7 is spilled.</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">// Spill LR as well so we can fold BX_RET to the registers restore (LDM).</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> (!LRSpilled &amp;&amp; CS1Spilled) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(ARM::LR);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      NumGPRSpills++;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;::iterator</a> LRPos;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      LRPos = std::find(UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(),</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                        (unsigned)ARM::LR);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">if</span> (LRPos != UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>())</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(LRPos);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      ForceLRSpill = <span class="keyword">false</span>;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      ExtraCSSpill = <span class="keyword">true</span>;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">hasFP</a>(MF)) {</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(FramePtr);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      NumGPRSpills++;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="comment">// If stack and double are 8-byte aligned and we are spilling an odd number</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="comment">// of GPRs, spill one extra callee save GPR so we won&#39;t have to pad between</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="comment">// the integer and double callee save areas.</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordtype">unsigned</span> TargetAlign = <a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>();</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">if</span> (TargetAlign == 8 &amp;&amp; (NumGPRSpills &amp; 1)) {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">if</span> (CS1Spilled &amp;&amp; !UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = UnspilledCS1GPRs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;          <span class="comment">// Don&#39;t spill high register if the function is thumb1</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;          <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>() ||</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;              <a class="code" href="namespacellvm.html#a69b805d50f05b869ab969f6853b8531c">isARMLowRegister</a>(Reg) || Reg == ARM::LR) {</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(Reg);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordflow">if</span> (!MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">isReserved</a>(Reg))</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;              ExtraCSSpill = <span class="keyword">true</span>;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          }</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!UnspilledCS2GPRs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; !AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>()) {</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = UnspilledCS2GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">front</a>();</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(Reg);</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">if</span> (!MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">isReserved</a>(Reg))</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;          ExtraCSSpill = <span class="keyword">true</span>;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="comment">// Estimate if we might need to scavenge a register at some point in order</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="comment">// to materialize a stack offset. If so, either spill one additional</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="comment">// callee-saved register or reserve a special spill slot to facilitate</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="comment">// register scavenging. Thumb1 needs a spill slot for stack pointer</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="comment">// adjustments also, even when the frame itself is small.</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (BigStack &amp;&amp; !ExtraCSSpill) {</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="comment">// If any non-reserved CS register isn&#39;t spilled, just spill one or two</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="comment">// extra. That should take care of it!</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <span class="keywordtype">unsigned</span> NumExtras = TargetAlign / 4;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 2&gt;</a> Extras;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="keywordflow">while</span> (NumExtras &amp;&amp; !UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>();</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        UnspilledCS1GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keywordflow">if</span> (!MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">isReserved</a>(Reg) &amp;&amp;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>() || <a class="code" href="namespacellvm.html#a69b805d50f05b869ab969f6853b8531c">isARMLowRegister</a>(Reg) ||</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;             Reg == ARM::LR)) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;          Extras.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Reg);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;          NumExtras--;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        }</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="comment">// For non-Thumb1 functions, also check for hi-reg CS registers</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>()) {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keywordflow">while</span> (NumExtras &amp;&amp; !UnspilledCS2GPRs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = UnspilledCS2GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>();</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;          UnspilledCS2GPRs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;          <span class="keywordflow">if</span> (!MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">isReserved</a>(Reg)) {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            Extras.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Reg);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            NumExtras--;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;          }</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      }</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="keywordflow">if</span> (Extras.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; NumExtras == 0) {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Extras.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;          MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(Extras[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        }</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>()) {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="comment">// note: Thumb1 functions spill to R12, not the stack.  Reserve a slot</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="comment">// closest to SP or frame pointer.</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = &amp;ARM::GPRRegClass;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        RS-&gt;<a class="code" href="classllvm_1_1RegScavenger.html#aecaae26e25f7f952810d98e50264b5fb">addScavengingFrameIndex</a>(MFI-&gt;CreateStackObject(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>(),</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                                           RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a4a1a710a4decff4f7ffe926b10045d74">getAlignment</a>(),</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                                                           <span class="keyword">false</span>));</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      }</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">if</span> (ForceLRSpill) {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(ARM::LR);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a2cc370b8de4fd1b5595af34acccf5887">setLRIsSpilledForFarJump</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  }</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;}</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="keywordtype">void</span> ARMFrameLowering::</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;eliminateCallFramePseudoInstr(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                              <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> =</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    *<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>());</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ARMFrameLowering.html#a8f1ddf69e36ed0354ae69fedd3fed9a5">hasReservedCallFrame</a>(MF)) {</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="comment">// If we have alloca, convert as follows:</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="comment">// ADJCALLSTACKDOWN -&gt; sub, sp, sp, amount</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="comment">// ADJCALLSTACKUP   -&gt; add, sp, sp, amount</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Old = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = Old-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordtype">unsigned</span> Amount = Old-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">if</span> (Amount != 0) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="comment">// We need to keep the stack aligned properly.  To do this, we round the</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <span class="comment">// amount of space needed for the outgoing arguments up to the next</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="comment">// alignment boundary.</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = <a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>();</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      Amount = (Amount+Align-1)/Align*Align;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      assert(!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">isThumb1OnlyFunction</a>() &amp;&amp;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;             <span class="stringliteral">&quot;This eliminateCallFramePseudoInstr does not support Thumb1!&quot;</span>);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <span class="keywordtype">bool</span> isARM = !AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>();</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <span class="comment">// Replace the pseudo instruction with a new instruction...</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="keywordtype">unsigned</span> Opc = Old-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="keywordtype">int</span> PIdx = Old-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae016d4c093fae29a0299228102e55cf4">findFirstPredOperandIdx</a>();</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> Pred = (PIdx == -1)</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        ? <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a> : (<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>)Old-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(PIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keywordflow">if</span> (Opc == ARM::ADJCALLSTACKDOWN || Opc == ARM::tADJCALLSTACKDOWN) {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="comment">// Note: PredReg is operand 2 for ADJCALLSTACKDOWN.</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordtype">unsigned</span> PredReg = Old-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, I, dl, TII, -Amount, <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc">MachineInstr::NoFlags</a>,</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                     Pred, PredReg);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="comment">// Note: PredReg is operand 3 for ADJCALLSTACKUP.</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordtype">unsigned</span> PredReg = Old-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        assert(Opc == ARM::ADJCALLSTACKUP || Opc == ARM::tADJCALLSTACKUP);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <a class="code" href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">emitSPUpdate</a>(isARM, MBB, I, dl, TII, Amount, <a class="code" href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc">MachineInstr::NoFlags</a>,</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                     Pred, PredReg);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    }</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">erase</a>(I);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;}</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="ttc" id="classllvm_1_1ARMFrameLowering_html_a640a2dc975accf2c9e8b30f01b1af2d7"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#a640a2dc975accf2c9e8b30f01b1af2d7">llvm::ARMFrameLowering::spillCalleeSavedRegisters</a></div><div class="ttdeci">bool spillCalleeSavedRegisters(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const std::vector&lt; CalleeSavedInfo &gt; &amp;CSI, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00974">ARMFrameLowering.cpp:974</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html_a47e108ecd9a21cb626ea629490f45e25"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html#a47e108ecd9a21cb626ea629490f45e25">llvm::ARMBaseRegisterInfo::getFrameRegister</a></div><div class="ttdeci">unsigned getFrameRegister(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8cpp_source.html#l00380">ARMBaseRegisterInfo.cpp:380</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1TargetFrameLowering_html_a360555ed6db3b28a33fa5449a0335f19"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">llvm::TargetFrameLowering::getStackAlignment</a></div><div class="ttdeci">unsigned getStackAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00070">TargetFrameLowering.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974a8e8dc64aad833bd23d07d3384522575e"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a8e8dc64aad833bd23d07d3384522575e">llvm::CallingConv::GHC</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00048">CallingConv.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a537a9265c55392ab47d44954f27db538"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">llvm::MachineBasicBlock::erase</a></div><div class="ttdeci">instr_iterator erase(instr_iterator I)</div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a8102e337f77143271ef8ccd4ea2546b3"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">llvm::MachineRegisterInfo::setPhysRegUsed</a></div><div class="ttdeci">void setPhysRegUsed(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00434">MachineRegisterInfo.h:434</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_a8f1ddf69e36ed0354ae69fedd3fed9a5"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#a8f1ddf69e36ed0354ae69fedd3fed9a5">llvm::ARMFrameLowering::hasReservedCallFrame</a></div><div class="ttdeci">bool hasReservedCallFrame(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00063">ARMFrameLowering.cpp:63</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a0c3a2a5a49795f8750ebd02dc0e6e11e"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a0c3a2a5a49795f8750ebd02dc0e6e11e">llvm::MachineOperand::getGlobal</a></div><div class="ttdeci">const GlobalValue * getGlobal() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00428">MachineOperand.h:428</a></div></div>
<div class="ttc" id="MathExtras_8h_html_a166646d6a4037a236119b6e156051d90"><div class="ttname"><a href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">R4</a></div><div class="ttdeci">#define R4(n)</div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_ae09d53e8ec1de0218c59cf2da6060653"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#ae09d53e8ec1de0218c59cf2da6060653">llvm::ARMFrameLowering::getFrameIndexOffset</a></div><div class="ttdeci">int getFrameIndexOffset(const MachineFunction &amp;MF, int FI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00575">ARMFrameLowering.cpp:575</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a9d017af749f76484cb9aec9ff6e4330c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">llvm::MachineFunction::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00317">MachineFunction.h:317</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab0789854909cf47f640a85fa2bac29c7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">llvm::MachineFunction::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00315">MachineFunction.h:315</a></div></div>
<div class="ttc" id="ARMMachineFunctionInfo_8h_html"><div class="ttname"><a href="ARMMachineFunctionInfo_8h.html">ARMMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a58dc840fc84420b7f0b773794b8101c1"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">llvm::SmallVectorTemplateCommon::front</a></div><div class="ttdeci">reference front()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00148">SmallVector.h:148</a></div></div>
<div class="ttc" id="CallingConv_8h_html"><div class="ttname"><a href="CallingConv_8h.html">CallingConv.h</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html"><div class="ttname"><a href="classllvm_1_1RegScavenger.html">llvm::RegScavenger</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00031">RegisterScavenging.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a3e943d975799a4c55333c54eac1a7991"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a3e943d975799a4c55333c54eac1a7991">llvm::ARMII::AddrMode3</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00238">ARMBaseInfo.h:238</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_a714d5787e4c9238659853436e5fcd83e"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#a714d5787e4c9238659853436e5fcd83e">SpillAlignedNEONRegs</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; SpillAlignedNEONRegs(&quot;align-neon-spills&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;Align ARM NEON spills in prolog and epilog&quot;))</div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00033">MachineInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html_a4682c4f655dfb10da71ef7d649465d58"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html#a4682c4f655dfb10da71ef7d649465d58">llvm::ARMBaseRegisterInfo::getBaseRegister</a></div><div class="ttdeci">unsigned getBaseRegister() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8h_source.html#l00158">ARMBaseRegisterInfo.h:158</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">llvm::ARM_AM::add</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00038">ARMAddressingModes.h:38</a></div></div>
<div class="ttc" id="namespacellvm_html_ae59f84da43ddc1b247716625b3b31dfb"><div class="ttname"><a href="namespacellvm.html#ae59f84da43ddc1b247716625b3b31dfb">llvm::emitT2RegPlusImmediate</a></div><div class="ttdeci">void emitT2RegPlusImmediate(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator &amp;MBBI, DebugLoc dl, unsigned DestReg, unsigned BaseReg, int NumBytes, ARMCC::CondCodes Pred, unsigned PredReg, const ARMBaseInstrInfo &amp;TII, unsigned MIFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00213">Thumb2InstrInfo.cpp:213</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a976ddbecac99af6819d058790e33e137"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a976ddbecac99af6819d058790e33e137">llvm::ARMII::AddrModeT2_i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00247">ARMBaseInfo.h:247</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_a9f4bd45d0a817adf290a5055a6e3e956"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#a9f4bd45d0a817adf290a5055a6e3e956">llvm::ARMFrameLowering::ResolveFrameIndexReference</a></div><div class="ttdeci">int ResolveFrameIndexReference(const MachineFunction &amp;MF, int FI, unsigned &amp;FrameReg, int SPAdj) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00500">ARMFrameLowering.cpp:500</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ae26efdb76d5c56388c65dc5b02a2ae6f"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ae26efdb76d5c56388c65dc5b02a2ae6f">llvm::MachineBasicBlock::addLiveIn</a></div><div class="ttdeci">void addLiveIn(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00297">MachineBasicBlock.h:297</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8h_html"><div class="ttname"><a href="ARMBaseInstrInfo_8h.html">ARMBaseInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a6ea0bba3d9f50696c9610f6e7ce10f10"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a6ea0bba3d9f50696c9610f6e7ce10f10">llvm::MachineFrameInfo::isReturnAddressTaken</a></div><div class="ttdeci">bool isReturnAddressTaken() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00276">MachineFrameInfo.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_aa68427c1132a2d221976f7fb33892dbb"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#aa68427c1132a2d221976f7fb33892dbb">llvm::ARMBaseInstrInfo::GetInstSizeInBytes</a></div><div class="ttdeci">virtual unsigned GetInstSizeInBytes(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00550">ARMBaseInstrInfo.cpp:550</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4af3a6218c9c9bd03381633c799e5226d9"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4af3a6218c9c9bd03381633c799e5226d9">llvm::ARMII::AddrModeT2_i8s4</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00250">ARMBaseInfo.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad9456ef14a72da4e4def5d8747c41a09"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad9456ef14a72da4e4def5d8747c41a09">llvm::MachineOperand::getSymbolName</a></div><div class="ttdeci">const char * getSymbolName() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00452">MachineOperand.h:452</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_ae898a405bf69c3021cd998257390494e"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">llvm::ARMFunctionInfo::isThumbFunction</a></div><div class="ttdeci">bool isThumbFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00140">ARMMachineFunctionInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ad784a6594990530bffb2018aeeed56f3"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">const Function * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00151">MachineFunction.h:151</a></div></div>
<div class="ttc" id="MathExtras_8h_html_a9211f62d8e1e6de999eaa63ec0f6ae02"><div class="ttname"><a href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a></div><div class="ttdeci">#define R2(n)</div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_acda46c15b10dfb33ceac5c4b39580221"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#acda46c15b10dfb33ceac5c4b39580221">llvm::ARMFunctionInfo::setGPRCalleeSavedArea2Offset</a></div><div class="ttdeci">void setGPRCalleeSavedArea2Offset(unsigned o)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00174">ARMMachineFunctionInfo.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html_a54abbe67d4a53c92652f1666dc19281f"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">llvm::AttributeSet::hasAttribute</a></div><div class="ttdeci">bool hasAttribute(unsigned Index, Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the attribute exists at the given index. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00818">Attributes.cpp:818</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e">llvm::ARMII::AddrMode4</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00239">ARMBaseInfo.h:239</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055">llvm::Attribute::Naked</a></div><div class="ttdoc">Naked function. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00078">Attributes.h:78</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">llvm::RegState::ImplicitDefine</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00040">MachineInstrBuilder.h:40</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_af4d5ada526cdf057f5f29047e058187d"><div class="ttname"><a href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00161">Function.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a36c6a3dd33fe945b3ab1cfa542f36074"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a36c6a3dd33fe945b3ab1cfa542f36074">llvm::ARMFunctionInfo::getDPRCalleeSavedAreaSize</a></div><div class="ttdeci">unsigned getDPRCalleeSavedAreaSize() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00179">ARMMachineFunctionInfo.h:179</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a0af0a11b8eda54e79422c199cb687f5c"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a0af0a11b8eda54e79422c199cb687f5c">llvm::MachineFrameInfo::getMaxAlignment</a></div><div class="ttdeci">unsigned getMaxAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00438">MachineFrameInfo.h:438</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a5296aac05a8ccceb0d89d449611722d3"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a5296aac05a8ccceb0d89d449611722d3">llvm::MachineFrameInfo::getCalleeSavedInfo</a></div><div class="ttdeci">const std::vector&lt; CalleeSavedInfo &gt; &amp; getCalleeSavedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00528">MachineFrameInfo.h:528</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_adcf1477a493b2d105f7f298b145bb188"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#adcf1477a493b2d105f7f298b145bb188">isCSRestore</a></div><div class="ttdeci">static bool isCSRestore(MachineInstr *MI, const ARMBaseInstrInfo &amp;TII, const uint16_t *CSRegs)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00085">ARMFrameLowering.cpp:85</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a34874094b3ba8b56fd68801250f77183"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a34874094b3ba8b56fd68801250f77183">llvm::MachineFrameInfo::getStackSize</a></div><div class="ttdeci">uint64_t getStackSize() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00417">MachineFrameInfo.h:417</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_ae220352610e3badb61763dcbae9b7a6f"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">llvm::TargetRegisterClass::getSize</a></div><div class="ttdeci">unsigned getSize() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00087">TargetRegisterInfo.h:87</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a70543217b38bd2e8dc926e315a78c930"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a70543217b38bd2e8dc926e315a78c930">llvm::ARMFunctionInfo::getNumAlignedDPRCS2Regs</a></div><div class="ttdeci">unsigned getNumAlignedDPRCS2Regs() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00166">ARMMachineFunctionInfo.h:166</a></div></div>
<div class="ttc" id="MachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="namespacellvm_html_abf7336821a22d9da733af010b2f39089"><div class="ttname"><a href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">llvm::AddDefaultPred</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; AddDefaultPred(const MachineInstrBuilder &amp;MIB)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00324">ARMBaseInstrInfo.h:324</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a414966800902f6e5b323ff39ab90f376"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a414966800902f6e5b323ff39ab90f376">llvm::ARMSubtarget::isTargetELF</a></div><div class="ttdeci">bool isTargetELF() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00306">ARMSubtarget.h:306</a></div></div>
<div class="ttc" id="classllvm_1_1TargetFrameLowering_html_a59182730437bdb0a45a274261a7ea84b"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a59182730437bdb0a45a274261a7ea84b">llvm::TargetFrameLowering::hasFP</a></div><div class="ttdeci">virtual bool hasFP(const MachineFunction &amp;MF) const =0</div></div>
<div class="ttc" id="classllvm_1_1TargetOptions_html_a55b913089f1134db4cc1ea6e677c62bd"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#a55b913089f1134db4cc1ea6e677c62bd">llvm::TargetOptions::DisableFramePointerElim</a></div><div class="ttdeci">bool DisableFramePointerElim(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetOptionsImpl_8cpp_source.html#l00022">TargetOptionsImpl.cpp:22</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00846">MachineInstr.cpp:846</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html">llvm::ARMBaseRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8h_source.html#l00083">ARMBaseRegisterInfo.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a78f1067d270179dff7915b90a03ce237">llvm::MachineInstr::FrameSetup</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00064">MachineInstr.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_a78730f85f8616e9a8d2361c6e1b79083"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#a78730f85f8616e9a8d2361c6e1b79083">checkNumAlignedDPRCS2Regs</a></div><div class="ttdeci">static void checkNumAlignedDPRCS2Regs(MachineFunction &amp;MF)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l01106">ARMFrameLowering.cpp:1106</a></div></div>
<div class="ttc" id="namespacellvm_html_a0c287a0a3e811d36352812b8a7d5425e"><div class="ttname"><a href="namespacellvm.html#a0c287a0a3e811d36352812b8a7d5425e">llvm::tryFoldSPUpdateIntoPushPop</a></div><div class="ttdeci">bool tryFoldSPUpdateIntoPushPop(MachineFunction &amp;MF, MachineInstr *MI, unsigned NumBytes)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01860">ARMBaseInstrInfo.cpp:1860</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a48b4b361d757d1ab48f783b8875712c1"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a48b4b361d757d1ab48f783b8875712c1">llvm::MachineFrameInfo::isFrameAddressTaken</a></div><div class="ttdeci">bool isFrameAddressTaken() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00270">MachineFrameInfo.h:270</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_abd98297b61062a9bf2bc306aa87a4039"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#abd98297b61062a9bf2bc306aa87a4039">llvm::MachineFrameInfo::isFixedObjectIndex</a></div><div class="ttdeci">bool isFixedObjectIndex(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00472">MachineFrameInfo.h:472</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html">llvm::ARMBaseInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00030">ARMBaseInstrInfo.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a6752926550d5fd64a4e4e9fc06640e15"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a6752926550d5fd64a4e4e9fc06640e15">llvm::ARMFunctionInfo::setDPRCalleeSavedAreaOffset</a></div><div class="ttdeci">void setDPRCalleeSavedAreaOffset(unsigned o)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00175">ARMMachineFunctionInfo.h:175</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a3ceb25cf21483ee4aae7948d98401170"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a3ceb25cf21483ee4aae7948d98401170">llvm::ARMSubtarget::isThumb</a></div><div class="ttdeci">bool isThumb() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00319">ARMSubtarget.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00265">MachineInstr.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a715beb8a7c94f2868cb72ea4656f31c9"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a715beb8a7c94f2868cb72ea4656f31c9">llvm::ARMFunctionInfo::setFramePtrSpillOffset</a></div><div class="ttdeci">void setFramePtrSpillOffset(unsigned o)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00164">ARMMachineFunctionInfo.h:164</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a58048141ed81d581f3fb9a797f3186ee"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a58048141ed81d581f3fb9a797f3186ee">llvm::MachineOperand::isGlobal</a></div><div class="ttdeci">bool isGlobal() const </div><div class="ttdoc">isGlobal - Tests if this is a MO_GlobalAddress operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00242">MachineOperand.h:242</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_af562445435f18637f07676da054ba02c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#af562445435f18637f07676da054ba02c">llvm::MachineFunction::front</a></div><div class="ttdeci">const MachineBasicBlock &amp; front() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00327">MachineFunction.h:327</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a5e4b09e8d0f31b43fd5a912ed288bccb"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5e4b09e8d0f31b43fd5a912ed288bccb">llvm::MachineRegisterInfo::isLiveIn</a></div><div class="ttdeci">bool isLiveIn(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00343">MachineRegisterInfo.cpp:343</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a1ff5632f5b1783befc4324f6546a595c"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a1ff5632f5b1783befc4324f6546a595c">llvm::MachineFrameInfo::getOffsetAdjustment</a></div><div class="ttdeci">int getOffsetAdjustment() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00428">MachineFrameInfo.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_aeebbc8bb36d06a4c62b09481cd3d94cb"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#aeebbc8bb36d06a4c62b09481cd3d94cb">llvm::ARMFunctionInfo::setShouldRestoreSPFromFP</a></div><div class="ttdeci">void setShouldRestoreSPFromFP(bool s)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00158">ARMMachineFunctionInfo.h:158</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ac2112296600ed4c01c2554d6dfb79f4c"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">llvm::TargetRegisterInfo::getMatchingSuperReg</a></div><div class="ttdeci">unsigned getMatchingSuperReg(unsigned Reg, unsigned SubIdx, const TargetRegisterClass *RC) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00457">TargetRegisterInfo.h:457</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_a68fb321e1ddcf431572aa4d374c3baad"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#a68fb321e1ddcf431572aa4d374c3baad">llvm::ARMFrameLowering::canSimplifyCallFramePseudos</a></div><div class="ttdeci">bool canSimplifyCallFramePseudos(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00081">ARMFrameLowering.cpp:81</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a2cc370b8de4fd1b5595af34acccf5887"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a2cc370b8de4fd1b5595af34acccf5887">llvm::ARMFunctionInfo::setLRIsSpilledForFarJump</a></div><div class="ttdeci">void setLRIsSpilledForFarJump(bool s)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00161">ARMMachineFunctionInfo.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a4c711446100d52415f8e142855c223e1"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4c711446100d52415f8e142855c223e1">llvm::MachineBasicBlock::getLastNonDebugInstr</a></div><div class="ttdeci">iterator getLastNonDebugInstr()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00200">MachineBasicBlock.cpp:200</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00402">MachineOperand.h:402</a></div></div>
<div class="ttc" id="namespacellvm_html_a80a02a405bb8c0f971331f47ce2efa68"><div class="ttname"><a href="namespacellvm.html#a80a02a405bb8c0f971331f47ce2efa68">llvm::isARMArea1Register</a></div><div class="ttdeci">static bool isARMArea1Register(unsigned Reg, bool isIOS)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8h_source.html#l00038">ARMBaseRegisterInfo.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_a1d0f519b2a4b9e7cd2c2b645ce3496a6"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#a1d0f519b2a4b9e7cd2c2b645ce3496a6">llvm::ARMFrameLowering::restoreCalleeSavedRegisters</a></div><div class="ttdeci">bool restoreCalleeSavedRegisters(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, const std::vector&lt; CalleeSavedInfo &gt; &amp;CSI, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l01005">ARMFrameLowering.cpp:1005</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a9fc3ff683e379f509b4d04ae1d5ace8a"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a9fc3ff683e379f509b4d04ae1d5ace8a">llvm::ARMFunctionInfo::isThumb1OnlyFunction</a></div><div class="ttdeci">bool isThumb1OnlyFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00141">ARMMachineFunctionInfo.h:141</a></div></div>
<div class="ttc" id="namespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00389">MachineInstrBuilder.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html">llvm::ARMSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00031">ARMSubtarget.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a80f7cdbc91b73599f8319c4a88c7ca18"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a80f7cdbc91b73599f8319c4a88c7ca18">llvm::ARMSubtarget::isTargetIOS</a></div><div class="ttdeci">bool isTargetIOS() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00302">ARMSubtarget.h:302</a></div></div>
<div class="ttc" id="namespacellvm_html_aa5e4d7acf58e87826a15b94d37144f2b"><div class="ttname"><a href="namespacellvm.html#aa5e4d7acf58e87826a15b94d37144f2b">llvm::getDefRegState</a></div><div class="ttdeci">unsigned getDefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00383">MachineInstrBuilder.h:383</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="namespacellvm_html_affbfd713b02cc594a29424c8f41b2815"><div class="ttname"><a href="namespacellvm.html#affbfd713b02cc594a29424c8f41b2815">llvm::emitSPUpdate</a></div><div class="ttdeci">void emitSPUpdate(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, DebugLoc dl, const TargetInstrInfo &amp;TII, unsigned ScratchReg, int64_t NumBytes, MachineInstr::MIFlag MIFlags=MachineInstr::NoFlags)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64InstrInfo_8cpp_source.html#l00716">AArch64InstrInfo.cpp:716</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_a0409e368b6e75e93e77f9c29a03edbe9"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#a0409e368b6e75e93e77f9c29a03edbe9">skipAlignedDPRCS2Spills</a></div><div class="ttdeci">static MachineBasicBlock::iterator skipAlignedDPRCS2Spills(MachineBasicBlock::iterator MI, unsigned NumAlignedDPRCS2Regs)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00867">ARMFrameLowering.cpp:867</a></div></div>
<div class="ttc" id="namespacellvm_html_ab75a6192f520e98f9328bd40c28f6a05"><div class="ttname"><a href="namespacellvm.html#ab75a6192f520e98f9328bd40c28f6a05">llvm::isCalleeSavedRegister</a></div><div class="ttdeci">static bool isCalleeSavedRegister(unsigned Reg, const MCPhysReg *CSRegs)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8h_source.html#l00075">ARMBaseRegisterInfo.h:75</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a91aa25eac8330cdbab5f7f12fb29359d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a91aa25eac8330cdbab5f7f12fb29359d">llvm::MachineOperand::getTargetFlags</a></div><div class="ttdeci">unsigned getTargetFlags() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00187">MachineOperand.h:187</a></div></div>
<div class="ttc" id="RegisterScavenging_8h_html"><div class="ttname"><a href="RegisterScavenging_8h.html">RegisterScavenging.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a97e4756295ed8f0cfc534cac7fa60beb"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a97e4756295ed8f0cfc534cac7fa60beb">llvm::ARM_AM::getAM2Opc</a></div><div class="ttdeci">static unsigned getAM2Opc(AddrOpc Opc, unsigned Imm12, ShiftOpc SO, unsigned IdxMode=0)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00407">ARMAddressingModes.h:407</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_ac39b5595d3a23db77d972ba5b37c4348"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#ac39b5595d3a23db77d972ba5b37c4348">llvm::ARMFunctionInfo::hasStackFrame</a></div><div class="ttdeci">bool hasStackFrame() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00154">ARMMachineFunctionInfo.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00157">SmallVector.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_adf8e30b3e759b1283c5fbda668190ee6"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#adf8e30b3e759b1283c5fbda668190ee6">llvm::TargetRegisterInfo::needsStackRealignment</a></div><div class="ttdeci">virtual bool needsStackRealignment(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00721">TargetRegisterInfo.h:721</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_a4a1a710a4decff4f7ffe926b10045d74"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a4a1a710a4decff4f7ffe926b10045d74">llvm::TargetRegisterClass::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00091">TargetRegisterInfo.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a008f499ae277e4936b5b897ddb4bcb7e"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">llvm::MachineRegisterInfo::isReserved</a></div><div class="ttdeci">bool isReserved(unsigned PhysReg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00500">MachineRegisterInfo.h:500</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="ARMFrameLowering_8h_html"><div class="ttname"><a href="ARMFrameLowering_8h.html">ARMFrameLowering.h</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a5b7bcbb91305fd94fd5200fdb37d444b"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a5b7bcbb91305fd94fd5200fdb37d444b">llvm::ARMFunctionInfo::getFramePtrSpillOffset</a></div><div class="ttdeci">unsigned getFramePtrSpillOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00163">ARMMachineFunctionInfo.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a312ddf2fd2162ef0c552d913369cd57f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a312ddf2fd2162ef0c552d913369cd57f">llvm::MachineOperand::isSymbol</a></div><div class="ttdeci">bool isSymbol() const </div><div class="ttdoc">isSymbol - Tests if this is a MO_ExternalSymbol operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00244">MachineOperand.h:244</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aabc17a35420fd0015b8cc5e6e51112fc"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">llvm::MachineInstrBuilder::setMIFlags</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMIFlags(unsigned Flags) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00181">MachineInstrBuilder.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00236">MachineFunction.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daacff74dc04327bef6824ecb2e3648d0f0"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daacff74dc04327bef6824ecb2e3648d0f0">llvm::RegState::ImplicitKill</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00041">MachineInstrBuilder.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a4d76a3f5d557ad4b5ba0fea030c265d6"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a4d76a3f5d557ad4b5ba0fea030c265d6">llvm::ARMFunctionInfo::setGPRCalleeSavedArea2Size</a></div><div class="ttdeci">void setGPRCalleeSavedArea2Size(unsigned s)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00182">ARMMachineFunctionInfo.h:182</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ae73de4f077ea9862af9611652396202b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ae73de4f077ea9862af9611652396202b">llvm::MachineOperand::getOffset</a></div><div class="ttdeci">int64_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00445">MachineOperand.h:445</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_adae3a472b94f467a206557a490dcfc18"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#adae3a472b94f467a206557a490dcfc18">emitAlignedDPRCS2Restores</a></div><div class="ttdeci">static void emitAlignedDPRCS2Restores(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned NumAlignedDPRCS2Regs, const std::vector&lt; CalleeSavedInfo &gt; &amp;CSI, const TargetRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00895">ARMFrameLowering.cpp:895</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6f"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">llvm::LibFunc::Func</a></div><div class="ttdeci">Func</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00020">TargetLibraryInfo.h:20</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a02aa9d4cbd6ffcc70dfe1143ec0995ef"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">llvm::TargetMachine::getFrameLowering</a></div><div class="ttdeci">virtual const TargetFrameLowering * getFrameLowering() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00120">Target/TargetMachine.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a18c110c35e9133222a37b28d30f8a90f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00478">SmallVector.h:478</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="namespacellvm_html_a402aa8ec2571af98e3b5871721c6f642"><div class="ttname"><a href="namespacellvm.html#a402aa8ec2571af98e3b5871721c6f642">llvm::emitARMRegPlusImmediate</a></div><div class="ttdeci">void emitARMRegPlusImmediate(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator &amp;MBBI, DebugLoc dl, unsigned DestReg, unsigned BaseReg, int NumBytes, ARMCC::CondCodes Pred, unsigned PredReg, const ARMBaseInstrInfo &amp;TII, unsigned MIFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01824">ARMBaseInstrInfo.cpp:1824</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrInfo_html_ab16f5a81fccfe4b7f645ba5a74ffad02"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00048">MCInstrInfo.h:48</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_a5509701c846b35bb908088d4d9e54a37"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#a5509701c846b35bb908088d4d9e54a37">emitRegPlusImmediate</a></div><div class="ttdeci">static void emitRegPlusImmediate(bool isARM, MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator &amp;MBBI, DebugLoc dl, const ARMBaseInstrInfo &amp;TII, unsigned DestReg, unsigned SrcReg, int NumBytes, unsigned MIFlags=MachineInstr::NoFlags, ARMCC::CondCodes Pred=ARMCC::AL, unsigned PredReg=0)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00107">ARMFrameLowering.cpp:107</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_aefac52e417d31959e35868879aba672b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">llvm::MachineFrameInfo::getObjectOffset</a></div><div class="ttdeci">int64_t getObjectOffset(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00394">MachineFrameInfo.h:394</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html_acb882a567e74f592cbac2ca930b7bf73"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html#acb882a567e74f592cbac2ca930b7bf73">llvm::ARMBaseRegisterInfo::canRealignStack</a></div><div class="ttdeci">bool canRealignStack(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8cpp_source.html#l00333">ARMBaseRegisterInfo.cpp:333</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html_a01ecb9dfd78defd2dee58c89c443463a"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html#a01ecb9dfd78defd2dee58c89c443463a">llvm::ARMBaseRegisterInfo::needsStackRealignment</a></div><div class="ttdeci">bool needsStackRealignment(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8cpp_source.html#l00358">ARMBaseRegisterInfo.cpp:358</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_ad104abdabbcb68deacc60c0aea1bca34"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ad104abdabbcb68deacc60c0aea1bca34">llvm::MachineFrameInfo::hasCalls</a></div><div class="ttdeci">bool hasCalls() const </div><div class="ttdoc">hasCalls - Return true if the current function has any function calls. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00451">MachineFrameInfo.h:451</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ac13d0f6f2c915757013b101ef6e8afbc"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">llvm::TargetMachine::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">Target/TargetMachine.h:119</a></div></div>
<div class="ttc" id="namespacellvm_html_a8b9edb9ece6ca4b10c73ae93a487c600"><div class="ttname"><a href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">llvm::AddDefaultCC</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; AddDefaultCC(const MachineInstrBuilder &amp;MIB)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00329">ARMBaseInstrInfo.h:329</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a5af2fed99951774b6a14d30ec6e73792"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">llvm::TargetMachine::getSubtarget</a></div><div class="ttdeci">const STC &amp; getSubtarget() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00132">Target/TargetMachine.h:132</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_a4f2dfb3dbdcb5fd0d650cf3ea1402de4"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#a4f2dfb3dbdcb5fd0d650cf3ea1402de4">emitAlignedDPRCS2Spills</a></div><div class="ttdeci">static void emitAlignedDPRCS2Spills(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned NumAlignedDPRCS2Regs, const std::vector&lt; CalleeSavedInfo &gt; &amp;CSI, const TargetRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00736">ARMFrameLowering.cpp:736</a></div></div>
<div class="ttc" id="MathExtras_8h_html_ace331bebb5bd2780b8dfb7e6e97db7dd"><div class="ttname"><a href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">R6</a></div><div class="ttdeci">#define R6(n)</div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a858cd4502f6da3c957874ba54cc63008"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a858cd4502f6da3c957874ba54cc63008">llvm::ARMFunctionInfo::setGPRCalleeSavedArea1Size</a></div><div class="ttdeci">void setGPRCalleeSavedArea1Size(unsigned s)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00181">ARMMachineFunctionInfo.h:181</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853">llvm::ARMII::AddrMode6</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00241">ARMBaseInfo.h:241</a></div></div>
<div class="ttc" id="TargetOptions_8h_html"><div class="ttname"><a href="TargetOptions_8h.html">TargetOptions.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">llvm::ARMII::AddrMode5</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00240">ARMBaseInfo.h:240</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">llvm::ARMCC::CondCodes</a></div><div class="ttdeci">CondCodes</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00029">ARMBaseInfo.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_aecaae26e25f7f952810d98e50264b5fb"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#aecaae26e25f7f952810d98e50264b5fb">llvm::RegScavenger::addScavengingFrameIndex</a></div><div class="ttdeci">void addScavengingFrameIndex(int FI)</div><div class="ttdoc">Add a scavenging frame index. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00128">RegisterScavenging.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="namespacellvm_html_a95342556e3188a7e86d532e22f0df8ed"><div class="ttname"><a href="namespacellvm.html#a95342556e3188a7e86d532e22f0df8ed">llvm::isARMArea2Register</a></div><div class="ttdeci">static bool isARMArea2Register(unsigned Reg, bool isIOS)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8h_source.html#l00053">ARMBaseRegisterInfo.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_a9c8349fdf1c2f7ed13cd1a1bd1aeb19e"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#a9c8349fdf1c2f7ed13cd1a1bd1aeb19e">llvm::ARMFrameLowering::hasFP</a></div><div class="ttdeci">bool hasFP(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00042">ARMFrameLowering.cpp:42</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a00e048d1d905fa65ee3377d99d4f2ae3"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a00e048d1d905fa65ee3377d99d4f2ae3">llvm::MachineFrameInfo::getMaxCallFrameSize</a></div><div class="ttdeci">unsigned getMaxCallFrameSize() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00459">MachineFrameInfo.h:459</a></div></div>
<div class="ttc" id="classllvm_1_1TargetFrameLowering_html"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html">llvm::TargetFrameLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00033">TargetFrameLowering.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a87a1fe769ec763a9c8f8427a017a45d7"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a87a1fe769ec763a9c8f8427a017a45d7">llvm::MachineFrameInfo::setOffsetAdjustment</a></div><div class="ttdeci">void setOffsetAdjustment(int Adj)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00432">MachineFrameInfo.h:432</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a4ad4295a88187ea1ae12ecfcfa18a70f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo * getFrameInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00174">MachineFunction.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html_a141fe016bee792f7ad8aca26c4032815"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html#a141fe016bee792f7ad8aca26c4032815">llvm::ARMBaseRegisterInfo::getCalleeSavedRegs</a></div><div class="ttdeci">const uint16_t * getCalleeSavedRegs(const MachineFunction *MF=0) const </div><div class="ttdoc">Code Generation virtual methods... </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8cpp_source.html#l00053">ARMBaseRegisterInfo.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html_a0e3e26dbde5eb40a63a5ed4220cf6211"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html#a0e3e26dbde5eb40a63a5ed4220cf6211">llvm::ARMBaseRegisterInfo::hasBasePointer</a></div><div class="ttdeci">bool hasBasePointer(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8cpp_source.html#l00302">ARMBaseRegisterInfo.cpp:302</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ae016d4c093fae29a0299228102e55cf4"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae016d4c093fae29a0299228102e55cf4">llvm::MachineInstr::findFirstPredOperandIdx</a></div><div class="ttdeci">int findFirstPredOperandIdx() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01082">MachineInstr.cpp:1082</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aec72fc7a6cc79a1ef53e5d5dbccb846c"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">llvm::MachineInstrBuilder::addGlobalAddress</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addGlobalAddress(const GlobalValue *GV, int64_t Offset=0, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00129">MachineInstrBuilder.h:129</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_a7df1a51b08978b0d9847f14a0ea0c11b"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#a7df1a51b08978b0d9847f14a0ea0c11b">estimateRSStackSizeLimit</a></div><div class="ttdeci">static unsigned estimateRSStackSizeLimit(MachineFunction &amp;MF, const TargetFrameLowering *TFI)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l01053">ARMFrameLowering.cpp:1053</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="namespacellvm_html_a84c8853f87c6f19f9e75130f6b05d763"><div class="ttname"><a href="namespacellvm.html#a84c8853f87c6f19f9e75130f6b05d763">llvm::isPopOpcode</a></div><div class="ttdeci">static bool isPopOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00365">ARMBaseInstrInfo.h:365</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a69b805d50f05b869ab969f6853b8531c"><div class="ttname"><a href="namespacellvm.html#a69b805d50f05b869ab969f6853b8531c">llvm::isARMLowRegister</a></div><div class="ttdeci">static bool isARMLowRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00209">ARMBaseInfo.h:209</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a654b11787ac7c4344084d98bea7cf626"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a654b11787ac7c4344084d98bea7cf626">llvm::MachineBasicBlock::const_iterator</a></div><div class="ttdeci">bundle_iterator&lt; const MachineInstr, const_instr_iterator &gt; const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00214">MachineBasicBlock.h:214</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae">llvm::ARMII::AddrModeMask</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00325">ARMBaseInfo.h:325</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a76f5f9f36bbd9f03c844c5b565f239efa52ce105a97f77049ddfe808bbf0f3eac"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efa52ce105a97f77049ddfe808bbf0f3eac">llvm::ARM_AM::no_shift</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00028">ARMAddressingModes.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_ab34b589c79a85cd7182f9f979ce368cc"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#ab34b589c79a85cd7182f9f979ce368cc">llvm::ARMFrameLowering::processFunctionBeforeCalleeSavedScan</a></div><div class="ttdeci">void processFunctionBeforeCalleeSavedScan(MachineFunction &amp;MF, RegScavenger *RS) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l01153">ARMFrameLowering.cpp:1153</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_a6478f03c6bd2e44b785356dd2af29860"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#a6478f03c6bd2e44b785356dd2af29860">llvm::ARMFrameLowering::getFrameIndexReference</a></div><div class="ttdeci">int getFrameIndexReference(const MachineFunction &amp;MF, int FI, unsigned &amp;FrameReg) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00494">ARMFrameLowering.cpp:494</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a5e9f6fe4d5ecd84c637b458a75dcc845"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a5e9f6fe4d5ecd84c637b458a75dcc845">llvm::ARMFunctionInfo::setHasStackFrame</a></div><div class="ttdeci">void setHasStackFrame(bool s)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00155">ARMMachineFunctionInfo.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_ad5045ecd1e290139522971b28a299884"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#ad5045ecd1e290139522971b28a299884">llvm::ARMFunctionInfo::setGPRCalleeSavedArea1Offset</a></div><div class="ttdeci">void setGPRCalleeSavedArea1Offset(unsigned o)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00173">ARMMachineFunctionInfo.h:173</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00167">MachineFunction.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a41db1260fa1ac571916b808a001b6149"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a41db1260fa1ac571916b808a001b6149">llvm::ARMSubtarget::hasV5TOps</a></div><div class="ttdeci">bool hasV5TOps() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00245">ARMSubtarget.h:245</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_ace690c220f3b141bdf98c86635783d8f"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ace690c220f3b141bdf98c86635783d8f">llvm::MachineInstrBuilder::addExternalSymbol</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addExternalSymbol(const char *FnName, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00136">MachineInstrBuilder.h:136</a></div></div>
<div class="ttc" id="ARMBaseRegisterInfo_8h_html"><div class="ttname"><a href="ARMBaseRegisterInfo_8h.html">ARMBaseRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html">llvm::ARMFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00027">ARMMachineFunctionInfo.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ab1fb67187fc37e569cc5171cbebba873"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">llvm::TargetMachine::Options</a></div><div class="ttdeci">TargetOptions Options</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00105">Target/TargetMachine.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_ab32bf14ad0d8ab098d171a3abc45c78a"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#ab32bf14ad0d8ab098d171a3abc45c78a">llvm::ARMFrameLowering::emitPrologue</a></div><div class="ttdeci">void emitPrologue(MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00132">ARMFrameLowering.cpp:132</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="AArch64Disassembler_8cpp_html_a30bccd0ebacd9892c243f7bd520e4aa0"><div class="ttname"><a href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a></div><div class="ttdeci">static unsigned getReg(const void *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Disassembler_8cpp_source.html#l00299">AArch64Disassembler.cpp:299</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">llvm::ARMCC::AL</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00044">ARMBaseInfo.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a01e5dd8ce0571f928ae814e3db5542fc"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a01e5dd8ce0571f928ae814e3db5542fc">llvm::ARMFunctionInfo::setDPRCalleeSavedAreaSize</a></div><div class="ttdeci">void setDPRCalleeSavedAreaSize(unsigned s)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00183">ARMMachineFunctionInfo.h:183</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a94ca149b1fb50c793fe1829ad17e0e4c"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a94ca149b1fb50c793fe1829ad17e0e4c">llvm::MachineInstrBuilder::copyImplicitOps</a></div><div class="ttdeci">const MachineInstrBuilder &amp; copyImplicitOps(const MachineInstr *OtherMI)</div><div class="ttdoc">Copy all the implicit operands from OtherMI onto this one. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00214">MachineInstrBuilder.h:214</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00260">SmallVector.h:260</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9">llvm::ARMII::AddrModeT2_i12</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00246">ARMBaseInfo.h:246</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a70b47eca6a99c87b81f4c1b1455dc090"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">llvm::TargetMachine::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00140">Target/TargetMachine.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a5cd76eb2aeed3ae46da1bb1b132f1831"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a5cd76eb2aeed3ae46da1bb1b132f1831">llvm::MachineFrameInfo::hasVarSizedObjects</a></div><div class="ttdeci">bool hasVarSizedObjects() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00254">MachineFrameInfo.h:254</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00045">MachineInstrBuilder.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_af2a875a7727b4d11c868a51b51524e73"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#af2a875a7727b4d11c868a51b51524e73">llvm::ARMFrameLowering::emitEpilogue</a></div><div class="ttdeci">void emitEpilogue(MachineFunction &amp;MF, MachineBasicBlock &amp;MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l00355">ARMFrameLowering.cpp:355</a></div></div>
<div class="ttc" id="namespacellvm_html_a19c74ab0c04f4300eb23ebc2d1bc338e"><div class="ttname"><a href="namespacellvm.html#a19c74ab0c04f4300eb23ebc2d1bc338e">llvm::isARMArea3Register</a></div><div class="ttdeci">static bool isARMArea3Register(unsigned Reg, bool isIOS)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8h_source.html#l00064">ARMBaseRegisterInfo.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="classllvm_1_1ARMBaseRegisterInfo_html_a77cbba4423b35e9f705d45d70085cec2"><div class="ttname"><a href="classllvm_1_1ARMBaseRegisterInfo.html#a77cbba4423b35e9f705d45d70085cec2">llvm::ARMBaseRegisterInfo::cannotEliminateFrame</a></div><div class="ttdeci">bool cannotEliminateFrame(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8cpp_source.html#l00371">ARMBaseRegisterInfo.cpp:371</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafacf84de1cb994a92dc045f4aa1d518a75967179a013c48b7d5b1690cb0b47cc">llvm::MachineInstr::NoFlags</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00063">MachineInstr.h:63</a></div></div>
<div class="ttc" id="ARMFrameLowering_8cpp_html_a740c0449e8ade45d30ba4a00af9e6902"><div class="ttname"><a href="ARMFrameLowering_8cpp.html#a740c0449e8ade45d30ba4a00af9e6902">GetFunctionSizeInBytes</a></div><div class="ttdeci">static unsigned GetFunctionSizeInBytes(const MachineFunction &amp;MF, const ARMBaseInstrInfo &amp;TII)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8cpp_source.html#l01036">ARMFrameLowering.cpp:1036</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_adc208d17d2a07b48129f07131f199fc4"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#adc208d17d2a07b48129f07131f199fc4">llvm::ARMFunctionInfo::getGPRCalleeSavedArea1Size</a></div><div class="ttdeci">unsigned getGPRCalleeSavedArea1Size() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00177">ARMMachineFunctionInfo.h:177</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_abe3c98b9803fa6a21eca279173c27b12"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#abe3c98b9803fa6a21eca279173c27b12">llvm::MachineRegisterInfo::isPhysRegUsed</a></div><div class="ttdeci">bool isPhysRegUsed(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00416">MachineRegisterInfo.h:416</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a340712de3e78fec11c338735cab17df7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">llvm::MachineFunction::iterator</a></div><div class="ttdeci">BasicBlockListType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00303">MachineFunction.h:303</a></div></div>
<div class="ttc" id="namespacellvm_html_a7923e3e207de8bc1d0d6a5091316ddde"><div class="ttname"><a href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a></div><div class="ttdeci">ItTy prior(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00167">STLExtras.h:167</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da07946dc85f27c45b26fd857ce791f74a">llvm::X86II::D8</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00329">X86BaseInfo.h:329</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFrameLowering_html_adc26971dee5e964321b8ea6daa72639d"><div class="ttname"><a href="classllvm_1_1ARMFrameLowering.html#adc26971dee5e964321b8ea6daa72639d">llvm::ARMFrameLowering::STI</a></div><div class="ttdeci">const ARMSubtarget &amp; STI</div><div class="ttdef"><b>Definition:</b> <a href="ARMFrameLowering_8h_source.html#l00026">ARMFrameLowering.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a9f3ec749e16a8d9de6ff3826724ca33e"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a9f3ec749e16a8d9de6ff3826724ca33e">llvm::ARMFunctionInfo::getGPRCalleeSavedArea2Size</a></div><div class="ttdeci">unsigned getGPRCalleeSavedArea2Size() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00178">ARMMachineFunctionInfo.h:178</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_ae615fd3ea996ab7d960995a03377af71"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#ae615fd3ea996ab7d960995a03377af71">llvm::ARMFunctionInfo::getArgRegsSaveSize</a></div><div class="ttdeci">unsigned getArgRegsSaveSize(unsigned Align=0) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00147">ARMMachineFunctionInfo.h:147</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a07c23410c7430f86085eadea31db3ee2"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">llvm::ARMFunctionInfo::isThumb2Function</a></div><div class="ttdeci">bool isThumb2Function() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00142">ARMMachineFunctionInfo.h:142</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a51ea0ff0ba0a43cc30affb68aae1314c"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a51ea0ff0ba0a43cc30affb68aae1314c">llvm::MachineFrameInfo::setObjectAlignment</a></div><div class="ttdeci">void setObjectAlignment(int ObjectIdx, unsigned Align)</div><div class="ttdoc">setObjectAlignment - Change the alignment of the specified stack object. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00368">MachineFrameInfo.h:368</a></div></div>
<div class="ttc" id="ARMAddressingModes_8h_html"><div class="ttname"><a href="ARMAddressingModes_8h.html">ARMAddressingModes.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">llvm::RegState::Define</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00031">MachineInstrBuilder.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4af2a257043145ad650eafb4402f9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">DebugLoc getDebugLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00244">MachineInstr.h:244</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_afffb0b39dfb932ed9180cef81453abc0"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#afffb0b39dfb932ed9180cef81453abc0">llvm::ARMFunctionInfo::shouldRestoreSPFromFP</a></div><div class="ttdeci">bool shouldRestoreSPFromFP() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00157">ARMMachineFunctionInfo.h:157</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:06 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
