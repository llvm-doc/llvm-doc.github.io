<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: MemoryDependenceAnalysis.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('MemoryDependenceAnalysis_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MemoryDependenceAnalysis.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MemoryDependenceAnalysis_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- llvm/Analysis/MemoryDependenceAnalysis.h - Memory Deps  --*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file defines the MemoryDependenceAnalysis analysis pass.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef LLVM_ANALYSIS_MEMORYDEPENDENCEANALYSIS_H</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define LLVM_ANALYSIS_MEMORYDEPENDENCEANALYSIS_H</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OwningPtr_8h.html">llvm/ADT/OwningPtr.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PointerIntPair_8h.html">llvm/ADT/PointerIntPair.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueHandle_8h.html">llvm/Support/ValueHandle.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keyword">class </span>Function;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keyword">class </span>FunctionPass;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keyword">class </span>Instruction;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keyword">class </span>CallSite;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keyword">class </span><a class="code" href="BasicAliasAnalysis_8cpp.html#ad1b77598f771e74506b28a6ead5aa535">AliasAnalysis</a>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keyword">class </span>DataLayout;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keyword">class </span>MemoryDependenceAnalysis;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">class </span>PredIteratorCache;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keyword">class </span>DominatorTree;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keyword">class </span>PHITransAddr;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">  /// MemDepResult - A memory dependence query can return one of three different</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">  /// answers, described below.</span></div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html">   40</a></span>&#160;<span class="comment"></span>  <span class="keyword">class </span><a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">enum</span> DepType {<span class="comment"></span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">      /// Invalid - Clients of MemDep never see this.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span>      Invalid = 0,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">      /// Clobber - This is a dependence on the specified instruction which</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">      /// clobbers the desired value.  The pointer member of the MemDepResult</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">      /// pair holds the instruction that clobbers the memory.  For example,</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">      /// this occurs when we see a may-aliased store to the memory location we</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">      /// care about.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">      ///</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">      /// There are several cases that may be interesting here:</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">      ///   1. Loads are clobbered by may-alias stores.</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">      ///   2. Loads are considered clobbered by partially-aliased loads.  The</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">      ///      client may choose to analyze deeper into these cases.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"></span>      Clobber,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">      /// Def - This is a dependence on the specified instruction which</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">      /// defines/produces the desired memory location.  The pointer member of</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">      /// the MemDepResult pair holds the instruction that defines the memory.</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">      /// Cases of interest:</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">      ///   1. This could be a load or store for dependence queries on</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">      ///      load/store.  The value loaded or stored is the produced value.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">      ///      Note that the pointer operand may be different than that of the</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">      ///      queried pointer due to must aliases and phi translation.  Note</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">      ///      that the def may not be the same type as the query, the pointers</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">      ///      may just be must aliases.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">      ///   2. For loads and stores, this could be an allocation instruction. In</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">      ///      this case, the load is loading an undef value or a store is the</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">      ///      first store to (that part of) the allocation.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">      ///   3. Dependence queries on calls return Def only when they are</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">      ///      readonly calls or memory use intrinsics with identical callees</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">      ///      and no intervening clobbers.  No validation is done that the</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">      ///      operands to the calls are the same.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span>      Def,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">      /// Other - This marker indicates that the query has no known dependency</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">      /// in the specified block.  More detailed state info is encoded in the</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">      /// upper part of the pair (i.e. the Instruction*)</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span>      Other</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    };<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    /// If DepType is &quot;Other&quot;, the upper part of the pair</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">    /// (i.e. the Instruction* part) is instead used to encode more detailed</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    /// type information as follows</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span>    <span class="keyword">enum</span> OtherType {<span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">      /// NonLocal - This marker indicates that the query has no dependency in</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">      /// the specified block.  To find out more, the client should query other</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">      /// predecessor blocks.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span>      NonLocal = 0x4,<span class="comment"></span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">      /// NonFuncLocal - This marker indicates that the query has no</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">      /// dependency in the specified function.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span>      NonFuncLocal = 0x8,<span class="comment"></span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">      /// Unknown - This marker indicates that the query dependency</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">      /// is unknown.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"></span>      Unknown = 0xc</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    };</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1PointerIntPair.html">PointerIntPair&lt;Instruction*, 2, DepType&gt;</a> <a class="code" href="classllvm_1_1PointerIntPair.html">PairTy</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    PairTy <a class="code" href="classllvm_1_1Value.html">Value</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>(PairTy V) : Value(V) {}</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">  101</a></span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>() : Value(0, Invalid) {}</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">    /// get methods: These are static ctor methods for creating various</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    /// MemDepResult kinds.</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">  105</a></span>&#160;<span class="comment"></span>    <span class="keyword">static</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">getDef</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      assert(Inst &amp;&amp; <span class="stringliteral">&quot;Def requires inst&quot;</span>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>(PairTy(Inst, Def));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">  109</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">getClobber</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      assert(Inst &amp;&amp; <span class="stringliteral">&quot;Clobber requires inst&quot;</span>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>(PairTy(Inst, Clobber));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">  113</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">getNonLocal</a>() {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>(</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        PairTy(reinterpret_cast&lt;Instruction*&gt;(NonLocal), Other));</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">  117</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">getNonFuncLocal</a>() {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>(</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        PairTy(reinterpret_cast&lt;Instruction*&gt;(NonFuncLocal), Other));</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">  121</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">getUnknown</a>() {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>(</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        PairTy(reinterpret_cast&lt;Instruction*&gt;(Unknown), Other));</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">    /// isClobber - Return true if this MemDepResult represents a query that is</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">    /// an instruction clobber dependency.</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#ae409b288c7f70a6c57586535abed3808">  128</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#ae409b288c7f70a6c57586535abed3808">isClobber</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Value.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() == Clobber; }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">    /// isDef - Return true if this MemDepResult represents a query that is</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">    /// an instruction definition dependency.</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#aa6d7a9e81b4749376498640463eb5dc2">  132</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#aa6d7a9e81b4749376498640463eb5dc2">isDef</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Value.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() == Def; }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">    /// isNonLocal - Return true if this MemDepResult represents a query that</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">    /// is transparent to the start of the block, but where a non-local hasn&#39;t</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">    /// been done.</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a2a64d8f5153ebc0e8c08d0702c2c4aab">  137</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#a2a64d8f5153ebc0e8c08d0702c2c4aab">isNonLocal</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">return</span> Value.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() == Other</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        &amp;&amp; Value.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>() == <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a>*<span class="keyword">&gt;</span>(NonLocal);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">    /// isNonFuncLocal - Return true if this MemDepResult represents a query</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">    /// that is transparent to the start of the function.</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a3fe00b5e6a4d79cd580343db61ccf5ec">  144</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#a3fe00b5e6a4d79cd580343db61ccf5ec">isNonFuncLocal</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span> Value.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() == Other</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        &amp;&amp; Value.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>() == <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a>*<span class="keyword">&gt;</span>(NonFuncLocal);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">    /// isUnknown - Return true if this MemDepResult represents a query which</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">    /// cannot and/or will not be computed.</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a9895765e0b80b18ed39a24f426bcd321">  151</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#a9895765e0b80b18ed39a24f426bcd321">isUnknown</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">return</span> Value.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() == Other</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        &amp;&amp; Value.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>() == <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classllvm_1_1Instruction.html">Instruction</a>*<span class="keyword">&gt;</span>(Unknown);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    /// getInst() - If this is a normal dependency, return the instruction that</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">    /// is depended on.  Otherwise, return null.</span></div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">  158</a></span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">getInst</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordflow">if</span> (Value.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() == Other) <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">return</span> Value.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a8d87ca15219fbc149b66ba218ad22dd8">  163</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#a8d87ca15219fbc149b66ba218ad22dd8">operator==</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Value == M.Value; }</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#ad3558da9886b760eccf36ec196258716">  164</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#ad3558da9886b760eccf36ec196258716">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Value != M.Value; }</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#aec86b8044dcd29ca21ba0100019522e0">  165</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#aec86b8044dcd29ca21ba0100019522e0">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Value &lt; M.Value; }</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#acde89f6fe6c6fe82e7a54ad00253bcf1">  166</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MemDepResult.html#acde89f6fe6c6fe82e7a54ad00253bcf1">operator&gt;</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Value &gt; M.Value; }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classllvm_1_1MemDepResult.html#a2e90db9ab998f9b86a33c64de145e7c6">  168</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html">MemoryDependenceAnalysis</a>;<span class="comment"></span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">    /// Dirty - Entries with this marker occur in a LocalDeps map or</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">    /// NonLocalDeps map when the instruction they previously referenced was</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    /// removed from MemDep.  In either case, the entry may include an</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">    /// instruction pointer.  If so, the pointer is an instruction in the</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">    /// block where scanning can start from, saving some work.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">    /// In a default-constructed MemDepResult object, the type will be Dirty</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">    /// and the instruction pointer will be null.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">    /// isDirty - Return true if this is a MemDepResult in its dirty/invalid.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">    /// state.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> isDirty()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Value.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() == <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a62f42a4e8403a28d0e18eb30705c510f">Invalid</a>; }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">static</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> getDirty(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">MemDepResult</a>(PairTy(Inst, <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a62f42a4e8403a28d0e18eb30705c510f">Invalid</a>));</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  };</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">  /// NonLocalDepEntry - This is an entry in the NonLocalDepInfo cache.  For</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">  /// each BasicBlock (the BB entry) it keeps a MemDepResult.</span></div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepEntry.html">  190</a></span>&#160;<span class="comment"></span>  <span class="keyword">class </span><a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> Result;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepEntry.html#a123c64ec585b35c114d596c86515473b">  194</a></span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepEntry.html#a123c64ec585b35c114d596c86515473b">NonLocalDepEntry</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a>, <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      : BB(bb), Result(result) {}</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// This is used for searches.</span></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepEntry.html#ac8193cad95077f38e14f91666028fc00">  198</a></span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepEntry.html#ac8193cad95077f38e14f91666028fc00">NonLocalDepEntry</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a>) : BB(bb) {}</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// BB is the sort key, it can&#39;t be changed.</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepEntry.html#a9484eee2611393c9db4e3ca858455221">  201</a></span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a9484eee2611393c9db4e3ca858455221">getBB</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>; }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">  203</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">setResult</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;R) { Result = R; }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">  205</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Result; }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepEntry.html#aaca6ad18347373fe009ec2acc9d1a6e6">  207</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1NonLocalDepEntry.html#aaca6ad18347373fe009ec2acc9d1a6e6">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> &amp;RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">return</span> BB &lt; RHS.BB;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  };</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  /// NonLocalDepResult - This is a result from a NonLocal dependence query.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  /// For each BasicBlock (the BB entry) it keeps a MemDepResult and the</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  /// (potentially phi translated) address that was live in the block.</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepResult.html">  215</a></span>&#160;<span class="comment"></span>  <span class="keyword">class </span><a class="code" href="classllvm_1_1NonLocalDepResult.html">NonLocalDepResult</a> {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepEntry.html">NonLocalDepEntry</a> Entry;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    Value *Address;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepResult.html#a4cf3b22f4e09cecea29a4200b9872635">  219</a></span>&#160;    <a class="code" href="classllvm_1_1NonLocalDepResult.html#a4cf3b22f4e09cecea29a4200b9872635">NonLocalDepResult</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a>, <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>, Value *address)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      : Entry(bb, result), Address(address) {}</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// BB is the sort key, it can&#39;t be changed.</span></div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepResult.html#a3cfa92beb97703fd2e7a3350e27a06eb">  223</a></span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="classllvm_1_1NonLocalDepResult.html#a3cfa92beb97703fd2e7a3350e27a06eb">getBB</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Entry.<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a9484eee2611393c9db4e3ca858455221">getBB</a>(); }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepResult.html#ad628605164a36f220903440c56650e2b">  225</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1NonLocalDepResult.html#ad628605164a36f220903440c56650e2b">setResult</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;R, Value *Addr) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      Entry.<a class="code" href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">setResult</a>(R);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      Address = Addr;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepResult.html#afde9b66e1baaf074f7b3013c63f0f692">  230</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> &amp;<a class="code" href="classllvm_1_1NonLocalDepResult.html#afde9b66e1baaf074f7b3013c63f0f692">getResult</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Entry.<a class="code" href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">getResult</a>(); }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    /// getAddress - Return the address of this pointer in this block.  This can</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">    /// be different than the address queried for the non-local result because</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    /// of phi translation.  This returns null if the address was not available</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">    /// in a block (i.e. because phi translation failed) or if this is a cached</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">    /// result and that address was deleted.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">    /// The address is always null for a non-local &#39;call&#39; dependence.</span></div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classllvm_1_1NonLocalDepResult.html#ae87328dcb4fe596440881eabbe73d7b6">  239</a></span>&#160;<span class="comment"></span>    Value *<a class="code" href="classllvm_1_1NonLocalDepResult.html#ae87328dcb4fe596440881eabbe73d7b6">getAddress</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Address; }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  };</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">  /// MemoryDependenceAnalysis - This is an analysis that determines, for a</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">  /// given memory operation, what preceding memory operations it depends on.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">  /// It builds on alias analysis information, and tries to provide a lazy,</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">  /// caching interface to a common kind of alias information query.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">  /// The dependency information returned is somewhat unusual, but is pragmatic.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  /// If queried about a store or call that might modify memory, the analysis</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">  /// will return the instruction[s] that may either load from that memory or</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  /// store to it.  If queried with a load or call that can never modify memory,</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">  /// the analysis will return calls and stores that might modify the pointer,</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">  /// but generally does not return loads unless a) they are volatile, or</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">  /// b) they load from *must-aliased* pointers.  Returning a dependence on</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  /// must-alias&#39;d pointers instead of all pointers interacts well with the</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  /// internal caching mechanism.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html">  257</a></span>&#160;<span class="comment"></span>  <span class="keyword">class </span><a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html">MemoryDependenceAnalysis</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// A map from instructions to their dependency.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction*, MemDepResult&gt;</a> <a class="code" href="classllvm_1_1DenseMap.html">LocalDepMapType</a>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    LocalDepMapType LocalDeps;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">  263</a></span>&#160;    <span class="keyword">typedef</span> std::vector&lt;NonLocalDepEntry&gt; <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">NonLocalDepInfo</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">    /// ValueIsLoadPair - This is a pair&lt;Value*, bool&gt; where the bool is true if</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">    /// the dependence is a read only dependence, false if read/write.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span>    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1PointerIntPair.html">PointerIntPair&lt;const Value*, 1, bool&gt;</a> <a class="code" href="classllvm_1_1PointerIntPair.html">ValueIsLoadPair</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">    /// BBSkipFirstBlockPair - This pair is used when caching information for a</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">    /// block.  If the pointer is null, the cache value is not a full query that</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">    /// starts at the specified block.  If non-null, the bool indicates whether</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">    /// or not the contents of the block was skipped.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span>    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1PointerIntPair.html">PointerIntPair&lt;BasicBlock*, 1, bool&gt;</a> <a class="code" href="classllvm_1_1PointerIntPair.html">BBSkipFirstBlockPair</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">    /// NonLocalPointerInfo - This record is the information kept for each</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">    /// (value, is load) pair.</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"></span>    <span class="keyword">struct </span>NonLocalPointerInfo {<span class="comment"></span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">      /// Pair - The pair of the block and the skip-first-block flag.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span>      BBSkipFirstBlockPair Pair;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">      /// NonLocalDeps - The results of the query for each relevant block.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"></span>      NonLocalDepInfo NonLocalDeps;<span class="comment"></span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">      /// Size - The maximum size of the dereferences of the</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">      /// pointer. May be UnknownSize if the sizes are unknown.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span>      uint64_t Size;<span class="comment"></span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">      /// TBAATag - The TBAA tag associated with dereferences of the</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">      /// pointer. May be null if there are no tags or conflicting tags.</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span>      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TBAATag;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      NonLocalPointerInfo() : Size(<a class="code" href="classllvm_1_1AliasAnalysis.html#a8d894818f6befa30ad9bb75085ed0a20">AliasAnalysis::UnknownSize</a>), TBAATag(0) {}</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    };</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">    /// CachedNonLocalPointerInfo - This map stores the cached results of doing</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">    /// a pointer lookup at the bottom of a block.  The key of this map is the</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">    /// pointer+isload bit, the value is a list of &lt;bb-&gt;result&gt; mappings.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span>    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;ValueIsLoadPair,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                     NonLocalPointerInfo&gt; <a class="code" href="classllvm_1_1DenseMap.html">CachedNonLocalPointerInfo</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    CachedNonLocalPointerInfo NonLocalPointerDeps;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// A map from instructions to their non-local pointer dependencies.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>*,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                     <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;ValueIsLoadPair, 4&gt;</a> &gt; <a class="code" href="classllvm_1_1DenseMap.html">ReverseNonLocalPtrDepTy</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    ReverseNonLocalPtrDepTy ReverseNonLocalPtrDeps;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    /// PerInstNLInfo - This is the instruction we keep for each cached access</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    /// that we have for an instruction.  The pointer is an owning pointer and</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    /// the bool indicates whether we have any dirty bits in the set.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"></span>    <span class="keyword">typedef</span> std::pair&lt;NonLocalDepInfo, bool&gt; PerInstNLInfo;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// A map from instructions to their non-local dependencies.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction*, PerInstNLInfo&gt;</a> <a class="code" href="classllvm_1_1DenseMap.html">NonLocalDepMapType</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    NonLocalDepMapType NonLocalDeps;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">// A reverse mapping from dependencies to the dependees.  This is</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// used when removing instructions to keep the cache coherent.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt;Instruction*,</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                     <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction*, 4&gt;</a> &gt; <a class="code" href="classllvm_1_1DenseMap.html">ReverseDepMapType</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    ReverseDepMapType ReverseLocalDeps;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// A reverse mapping from dependencies to the non-local dependees.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    ReverseDepMapType ReverseNonLocalDeps;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">    /// Current AA implementation, just a cache.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PredIteratorCache&gt;</a> PredCache;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html#a2e90db9ab998f9b86a33c64de145e7c6">MemoryDependenceAnalysis</a>();</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    ~<a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html">MemoryDependenceAnalysis</a>();</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="classllvm_1_1MemoryDependenceAnalysis.html#ab6ba33bdfb3c4da44d4586ae1f1966aa">  332</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="classllvm_1_1MemoryDependenceAnalysis.html#ab6ba33bdfb3c4da44d4586ae1f1966aa">ID</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">    /// Pass Implementation stuff.  This doesn&#39;t do any analysis eagerly.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> runOnFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">    /// Clean up memory in between runs</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> releaseMemory();</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">    /// getAnalysisUsage - Does not modify anything.  It uses Value Numbering</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">    /// and Alias Analysis.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU) <span class="keyword">const</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">    /// getDependency - Return the instruction on which a memory operation</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">    /// depends.  See the class comment for more details.  It is illegal to call</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">    /// this on non-memory instructions.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> getDependency(Instruction *QueryInst);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">    /// getNonLocalCallDependency - Perform a full dependency query for the</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">    /// specified call, returning the set of blocks that the value is</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">    /// potentially live across.  The returned set of results will include a</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">    /// &quot;NonLocal&quot; result for all blocks where the value is live across.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">    /// This method assumes the instruction returns a &quot;NonLocal&quot; dependency</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">    /// within its own block.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">    /// This returns a reference to an internal data structure that may be</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">    /// invalidated on the next non-local query or when an instruction is</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">    /// removed.  Clients must copy this data if they want it around longer than</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">    /// that.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> NonLocalDepInfo &amp;getNonLocalCallDependency(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> QueryCS);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">    /// getNonLocalPointerDependency - Perform a full dependency query for an</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">    /// access to the specified (non-volatile) memory location, returning the</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">    /// set of instructions that either define or clobber the value.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">    /// This method assumes the pointer has a &quot;NonLocal&quot; dependency within BB.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> getNonLocalPointerDependency(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc,</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                      <span class="keywordtype">bool</span> isLoad, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;NonLocalDepResult&gt;</a> &amp;Result);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">    /// removeInstruction - Remove an instruction from the dependence analysis,</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">    /// updating the dependence of instructions that previously depended on it.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> removeInstruction(Instruction *InstToRemove);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">    /// invalidateCachedPointerInfo - This method is used to invalidate cached</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">    /// information about the specified pointer, because it may be too</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">    /// conservative in memdep.  This is an optional call that can be used when</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">    /// the client detects an equivalence between the pointer and some other</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">    /// value and replaces the other value with ptr. This can make Ptr available</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">    /// in more places that cached info does not necessarily keep.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> invalidateCachedPointerInfo(Value *Ptr);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">    /// invalidateCachedPredecessors - Clear the PredIteratorCache info.</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    /// This needs to be done when the CFG changes, e.g., due to splitting</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">    /// critical edges.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> invalidateCachedPredecessors();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">    /// getPointerDependencyFrom - Return the instruction on which a memory</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">    /// location depends.  If isLoad is true, this routine ignores may-aliases</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">    /// with read-only operations.  If isLoad is false, this routine ignores</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">    /// may-aliases with reads from read-only locations. If possible, pass</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">    /// the query instruction as well; this function may take advantage of </span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">    /// the metadata annotated to the query instruction to refine the result.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">    /// Note that this is an uncached query, and thus may be inefficient.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">    ///</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> getPointerDependencyFrom(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc,</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                          <span class="keywordtype">bool</span> isLoad,</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                          <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> ScanIt,</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                          Instruction *QueryInst = 0);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">    /// getLoadLoadClobberFullWidthSize - This is a little bit of analysis that</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">    /// looks at a memory location for a load (specified by MemLocBase, Offs,</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">    /// and Size) and compares it against a load.  If the specified load could</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">    /// be safely widened to a larger integer load that is 1) still efficient,</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">    /// 2) safe for the target, and 3) would provide the specified memory</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">    /// location value, then this function returns the size in bytes of the</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">    /// load width to use.  If not, this returns zero.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"></span>    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> getLoadLoadClobberFullWidthSize(<span class="keyword">const</span> Value *MemLocBase,</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                                    int64_t MemLocOffs,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                                    <span class="keywordtype">unsigned</span> MemLocSize,</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI,</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;TD);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> getCallSiteDependencyFrom(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <span class="keywordtype">bool</span> isReadOnlyCall,</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                           <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> ScanIt,</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                           <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordtype">bool</span> getNonLocalPointerDepFromBB(<span class="keyword">const</span> <a class="code" href="classllvm_1_1PHITransAddr.html">PHITransAddr</a> &amp;Pointer,</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc,</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                     <span class="keywordtype">bool</span> isLoad, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;NonLocalDepResult&gt;</a> &amp;Result,</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                     <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock*, Value*&gt;</a> &amp;Visited,</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                     <span class="keywordtype">bool</span> SkipFirstBlock = <span class="keyword">false</span>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="classllvm_1_1MemDepResult.html">MemDepResult</a> GetNonLocalInfoForBlock(<span class="keyword">const</span> <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a> &amp;Loc,</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                         <span class="keywordtype">bool</span> isLoad, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                         NonLocalDepInfo *Cache,</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                         <span class="keywordtype">unsigned</span> NumSortedEntries);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordtype">void</span> RemoveCachedNonLocalPointerDependencies(ValueIsLoadPair <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">    /// verifyRemoved - Verify that the specified instruction does not occur</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">    /// in our internal data structures.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> verifyRemoved(Instruction *Inst) <span class="keyword">const</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  };</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;} <span class="comment">// End llvm namespace</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="PointerIntPair_8h_html"><div class="ttname"><a href="PointerIntPair_8h.html">PointerIntPair.h</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_aa6d7a9e81b4749376498640463eb5dc2"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#aa6d7a9e81b4749376498640463eb5dc2">llvm::MemDepResult::isDef</a></div><div class="ttdeci">bool isDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00132">MemoryDependenceAnalysis.h:132</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac9423a63151469d95755528cceb322fb"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a></div><div class="ttdeci">&lt; i1 &gt; br i1 label label bb bb</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01139">Target/X86/README.txt:1139</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepResult_html_a3cfa92beb97703fd2e7a3350e27a06eb"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html#a3cfa92beb97703fd2e7a3350e27a06eb">llvm::NonLocalDepResult::getBB</a></div><div class="ttdeci">BasicBlock * getBB() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00223">MemoryDependenceAnalysis.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_aec86b8044dcd29ca21ba0100019522e0"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#aec86b8044dcd29ca21ba0100019522e0">llvm::MemDepResult::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(const MemDepResult &amp;M) const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00165">MemoryDependenceAnalysis.h:165</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; Instruction *, MemDepResult &gt;</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="BasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">MDNode - a tuple of other values. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00073">Metadata.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepResult_html_ad628605164a36f220903440c56650e2b"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html#ad628605164a36f220903440c56650e2b">llvm::NonLocalDepResult::setResult</a></div><div class="ttdeci">void setResult(const MemDepResult &amp;R, Value *Addr)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00225">MemoryDependenceAnalysis.h:225</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a9895765e0b80b18ed39a24f426bcd321"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a9895765e0b80b18ed39a24f426bcd321">llvm::MemDepResult::isUnknown</a></div><div class="ttdeci">bool isUnknown() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00151">MemoryDependenceAnalysis.h:151</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_ae409b288c7f70a6c57586535abed3808"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#ae409b288c7f70a6c57586535abed3808">llvm::MemDepResult::isClobber</a></div><div class="ttdeci">bool isClobber() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00128">MemoryDependenceAnalysis.h:128</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_aae67c508d4f0716516f5c412c5592556"><div class="ttname"><a href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a></div><div class="ttdeci">then result</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00393">Target/README.txt:393</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_ae4760893fa2bd86ce4460d3171fb9a82"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#ae4760893fa2bd86ce4460d3171fb9a82">llvm::MemDepResult::getDef</a></div><div class="ttdeci">static MemDepResult getDef(Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00105">MemoryDependenceAnalysis.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html">llvm::AliasAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00056">AliasAnalysis.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html">llvm::MemoryDependenceAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00257">MemoryDependenceAnalysis.h:257</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepResult_html_ae87328dcb4fe596440881eabbe73d7b6"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html#ae87328dcb4fe596440881eabbe73d7b6">llvm::NonLocalDepResult::getAddress</a></div><div class="ttdeci">Value * getAddress() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00239">MemoryDependenceAnalysis.h:239</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_ab6ba33bdfb3c4da44d4586ae1f1966aa"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#ab6ba33bdfb3c4da44d4586ae1f1966aa">llvm::MemoryDependenceAnalysis::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00332">MemoryDependenceAnalysis.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a8d87ca15219fbc149b66ba218ad22dd8"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a8d87ca15219fbc149b66ba218ad22dd8">llvm::MemDepResult::operator==</a></div><div class="ttdeci">bool operator==(const MemDepResult &amp;M) const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00163">MemoryDependenceAnalysis.h:163</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00740">Dominators.h:740</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a87800772e5bbce0b8e0cb23b54e47f58"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a87800772e5bbce0b8e0cb23b54e47f58">llvm::MemDepResult::getUnknown</a></div><div class="ttdeci">static MemDepResult getUnknown()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00121">MemoryDependenceAnalysis.h:121</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html">llvm::PointerIntPair&lt; Instruction *, 2, DepType &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1PHITransAddr_html"><div class="ttname"><a href="classllvm_1_1PHITransAddr.html">llvm::PHITransAddr</a></div><div class="ttdef"><b>Definition:</b> <a href="PHITransAddr_8h_source.html#l00035">PHITransAddr.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_acde89f6fe6c6fe82e7a54ad00253bcf1"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#acde89f6fe6c6fe82e7a54ad00253bcf1">llvm::MemDepResult::operator&gt;</a></div><div class="ttdeci">bool operator&gt;(const MemDepResult &amp;M) const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00166">MemoryDependenceAnalysis.h:166</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepResult_html"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html">llvm::NonLocalDepResult</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00215">MemoryDependenceAnalysis.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepResult_html_a4cf3b22f4e09cecea29a4200b9872635"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html#a4cf3b22f4e09cecea29a4200b9872635">llvm::NonLocalDepResult::NonLocalDepResult</a></div><div class="ttdeci">NonLocalDepResult(BasicBlock *bb, MemDepResult result, Value *address)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00219">MemoryDependenceAnalysis.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_adfd696331e43abcbcf5060bf0cd506e4"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#adfd696331e43abcbcf5060bf0cd506e4">llvm::MemDepResult::getNonFuncLocal</a></div><div class="ttdeci">static MemDepResult getNonFuncLocal()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00117">MemoryDependenceAnalysis.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_a9484eee2611393c9db4e3ca858455221"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#a9484eee2611393c9db4e3ca858455221">llvm::NonLocalDepEntry::getBB</a></div><div class="ttdeci">BasicBlock * getBB() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00201">MemoryDependenceAnalysis.h:201</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html"><div class="ttname"><a href="classllvm_1_1OwningPtr.html">llvm::OwningPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00028">OwningPtr.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00293">Pass.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_abd0c15cf35f0f3bfd2e092c55d5e6069"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#abd0c15cf35f0f3bfd2e092c55d5e6069">llvm::NonLocalDepEntry::getResult</a></div><div class="ttdeci">const MemDepResult &amp; getResult() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00205">MemoryDependenceAnalysis.h:205</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_a35eb598d0afaa4a88efcddf50be97b74"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#a35eb598d0afaa4a88efcddf50be97b74">llvm::NonLocalDepEntry::setResult</a></div><div class="ttdeci">void setResult(const MemDepResult &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00203">MemoryDependenceAnalysis.h:203</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html">llvm::AliasAnalysis::Location</a></div><div class="ttdoc">Location - A description of a memory location. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00106">AliasAnalysis.h:106</a></div></div>
<div class="ttc" id="DenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html_ae8f9fce2cb409f89c47535165f214a23"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">llvm::PointerIntPair::getInt</a></div><div class="ttdeci">IntType getInt() const </div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00075">PointerIntPair.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html"><div class="ttname"><a href="classllvm_1_1MemDepResult.html">llvm::MemDepResult</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00040">MemoryDependenceAnalysis.h:40</a></div></div>
<div class="ttc" id="BasicAliasAnalysis_8cpp_html_ad1b77598f771e74506b28a6ead5aa535"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#ad1b77598f771e74506b28a6ead5aa535">AliasAnalysis</a></div><div class="ttdeci">AliasAnalysis</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00572">BasicAliasAnalysis.cpp:572</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_a123c64ec585b35c114d596c86515473b"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#a123c64ec585b35c114d596c86515473b">llvm::NonLocalDepEntry::NonLocalDepEntry</a></div><div class="ttdeci">NonLocalDepEntry(BasicBlock *bb, MemDepResult result)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00194">MemoryDependenceAnalysis.h:194</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html_a2aafa035d16eddeaadc40efbf8c721e5"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">llvm::PointerIntPair::getPointer</a></div><div class="ttdeci">PointerTy getPointer() const </div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00070">PointerIntPair.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a62f42a4e8403a28d0e18eb30705c510f"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a62f42a4e8403a28d0e18eb30705c510f">llvm::A64CC::Invalid</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00049">AArch64BaseInfo.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a6acfd94bce56e2812f8e5d7626dd9b8f"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a6acfd94bce56e2812f8e5d7626dd9b8f">llvm::MemDepResult::getClobber</a></div><div class="ttdeci">static MemDepResult getClobber(Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00109">MemoryDependenceAnalysis.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a2a64d8f5153ebc0e8c08d0702c2c4aab"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a2a64d8f5153ebc0e8c08d0702c2c4aab">llvm::MemDepResult::isNonLocal</a></div><div class="ttdeci">bool isNonLocal() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00137">MemoryDependenceAnalysis.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MemoryDependenceAnalysis_html_af98ef3ed6d09824e50ec69cebc839609"><div class="ttname"><a href="classllvm_1_1MemoryDependenceAnalysis.html#af98ef3ed6d09824e50ec69cebc839609">llvm::MemoryDependenceAnalysis::NonLocalDepInfo</a></div><div class="ttdeci">std::vector&lt; NonLocalDepEntry &gt; NonLocalDepInfo</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00263">MemoryDependenceAnalysis.h:263</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="Pass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_aaca6ad18347373fe009ec2acc9d1a6e6"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#aaca6ad18347373fe009ec2acc9d1a6e6">llvm::NonLocalDepEntry::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(const NonLocalDepEntry &amp;RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00207">MemoryDependenceAnalysis.h:207</a></div></div>
<div class="ttc" id="ValueHandle_8h_html"><div class="ttname"><a href="ValueHandle_8h.html">ValueHandle.h</a></div></div>
<div class="ttc" id="AliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_aac514aba1c8e1181724843f4527f585e"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#aac514aba1c8e1181724843f4527f585e">llvm::MemDepResult::MemDepResult</a></div><div class="ttdeci">MemDepResult()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00101">MemoryDependenceAnalysis.h:101</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a8452eb6508c00e2b6d56926bebc79f57"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a8452eb6508c00e2b6d56926bebc79f57">llvm::MemDepResult::getInst</a></div><div class="ttdeci">Instruction * getInst() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00158">MemoryDependenceAnalysis.h:158</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html_ac8193cad95077f38e14f91666028fc00"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html#ac8193cad95077f38e14f91666028fc00">llvm::NonLocalDepEntry::NonLocalDepEntry</a></div><div class="ttdeci">NonLocalDepEntry(BasicBlock *bb)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00198">MemoryDependenceAnalysis.h:198</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a2e90db9ab998f9b86a33c64de145e7c6"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a2e90db9ab998f9b86a33c64de145e7c6">llvm::MemDepResult::MemoryDependenceAnalysis</a></div><div class="ttdeci">friend class MemoryDependenceAnalysis</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00168">MemoryDependenceAnalysis.h:168</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a8d894818f6befa30ad9bb75085ed0a20"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a8d894818f6befa30ad9bb75085ed0a20">llvm::AliasAnalysis::UnknownSize</a></div><div class="ttdeci">static uint64_t const UnknownSize</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00084">AliasAnalysis.h:84</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepResult_html_afde9b66e1baaf074f7b3013c63f0f692"><div class="ttname"><a href="classllvm_1_1NonLocalDepResult.html#afde9b66e1baaf074f7b3013c63f0f692">llvm::NonLocalDepResult::getResult</a></div><div class="ttdeci">const MemDepResult &amp; getResult() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00230">MemoryDependenceAnalysis.h:230</a></div></div>
<div class="ttc" id="classllvm_1_1NonLocalDepEntry_html"><div class="ttname"><a href="classllvm_1_1NonLocalDepEntry.html">llvm::NonLocalDepEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00190">MemoryDependenceAnalysis.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1CallSite_html"><div class="ttname"><a href="classllvm_1_1CallSite.html">llvm::CallSite</a></div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00295">CallSite.h:295</a></div></div>
<div class="ttc" id="OwningPtr_8h_html"><div class="ttname"><a href="OwningPtr_8h.html">OwningPtr.h</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a465c166d520399ff2b114c8aac5e7f3d"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a465c166d520399ff2b114c8aac5e7f3d">llvm::MemDepResult::getNonLocal</a></div><div class="ttdeci">static MemDepResult getNonLocal()</div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00113">MemoryDependenceAnalysis.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_a3fe00b5e6a4d79cd580343db61ccf5ec"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#a3fe00b5e6a4d79cd580343db61ccf5ec">llvm::MemDepResult::isNonFuncLocal</a></div><div class="ttdeci">bool isNonFuncLocal() const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00144">MemoryDependenceAnalysis.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1MemDepResult_html_ad3558da9886b760eccf36ec196258716"><div class="ttname"><a href="classllvm_1_1MemDepResult.html#ad3558da9886b760eccf36ec196258716">llvm::MemDepResult::operator!=</a></div><div class="ttdeci">bool operator!=(const MemDepResult &amp;M) const </div><div class="ttdef"><b>Definition:</b> <a href="MemoryDependenceAnalysis_8h_source.html#l00164">MemoryDependenceAnalysis.h:164</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:06 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
