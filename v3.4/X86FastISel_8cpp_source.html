<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: X86FastISel.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('X86FastISel_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">X86FastISel.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="X86FastISel_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- X86FastISel.cpp - X86 FastISel implementation ---------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file defines the X86-specific support for the FastISel class. Much</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// of the target-specific code is generated by tablegen in the file</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// X86GenFastISel.inc, which is #included here.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86_8h.html">X86.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86CallingConv_8h.html">X86CallingConv.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86ISelLowering_8h.html">X86ISelLowering.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86InstrBuilder_8h.html">X86InstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86RegisterInfo_8h.html">X86RegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86Subtarget_8h.html">X86Subtarget.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86TargetMachine_8h.html">X86TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_2Analysis_8h.html">llvm/CodeGen/Analysis.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FastISel_8h.html">llvm/CodeGen/FastISel.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionLoweringInfo_8h.html">llvm/CodeGen/FunctionLoweringInfo.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineConstantPool_8h.html">llvm/CodeGen/MachineConstantPool.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConv_8h.html">llvm/IR/CallingConv.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallSite_8h.html">llvm/Support/CallSite.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GetElementPtrTypeIterator_8h.html">llvm/Support/GetElementPtrTypeIterator.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOptions_8h.html">llvm/Target/TargetOptions.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">class </span>X86FastISel : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FastISel.html">FastISel</a> {<span class="comment"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">  /// Subtarget - Keep a pointer to the X86Subtarget around so that we can</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">  /// make the right decision when generating code for different targets.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a> *Subtarget;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">  /// X86ScalarSSEf32, X86ScalarSSEf64 - Select between SSE or x87</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">  /// floating point ops.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">  /// When SSE is available, use it for f32 operations.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">  /// When SSE2 is available, use it for f64 operations.</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> X86ScalarSSEf64;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordtype">bool</span> X86ScalarSSEf32;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keyword">explicit</span> X86FastISel(<a class="code" href="classllvm_1_1FunctionLoweringInfo.html">FunctionLoweringInfo</a> &amp;funcInfo,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *libInfo)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    : <a class="code" href="classllvm_1_1FastISel.html">FastISel</a>(funcInfo, libInfo) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    Subtarget = &amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getSubtarget&lt;<a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a>&gt;();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    X86ScalarSSEf64 = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a3715880ebfc4edc7a0e6bad607715954">hasSSE2</a>();</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    X86ScalarSSEf32 = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a6b13ba290b25a5a9a392c5bb6adf898b">hasSSE1</a>();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TargetSelectInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">  /// \brief The specified machine instr operand is a vreg, and that</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">  /// vreg is being provided by the specified load instruction.  If possible,</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">  /// try to fold the load as an operand to the instruction, returning true if</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">  /// possible.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> tryToFoldLoadIntoMI(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> FastLowerArguments();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;X86GenFastISel.inc&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">bool</span> X86FastEmitCompare(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">bool</span> X86FastEmitLoad(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM, <span class="keywordtype">unsigned</span> &amp;RR);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordtype">bool</span> X86FastEmitStore(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <span class="keyword">const</span> <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                        <span class="keywordtype">bool</span> Aligned = <span class="keyword">false</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">bool</span> X86FastEmitStore(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keywordtype">unsigned</span> ValReg, <span class="keyword">const</span> <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                        <span class="keywordtype">bool</span> Aligned = <span class="keyword">false</span>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordtype">bool</span> X86FastEmitExtend(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> Opc, <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT, <span class="keywordtype">unsigned</span> Src, <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                         <span class="keywordtype">unsigned</span> &amp;ResultReg);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">bool</span> X86SelectAddress(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">bool</span> X86SelectCallAddress(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">bool</span> X86SelectLoad(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">bool</span> X86SelectStore(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">bool</span> X86SelectRet(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">bool</span> X86SelectCmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordtype">bool</span> X86SelectZExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordtype">bool</span> X86SelectBranch(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">bool</span> X86SelectShift(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">bool</span> X86SelectDivRem(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">bool</span> X86SelectSelect(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">bool</span> X86SelectTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">bool</span> X86SelectFPExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">bool</span> X86SelectFPTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordtype">bool</span> X86VisitIntrinsicCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">bool</span> X86SelectCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordtype">bool</span> DoSelectCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *MemIntName);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86InstrInfo.html">X86InstrInfo</a> *getInstrInfo()<span class="keyword"> const </span>{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> getTargetMachine()-&gt;getInstrInfo();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *getTargetMachine()<span class="keyword"> const </span>{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> *<span class="keyword">&gt;</span>(&amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">bool</span> handleConstantAddresses(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordtype">unsigned</span> TargetMaterializeConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordtype">unsigned</span> TargetMaterializeAlloca(<span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordtype">unsigned</span> TargetMaterializeFloatZero(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CF);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">  /// isScalarFPTypeInSSEReg - Return true if the specified scalar FP type is</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">  /// computed in an SSE register, not on the X87 floating point stack.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isScalarFPTypeInSSEReg(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT)<span class="keyword"> const </span>{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> &amp;&amp; X86ScalarSSEf64) || <span class="comment">// f64 is when SSE2</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; X86ScalarSSEf32);   <span class="comment">// f32 is when SSE1</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">bool</span> isTypeLegal(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;VT, <span class="keywordtype">bool</span> AllowI1 = <span class="keyword">false</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">bool</span> IsMemcpySmall(uint64_t Len);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">bool</span> TryEmitSmallMemcpy(<a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> DestAM,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                          <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> SrcAM, uint64_t Len);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;};</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;} <span class="comment">// end anonymous namespace.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keywordtype">bool</span> X86FastISel::isTypeLegal(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;VT, <span class="keywordtype">bool</span> AllowI1) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> evt = TLI.getValueType(Ty, <span class="comment">/*HandleUnknown=*/</span><span class="keyword">true</span>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">if</span> (evt == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a> || !evt.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Unhandled type. Halt &quot;fast&quot; selection and bail.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  VT = evt.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// For now, require SSE/SSE2 for performing floating-point operations,</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// since x87 requires additional work.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> &amp;&amp; !X86ScalarSSEf64)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; !X86ScalarSSEf32)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// Similarly, no f80 support yet.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691">MVT::f80</a>)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// We only handle legal types. For example, on x86-32 the instruction</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// selector contains all of the 64-bit instructions from x86-64,</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// under the assumption that i64 won&#39;t be used if the target doesn&#39;t</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// support it.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">return</span> (AllowI1 &amp;&amp; VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>) || TLI.isTypeLegal(VT);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">#include &quot;X86GenCallingConv.inc&quot;</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/// X86FastEmitLoad - Emit a machine instruction to load a value of type VT.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">/// The address is either pre-computed, i.e. Ptr, or a GlobalAddress, i.e. GV.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">/// Return true and the result register by reference if it is possible.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86FastISel::X86FastEmitLoad(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                  <span class="keywordtype">unsigned</span> &amp;ResultReg) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// Get opcode and regclass of the output for the given load instruction.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = NULL;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>:</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    Opc = X86::MOV8rm;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    RC  = &amp;X86::GR8RegClass;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    Opc = X86::MOV16rm;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    RC  = &amp;X86::GR16RegClass;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    Opc = X86::MOV32rm;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    RC  = &amp;X86::GR32RegClass;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Must be in x86-64 mode.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    Opc = X86::MOV64rm;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    RC  = &amp;X86::GR64RegClass;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (X86ScalarSSEf32) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVSSrm : X86::MOVSSrm;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      RC  = &amp;X86::FR32RegClass;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      Opc = X86::LD_Fp32m;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      RC  = &amp;X86::RFP32RegClass;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (X86ScalarSSEf64) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVSDrm : X86::MOVSDrm;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      RC  = &amp;X86::FR64RegClass;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      Opc = X86::LD_Fp64m;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      RC  = &amp;X86::RFP64RegClass;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691">MVT::f80</a>:</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// No f80 support yet.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  ResultReg = createResultReg(RC);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">addFullAddress</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                         DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg), AM);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">/// X86FastEmitStore - Emit a machine instruction to store a value Val of</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/// type VT. The address is either pre-computed, consisted of a base ptr, Ptr</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/// and a displacement offset, or a GlobalAddress,</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">/// i.e. V. Return true if it is possible.</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;X86FastISel::X86FastEmitStore(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keywordtype">unsigned</span> ValReg,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM, <span class="keywordtype">bool</span> Aligned) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// Get opcode and regclass of the output for the given store instruction.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691">MVT::f80</a>: <span class="comment">// No f80 support yet.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>: {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// Mask out all but lowest bit.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">unsigned</span> AndResult = createResultReg(&amp;X86::GR8RegClass);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::AND8ri), AndResult).addReg(ValReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    ValReg = AndResult;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// FALLTHROUGH, handling i1 as i8.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:  Opc = X86::MOV8mr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: Opc = X86::MOV16mr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>: Opc = X86::MOV32mr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>: Opc = X86::MOV64mr; <span class="keywordflow">break</span>; <span class="comment">// Must be in x86-64 mode.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    Opc = X86ScalarSSEf32 ?</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;          (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVSSmr : X86::MOVSSmr) : X86::ST_Fp32m;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    Opc = X86ScalarSSEf64 ?</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVSDmr : X86::MOVSDmr) : X86::ST_Fp64m;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>:</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (Aligned)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVAPSmr : X86::MOVAPSmr;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVUPSmr : X86::MOVUPSmr;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca83cf3151949430d75a783f36e2a1ffd8">MVT::v2f64</a>:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (Aligned)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVAPDmr : X86::MOVAPDmr;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVUPDmr : X86::MOVUPDmr;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>:</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca0f87637b0102ab8e9f085bf80358fabc">MVT::v2i64</a>:</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>:</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>:</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (Aligned)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVDQAmr : X86::MOVDQAmr;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVDQUmr : X86::MOVDQUmr;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">addFullAddress</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt,</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                         DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc)), AM).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ValReg);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86FastEmitStore(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Val,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM, <span class="keywordtype">bool</span> Aligned) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// Handle &#39;null&#39; like i32/i64 0.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(Val))</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    Val = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(TD.getIntPtrType(Val-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()));</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// If this is a store of a simple constant, fold the constant into the store.</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(Val)) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14a1d25947b1e05ec73aa88243522dd01ff">Signed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>:  Signed = <span class="keyword">false</span>;     <span class="comment">// FALLTHROUGH to handle as i8.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:  Opc = X86::MOV8mi;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: Opc = X86::MOV16mi; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>: Opc = X86::MOV32mi; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">// Must be a 32-bit sign extended value.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a9bf6430c1a0cf078ee3f9f520fa407f0">isInt&lt;32&gt;</a>(CI-&gt;getSExtValue()))</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        Opc = X86::MOV64mi32;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (Opc) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">addFullAddress</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt,</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                             DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc)), AM)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                             .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Signed ? (uint64_t) CI-&gt;getSExtValue() :</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                              CI-&gt;getZExtValue());</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordtype">unsigned</span> ValReg = getRegForValue(Val);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (ValReg == 0)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">return</span> X86FastEmitStore(VT, ValReg, AM, Aligned);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">/// X86FastEmitExtend - Emit a machine instruction to extend a value Src of</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">/// type SrcVT to type DstVT using the specified extension opcode Opc (e.g.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">/// ISD::SIGN_EXTEND).</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86FastISel::X86FastEmitExtend(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> Opc, <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT,</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                    <span class="keywordtype">unsigned</span> Src, <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                    <span class="keywordtype">unsigned</span> &amp;ResultReg) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordtype">unsigned</span> RR = FastEmit_r(SrcVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>(), DstVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>(), Opc,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                           Src, <span class="comment">/*TODO: Kill=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">if</span> (RR == 0)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  ResultReg = RR;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keywordtype">bool</span> X86FastISel::handleConstantAddresses(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// Handle constant address.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = dyn_cast&lt;GlobalValue&gt;(V)) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// Can&#39;t handle alternate code models yet.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getCodeModel() != <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">CodeModel::Small</a>)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// Can&#39;t handle TLS yet.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GVar = dyn_cast&lt;GlobalVariable&gt;(GV))</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">if</span> (GVar-&gt;isThreadLocal())</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// Can&#39;t handle TLS yet, part 2 (this is slightly crazy, but this is how</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// it works...).</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(GV))</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GVar =</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            dyn_cast_or_null&lt;GlobalVariable&gt;(GA-&gt;resolveAliasedGlobal(<span class="keyword">false</span>)))</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">if</span> (GVar-&gt;isThreadLocal())</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// RIP-relative addresses can&#39;t have additional register operands, so if</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">// we&#39;ve already folded stuff into the addressing mode, just force the</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// global value into its own register, which we can use as the basereg.</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>() ||</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        (AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> == 0 &amp;&amp; AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> == 0)) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="comment">// Okay, we&#39;ve committed to selecting this global. Set up the address.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> = GV;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="comment">// Allow the subtarget to classify the global.</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> GVFlags = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a9e328a04a5ee4f27749cb57497b7cd96">ClassifyGlobalReference</a>(GV, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="comment">// If this reference is relative to the pic base, set it now.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0a17fba293567ee7ac6bb0ff0843d9e4">isGlobalRelativeToPICBase</a>(GVFlags)) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="comment">// FIXME: How do we know Base.Reg is free??</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = getInstrInfo()-&gt;getGlobalBaseReg(FuncInfo.MF);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="comment">// Unless the ABI requires an extra load, return a direct reference to</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="comment">// the global.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a029305779c4671cfa47263aae5ed18cc">isGlobalStubReference</a>(GVFlags)) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>()) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;          <span class="comment">// Use rip-relative addressing if we can.  Above we verified that the</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;          <span class="comment">// base and index registers are unused.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          assert(AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> == 0 &amp;&amp; AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> == 0);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;          AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = X86::RIP;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a1894a1e6be0ec8bbc763476332735765">GVOpFlags</a> = GVFlags;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="comment">// Ok, we need to do a load from a stub.  If we&#39;ve already loaded from</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="comment">// this stub, reuse the loaded pointer, otherwise emit the load now.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const Value*, unsigned&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LocalValueMap.find(V);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordtype">unsigned</span> LoadReg;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">if</span> (I != LocalValueMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>() &amp;&amp; I-&gt;second != 0) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        LoadReg = I-&gt;second;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="comment">// Issue load from stub.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = NULL;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> StubAM;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        StubAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        StubAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> = GV;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        StubAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a1894a1e6be0ec8bbc763476332735765">GVOpFlags</a> = GVFlags;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="comment">// Prepare for inserting code in the local-value area.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        SavePoint SaveInsertPt = enterLocalValueArea();</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span> (TLI.getPointerTy() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          Opc = X86::MOV64rm;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          RC  = &amp;X86::GR64RegClass;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>())</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            StubAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = X86::RIP;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          Opc = X86::MOV32rm;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          RC  = &amp;X86::GR32RegClass;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        LoadReg = createResultReg(RC);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> LoadMI =</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), LoadReg);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">addFullAddress</a>(LoadMI, StubAM);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">// Ok, back to normal mode.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        leaveLocalValueArea(SaveInsertPt);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">// Prevent loading GV stub multiple times in same MBB.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        LocalValueMap[V] = LoadReg;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="comment">// Now construct the final address. Note that the Disp, Scale,</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="comment">// and Index values may already be set here.</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = LoadReg;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> = 0;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// If all else fails, try to materialize the value in a register.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span> (!AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> || !Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>()) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> == 0) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = getRegForValue(V);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keywordflow">return</span> AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> != 0;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> == 0) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      assert(AM.<a class="code" href="structllvm_1_1X86AddressMode.html#aad094c5c9174ced82b0e50cc1107f6b6">Scale</a> == 1 &amp;&amp; <span class="stringliteral">&quot;Scale with no index!&quot;</span>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> = getRegForValue(V);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> != 0;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">/// X86SelectAddress - Attempt to fill in an address from the given value.</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86FastISel::X86SelectAddress(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 32&gt;</a> GEPs;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;redo_gep:</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1User.html">User</a> *U = NULL;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Instruction::UserOp1;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I = dyn_cast&lt;Instruction&gt;(V)) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// Don&#39;t walk into other basic blocks; it&#39;s possible we haven&#39;t</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// visited them yet, so the instructions may not yet be assigned</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// virtual registers.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (FuncInfo.StaticAllocaMap.count(static_cast&lt;const AllocaInst *&gt;(V)) ||</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        FuncInfo.MBBMap[I-&gt;getParent()] == FuncInfo.MBB) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      Opcode = I-&gt;getOpcode();</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      U = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantExpr&gt;(V)) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    Opcode = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getOpcode();</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    U = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *Ty = dyn_cast&lt;PointerType&gt;(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (Ty-&gt;getAddressSpace() &gt; 255)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="comment">// Fast instruction selection doesn&#39;t support the special</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="comment">// address spaces.</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast:</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// Look past bitcasts.</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> X86SelectAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">case</span> Instruction::IntToPtr:</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// Look past no-op inttoptrs.</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (TLI.getValueType(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) == TLI.getPointerTy())</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">return</span> X86SelectAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">case</span> Instruction::PtrToInt:</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// Look past no-op ptrtoints.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (TLI.getValueType(U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) == TLI.getPointerTy())</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">return</span> X86SelectAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">case</span> Instruction::Alloca: {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// Do static allocas.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = cast&lt;AllocaInst&gt;(V);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const AllocaInst*, int&gt;::iterator</a> SI =</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      FuncInfo.StaticAllocaMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(A);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (SI != FuncInfo.StaticAllocaMap.end()) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a06161eb542d205db0ba9b3cac2de306c">BaseType</a> = <a class="code" href="structllvm_1_1X86AddressMode.html#a0f0dbd990b6b52c4b884480fc7f75721ab07c42c17fdd1279c09b961c89653ffb">X86AddressMode::FrameIndexBase</a>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#a967aafff1ceb0ab66c9de70c5a94eacd">FrameIndex</a> = SI-&gt;second;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">case</span> Instruction::Add: {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// Adds of constants are common and easy enough.</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      uint64_t Disp = (int32_t)AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a> + (uint64_t)CI-&gt;getSExtValue();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="comment">// They have to fit in the 32-bit signed displacement field though.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a9bf6430c1a0cf078ee3f9f520fa407f0">isInt&lt;32&gt;</a>(Disp)) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a> = (uint32_t)Disp;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">return</span> X86SelectAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr: {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> SavedAM = AM;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">// Pattern-match simple GEPs.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    uint64_t Disp = (int32_t)AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordtype">unsigned</span> IndexReg = AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordtype">unsigned</span> Scale = AM.<a class="code" href="structllvm_1_1X86AddressMode.html#aad094c5c9174ced82b0e50cc1107f6b6">Scale</a>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> GTI = <a class="code" href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(U);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">// Iterate through the indices, folding what we can. Constants can be</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// folded, and one dynamic index can be handled, if the scale is supported.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">User::const_op_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = U-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>() + 1, e = U-&gt;<a class="code" href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>();</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;         <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++GTI) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI)) {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1StructLayout.html">StructLayout</a> *SL = TD.getStructLayout(STy);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        Disp += SL-&gt;<a class="code" href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">getElementOffset</a>(cast&lt;ConstantInt&gt;(Op)-&gt;getZExtValue());</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="comment">// A array/variable index is always of the form i*S where S is the</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="comment">// constant scale size.  See if we can push the scale into immediates.</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      uint64_t <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = TD.getTypeAllocSize(GTI.getIndexedType());</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(Op)) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          <span class="comment">// Constant-offset addressing.</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          Disp += CI-&gt;getSExtValue() * <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">if</span> (canFoldAddIntoGEP(U, Op)) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;          <span class="comment">// A compatible add with a constant operand. Fold the constant.</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;          <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI =</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            cast&lt;ConstantInt&gt;(cast&lt;AddOperator&gt;(Op)-&gt;getOperand(1));</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;          Disp += CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>() * <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;          <span class="comment">// Iterate on the other operand.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;          Op = cast&lt;AddOperator&gt;(Op)-&gt;getOperand(0);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span> (IndexReg == 0 &amp;&amp;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            (!AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> || !Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>()) &amp;&amp;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            (S == 1 || S == 2 || S == 4 || S == 8)) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;          <span class="comment">// Scaled-index addressing.</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;          Scale = <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;          IndexReg = getRegForGEPIndex(Op).first;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;          <span class="keywordflow">if</span> (IndexReg == 0)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="comment">// Unsupported.</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">goto</span> unsupported_gep;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// Check for displacement overflow.</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a9bf6430c1a0cf078ee3f9f520fa407f0">isInt&lt;32&gt;</a>(Disp))</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> = IndexReg;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    AM.<a class="code" href="structllvm_1_1X86AddressMode.html#aad094c5c9174ced82b0e50cc1107f6b6">Scale</a> = Scale;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a> = (uint32_t)Disp;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    GEPs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(V);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *GEP =</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          dyn_cast&lt;GetElementPtrInst&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0))) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="comment">// Ok, the GEP indices were covered by constant-offset and scaled-index</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="comment">// addressing. Update the address state and move on to examining the base.</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      V = GEP;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">goto</span> redo_gep;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (X86SelectAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM)) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// If we couldn&#39;t merge the gep value into this addr mode, revert back to</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// our address and just match the value instead of completely failing.</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    AM = SavedAM;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const Value *&gt;::reverse_iterator</a></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;           I = GEPs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a23aab542398091e1fcfd46b6006d64ac">rbegin</a>(), E = GEPs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#ad696953257cf1c4e5bd12d02146e7287">rend</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">if</span> (handleConstantAddresses(*I, AM))</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  unsupported_gep:</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// Ok, the GEP indices weren&#39;t all covered.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordflow">return</span> handleConstantAddresses(V, AM);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">/// X86SelectCallAddress - Attempt to fill in an address from the given value.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86FastISel::X86SelectCallAddress(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> &amp;AM) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1User.html">User</a> *U = NULL;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Instruction::UserOp1;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(V);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// Record if the value is defined in the same basic block.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// This information is crucial to know whether or not folding an</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// operand is valid.</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// Indeed, FastISel generates or reuses a virtual register for all</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">// operands of all instructions it selects. Obviously, the definition and</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// its uses must use the same virtual register otherwise the produced</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">// code is incorrect.</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// Before instruction selection, FunctionLoweringInfo::set sets the virtual</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// registers for values that are alive across basic blocks. This ensures</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">// that the values are consistently set between across basic block, even</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="comment">// if different instruction selection mechanisms are used (e.g., a mix of</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">// SDISel and FastISel).</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// For values local to a basic block, the instruction selection process</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// generates these virtual registers with whatever method is appropriate</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// for its needs. In particular, FastISel and SDISel do not share the way</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">// local virtual registers are set.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">// Therefore, this is impossible (or at least unsafe) to share values</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// between basic blocks unless they use the same instruction selection</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// method, which is not guarantee for X86.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// Moreover, things like hasOneUse could not be used accurately, if we</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// allow to reference values across basic blocks whereas they are not</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// alive across basic blocks initially.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordtype">bool</span> InMBB = <span class="keyword">true</span>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (I) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    Opcode = I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>();</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    U = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    InMBB = I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == FuncInfo.MBB-&gt;getBasicBlock();</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantExpr&gt;(V)) {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    Opcode = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getOpcode();</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    U = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast:</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// Look past bitcasts if its operand is in the same BB.</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (InMBB)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="keywordflow">return</span> X86SelectCallAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">case</span> Instruction::IntToPtr:</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">// Look past no-op inttoptrs if its operand is in the same BB.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (InMBB &amp;&amp;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        TLI.getValueType(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) == TLI.getPointerTy())</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">return</span> X86SelectCallAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">case</span> Instruction::PtrToInt:</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// Look past no-op ptrtoints if its operand is in the same BB.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (InMBB &amp;&amp;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        TLI.getValueType(U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) == TLI.getPointerTy())</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">return</span> X86SelectCallAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="comment">// Handle constant address.</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = dyn_cast&lt;GlobalValue&gt;(V)) {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="comment">// Can&#39;t handle alternate code models yet.</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getCodeModel() != <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">CodeModel::Small</a>)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">// RIP-relative addresses can&#39;t have additional register operands.</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>() &amp;&amp;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        (AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> != 0 || AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> != 0))</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// Can&#39;t handle DLLImport.</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;hasDLLImportLinkage())</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">// Can&#39;t handle TLS.</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GVar = dyn_cast&lt;GlobalVariable&gt;(GV))</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">if</span> (GVar-&gt;isThreadLocal())</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// Okay, we&#39;ve committed to selecting this global. Set up the basic address.</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> = GV;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// No ABI requires an extra load for anything other than DLLImport, which</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">// we rejected above. Return a direct reference to the global.</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>()) {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="comment">// Use rip-relative addressing if we can.  Above we verified that the</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="comment">// base and index registers are unused.</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      assert(AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> == 0 &amp;&amp; AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> == 0);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = X86::RIP;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a3f587325f64fb4081346df83a2a2e159">isPICStyleStubPIC</a>()) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a1894a1e6be0ec8bbc763476332735765">GVOpFlags</a> = <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84adca1e9b1551356bed7c8ef8cb0f1c471">X86II::MO_PIC_BASE_OFFSET</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">isPICStyleGOT</a>()) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a1894a1e6be0ec8bbc763476332735765">GVOpFlags</a> = <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84a23bf757b117faacb20d4521a6ab42e51">X86II::MO_GOTOFF</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// If all else fails, try to materialize the value in a register.</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keywordflow">if</span> (!AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> || !Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>()) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> == 0) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = getRegForValue(V);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">return</span> AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> != 0;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> == 0) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      assert(AM.<a class="code" href="structllvm_1_1X86AddressMode.html#aad094c5c9174ced82b0e50cc1107f6b6">Scale</a> == 1 &amp;&amp; <span class="stringliteral">&quot;Scale with no index!&quot;</span>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> = getRegForValue(V);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">return</span> AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> != 0;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">/// X86SelectStore - Select and emit code to implement store instructions.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86FastISel::X86SelectStore(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// Atomic stores need special handling.</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *S = cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">if</span> (S-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a6db4d11981474f069a29e1172da2e7fa">isAtomic</a>())</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordtype">unsigned</span> SABIAlignment =</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    TD.getABITypeAlignment(S-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordtype">bool</span> Aligned = S-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a3084f1dd69d67e1965fd1fe721a69f2e">getAlignment</a>() == 0 || S-&gt;<a class="code" href="classllvm_1_1StoreInst.html#a3084f1dd69d67e1965fd1fe721a69f2e">getAlignment</a>() &gt;= SABIAlignment;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT, <span class="comment">/*AllowI1=*/</span><span class="keyword">true</span>))</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordflow">if</span> (!X86SelectAddress(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), AM))</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">return</span> X86FastEmitStore(VT, I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM, Aligned);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">/// X86SelectRet - Select and emit code to implement ret instructions.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86FastISel::X86SelectRet(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> *<a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a> = cast&lt;ReturnInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = *I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>();</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a> *X86MFInfo =</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      FuncInfo.MF-&gt;getInfo&lt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html">X86MachineFunctionInfo</a>&gt;();</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">if</span> (!FuncInfo.CanLowerReturn)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = F.getCallingConv();</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a> &amp;&amp;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> &amp;&amp;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afde87569738f9e23963e8735f71c33eb">CallingConv::X86_FastCall</a> &amp;&amp;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a10f11fb587acddab17f3ad85eb698fbe">CallingConv::X86_64_SysV</a>)</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ad7680f2a7ff3eac072b3e08e9ba9b08c">isCallingConvWin64</a>(CC))</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// Don&#39;t handle popping bytes on return for now.</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">if</span> (X86MFInfo-&gt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html#a7d84acb0095b744998afca9246cd974c">getBytesToPopOnReturn</a>() != 0)</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="comment">// fastcc with -tailcallopt is intended to provide a guaranteed</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="comment">// tail call optimization. Fastisel doesn&#39;t know how to do that.</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">if</span> (CC == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> &amp;&amp; <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.Options.GuaranteedTailCallOpt)</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">// Let SDISel handle vararg functions.</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">if</span> (F.isVarArg())</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">// Build a list of return value registers.</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> RetRegs;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">if</span> (Ret-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>() &gt; 0) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ISD::OutputArg, 4&gt;</a> Outs;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="namespacellvm.html#ae9a577ed38a1ba3a31fa03fb25d369ad">GetReturnInfo</a>(F.getReturnType(), F.getAttributes(), Outs, TLI);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// Analyze operands of the call, assigning locations to each operand.</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ValLocs;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CC, F.isVarArg(), *FuncInfo.MF, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>, ValLocs,</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                   I-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>());</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    CCInfo.<a class="code" href="classllvm_1_1CCState.html#a73b07a938dd8182363ba52719d38bf53">AnalyzeReturn</a>(Outs, RetCC_X86);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *RV = Ret-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = getRegForValue(RV);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> (Reg == 0)</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">// Only handle a single return value for now.</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">if</span> (ValLocs.size() != 1)</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = ValLocs[0];</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">// Don&#39;t bother handling odd stuff for now.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">getLocInfo</a>() != <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>)</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// Only handle register returns for now.</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> (!VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>())</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">// The calling-convention tables for x87 returns don&#39;t tell</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// the whole story.</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">if</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>() == X86::ST0 || VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>() == X86::ST1)</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordtype">unsigned</span> SrcReg = Reg + VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>();</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = TLI.getValueType(RV-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>();</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="comment">// Special handling for extended integers.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (SrcVT != DstVT) {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">if</span> (!Outs[0].<a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>.isZExt() &amp;&amp; !Outs[0].Flags.isSExt())</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      assert(DstVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; <span class="stringliteral">&quot;X86 should always ext to i32&quot;</span>);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>) {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span> (Outs[0].<a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>.isSExt())</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        SrcReg = FastEmitZExtFromI1(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, SrcReg, <span class="comment">/*TODO: Kill=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        SrcVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="keywordtype">unsigned</span> Op = Outs[0].Flags.isZExt() ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a> :</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                             <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      SrcReg = FastEmit_r(SrcVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>(), DstVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>(), Op,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                          SrcReg, <span class="comment">/*TODO: Kill=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="comment">// Make the copy.</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordtype">unsigned</span> DstReg = VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>();</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a>* SrcRC = <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(SrcReg);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// Avoid a cross-class copy. This is very unlikely.</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">if</span> (!SrcRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a18659a1da7db1674fa972c28846a3958">contains</a>(DstReg))</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            DstReg).addReg(SrcReg);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// Add register to return instruction.</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    RetRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>());</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="comment">// The x86-64 ABI for returning structs by value requires that we copy</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="comment">// the sret argument into %rax for the return. We saved the argument into</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="comment">// a virtual register in the entry block, so now we copy the value out</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="comment">// and into %rax. We also do the same with %eax for Win32.</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">if</span> (F.hasStructRetAttr() &amp;&amp;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() || Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2f7e5de56eac03da1d4f20ca402dfd0c">isTargetWindows</a>())) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordtype">unsigned</span> Reg = X86MFInfo-&gt;<a class="code" href="classllvm_1_1X86MachineFunctionInfo.html#ae3c76e82b7ff318588be8758d9883bdf">getSRetReturnReg</a>();</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    assert(Reg &amp;&amp;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;           <span class="stringliteral">&quot;SRetReturnReg should have been set in LowerFormalArguments()!&quot;</span>);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordtype">unsigned</span> RetReg = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() ? X86::RAX : <a class="code" href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">X86::EAX</a>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            RetReg).addReg(Reg);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    RetRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(RetReg);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  }</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="comment">// Now emit the RET.</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::RET));</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RetRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(RetRegs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;}</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">/// X86SelectLoad - Select and emit code to implement load instructions.</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> X86FastISel::X86SelectLoad(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I)  {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// Atomic loads need special handling.</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">if</span> (cast&lt;LoadInst&gt;(I)-&gt;<a class="code" href="ThreadSanitizer_8cpp.html#accbf04314e7caef9ac81d62928dda8b8">isAtomic</a>())</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT, <span class="comment">/*AllowI1=*/</span><span class="keyword">true</span>))</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">if</span> (!X86SelectAddress(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM))</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = 0;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">if</span> (X86FastEmitLoad(VT, AM, ResultReg)) {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  }</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;}</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="X86FastISel_8cpp.html#a8a37b9d5aa1120121a9f73dfc2e302ba">  920</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86FastISel_8cpp.html#a8a37b9d5aa1120121a9f73dfc2e302ba">X86ChooseCmpOpcode</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a> *Subtarget) {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordtype">bool</span> HasAVX = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>();</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordtype">bool</span> X86ScalarSSEf32 = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a6b13ba290b25a5a9a392c5bb6adf898b">hasSSE1</a>();</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordtype">bool</span> X86ScalarSSEf64 = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a3715880ebfc4edc7a0e6bad607715954">hasSSE2</a>();</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">default</span>:       <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:  <span class="keywordflow">return</span> X86::CMP8rr;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: <span class="keywordflow">return</span> X86::CMP16rr;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>: <span class="keywordflow">return</span> X86::CMP32rr;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>: <span class="keywordflow">return</span> X86::CMP64rr;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> X86ScalarSSEf32 ? (HasAVX ? X86::VUCOMISSrr : X86::UCOMISSrr) : 0;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">return</span> X86ScalarSSEf64 ? (HasAVX ? X86::VUCOMISDrr : X86::UCOMISDrr) : 0;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;}</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">/// X86ChooseCmpImmediateOpcode - If we have a comparison with RHS as the RHS</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">/// of the comparison, return an opcode that works for the compare (e.g.</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">/// CMP32ri) otherwise return 0.</span></div><div class="line"><a name="l00941"></a><span class="lineno"><a class="line" href="X86FastISel_8cpp.html#a1eee6ac4842ce6fca9bdd513b73eb003">  941</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86FastISel_8cpp.html#a1eee6ac4842ce6fca9bdd513b73eb003">X86ChooseCmpImmediateOpcode</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *RHSC) {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// Otherwise, we can&#39;t fold the immediate into this comparison.</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>: <span class="keywordflow">return</span> X86::CMP8ri;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: <span class="keywordflow">return</span> X86::CMP16ri;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>: <span class="keywordflow">return</span> X86::CMP32ri;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="comment">// 64-bit comparisons are only valid if the immediate fits in a 32-bit sext</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="comment">// field.</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)RHSC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>() == RHSC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>())</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">return</span> X86::CMP64ri32;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86FastEmitCompare(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                                     <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordtype">unsigned</span> Op0Reg = getRegForValue(Op0);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">if</span> (Op0Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// Handle &#39;null&#39; like i32/i64 0.</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(Op1))</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    Op1 = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(TD.getIntPtrType(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()));</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// We have two options: compare with register or immediate.  If the RHS of</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="comment">// the compare is an immediate that we can fold into this compare, use</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// CMPri, otherwise use CMPrr.</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Op1C = dyn_cast&lt;ConstantInt&gt;(Op1)) {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> CompareImmOpc = <a class="code" href="X86FastISel_8cpp.html#a1eee6ac4842ce6fca9bdd513b73eb003">X86ChooseCmpImmediateOpcode</a>(VT, Op1C)) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(CompareImmOpc))</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        .addReg(Op0Reg)</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Op1C-&gt;getSExtValue());</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordtype">unsigned</span> CompareOpc = <a class="code" href="X86FastISel_8cpp.html#a8a37b9d5aa1120121a9f73dfc2e302ba">X86ChooseCmpOpcode</a>(VT, Subtarget);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordflow">if</span> (CompareOpc == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordtype">unsigned</span> Op1Reg = getRegForValue(Op1);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">if</span> (Op1Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(CompareOpc))</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    .addReg(Op0Reg)</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Op1Reg);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;}</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectCmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI = cast&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(&amp;X86::GR8RegClass);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordtype">unsigned</span> SetCCOpc;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordtype">bool</span> SwapArgs;  <span class="comment">// false -&gt; compare Op0, Op1.  true -&gt; compare Op1, Op0.</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">switch</span> (CI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>()) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a024db78a5ed74f64666f3ca4955e6eca">CmpInst::FCMP_OEQ</a>: {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span> (!X86FastEmitCompare(CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), VT))</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordtype">unsigned</span> EReg = createResultReg(&amp;X86::GR8RegClass);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordtype">unsigned</span> NPReg = createResultReg(&amp;X86::GR8RegClass);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::SETEr), EReg);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::SETNPr), NPReg);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::AND8rr), ResultReg).addReg(NPReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(EReg);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd">CmpInst::FCMP_UNE</a>: {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">if</span> (!X86FastEmitCompare(CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), VT))</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordtype">unsigned</span> NEReg = createResultReg(&amp;X86::GR8RegClass);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordtype">unsigned</span> PReg = createResultReg(&amp;X86::GR8RegClass);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::SETNEr), NEReg);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::SETPr), PReg);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::OR8rr),ResultReg)</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      .addReg(PReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(NEReg);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8">CmpInst::FCMP_OGT</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETAr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a541533f34077bbbcfb703a90f6d2da9b">CmpInst::FCMP_OGE</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETAEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8">CmpInst::FCMP_OLT</a>: SwapArgs = <span class="keyword">true</span>;  SetCCOpc = X86::SETAr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a9835cfe02fb5027680bd7203b024f77a">CmpInst::FCMP_OLE</a>: SwapArgs = <span class="keyword">true</span>;  SetCCOpc = X86::SETAEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a8a80b27ca29fe2076b9bbdee02c65464">CmpInst::FCMP_ONE</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETNEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa3213b645e029aba8bb1b85213607d5e">CmpInst::FCMP_ORD</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETNPr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05af0159e4005258dc54f20b6fc227d19ed">CmpInst::FCMP_UNO</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETPr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a919643b83ce3c9af2e4296ed5e413a1f">CmpInst::FCMP_UEQ</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETEr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a959268ceeae23abe5c9ad9e895669d0c">CmpInst::FCMP_UGT</a>: SwapArgs = <span class="keyword">true</span>;  SetCCOpc = X86::SETBr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344">CmpInst::FCMP_UGE</a>: SwapArgs = <span class="keyword">true</span>;  SetCCOpc = X86::SETBEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a75016d5872d90adf89cc1cbf5763f474">CmpInst::FCMP_ULT</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETBr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09">CmpInst::FCMP_ULE</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETBEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:  SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETEr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:  SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETNEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETAr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETAEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETBr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETBEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETGr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETGEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETLr;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>: SwapArgs = <span class="keyword">false</span>; SetCCOpc = X86::SETLEr; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *Op1 = CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (SwapArgs)</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// Emit a compare of Op0/Op1.</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">if</span> (!X86FastEmitCompare(Op0, Op1, VT))</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(SetCCOpc), ResultReg);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectZExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">if</span> (!TLI.isTypeLegal(DstVT))</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">if</span> (ResultReg == 0)</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// Handle zero-extension from i1 to i8, which is common.</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT = TLI.getSimpleValueType(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordflow">if</span> (SrcVT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// Set the high bits to zero.</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    ResultReg = FastEmitZExtFromI1(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, ResultReg, <span class="comment">/*TODO: Kill=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    SrcVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (ResultReg == 0)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordflow">if</span> (DstVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">// Handle extension to 64-bits via sub-register shenanigans.</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordtype">unsigned</span> MovInst;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">switch</span> (SrcVT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:  MovInst = X86::MOVZX32rr8;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: MovInst = X86::MOVZX32rr16; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>: MovInst = X86::MOV32rr;     <span class="keywordflow">break</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected zext to i64 source type&quot;</span>);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordtype">unsigned</span> Result32 = createResultReg(&amp;X86::GR32RegClass);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(MovInst), Result32)</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      .addReg(ResultReg);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    ResultReg = createResultReg(&amp;X86::GR64RegClass);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a9a1c30a208eb023907075d28e7ab2f19">TargetOpcode::SUBREG_TO_REG</a>),</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            ResultReg)</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      .addImm(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Result32).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(X86::sub_32bit);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DstVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>) {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    ResultReg = FastEmit_r(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, DstVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>(), <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>,</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                           ResultReg, <span class="comment">/*Kill=*/</span><span class="keyword">true</span>);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (ResultReg == 0)</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;}</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectBranch(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// Unconditional branches are selected by tablegen-generated code.</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// Handle a conditional branch.</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TrueMBB = FuncInfo.MBBMap[BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(0)];</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *FalseMBB = FuncInfo.MBBMap[BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(1)];</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">// Fold the common case of a conditional branch with a comparison</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">// in the same block (values defined on other blocks may not have</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">// initialized registers).</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI = dyn_cast&lt;CmpInst&gt;(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>())) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>() &amp;&amp; CI-&gt;getParent() == I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()) {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = TLI.getValueType(CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="comment">// Try to take advantage of fallthrough opportunities.</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> <a class="code" href="classPredicate.html">Predicate</a> = CI-&gt;getPredicate();</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">if</span> (FuncInfo.MBB-&gt;isLayoutSuccessor(TrueMBB)) {</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TrueMBB, FalseMBB);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        Predicate = <a class="code" href="classllvm_1_1CmpInst.html#a3c76890714593c78e3b5d142c9030548">CmpInst::getInversePredicate</a>(Predicate);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordtype">bool</span> SwapArgs;  <span class="comment">// false -&gt; compare Op0, Op1.  true -&gt; compare Op1, Op0.</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordtype">unsigned</span> BranchOpc; <span class="comment">// Opcode to jump on, e.g. &quot;X86::JA&quot;</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">switch</span> (Predicate) {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a024db78a5ed74f64666f3ca4955e6eca">CmpInst::FCMP_OEQ</a>:</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TrueMBB, FalseMBB);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        Predicate = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd">CmpInst::FCMP_UNE</a>;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="comment">// FALL THROUGH</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd">CmpInst::FCMP_UNE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JNE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8">CmpInst::FCMP_OGT</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JA_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a541533f34077bbbcfb703a90f6d2da9b">CmpInst::FCMP_OGE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JAE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8">CmpInst::FCMP_OLT</a>: SwapArgs = <span class="keyword">true</span>;  BranchOpc = X86::JA_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a9835cfe02fb5027680bd7203b024f77a">CmpInst::FCMP_OLE</a>: SwapArgs = <span class="keyword">true</span>;  BranchOpc = X86::JAE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a8a80b27ca29fe2076b9bbdee02c65464">CmpInst::FCMP_ONE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JNE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa3213b645e029aba8bb1b85213607d5e">CmpInst::FCMP_ORD</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JNP_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05af0159e4005258dc54f20b6fc227d19ed">CmpInst::FCMP_UNO</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JP_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a919643b83ce3c9af2e4296ed5e413a1f">CmpInst::FCMP_UEQ</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JE_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a959268ceeae23abe5c9ad9e895669d0c">CmpInst::FCMP_UGT</a>: SwapArgs = <span class="keyword">true</span>;  BranchOpc = X86::JB_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344">CmpInst::FCMP_UGE</a>: SwapArgs = <span class="keyword">true</span>;  BranchOpc = X86::JBE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a75016d5872d90adf89cc1cbf5763f474">CmpInst::FCMP_ULT</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JB_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09">CmpInst::FCMP_ULE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JBE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:  SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JE_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:  SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JNE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JA_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JAE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JB_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JBE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JG_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JGE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JL_4;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>: SwapArgs = <span class="keyword">false</span>; BranchOpc = X86::JLE_4; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      }</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *Op1 = CI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordflow">if</span> (SwapArgs)</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="comment">// Emit a compare of the LHS and RHS, setting the flags.</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keywordflow">if</span> (!X86FastEmitCompare(Op0, Op1, VT))</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(BranchOpc))</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        .addMBB(TrueMBB);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <span class="keywordflow">if</span> (Predicate == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd">CmpInst::FCMP_UNE</a>) {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="comment">// X86 requires a second branch to handle UNE (and OEQ,</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="comment">// which is mapped to UNE above).</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::JP_4))</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;          .addMBB(TrueMBB);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      }</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      FastEmitBranch(FalseMBB, DL);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      FuncInfo.MBB-&gt;addSuccessor(TrueMBB);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    }</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TruncInst.html">TruncInst</a> *TI = dyn_cast&lt;TruncInst&gt;(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>())) {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">// Handle things like &quot;%cond = trunc i32 %X to i1 / br i1 %cond&quot;, which</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="comment">// typically happen for _Bool and C++ bools.</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> SourceVT;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">if</span> (TI-&gt;hasOneUse() &amp;&amp; TI-&gt;getParent() == I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() &amp;&amp;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        isTypeLegal(TI-&gt;getOperand(0)-&gt;getType(), SourceVT)) {</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="keywordtype">unsigned</span> TestOpc = 0;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">switch</span> (SourceVT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:  TestOpc = X86::TEST8ri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: TestOpc = X86::TEST16ri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>: TestOpc = X86::TEST32ri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>: TestOpc = X86::TEST64ri32; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="keywordflow">if</span> (TestOpc) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="keywordtype">unsigned</span> OpReg = getRegForValue(TI-&gt;getOperand(0));</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keywordflow">if</span> (OpReg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(TestOpc))</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;          .addReg(OpReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordtype">unsigned</span> JmpOpc = X86::JNE_4;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="keywordflow">if</span> (FuncInfo.MBB-&gt;isLayoutSuccessor(TrueMBB)) {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;          <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TrueMBB, FalseMBB);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;          JmpOpc = X86::JE_4;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(JmpOpc))</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          .addMBB(TrueMBB);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        FastEmitBranch(FalseMBB, DL);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        FuncInfo.MBB-&gt;addSuccessor(TrueMBB);</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  }</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">// Otherwise do a clumsy setcc and re-test it.</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="comment">// Note that i1 essentially gets ANY_EXTEND&#39;ed to i8 where it isn&#39;t used</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="comment">// in an explicit cast, so make sure to handle that correctly.</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordtype">unsigned</span> OpReg = getRegForValue(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>());</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">if</span> (OpReg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::TEST8ri))</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    .addReg(OpReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::JNE_4))</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    .addMBB(TrueMBB);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  FastEmitBranch(FalseMBB, DL);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  FuncInfo.MBB-&gt;addSuccessor(TrueMBB);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;}</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectShift(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordtype">unsigned</span> CReg = 0, OpReg = 0;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = NULL;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(8)) {</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    CReg = X86::CL;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    RC = &amp;X86::GR8RegClass;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr: OpReg = X86::SHR8rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr: OpReg = X86::SAR8rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl:  OpReg = X86::SHL8rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(16)) {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    CReg = X86::CX;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    RC = &amp;X86::GR16RegClass;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr: OpReg = X86::SHR16rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr: OpReg = X86::SAR16rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl:  OpReg = X86::SHL16rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32)) {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    CReg = <a class="code" href="namespacellvm_1_1N86.html#a154c9f74eba4608c7d1b656eb025a96da667b758702693d9dfb46e55025fc559d">X86::ECX</a>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    RC = &amp;X86::GR32RegClass;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr: OpReg = X86::SHR32rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr: OpReg = X86::SAR32rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl:  OpReg = X86::SHL32rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(64)) {</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    CReg = X86::RCX;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    RC = &amp;X86::GR64RegClass;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr: OpReg = X86::SHR64rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr: OpReg = X86::SAR64rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl:  OpReg = X86::SHL64rCL; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordtype">unsigned</span> Op0Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">if</span> (Op0Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordtype">unsigned</span> Op1Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">if</span> (Op1Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          CReg).addReg(Op1Reg);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="comment">// The shift instruction uses X86::CL. If we defined a super-register</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="comment">// of X86::CL, emit a subreg KILL to precisely describe what we&#39;re doing here.</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">if</span> (CReg != X86::CL)</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a3de0a03c0721e0683934a37868f6a421">TargetOpcode::KILL</a>), X86::CL)</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      .addReg(CReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(OpReg), ResultReg)</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    .addReg(Op0Reg);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;}</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectDivRem(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> NumTypes = 4; <span class="comment">// i8, i16, i32, i64</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> NumOps   = 4; <span class="comment">// SDiv, SRem, UDiv, URem</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> S = <span class="keyword">true</span>;  <span class="comment">// IsSigned</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> U = <span class="keyword">false</span>; <span class="comment">// !IsSigned</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> Copy = <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="comment">// For the X86 DIV/IDIV instruction, in most cases the dividend</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="comment">// (numerator) must be in a specific register pair highreg:lowreg,</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="comment">// producing the quotient in lowreg and the remainder in highreg.</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="comment">// For most data types, to set up the instruction, the dividend is</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">// copied into lowreg, and lowreg is sign-extended or zero-extended</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="comment">// into highreg.  The exception is i8, where the dividend is defined</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="comment">// as a single register rather than a register pair, and we</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="comment">// therefore directly sign-extend or zero-extend the dividend into</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="comment">// lowreg, instead of copying, and ignore the highreg.</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keyword">const</span> <span class="keyword">static</span> <span class="keyword">struct </span>DivRemEntry {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="comment">// The following portion depends only on the data type.</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordtype">unsigned</span> LowInReg;  <span class="comment">// low part of the register pair</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordtype">unsigned</span> HighInReg; <span class="comment">// high part of the register pair</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// The following portion depends on both the data type and the operation.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keyword">struct </span>DivRemResult {</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordtype">unsigned</span> OpDivRem;        <span class="comment">// The specific DIV/IDIV opcode to use.</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordtype">unsigned</span> OpSignExtend;    <span class="comment">// Opcode for sign-extending lowreg into</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                              <span class="comment">// highreg, or copying a zero into highreg.</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordtype">unsigned</span> OpCopy;          <span class="comment">// Opcode for copying dividend into lowreg, or</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                              <span class="comment">// zero/sign-extending into lowreg for i8.</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordtype">unsigned</span> DivRemResultReg; <span class="comment">// Register containing the desired result.</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordtype">bool</span> IsOpSigned;          <span class="comment">// Whether to use signed or unsigned form.</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    } ResultTable[NumOps];</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  } OpTable[NumTypes] = {</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    { &amp;X86::GR8RegClass,  X86::AX,  0, {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        { X86::IDIV8r,  0,            X86::MOVSX16rr8, <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a802c8408643a0c37e107e7b4b0994c30">X86::AL</a>,  S }, <span class="comment">// SDiv</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        { X86::IDIV8r,  0,            X86::MOVSX16rr8, <a class="code" href="README-X86-64_8txt.html#a9de23273550c17a1957b1b325a01960e">X86::AH</a>,  S }, <span class="comment">// SRem</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        { X86::DIV8r,   0,            X86::MOVZX16rr8, <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a802c8408643a0c37e107e7b4b0994c30">X86::AL</a>,  U }, <span class="comment">// UDiv</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        { X86::DIV8r,   0,            X86::MOVZX16rr8, <a class="code" href="README-X86-64_8txt.html#a9de23273550c17a1957b1b325a01960e">X86::AH</a>,  U }, <span class="comment">// URem</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    }, <span class="comment">// i8</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    { &amp;X86::GR16RegClass, X86::AX,  X86::DX, {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        { X86::IDIV16r, X86::CWD,     Copy,            X86::AX,  S }, <span class="comment">// SDiv</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        { X86::IDIV16r, X86::CWD,     Copy,            X86::DX,  S }, <span class="comment">// SRem</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        { X86::DIV16r,  X86::MOV32r0, Copy,            X86::AX,  U }, <span class="comment">// UDiv</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        { X86::DIV16r,  X86::MOV32r0, Copy,            X86::DX,  U }, <span class="comment">// URem</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      }</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }, <span class="comment">// i16</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    { &amp;X86::GR32RegClass, <a class="code" href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">X86::EAX</a>, <a class="code" href="README-SSE_8txt.html#aafb0a6c62a7cfe1538db1d20d759a34b">X86::EDX</a>, {</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        { X86::IDIV32r, X86::CDQ,     Copy,            <a class="code" href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">X86::EAX</a>, S }, <span class="comment">// SDiv</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        { X86::IDIV32r, X86::CDQ,     Copy,            <a class="code" href="README-SSE_8txt.html#aafb0a6c62a7cfe1538db1d20d759a34b">X86::EDX</a>, S }, <span class="comment">// SRem</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        { X86::DIV32r,  X86::MOV32r0, Copy,            <a class="code" href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">X86::EAX</a>, U }, <span class="comment">// UDiv</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        { X86::DIV32r,  X86::MOV32r0, Copy,            <a class="code" href="README-SSE_8txt.html#aafb0a6c62a7cfe1538db1d20d759a34b">X86::EDX</a>, U }, <span class="comment">// URem</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    }, <span class="comment">// i32</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    { &amp;X86::GR64RegClass, X86::RAX, X86::RDX, {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        { X86::IDIV64r, X86::CQO,     Copy,            X86::RAX, S }, <span class="comment">// SDiv</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        { X86::IDIV64r, X86::CQO,     Copy,            X86::RDX, S }, <span class="comment">// SRem</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        { X86::DIV64r,  X86::MOV32r0, Copy,            X86::RAX, U }, <span class="comment">// UDiv</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        { X86::DIV64r,  X86::MOV32r0, Copy,            X86::RDX, U }, <span class="comment">// URem</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      }</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    }, <span class="comment">// i64</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  };</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordtype">unsigned</span> TypeIndex, OpIndex;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:  TypeIndex = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: TypeIndex = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>: TypeIndex = 2; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>: TypeIndex = 3;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected div/rem opcode&quot;</span>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv: OpIndex = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem: OpIndex = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv: OpIndex = 2; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordflow">case</span> Instruction::URem: OpIndex = 3; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keyword">const</span> DivRemEntry &amp;TypeEntry = OpTable[TypeIndex];</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="keyword">const</span> DivRemEntry::DivRemResult &amp;OpEntry = TypeEntry.ResultTable[OpIndex];</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keywordtype">unsigned</span> Op0Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">if</span> (Op0Reg == 0)</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordtype">unsigned</span> Op1Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="keywordflow">if</span> (Op1Reg == 0)</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">// Move op0 into low-order input register.</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;          <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(OpEntry.OpCopy), TypeEntry.LowInReg).addReg(Op0Reg);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="comment">// Zero-extend or sign-extend into high-order input register.</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="keywordflow">if</span> (OpEntry.OpSignExtend) {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">if</span> (OpEntry.IsOpSigned)</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;              <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(OpEntry.OpSignExtend));</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordtype">unsigned</span> Zero32 = createResultReg(&amp;X86::GR32RegClass);</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;              <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::MOV32r0), Zero32);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <span class="comment">// Copy the zero into the appropriate sub/super/identical physical</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <span class="comment">// register. Unfortunately the operations needed are not uniform enough to</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="comment">// fit neatly into the table above.</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="keywordflow">if</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>) {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Copy), TypeEntry.HighInReg)</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;          .addReg(Zero32, 0, X86::sub_16bit);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Copy), TypeEntry.HighInReg)</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            .addReg(Zero32);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a9a1c30a208eb023907075d28e7ab2f19">TargetOpcode::SUBREG_TO_REG</a>), TypeEntry.HighInReg)</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            .addImm(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Zero32).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(X86::sub_32bit);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      }</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    }</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="comment">// Generate the DIV/IDIV instruction.</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;          <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(OpEntry.OpDivRem)).addReg(Op1Reg);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="comment">// For i8 remainder, we can&#39;t reference AH directly, as we&#39;ll end</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <span class="comment">// up with bogus copies like %R9B = COPY %AH. Reference AX</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// instead to prevent AH references in a REX instruction.</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">// The current assumption of the fast register allocator is that isel</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// won&#39;t generate explicit references to the GPR8_NOREX registers. If</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// the allocator and/or the backend get enhanced to be more robust in</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="comment">// that regard, this can be, and should be, removed.</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = 0;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">if</span> ((I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>() == Instruction::SRem ||</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;       I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>() == Instruction::URem) &amp;&amp;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      OpEntry.DivRemResultReg == <a class="code" href="README-X86-64_8txt.html#a9de23273550c17a1957b1b325a01960e">X86::AH</a> &amp;&amp; Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>()) {</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordtype">unsigned</span> SourceSuperReg = createResultReg(&amp;X86::GR16RegClass);</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordtype">unsigned</span> ResultSuperReg = createResultReg(&amp;X86::GR16RegClass);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Copy), SourceSuperReg).addReg(X86::AX);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="comment">// Shift AX right by 8 bits instead of using AH.</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::SHR16ri),</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            ResultSuperReg).addReg(SourceSuperReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(8);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="comment">// Now reference the 8-bit subreg of the result.</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    ResultReg = FastEmitInst_extractsubreg(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, ResultSuperReg,</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                                           <span class="comment">/*Kill=*/</span><span class="keyword">true</span>, X86::sub_8bit);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  }</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// Copy the result out of the physreg if we haven&#39;t already.</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">if</span> (!ResultReg) {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    ResultReg = createResultReg(TypeEntry.RC);</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Copy), ResultReg)</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        .addReg(OpEntry.DivRemResultReg);</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  }</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectSelect(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">// We only use cmov here, if we don&#39;t have a cmov instruction bail.</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2895352ba760d977d04a525c6d388d08">hasCMov</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = NULL;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>) {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    Opc = X86::CMOVE16rr;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    RC = &amp;X86::GR16RegClass;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    Opc = X86::CMOVE32rr;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    RC = &amp;X86::GR32RegClass;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    Opc = X86::CMOVE64rr;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    RC = &amp;X86::GR64RegClass;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  }</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordtype">unsigned</span> Op0Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keywordflow">if</span> (Op0Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="keywordtype">unsigned</span> Op1Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span> (Op1Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="keywordtype">unsigned</span> Op2Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2));</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">if</span> (Op2Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::TEST8rr))</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    .addReg(Op0Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Op0Reg);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg)</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    .addReg(Op1Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Op2Reg);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectFPExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// fpext from float to double.</span></div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">if</span> (X86ScalarSSEf64 &amp;&amp;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">isDoubleTy</a>()) {</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>()) {</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="keywordtype">unsigned</span> OpReg = getRegForValue(V);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordflow">if</span> (OpReg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordtype">unsigned</span> ResultReg = createResultReg(&amp;X86::FR64RegClass);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;              <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::CVTSS2SDrr), ResultReg)</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        .addReg(OpReg);</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    }</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  }</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;}</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectFPTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="keywordflow">if</span> (X86ScalarSSEf64) {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>()) {</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">isDoubleTy</a>()) {</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordtype">unsigned</span> OpReg = getRegForValue(V);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="keywordflow">if</span> (OpReg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keywordtype">unsigned</span> ResultReg = createResultReg(&amp;X86::FR32RegClass);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::CVTSD2SSrr), ResultReg)</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;          .addReg(OpReg);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      }</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    }</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  }</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="comment">// This code only handles truncation to byte.</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">if</span> (DstVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; DstVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>)</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">if</span> (!TLI.isTypeLegal(SrcVT))</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="keywordtype">unsigned</span> InputReg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keywordflow">if</span> (!InputReg)</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="comment">// Unhandled operand.  Halt &quot;fast&quot; selection and bail.</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>) {</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="comment">// Truncate from i8 to i1; no code needed.</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    UpdateValueMap(I, InputReg);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  }</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>()) {</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="comment">// If we&#39;re on x86-32; we can&#39;t extract an i8 from a general register.</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="comment">// First issue a copy to GR16_ABCD or GR32_ABCD.</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *CopyRC = (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>) ?</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a>*)&amp;X86::GR16_ABCDRegClass :</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a>*)&amp;X86::GR32_ABCDRegClass;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordtype">unsigned</span> CopyReg = createResultReg(CopyRC);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            CopyReg).addReg(InputReg);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    InputReg = CopyReg;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="comment">// Issue an extract_subreg.</span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = FastEmitInst_extractsubreg(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>,</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                                                  InputReg, <span class="comment">/*Kill=*/</span><span class="keyword">true</span>,</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                                                  X86::sub_8bit);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordflow">if</span> (!ResultReg)</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="keywordtype">bool</span> X86FastISel::IsMemcpySmall(uint64_t Len) {</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="keywordflow">return</span> Len &lt;= (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() ? 32 : 16);</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;}</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="keywordtype">bool</span> X86FastISel::TryEmitSmallMemcpy(<a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> DestAM,</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                                     <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> SrcAM, uint64_t Len) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="comment">// Make sure we don&#39;t bloat code by inlining very large memcpy&#39;s.</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">if</span> (!IsMemcpySmall(Len))</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordtype">bool</span> i64Legal = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>();</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="comment">// We don&#39;t care about alignment here since we just emit integer accesses.</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">while</span> (Len) {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">if</span> (Len &gt;= 8 &amp;&amp; i64Legal)</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      VT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Len &gt;= 4)</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      VT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Len &gt;= 2)</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      VT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      VT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    }</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordtype">bool</span> RV = X86FastEmitLoad(VT, SrcAM, Reg);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    RV &amp;= X86FastEmitStore(VT, Reg, DestAM);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    assert(RV &amp;&amp; <span class="stringliteral">&quot;Failed to emit load or store??&quot;</span>);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordtype">unsigned</span> Size = VT.<a class="code" href="classllvm_1_1MVT.html#a423166b2b5d1010162dde0003e5ad09c">getSizeInBits</a>()/8;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    Len -= Size;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    DestAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a> += Size;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    SrcAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a> += Size;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  }</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;}</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86VisitIntrinsicCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> &amp;I) {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="comment">// FIXME: Handle more intrinsics.</span></div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordflow">switch</span> (I.<a class="code" href="classllvm_1_1IntrinsicInst.html#a6cbb4809b81f3994ee0c79b38556bd66">getIntrinsicID</a>()) {</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">Intrinsic::memcpy</a>: {</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemCpyInst.html">MemCpyInst</a> &amp;MCI = cast&lt;MemCpyInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="comment">// Don&#39;t handle volatile or variable length memcpys.</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">if</span> (MCI.<a class="code" href="classllvm_1_1MemIntrinsic.html#a9558faebdbb62c072aed98e33604889d">isVolatile</a>())</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(MCI.<a class="code" href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">getLength</a>())) {</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <span class="comment">// Small memcpy&#39;s are common enough that we want to do them</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="comment">// without a call if possible.</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      uint64_t Len = cast&lt;ConstantInt&gt;(MCI.<a class="code" href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">getLength</a>())-&gt;getZExtValue();</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <span class="keywordflow">if</span> (IsMemcpySmall(Len)) {</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> DestAM, SrcAM;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <span class="keywordflow">if</span> (!X86SelectAddress(MCI.<a class="code" href="classllvm_1_1MemIntrinsic.html#a3ec0c47a5532e568d54c8d452dfb58df">getRawDest</a>(), DestAM) ||</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            !X86SelectAddress(MCI.<a class="code" href="classllvm_1_1MemTransferInst.html#a26bfca1607622229a625f2db73aed2ba">getRawSource</a>(), SrcAM))</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        TryEmitSmallMemcpy(DestAM, SrcAM, Len);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      }</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    }</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordtype">unsigned</span> SizeWidth = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() ? 64 : 32;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">if</span> (!MCI.<a class="code" href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">getLength</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(SizeWidth))</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">if</span> (MCI.<a class="code" href="classllvm_1_1MemTransferInst.html#a85cde8d2140f28dd865c6d37219e9e6b">getSourceAddressSpace</a>() &gt; 255 || MCI.<a class="code" href="classllvm_1_1MemIntrinsic.html#aa994cbb617d307bc2da05e44687a9b28">getDestAddressSpace</a>() &gt; 255)</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">return</span> DoSelectCall(&amp;I, <span class="stringliteral">&quot;memcpy&quot;</span>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  }</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">Intrinsic::memset</a>: {</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemSetInst.html">MemSetInst</a> &amp;MSI = cast&lt;MemSetInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">if</span> (MSI.<a class="code" href="classllvm_1_1MemIntrinsic.html#a9558faebdbb62c072aed98e33604889d">isVolatile</a>())</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordtype">unsigned</span> SizeWidth = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() ? 64 : 32;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">if</span> (!MSI.<a class="code" href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">getLength</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(SizeWidth))</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">if</span> (MSI.<a class="code" href="classllvm_1_1MemIntrinsic.html#aa994cbb617d307bc2da05e44687a9b28">getDestAddressSpace</a>() &gt; 255)</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">return</span> DoSelectCall(&amp;I, <span class="stringliteral">&quot;memset&quot;</span>);</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a8f55eb02f6aa961f7dec19e338d361e2">Intrinsic::stackprotector</a>: {</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="comment">// Emit code to store the stack guard onto the stack.</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrTy = TLI.getPointerTy();</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = I.<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0); <span class="comment">// The guard&#39;s value.</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *Slot = cast&lt;AllocaInst&gt;(I.<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1));</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="comment">// Grab the frame index.</span></div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span> (!X86SelectAddress(Slot, AM)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">if</span> (!X86FastEmitStore(PtrTy, Op1, AM)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a63eff34e14f4840ec2f23581d9d4a126">Intrinsic::dbg_declare</a>: {</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DbgDeclareInst.html">DbgDeclareInst</a> *DI = cast&lt;DbgDeclareInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    assert(DI-&gt;<a class="code" href="classllvm_1_1DbgDeclareInst.html#afa9ad965b3bbcd6997637c8e95a48946">getAddress</a>() &amp;&amp; <span class="stringliteral">&quot;Null address should be checked earlier!&quot;</span>);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">if</span> (!X86SelectAddress(DI-&gt;<a class="code" href="classllvm_1_1DbgDeclareInst.html#afa9ad965b3bbcd6997637c8e95a48946">getAddress</a>(), AM))</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;II = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a">TargetOpcode::DBG_VALUE</a>);</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="comment">// FIXME may need to add RegState::Debug to any registers produced,</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="comment">// although ESP/EBP should be the only ones at the moment.</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">addFullAddress</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, II), AM).</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      addImm(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ac68a44416cb977887fbd4c4e5297491d">addMetadata</a>(DI-&gt;<a class="code" href="classllvm_1_1DbgDeclareInst.html#a482a19e6f43b335892300d937ef8fb80">getVariable</a>());</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  }</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1e0db296d2fc79e7438629b2a62038a9">Intrinsic::trap</a>: {</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac5fb8808f3dcb9f0a83f1fc2e7747485">X86::TRAP</a>));</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  }</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc">Intrinsic::sadd_with_overflow</a>:</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4010b27bb068167801ff99622ea92907">Intrinsic::uadd_with_overflow</a>: {</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="comment">// FIXME: Should fold immediates.</span></div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="comment">// Replace &quot;add with overflow&quot; intrinsics with an &quot;add&quot; instruction followed</span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="comment">// by a seto/setc instruction.</span></div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = I.<a class="code" href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">getCalledFunction</a>();</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy =</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      cast&lt;StructType&gt;(Callee-&gt;<a class="code" href="classllvm_1_1Function.html#a26ccf11b81c01a45cb40137c775f7cad">getReturnType</a>())-&gt;getTypeAtIndex(<span class="keywordtype">unsigned</span>(0));</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">if</span> (!isTypeLegal(RetTy, VT))</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = I.<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(0);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op2 = I.<a class="code" href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">getArgOperand</a>(1);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordtype">unsigned</span> Reg1 = getRegForValue(Op1);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordtype">unsigned</span> Reg2 = getRegForValue(Op2);</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span> (Reg1 == 0 || Reg2 == 0)</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="comment">// FIXME: Handle values *not* in registers.</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordtype">unsigned</span> OpC = 0;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      OpC = X86::ADD32rr;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      OpC = X86::ADD64rr;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="comment">// The call to CreateRegs builds two sequential registers, to store the</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="comment">// both the returned values.</span></div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordtype">unsigned</span> ResultReg = FuncInfo.CreateRegs(I.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(OpC), ResultReg)</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      .addReg(Reg1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg2);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordtype">unsigned</span> Opc = X86::SETBr;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">if</span> (I.<a class="code" href="classllvm_1_1IntrinsicInst.html#a6cbb4809b81f3994ee0c79b38556bd66">getIntrinsicID</a>() == <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc">Intrinsic::sadd_with_overflow</a>)</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      Opc = X86::SETOr;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg+1);</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    UpdateValueMap(&amp;I, ResultReg, 2);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  }</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  }</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;}</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="keywordtype">bool</span> X86FastISel::FastLowerArguments() {</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span> (!FuncInfo.CanLowerReturn)</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *F = FuncInfo.Fn;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1Function.html#ae0466120bfdf5b97b25aa06f3015cd51">isVarArg</a>())</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CC = F-&gt;<a class="code" href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">getCallingConv</a>();</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="keywordflow">if</span> (CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a>)</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ad7680f2a7ff3eac072b3e08e9ba9b08c">isCallingConvWin64</a>(CC))</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  </div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="comment">// Only handle simple cases. i.e. Up to 6 i32/i64 scalar arguments.</span></div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 1;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::const_arg_iterator</a> I = F-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(), E = F-&gt;<a class="code" href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">arg_end</a>();</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;       I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++Idx) {</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="keywordflow">if</span> (Idx &gt; 6)</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(Idx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eab3c7dc42b72fed5fbed71591604203a9">Attribute::ByVal</a>) ||</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        F-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(Idx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2">Attribute::InReg</a>) ||</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        F-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(Idx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead3b3c621bae2f478e73839979b52536a">Attribute::StructRet</a>) ||</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        F-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(Idx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea26003dadfa771bce07fe0d9b38c51437">Attribute::Nest</a>))</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy = I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">if</span> (ArgTy-&gt;<a class="code" href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">isStructTy</a>() || ArgTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9aae7c60b468bcf6db982dc76e6c703a">isArrayTy</a>() || ArgTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>())</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ArgVT = TLI.getValueType(ArgTy);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">if</span> (!ArgVT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">switch</span> (ArgVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    }</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  }</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR32ArgRegs[] = {</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="README-SSE_8txt.html#a64d666eb92eff8eb2810814d040a21c1">X86::EDI</a>, <a class="code" href="README-SSE_8txt.html#aad5a471e82ee9fcb055b013718364cf9">X86::ESI</a>, <a class="code" href="README-SSE_8txt.html#aafb0a6c62a7cfe1538db1d20d759a34b">X86::EDX</a>, <a class="code" href="namespacellvm_1_1N86.html#a154c9f74eba4608c7d1b656eb025a96da667b758702693d9dfb46e55025fc559d">X86::ECX</a>, X86::R8D, X86::R9D</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  };</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR64ArgRegs[] = {</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    X86::RDI, X86::RSI, X86::RDX, X86::RCX, X86::R8 , X86::R9</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  };</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  Idx = 0;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC32 = TLI.getRegClassFor(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC64 = TLI.getRegClassFor(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::const_arg_iterator</a> I = F-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(), E = F-&gt;<a class="code" href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">arg_end</a>();</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;       I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++Idx) {</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="SystemZISelLowering_8cpp.html#ad46bc4ab207e93c35b24f708aa24cf0b">is32Bit</a> = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = is32Bit ? RC32 : RC64;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordtype">unsigned</span> SrcReg = is32Bit ? GPR32ArgRegs[Idx] : GPR64ArgRegs[Idx];</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordtype">unsigned</span> DstReg = FuncInfo.MF-&gt;addLiveIn(SrcReg, RC);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="comment">// FIXME: Unfortunately it&#39;s necessary to emit a copy from the livein copy.</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <span class="comment">// Without this, EmitLiveInCopies may eliminate the livein if its only</span></div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">// use is a bitcast (which isn&#39;t turned into an instruction).</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            ResultReg).addReg(DstReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(<span class="keyword">true</span>));</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  }</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;}</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="keywordtype">bool</span> X86FastISel::X86SelectCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Callee = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">getCalledValue</a>();</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">// Can&#39;t handle inline asm yet.</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordflow">if</span> (isa&lt;InlineAsm&gt;(Callee))</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// Handle intrinsic calls.</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(CI))</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">return</span> X86VisitIntrinsicCall(*II);</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="comment">// Allow SelectionDAG isel to handle tail calls.</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="keywordflow">if</span> (cast&lt;CallInst&gt;(I)-&gt;isTailCall())</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keywordflow">return</span> DoSelectCall(I, 0);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;}</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div><div class="line"><a name="l01862"></a><span class="lineno"><a class="line" href="X86FastISel_8cpp.html#a2fc15f7be1f527429e4232939fa2ca85"> 1862</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="X86FastISel_8cpp.html#a2fc15f7be1f527429e4232939fa2ca85">computeBytesPoppedByCallee</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a> &amp;Subtarget,</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> &amp;CS) {</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a2f7e5de56eac03da1d4f20ca402dfd0c">isTargetWindows</a>())</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CC = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">getCallingConv</a>();</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">if</span> (CC == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> || CC == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a8e8dc64aad833bd23d07d3384522575e">CallingConv::GHC</a>)</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordflow">if</span> (!CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(1, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead3b3c621bae2f478e73839979b52536a">Attribute::StructRet</a>))</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(1, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2">Attribute::InReg</a>))</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;}</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment">// Select either a call, or an llvm.memcpy/memmove/memset intrinsic</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="keywordtype">bool</span> X86FastISel::DoSelectCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <span class="keyword">const</span> <span class="keywordtype">char</span> *MemIntName) {</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Callee = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">getCalledValue</a>();</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="comment">// Handle only C and fastcc calling conventions for now.</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS(CI);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CC = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">getCallingConv</a>();</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="keywordtype">bool</span> isWin64 = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ad7680f2a7ff3eac072b3e08e9ba9b08c">isCallingConvWin64</a>(CC);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">if</span> (CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a> &amp;&amp; CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> &amp;&amp;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afde87569738f9e23963e8735f71c33eb">CallingConv::X86_FastCall</a> &amp;&amp; CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a47bd6c0b1caa2499b6d2f6d8ed751092">CallingConv::X86_64_Win64</a> &amp;&amp;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      CC != <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a10f11fb587acddab17f3ad85eb698fbe">CallingConv::X86_64_SysV</a>)</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <span class="comment">// fastcc with -tailcallopt is intended to provide a guaranteed</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="comment">// tail call optimization. Fastisel doesn&#39;t know how to do that.</span></div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  <span class="keywordflow">if</span> (CC == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> &amp;&amp; <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.Options.GuaranteedTailCallOpt)</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PT = cast&lt;PointerType&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTy = cast&lt;FunctionType&gt;(PT-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>());</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordtype">bool</span> isVarArg = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>();</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <span class="comment">// Don&#39;t know how to handle Win64 varargs yet.  Nothing special needed for</span></div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="comment">// x86-32.  Special handling for x86-64 is implemented.</span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="keywordflow">if</span> (isVarArg &amp;&amp; isWin64)</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="comment">// Fast-isel doesn&#39;t know about callee-pop yet.</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86.html#a5b14ee30b3a7439e0f75bfadc978a30a">X86::isCalleePop</a>(CC, Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>(), isVarArg,</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                       <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.Options.GuaranteedTailCallOpt))</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="comment">// Check whether the function can return without sret-demotion.</span></div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ISD::OutputArg, 4&gt;</a> Outs;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <a class="code" href="namespacellvm.html#ae9a577ed38a1ba3a31fa03fb25d369ad">GetReturnInfo</a>(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a4e7c7828319bc9db0f49c3c6d8f56ac7">getAttributes</a>(), Outs, TLI);</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordtype">bool</span> CanLowerReturn = TLI.CanLowerReturn(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">getCallingConv</a>(),</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                                           *FuncInfo.MF, FTy-&gt;isVarArg(),</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                                           Outs, FTy-&gt;getContext());</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="keywordflow">if</span> (!CanLowerReturn)</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="comment">// Materialize callee address in a register. FIXME: GV address can be</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="comment">// handled with a CALLpcrel32 instead.</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> CalleeAM;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="keywordflow">if</span> (!X86SelectCallAddress(Callee, CalleeAM))</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="keywordtype">unsigned</span> CalleeOp = 0;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = 0;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">if</span> (CalleeAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> != 0) {</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    GV = CalleeAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a>;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CalleeAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> != 0) {</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    CalleeOp = CalleeAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a>;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="comment">// Deal with call operands first.</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 8&gt;</a> ArgVals;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> Args;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MVT, 8&gt;</a> ArgVTs;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ISD::ArgFlagsTy, 8&gt;</a> ArgFlags;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordtype">unsigned</span> arg_size = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>();</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  Args.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(arg_size);</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  ArgVals.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(arg_size);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  ArgVTs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(arg_size);</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  ArgFlags.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(arg_size);</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">ImmutableCallSite::arg_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>(), e = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">arg_end</a>();</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">// If we&#39;re lowering a mem intrinsic instead of a regular call, skip the</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="comment">// last two arguments, which should not passed to the underlying functions.</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">if</span> (MemIntName &amp;&amp; e-<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= 2)</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ArgVal = *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordtype">unsigned</span> AttrInd = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>() + 1;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrInd, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea133970930e56cfea2076c22632b4ba0f">Attribute::SExt</a>))</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a1134ea0aa4c8b2d3e344d48dca3c4d44">setSExt</a>();</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrInd, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>))</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a9d5e89b5f086590d776028ee2f095453">setZExt</a>();</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrInd, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eab3c7dc42b72fed5fbed71591604203a9">Attribute::ByVal</a>)) {</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *Ty = cast&lt;PointerType&gt;(ArgVal-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *ElementTy = Ty-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>();</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <span class="keywordtype">unsigned</span> FrameSize = TD.getTypeAllocSize(ElementTy);</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <span class="keywordtype">unsigned</span> FrameAlign = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#af23ecc474bd52056428ee09ebe9f044f">getParamAlignment</a>(AttrInd);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="keywordflow">if</span> (!FrameAlign)</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        FrameAlign = TLI.getByValTypeAlignment(ElementTy);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a2014ce03ca56d15be72ef050d1098660">setByVal</a>();</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ad66657226225059fd5e7f49f4f1173cc">setByValSize</a>(FrameSize);</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a95a9edd07ea2beefe91f5751d4850acd">setByValAlign</a>(FrameAlign);</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <span class="keywordflow">if</span> (!IsMemcpySmall(FrameSize))</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrInd, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2">Attribute::InReg</a>))</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ac8683d314a90a316cb67a685d42a8c28">setInReg</a>();</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrInd, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea26003dadfa771bce07fe0d9b38c51437">Attribute::Nest</a>))</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a996f0e431c0f5c7c14ab38bb225fc945">setNest</a>();</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="comment">// If this is an i1/i8/i16 argument, promote to i32 to avoid an extra</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="comment">// instruction.  This is safe because it is common to all fastisel supported</span></div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="comment">// calling conventions on x86.</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(ArgVal)) {</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;getBitWidth() == 1 || CI-&gt;getBitWidth() == 8 ||</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;          CI-&gt;getBitWidth() == 16) {</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ae3d1eab6cbe1d4d2bd95ac0844bdee8f">isSExt</a>())</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          ArgVal = <a class="code" href="classllvm_1_1ConstantExpr.html#a365628d9f62e7a281d493d15bdb13b27">ConstantExpr::getSExt</a>(CI,<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()));</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;          ArgVal = <a class="code" href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">ConstantExpr::getZExt</a>(CI,<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(CI-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()));</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      }</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    }</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordtype">unsigned</span> ArgReg;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="comment">// Passing bools around ends up doing a trunc to i1 and passing it.</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="comment">// Codegen this as an argument + &quot;and 1&quot;.</span></div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">if</span> (ArgVal-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1) &amp;&amp; isa&lt;TruncInst&gt;(ArgVal) &amp;&amp;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        cast&lt;TruncInst&gt;(ArgVal)-&gt;getParent() == I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() &amp;&amp;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        ArgVal-&gt;<a class="code" href="classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>()) {</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      ArgVal = cast&lt;TruncInst&gt;(ArgVal)-&gt;getOperand(0);</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      ArgReg = getRegForValue(ArgVal);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="keywordflow">if</span> (ArgReg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> ArgVT;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">if</span> (!isTypeLegal(ArgVal-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), ArgVT)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      ArgReg = FastEmit_ri(ArgVT, ArgVT, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, ArgReg,</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                           ArgVal-&gt;<a class="code" href="classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>(), 1);</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      ArgReg = getRegForValue(ArgVal);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    }</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <span class="keywordflow">if</span> (ArgReg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy = ArgVal-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> ArgVT;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">if</span> (!isTypeLegal(ArgTy, ArgVT))</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">if</span> (ArgVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca99d6935065e7c7a2fa53208e41e5b428">MVT::x86mmx</a>)</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordtype">unsigned</span> OriginalAlignment = TD.getABITypeAlignment(ArgTy);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ab578211fc94e49ec6628ec6023f4be09">setOrigAlign</a>(OriginalAlignment);</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    Args.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgReg);</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    ArgVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgVal);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    ArgVTs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgVT);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    ArgFlags.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Flags);</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  }</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="comment">// Analyze operands of the call, assigning locations to each operand.</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ArgLocs;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CC, isVarArg, *FuncInfo.MF, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>, ArgLocs,</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                 I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>());</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="comment">// Allocate shadow area for Win64</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keywordflow">if</span> (isWin64)</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    CCInfo.<a class="code" href="classllvm_1_1CCState.html#accd683afb417ec1f0f44c62c8b5a8fc4">AllocateStack</a>(32, 8);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  CCInfo.AnalyzeCallOperands(ArgVTs, ArgFlags, CC_X86);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  <span class="comment">// Get a count of how many bytes are to be pushed on the stack.</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes = CCInfo.getNextStackOffset();</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="comment">// Issue CALLSEQ_START</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keywordtype">unsigned</span> AdjStackDown = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getCallFrameSetupOpcode();</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AdjStackDown))</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    .addImm(NumBytes);</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="comment">// Process argument: walk the register/memloc assignments, inserting</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="comment">// copies / loads.</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> RegArgs;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = ArgLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = ArgLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="keywordtype">unsigned</span> Arg = Args[VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()];</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ArgVT = ArgVTs[VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()];</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="comment">// Promote the value if needed.</span></div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">switch</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">getLocInfo</a>()) {</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">CCValAssign::SExt</a>: {</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#a3d312d3d7b24b6684b07792888bc5efd">isInteger</a>() &amp;&amp; !VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">isVector</a>() &amp;&amp;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;             <span class="stringliteral">&quot;Unexpected extend&quot;</span>);</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <span class="keywordtype">bool</span> Emitted = X86FastEmitExtend(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(),</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                                       Arg, ArgVT, Arg);</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      assert(Emitted &amp;&amp; <span class="stringliteral">&quot;Failed to emit a sext!&quot;</span>); (void)Emitted;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      ArgVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>();</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    }</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">CCValAssign::ZExt</a>: {</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#a3d312d3d7b24b6684b07792888bc5efd">isInteger</a>() &amp;&amp; !VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">isVector</a>() &amp;&amp;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;             <span class="stringliteral">&quot;Unexpected extend&quot;</span>);</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      <span class="keywordtype">bool</span> Emitted = X86FastEmitExtend(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(),</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                                       Arg, ArgVT, Arg);</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      assert(Emitted &amp;&amp; <span class="stringliteral">&quot;Failed to emit a zext!&quot;</span>); (void)Emitted;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      ArgVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>();</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    }</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">CCValAssign::AExt</a>: {</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#a3d312d3d7b24b6684b07792888bc5efd">isInteger</a>() &amp;&amp; !VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">isVector</a>() &amp;&amp;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;             <span class="stringliteral">&quot;Unexpected extend&quot;</span>);</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="keywordtype">bool</span> Emitted = X86FastEmitExtend(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(),</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                                       Arg, ArgVT, Arg);</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <span class="keywordflow">if</span> (!Emitted)</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        Emitted = X86FastEmitExtend(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(),</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                                    Arg, ArgVT, Arg);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      <span class="keywordflow">if</span> (!Emitted)</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        Emitted = X86FastEmitExtend(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(),</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                                    Arg, ArgVT, Arg);</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;      assert(Emitted &amp;&amp; <span class="stringliteral">&quot;Failed to emit a aext!&quot;</span>); (void)Emitted;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      ArgVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>();</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a0f94adbbe71c94edaa533a25973bbffc">CCValAssign::BCvt</a>: {</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      <span class="keywordtype">unsigned</span> BC = FastEmit_r(ArgVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>(), VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(),</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                               <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, Arg, <span class="comment">/*TODO: Kill=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      assert(BC != 0 &amp;&amp; <span class="stringliteral">&quot;Failed to emit a bitcast!&quot;</span>);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      Arg = BC;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      ArgVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>();</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45aac6bf1a4743f81c8ee1cb10ef85ce063">CCValAssign::VExt</a>: </div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      <span class="comment">// VExt has not been implemented, so this should be impossible to reach</span></div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      <span class="comment">// for now.  However, fallback to Selection DAG isel once implemented.</span></div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45aacf7e7d80f766b55b2bbdaf3d354c39e">CCValAssign::Indirect</a>:</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="comment">// FIXME: Indirect doesn&#39;t need extending, but fast-isel doesn&#39;t fully</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <span class="comment">// support this.</span></div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    }</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">if</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>()) {</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;              VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>()).addReg(Arg);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      RegArgs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>());</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="keywordtype">unsigned</span> LocMemOffset = VA.<a class="code" href="classllvm_1_1CCValAssign.html#a7b19fa41486ca39142442dd962c8d3b6">getLocMemOffset</a>();</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86RegisterInfo.html">X86RegisterInfo</a> *RegInfo = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1X86RegisterInfo.html">X86RegisterInfo</a>*<span class="keyword">&gt;</span>(</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;          getTargetMachine()-&gt;getRegisterInfo());</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = RegInfo-&gt;<a class="code" href="classllvm_1_1X86RegisterInfo.html#ac26e69b92e7ee67cfe9766db55b221da">getStackRegister</a>();</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a> = LocMemOffset;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *ArgVal = ArgVals[VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()];</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a> = ArgFlags[VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()];</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) {</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> SrcAM;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        SrcAM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a> = Arg;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        <span class="keywordtype">bool</span> Res = TryEmitSmallMemcpy(AM, SrcAM, Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>());</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        assert(Res &amp;&amp; <span class="stringliteral">&quot;memcpy length already checked!&quot;</span>); (void)Res;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(ArgVal) || isa&lt;ConstantPointerNull&gt;(ArgVal)) {</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <span class="comment">// If this is a really simple value, emit this with the Value* version</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        <span class="comment">// of X86FastEmitStore.  If it isn&#39;t simple, we don&#39;t want to do this,</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        <span class="comment">// as it can cause us to reevaluate the argument.</span></div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="keywordflow">if</span> (!X86FastEmitStore(ArgVT, ArgVal, AM))</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <span class="keywordflow">if</span> (!X86FastEmitStore(ArgVT, Arg, AM))</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      }</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    }</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  }</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="comment">// ELF / PIC requires GOT in the EBX register before function calls via PLT</span></div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="comment">// GOT pointer.</span></div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">isPICStyleGOT</a>()) {</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordtype">unsigned</span> Base = getInstrInfo()-&gt;getGlobalBaseReg(FuncInfo.MF);</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;            <a class="code" href="README-SSE_8txt.html#af63bcf34c820f95f096676adf8358de4">X86::EBX</a>).addReg(Base);</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  }</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() &amp;&amp; isVarArg &amp;&amp; !isWin64) {</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="comment">// Count the number of XMM registers allocated.</span></div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t XMMArgRegs[] = {</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <a class="code" href="README-SSE_8txt.html#aec808a2f1cfc9d91bebad3ca6a405b1a">X86::XMM0</a>, <a class="code" href="README-SSE_8txt.html#aa131204d55bb6c008b91011b1fa16d76">X86::XMM1</a>, <a class="code" href="README-SSE_8txt.html#a53acfad7e5e22dd346857a1273d38779">X86::XMM2</a>, <a class="code" href="README-SSE_8txt.html#a4caa21969bbdc4f0b8d77263760f9f69">X86::XMM3</a>,</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      X86::XMM4, X86::XMM5, X86::XMM6, X86::XMM7</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    };</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordtype">unsigned</span> NumXMMRegs = CCInfo.getFirstUnallocated(XMMArgRegs, 8);</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::MOV8ri),</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a802c8408643a0c37e107e7b4b0994c30">X86::AL</a>).addImm(NumXMMRegs);</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  }</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="comment">// Issue the call.</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">if</span> (CalleeOp) {</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="comment">// Register-indirect call.</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordtype">unsigned</span> CallOpc;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      CallOpc = X86::CALL64r;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      CallOpc = X86::CALL32r;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(CallOpc))</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      .addReg(CalleeOp);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="comment">// Direct call.</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    assert(GV &amp;&amp; <span class="stringliteral">&quot;Not a direct call&quot;</span>);</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordtype">unsigned</span> CallOpc;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>())</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      CallOpc = X86::CALL64pcrel32;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      CallOpc = X86::CALLpcrel32;</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="comment">// See if we need any target-specific flags on the GV operand.</span></div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> OpFlags = 0;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="comment">// On ELF targets, in both X86-64 and X86-32 mode, direct calls to</span></div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="comment">// external symbols most go through the PLT in PIC mode.  If the symbol</span></div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="comment">// has hidden or protected visibility, or if it is static or local, then</span></div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="comment">// we don&#39;t need to use the PLT - we can directly call it.</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#abc97e120bb0538a9ecbeaaafa97d4ad5">isTargetELF</a>() &amp;&amp;</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getRelocationModel() == <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">Reloc::PIC_</a> &amp;&amp;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ab8758f0a60d0150a6dbda9328ee85a06">hasDefaultVisibility</a>() &amp;&amp; !GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>()) {</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      OpFlags = <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84ab2b21d9c332e616e0a11c3ff76ce0bdf">X86II::MO_PLT</a>;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ad7e605e76cbee017a4f3964e93b60182">isPICStyleStubAny</a>() &amp;&amp;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;               (GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() || GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac291102760c543c8e045e829d57d3341">isWeakForLinker</a>()) &amp;&amp;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;               (!Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#aeb53bb4b0a009e39fc6ca6002d1e160d">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#a046b1c05ec2d492f6572840cf8bac653">isMacOSX</a>() ||</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#aeb53bb4b0a009e39fc6ca6002d1e160d">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#af2ee35261532b22de8929f4d7c86e6ac">isMacOSXVersionLT</a>(10, 5))) {</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      <span class="comment">// PC-relative references to external symbols should go through $stub,</span></div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <span class="comment">// unless we&#39;re building with the leopard linker or later, which</span></div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      <span class="comment">// automatically synthesizes these stubs.</span></div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      OpFlags = <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84af8c65b2bb851c2cde81d3df093310b68">X86II::MO_DARWIN_STUB</a>;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    }</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(CallOpc));</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="keywordflow">if</span> (MemIntName)</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ace690c220f3b141bdf98c86635783d8f">addExternalSymbol</a>(MemIntName, OpFlags);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">addGlobalAddress</a>(GV, 0, OpFlags);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  }</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="comment">// Add a register mask with the call-preserved registers.</span></div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  <span class="comment">// Proper defs for return values will be added by setPhysRegsDeadExcept().</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9b6c252221bd964b77e852b3c7ea31e2">addRegMask</a>(TRI.getCallPreservedMask(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">getCallingConv</a>()));</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <span class="comment">// Add an implicit use GOT pointer in EBX.</span></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">isPICStyleGOT</a>())</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(<a class="code" href="README-SSE_8txt.html#af63bcf34c820f95f096676adf8358de4">X86::EBX</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() &amp;&amp; isVarArg &amp;&amp; !isWin64)</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a802c8408643a0c37e107e7b4b0994c30">X86::AL</a>, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">// Add implicit physical register uses to the call.</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RegArgs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(RegArgs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="comment">// Issue CALLSEQ_END</span></div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <span class="keywordtype">unsigned</span> AdjStackUp = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getCallFrameDestroyOpcode();</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumBytesCallee = <a class="code" href="X86FastISel_8cpp.html#a2fc15f7be1f527429e4232939fa2ca85">computeBytesPoppedByCallee</a>(*Subtarget, CS);</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(AdjStackUp))</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    .addImm(NumBytes).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(NumBytesCallee);</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="comment">// Build info for return calling conv lowering code.</span></div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="comment">// FIXME: This is practically a copy-paste from TargetLowering::LowerCallTo.</span></div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ISD::InputArg, 32&gt;</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363">Ins</a>;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;EVT, 4&gt;</a> RetTys;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <a class="code" href="namespacellvm.html#ad601c9cc2a3c83bea2aec0f6d8b8639a">ComputeValueVTs</a>(TLI, I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), RetTys);</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = RetTys.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = RetTys[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> RegisterVT = TLI.getRegisterType(I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>(), VT);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="keywordtype">unsigned</span> NumRegs = TLI.getNumRegisters(I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>(), VT);</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != NumRegs; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      <a class="code" href="structllvm_1_1ISD_1_1InputArg.html">ISD::InputArg</a> MyFlags;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      MyFlags.<a class="code" href="structllvm_1_1ISD_1_1InputArg.html#a9b241995758f9cea8cecf597918d1488">VT</a> = RegisterVT;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      MyFlags.<a class="code" href="structllvm_1_1ISD_1_1InputArg.html#a27823260c8966d6aa13c133689efe757">Used</a> = !CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>();</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(0, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea133970930e56cfea2076c22632b4ba0f">Attribute::SExt</a>))</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        MyFlags.<a class="code" href="structllvm_1_1ISD_1_1InputArg.html#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a1134ea0aa4c8b2d3e344d48dca3c4d44">setSExt</a>();</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(0, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>))</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        MyFlags.<a class="code" href="structllvm_1_1ISD_1_1InputArg.html#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a9d5e89b5f086590d776028ee2f095453">setZExt</a>();</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(0, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2">Attribute::InReg</a>))</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        MyFlags.<a class="code" href="structllvm_1_1ISD_1_1InputArg.html#ade84a7c18e5c4189eae57ebd21f77321">Flags</a>.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ac8683d314a90a316cb67a685d42a8c28">setInReg</a>();</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      Ins.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MyFlags);</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    }</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  }</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="comment">// Now handle call return values.</span></div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> UsedRegs;</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> RVLocs;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCRetInfo(CC, <span class="keyword">false</span>, *FuncInfo.MF, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>, RVLocs,</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                    I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">getContext</a>());</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = FuncInfo.CreateRegs(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  CCRetInfo.<a class="code" href="classllvm_1_1CCState.html#a34218a663a02de9dc2d26a5639f58ebe">AnalyzeCallResult</a>(Ins, RetCC_X86);</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i != RVLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> CopyVT = RVLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getValVT();</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordtype">unsigned</span> CopyReg = ResultReg + <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="comment">// If this is a call to a function that returns an fp value on the x87 fp</span></div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="comment">// stack, but where we prefer to use the value in xmm registers, copy it</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="comment">// out as F80 and use a truncate to move it from fp stack reg to xmm reg.</span></div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">if</span> ((RVLocs[i].getLocReg() == X86::ST0 ||</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;         RVLocs[i].getLocReg() == X86::ST1)) {</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      <span class="keywordflow">if</span> (isScalarFPTypeInSSEReg(RVLocs[i].getValVT())) {</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        CopyVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691">MVT::f80</a>;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        CopyReg = createResultReg(&amp;X86::RFP80RegClass);</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      }</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(X86::FpPOP_RETVAL),</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;              CopyReg);</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;              CopyReg).addReg(RVLocs[i].getLocReg());</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      UsedRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(RVLocs[i].getLocReg());</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    }</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordflow">if</span> (CopyVT != RVLocs[i].getValVT()) {</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      <span class="comment">// Round the F80 the right size, which also moves to the appropriate xmm</span></div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;      <span class="comment">// register. This is accomplished by storing the F80 value in memory and</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;      <span class="comment">// then loading it back. Ewww...</span></div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ResVT = RVLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getValVT();</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      <span class="keywordtype">unsigned</span> Opc = ResVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> ? X86::ST_Fp80m32 : X86::ST_Fp80m64;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;      <span class="keywordtype">unsigned</span> MemSize = ResVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      <span class="keywordtype">int</span> FI = MFI.CreateStackObject(MemSize, MemSize, <span class="keyword">false</span>);</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc)), FI)</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(CopyReg);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      Opc = ResVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> ? X86::MOVSSrm : X86::MOVSDrm;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg + <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), FI);</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    }</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  }</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordflow">if</span> (RVLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>())</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    UpdateValueMap(I, ResultReg, RVLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="comment">// Set all unused physreg defs as dead.</span></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<span class="keyword">&gt;</span>(MIB)-&gt;setPhysRegsDeadExcept(UsedRegs, TRI);</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;}</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;X86FastISel::TargetSelectInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I)  {</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>:</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">return</span> X86SelectLoad(I);</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Instruction::Store</a>:</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">return</span> X86SelectStore(I);</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Instruction::Ret</a>:</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">return</span> X86SelectRet(I);</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="keywordflow">case</span> Instruction::ICmp:</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">case</span> Instruction::FCmp:</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <span class="keywordflow">return</span> X86SelectCmp(I);</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">return</span> X86SelectZExt(I);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">case</span> Instruction::Br:</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="keywordflow">return</span> X86SelectBranch(I);</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">Instruction::Call</a>:</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="keywordflow">return</span> X86SelectCall(I);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <span class="keywordflow">return</span> X86SelectShift(I);</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">case</span> Instruction::URem:</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keywordflow">return</span> X86SelectDivRem(I);</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">Instruction::Select</a>:</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="keywordflow">return</span> X86SelectSelect(I);</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="keywordflow">return</span> X86SelectTrunc(I);</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="keywordflow">case</span> Instruction::FPExt:</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">return</span> X86SelectFPExt(I);</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <span class="keywordflow">case</span> Instruction::FPTrunc:</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <span class="keywordflow">return</span> X86SelectFPTrunc(I);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">case</span> Instruction::IntToPtr: <span class="comment">// Deliberate fall-through.</span></div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="keywordflow">case</span> Instruction::PtrToInt: {</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> DstVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="keywordflow">if</span> (DstVT.<a class="code" href="structllvm_1_1EVT.html#ac267a86695d58fe541ef96f8c60c1b0f">bitsGT</a>(SrcVT))</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      <span class="keywordflow">return</span> X86SelectZExt(I);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <span class="keywordflow">if</span> (DstVT.<a class="code" href="structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">bitsLT</a>(SrcVT))</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <span class="keywordflow">return</span> X86SelectTrunc(I);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="keywordtype">unsigned</span> Reg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="keywordflow">if</span> (Reg == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    UpdateValueMap(I, Reg);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  }</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  }</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;}</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="keywordtype">unsigned</span> X86FastISel::TargetMaterializeConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(C-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <span class="comment">// Can&#39;t handle alternate code models yet.</span></div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getCodeModel() != <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">CodeModel::Small</a>)</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="comment">// Get opcode and regclass of the output for the given load instruction.</span></div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = NULL;</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    Opc = X86::MOV8rm;</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    RC  = &amp;X86::GR8RegClass;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    Opc = X86::MOV16rm;</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    RC  = &amp;X86::GR16RegClass;</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    Opc = X86::MOV32rm;</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    RC  = &amp;X86::GR32RegClass;</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="comment">// Must be in x86-64 mode.</span></div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    Opc = X86::MOV64rm;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    RC  = &amp;X86::GR64RegClass;</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">if</span> (X86ScalarSSEf32) {</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVSSrm : X86::MOVSSrm;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;      RC  = &amp;X86::FR32RegClass;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      Opc = X86::LD_Fp32m;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;      RC  = &amp;X86::RFP32RegClass;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    }</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">if</span> (X86ScalarSSEf64) {</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">hasAVX</a>() ? X86::VMOVSDrm : X86::MOVSDrm;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      RC  = &amp;X86::FR64RegClass;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      Opc = X86::LD_Fp64m;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      RC  = &amp;X86::RFP64RegClass;</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    }</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691">MVT::f80</a>:</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="comment">// No f80 support yet.</span></div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  }</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="comment">// Materialize addresses with LEA instructions.</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <span class="keywordflow">if</span> (isa&lt;GlobalValue&gt;(C)) {</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="keywordflow">if</span> (X86SelectAddress(C, AM)) {</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      <span class="comment">// If the expression is just a basereg, then we&#39;re done, otherwise we need</span></div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;      <span class="comment">// to emit an LEA.</span></div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a06161eb542d205db0ba9b3cac2de306c">BaseType</a> == <a class="code" href="structllvm_1_1X86AddressMode.html#a0f0dbd990b6b52c4b884480fc7f75721a8763369023c9ed44c8a2861b80107e9f">X86AddressMode::RegBase</a> &amp;&amp;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;          AM.<a class="code" href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">IndexReg</a> == 0 &amp;&amp; AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">Disp</a> == 0 &amp;&amp; AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">GV</a> == 0)</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        <span class="keywordflow">return</span> AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">Base</a>.<a class="code" href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">Reg</a>;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      Opc = TLI.getPointerTy() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> ? X86::LEA32r : X86::LEA64r;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <a class="code" href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">addFullAddress</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                             <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg), AM);</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    }</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  }</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  <span class="comment">// MachineConstantPool wants an explicit alignment.</span></div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = TD.getPrefTypeAlignment(C-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <span class="keywordflow">if</span> (Align == 0) {</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="comment">// Alignment of vector types.  FIXME!</span></div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    Align = TD.getTypeAllocSize(C-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  }</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  <span class="comment">// x86-32 PIC requires a PIC base register for constant pools.</span></div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  <span class="keywordtype">unsigned</span> PICBase = 0;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> OpFlag = 0;</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a3f587325f64fb4081346df83a2a2e159">isPICStyleStubPIC</a>()) { <span class="comment">// Not dynamic-no-pic</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    OpFlag = <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84adca1e9b1551356bed7c8ef8cb0f1c471">X86II::MO_PIC_BASE_OFFSET</a>;</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    PICBase = getInstrInfo()-&gt;getGlobalBaseReg(FuncInfo.MF);</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">isPICStyleGOT</a>()) {</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    OpFlag = <a class="code" href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84a23bf757b117faacb20d4521a6ab42e51">X86II::MO_GOTOFF</a>;</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    PICBase = getInstrInfo()-&gt;getGlobalBaseReg(FuncInfo.MF);</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">isPICStyleRIPRel</a>() &amp;&amp;</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;             <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getCodeModel() == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">CodeModel::Small</a>) {</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    PICBase = X86::RIP;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  }</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <span class="comment">// Create the load from the constant pool.</span></div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <span class="keywordtype">unsigned</span> MCPOffset = MCP.getConstantPoolIndex(C, Align);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <a class="code" href="namespacellvm.html#a50b5022f49230c55af9e1bf267af74eb">addConstantPoolReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                                   <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg),</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                           MCPOffset, PICBase, OpFlag);</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;}</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="keywordtype">unsigned</span> X86FastISel::TargetMaterializeAlloca(<span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *C) {</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="comment">// Fail on dynamic allocas. At this point, getRegForValue has already</span></div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="comment">// checked its CSE maps, so if we&#39;re here trying to handle a dynamic</span></div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="comment">// alloca, we&#39;re not going to succeed. X86SelectAddress has a</span></div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="comment">// check for dynamic allocas, because it&#39;s called directly from</span></div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <span class="comment">// various places, but TargetMaterializeAlloca also needs a check</span></div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="comment">// in order to avoid recursion between getRegForValue,</span></div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="comment">// X86SelectAddrss, and TargetMaterializeAlloca.</span></div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordflow">if</span> (!FuncInfo.StaticAllocaMap.count(C))</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="keywordflow">if</span> (!X86SelectAddress(C, AM))</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="keywordtype">unsigned</span> Opc = Subtarget-&gt;<a class="code" href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">is64Bit</a>() ? X86::LEA64r : X86::LEA32r;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a>* RC = TLI.getRegClassFor(TLI.getPointerTy());</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <a class="code" href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">addFullAddress</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;                         <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg), AM);</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;}</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="keywordtype">unsigned</span> X86FastISel::TargetMaterializeFloatZero(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CF) {</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(CF-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="comment">// Get opcode and regclass for the given zero.</span></div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = NULL;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="keywordflow">if</span> (X86ScalarSSEf32) {</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;      Opc = X86::FsFLD0SS;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;      RC  = &amp;X86::FR32RegClass;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;      Opc = X86::LD_Fp032;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;      RC  = &amp;X86::RFP32RegClass;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    }</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="keywordflow">if</span> (X86ScalarSSEf64) {</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      Opc = X86::FsFLD0SD;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      RC  = &amp;X86::FR64RegClass;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      Opc = X86::LD_Fp064;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      RC  = &amp;X86::RFP64RegClass;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    }</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691">MVT::f80</a>:</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="comment">// No f80 support yet.</span></div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  }</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg);</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;}</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;<span class="keywordtype">bool</span> X86FastISel::tryToFoldLoadIntoMI(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI) {</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  <a class="code" href="structllvm_1_1X86AddressMode.html">X86AddressMode</a> AM;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  <span class="keywordflow">if</span> (!X86SelectAddress(LI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), AM))</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86InstrInfo.html">X86InstrInfo</a> &amp;XII = (<span class="keyword">const</span> <a class="code" href="classllvm_1_1X86InstrInfo.html">X86InstrInfo</a>&amp;)<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <span class="keywordtype">unsigned</span> Size = TD.getTypeAllocSize(LI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad1168fc42bcba1b71217a4969483671a">getAlignment</a>();</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 8&gt;</a> AddrOps;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  AM.<a class="code" href="structllvm_1_1X86AddressMode.html#a593e839307453b63de7b7021e8cc059a">getFullAddress</a>(AddrOps);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Result =</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    XII.<a class="code" href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">foldMemoryOperandImpl</a>(*FuncInfo.MF, MI, OpNo, AddrOps, Size, Alignment);</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  <span class="keywordflow">if</span> (Result == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  FuncInfo.MBB-&gt;insert(FuncInfo.InsertPt, Result);</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;}</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l02553"></a><span class="lineno"><a class="line" href="namespacellvm_1_1X86.html#ac370a59c2440ede047ceeea4ac9e9f77"> 2553</a></span>&#160;  <a class="code" href="classllvm_1_1FastISel.html">FastISel</a> *<a class="code" href="namespacellvm_1_1X86.html#ac370a59c2440ede047ceeea4ac9e9f77">X86::createFastISel</a>(<a class="code" href="classllvm_1_1FunctionLoweringInfo.html">FunctionLoweringInfo</a> &amp;funcInfo,</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *libInfo) {</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> X86FastISel(funcInfo, libInfo);</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  }</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;}</div><div class="ttc" id="structllvm_1_1X86AddressMode_html_a967aafff1ceb0ab66c9de70c5a94eacd"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a967aafff1ceb0ab66c9de70c5a94eacd">llvm::X86AddressMode::FrameIndex</a></div><div class="ttdeci">int FrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00045">X86InstrBuilder.h:45</a></div></div>
<div class="ttc" id="namespacellvm_html_a9bf6430c1a0cf078ee3f9f520fa407f0"><div class="ttname"><a href="namespacellvm.html#a9bf6430c1a0cf078ee3f9f520fa407f0">llvm::isInt&lt; 32 &gt;</a></div><div class="ttdeci">bool isInt&lt; 32 &gt;(int64_t x)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00276">MathExtras.h:276</a></div></div>
<div class="ttc" id="namespaceSIInstrFlags_html_a607b4b0952924970b77a9c6b42898b54"><div class="ttname"><a href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">SIInstrFlags::Flags</a></div><div class="ttdeci">Flags</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00140">SIInstrInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">llvm::ISD::BITCAST</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00420">ISDOpcodes.h:420</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html"><div class="ttname"><a href="classllvm_1_1ReturnInst.html">llvm::ReturnInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02279">Instructions.h:2279</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html_a14298313bdf734e2db5a921cc6e861a0"><div class="ttname"><a href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">llvm::StoreInst::getValueOperand</a></div><div class="ttdeci">Value * getValueOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00343">Instructions.h:343</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974a8e8dc64aad833bd23d07d3384522575e"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a8e8dc64aad833bd23d07d3384522575e">llvm::CallingConv::GHC</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00048">CallingConv.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a6917dcd78ac6655e9640ac3a96175e39"><div class="ttname"><a href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">llvm::CallInst::getCalledValue</a></div><div class="ttdeci">const Value * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01363">Instructions.h:1363</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_ac68a44416cb977887fbd4c4e5297491d"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ac68a44416cb977887fbd4c4e5297491d">llvm::MachineInstrBuilder::addMetadata</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMetadata(const MDNode *MD) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00171">MachineInstrBuilder.h:171</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a34218a663a02de9dc2d26a5639f58ebe"><div class="ttname"><a href="classllvm_1_1CCState.html#a34218a663a02de9dc2d26a5639f58ebe">llvm::CCState::AnalyzeCallResult</a></div><div class="ttdeci">void AnalyzeCallResult(const SmallVectorImpl&lt; ISD::InputArg &gt; &amp;Ins, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00155">CallingConvLower.cpp:155</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a95a9edd07ea2beefe91f5751d4850acd"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a95a9edd07ea2beefe91f5751d4850acd">llvm::ISD::ArgFlagsTy::setByValAlign</a></div><div class="ttdeci">void setByValAlign(unsigned A)</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00081">TargetCallingConv.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974a10f11fb587acddab17f3ad85eb698fbe"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a10f11fb587acddab17f3ad85eb698fbe">llvm::CallingConv::X86_64_SysV</a></div><div class="ttdoc">The C convention as specified in the x86-64 supplement to the System V ABI, used on most non-Windows ...</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00126">CallingConv.h:126</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00633">InstrTypes.h:633</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="namespacellvm_html_ad601c9cc2a3c83bea2aec0f6d8b8639a"><div class="ttname"><a href="namespacellvm.html#ad601c9cc2a3c83bea2aec0f6d8b8639a">llvm::ComputeValueVTs</a></div><div class="ttdeci">void ComputeValueVTs(const TargetLowering &amp;TLI, Type *Ty, SmallVectorImpl&lt; EVT &gt; &amp;ValueVTs, SmallVectorImpl&lt; uint64_t &gt; *Offsets=0, uint64_t StartingOffset=0)</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2Analysis_8cpp_source.html#l00074">CodeGen/Analysis.cpp:74</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_ae603fba6e8709cb50d43f38c4305e46b"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">llvm::CCValAssign::getValVT</a></div><div class="ttdeci">MVT getValVT() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00115">CallingConvLower.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a4786e64977a3af38f29adee46b70a863"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00425">SmallVector.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a4e7c7828319bc9db0f49c3c6d8f56ac7"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a4e7c7828319bc9db0f49c3c6d8f56ac7">llvm::CallSiteBase::getAttributes</a></div><div class="ttdeci">const AttributeSet &amp; getAttributes() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00179">CallSite.h:179</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00031">SparcInstrInfo.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">llvm::MVT::i64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00047">ValueTypes.h:47</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1X86TargetMachine_html"><div class="ttname"><a href="classllvm_1_1X86TargetMachine.html">llvm::X86TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="X86TargetMachine_8h_source.html#l00032">X86TargetMachine.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea133970930e56cfea2076c22632b4ba0f"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea133970930e56cfea2076c22632b4ba0f">llvm::Attribute::SExt</a></div><div class="ttdoc">Sign extended before/after call. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00097">Attributes.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a8c820cdb37337e8b0bd55e0fcd39dd18"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">llvm::CCValAssign::getLocInfo</a></div><div class="ttdeci">LocInfo getLocInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00126">CallingConvLower.h:126</a></div></div>
<div class="ttc" id="namespacellvm_html_a50b5022f49230c55af9e1bf267af74eb"><div class="ttname"><a href="namespacellvm.html#a50b5022f49230c55af9e1bf267af74eb">llvm::addConstantPoolReference</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addConstantPoolReference(const MachineInstrBuilder &amp;MIB, unsigned CPI, unsigned GlobalBaseReg, unsigned char OpFlags)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00174">X86InstrBuilder.h:174</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">llvm::CodeModel::Small</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00030">CodeGen.h:30</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1InputArg_html"><div class="ttname"><a href="structllvm_1_1ISD_1_1InputArg.html">llvm::ISD::InputArg</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00113">TargetCallingConv.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_a9558faebdbb62c072aed98e33604889d"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#a9558faebdbb62c072aed98e33604889d">llvm::MemIntrinsic::isVolatile</a></div><div class="ttdeci">bool isVolatile() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00134">IntrinsicInst.h:134</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="GlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2">llvm::Attribute::InReg</a></div><div class="ttdoc">Force argument to be passed in register. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00076">Attributes.h:76</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_acc2eeccdf71d83b3c08d6218317a1430"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">llvm::CallSiteBase::arg_end</a></div><div class="ttdeci">IterTy arg_end() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00143">CallSite.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html_a6cbb4809b81f3994ee0c79b38556bd66"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html#a6cbb4809b81f3994ee0c79b38556bd66">llvm::IntrinsicInst::getIntrinsicID</a></div><div class="ttdeci">Intrinsic::ID getIntrinsicID() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00043">IntrinsicInst.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca6c5745e529b6b3534599c54d82bc4691">llvm::MVT::f80</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00056">ValueTypes.h:56</a></div></div>
<div class="ttc" id="CallingConv_8h_html"><div class="ttname"><a href="CallingConv_8h.html">CallingConv.h</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a13ce8cb4c50c5b3505915467e14ad95a"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">llvm::CallSiteBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00145">CallSite.h:145</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html">llvm::X86InstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00130">X86InstrInfo.h:130</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2f81e0c1fc6554df7ad2eafabf5fc5a5"><div class="ttname"><a href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00108">User.h:108</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea26003dadfa771bce07fe0d9b38c51437"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea26003dadfa771bce07fe0d9b38c51437">llvm::Attribute::Nest</a></div><div class="ttdoc">Nested function static chain. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00079">Attributes.h:79</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00033">MachineInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00137">MCInstrDesc.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00031">CallingConv.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="namespacellvm_1_1MipsISD_html_a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363">llvm::MipsISD::Ins</a></div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00105">MipsISelLowering.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a3c76890714593c78e3b5d142c9030548"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a3c76890714593c78e3b5d142c9030548">llvm::CmpInst::getInversePredicate</a></div><div class="ttdeci">Predicate getInversePredicate() const </div><div class="ttdoc">Return the inverse of the instruction&amp;#39;s predicate. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00737">InstrTypes.h:737</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a9e328a04a5ee4f27749cb57497b7cd96"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a9e328a04a5ee4f27749cb57497b7cd96">llvm::X86Subtarget::ClassifyGlobalReference</a></div><div class="ttdeci">unsigned char ClassifyGlobalReference(const GlobalValue *GV, const TargetMachine &amp;TM) const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8cpp_source.html#l00055">X86Subtarget.cpp:55</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">llvm::CmpInst::ICMP_ULE</a></div><div class="ttdoc">unsigned less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00677">InstrTypes.h:677</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdoc">unsigned less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00676">InstrTypes.h:676</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">llvm::RegState::Implicit</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00032">MachineInstrBuilder.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a4010b27bb068167801ff99622ea92907"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4010b27bb068167801ff99622ea92907">llvm::Intrinsic::uadd_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02445">Intrinsics.h:2445</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8">llvm::CmpInst::FCMP_OLT</a></div><div class="ttdoc">0 1 0 0 True if ordered and less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00657">InstrTypes.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1X86InstrInfo_html_a9f107f6d566f22d12523c2949c07ba42"><div class="ttname"><a href="classllvm_1_1X86InstrInfo.html#a9f107f6d566f22d12523c2949c07ba42">llvm::X86InstrInfo::foldMemoryOperandImpl</a></div><div class="ttdeci">virtual MachineInstr * foldMemoryOperandImpl(MachineFunction &amp;MF, MachineInstr *MI, const SmallVectorImpl&lt; unsigned &gt; &amp;Ops, int FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l04262">X86InstrInfo.cpp:4262</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_af63bcf34c820f95f096676adf8358de4"><div class="ttname"><a href="README-SSE_8txt.html#af63bcf34c820f95f096676adf8358de4">EBX</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI ADD32rr ESI SHUFPSrr EBX</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00222">README-SSE.txt:222</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a423166b2b5d1010162dde0003e5ad09c"><div class="ttname"><a href="classllvm_1_1MVT.html#a423166b2b5d1010162dde0003e5ad09c">llvm::MVT::getSizeInBits</a></div><div class="ttdeci">unsigned getSizeInBits() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00359">ValueTypes.h:359</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">llvm::MVT::v8i16</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00080">ValueTypes.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ac67ad08d36c989a872a887caa72803c6"><div class="ttname"><a href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">llvm::Type::isDoubleTy</a></div><div class="ttdeci">bool isDoubleTy() const </div><div class="ttdoc">isDoubleTy - Return true if this is &amp;#39;double&amp;#39;, a 64-bit IEEE fp type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00149">Type.h:149</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a20485215f1c6f05a5c5209725c93de2f"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">llvm::ISD::ArgFlagsTy::getByValSize</a></div><div class="ttdeci">unsigned getByValSize() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00098">TargetCallingConv.h:98</a></div></div>
<div class="ttc" id="FunctionLoweringInfo_8h_html"><div class="ttname"><a href="FunctionLoweringInfo_8h.html">FunctionLoweringInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd">llvm::CmpInst::FCMP_UNE</a></div><div class="ttdoc">1 1 1 0 True if unordered or not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00667">InstrTypes.h:667</a></div></div>
<div class="ttc" id="classllvm_1_1MemSetInst_html"><div class="ttname"><a href="classllvm_1_1MemSetInst.html">llvm::MemSetInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00190">IntrinsicInst.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a26ccf11b81c01a45cb40137c775f7cad"><div class="ttname"><a href="classllvm_1_1Function.html#a26ccf11b81c01a45cb40137c775f7cad">llvm::Function::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00179">Function.cpp:179</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8300ac1ef141b8a7c63c13fa9369d976"><div class="ttname"><a href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">llvm::Function::arg_end</a></div><div class="ttdeci">arg_iterator arg_end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00418">Function.h:418</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a53acfad7e5e22dd346857a1273d38779"><div class="ttname"><a href="README-SSE_8txt.html#a53acfad7e5e22dd346857a1273d38779">XMM2</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI ADD32rr ESI XMM2</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00217">README-SSE.txt:217</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a69cfaa345b14e467ea8934fe48cc3365"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a69cfaa345b14e467ea8934fe48cc3365">llvm::X86AddressMode::GV</a></div><div class="ttdeci">const GlobalValue * GV</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00051">X86InstrBuilder.h:51</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45aac6bf1a4743f81c8ee1cb10ef85ce063"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45aac6bf1a4743f81c8ee1cb10ef85ce063">llvm::CCValAssign::VExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00039">CallingConvLower.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a0f94adbbe71c94edaa533a25973bbffc"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a0f94adbbe71c94edaa533a25973bbffc">llvm::CCValAssign::BCvt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00038">CallingConvLower.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_aec808a2f1cfc9d91bebad3ca6a405b1a"><div class="ttname"><a href="README-SSE_8txt.html#aec808a2f1cfc9d91bebad3ca6a405b1a">XMM0</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI ADD32rr ESI XMM0</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00214">README-SSE.txt:214</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00033">User.h:33</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">llvm::TargetOpcode::COPY</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00086">TargetOpcodes.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">llvm::MVT::v16i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00074">ValueTypes.h:74</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html_a54abbe67d4a53c92652f1666dc19281f"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">llvm::AttributeSet::hasAttribute</a></div><div class="ttdeci">bool hasAttribute(unsigned Index, Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the attribute exists at the given index. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00818">Attributes.cpp:818</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a96511fb80d3f05f6f95530002bd4b6a8"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">llvm::CCValAssign::getValNo</a></div><div class="ttdeci">unsigned getValNo() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00114">CallingConvLower.h:114</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">llvm::Intrinsic::memcpy</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01260">Intrinsics.h:1260</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_aad094c5c9174ced82b0e50cc1107f6b6"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#aad094c5c9174ced82b0e50cc1107f6b6">llvm::X86AddressMode::Scale</a></div><div class="ttdeci">unsigned Scale</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00048">X86InstrBuilder.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00116">User.h:116</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">llvm::ISD::NodeType</a></div><div class="ttdeci">NodeType</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00039">ISDOpcodes.h:39</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5ebe5227fe53e0dcf4102a6ebf1594a2"><div class="ttname"><a href="structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">llvm::EVT::bitsLT</a></div><div class="ttdeci">bool bitsLT(EVT VT) const </div><div class="ttdoc">bitsLT - Return true if this has less bits than VT. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00735">ValueTypes.h:735</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_afcfd7d2322b397d0d55a4595dea52e3c"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">llvm::CCValAssign::isRegLoc</a></div><div class="ttdeci">bool isRegLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00117">CallingConvLower.h:117</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1InputArg_html_ade84a7c18e5c4189eae57ebd21f77321"><div class="ttname"><a href="structllvm_1_1ISD_1_1InputArg.html#ade84a7c18e5c4189eae57ebd21f77321">llvm::ISD::InputArg::Flags</a></div><div class="ttdeci">ArgFlagsTy Flags</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00114">TargetCallingConv.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_af4d5ada526cdf057f5f29047e058187d"><div class="ttname"><a href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00161">Function.h:161</a></div></div>
<div class="ttc" id="CallSite_8h_html"><div class="ttname"><a href="CallSite_8h.html">CallSite.h</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html">llvm::generic_gep_type_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00023">GetElementPtrTypeIterator.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00111">Constants.cpp:111</a></div></div>
<div class="ttc" id="classllvm_1_1X86MachineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1X86MachineFunctionInfo.html">llvm::X86MachineFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="X86MachineFunctionInfo_8h_source.html#l00023">X86MachineFunctionInfo.h:23</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a8f55eb02f6aa961f7dec19e338d361e2"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a8f55eb02f6aa961f7dec19e338d361e2">llvm::Intrinsic::stackprotector</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02439">Intrinsics.h:2439</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a1894a1e6be0ec8bbc763476332735765"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a1894a1e6be0ec8bbc763476332735765">llvm::X86AddressMode::GVOpFlags</a></div><div class="ttdeci">unsigned GVOpFlags</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00052">X86InstrBuilder.h:52</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a919643b83ce3c9af2e4296ed5e413a1f"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a919643b83ce3c9af2e4296ed5e413a1f">llvm::CmpInst::FCMP_UEQ</a></div><div class="ttdoc">1 0 0 1 True if unordered or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00662">InstrTypes.h:662</a></div></div>
<div class="ttc" id="classllvm_1_1Triple_html_a046b1c05ec2d492f6572840cf8bac653"><div class="ttname"><a href="classllvm_1_1Triple.html#a046b1c05ec2d492f6572840cf8bac653">llvm::Triple::isMacOSX</a></div><div class="ttdeci">bool isMacOSX() const </div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00303">Triple.h:303</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCID_html_a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16"><div class="ttname"><a href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">llvm::MCID::Select</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00113">MCInstrDesc.h:113</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a1e0db296d2fc79e7438629b2a62038a9"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1e0db296d2fc79e7438629b2a62038a9">llvm::Intrinsic::trap</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02443">Intrinsics.h:2443</a></div></div>
<div class="ttc" id="X86_8h_html"><div class="ttname"><a href="X86_8h.html">X86.h</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html"><div class="ttname"><a href="classllvm_1_1StructLayout.html">llvm::StructLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00418">DataLayout.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05af0159e4005258dc54f20b6fc227d19ed"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05af0159e4005258dc54f20b6fc227d19ed">llvm::CmpInst::FCMP_UNO</a></div><div class="ttdoc">1 0 0 0 True if unordered: isnan(X) | isnan(Y) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00661">InstrTypes.h:661</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">llvm::MVT::i1</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00043">ValueTypes.h:43</a></div></div>
<div class="ttc" id="MachineConstantPool_8h_html"><div class="ttname"><a href="MachineConstantPool_8h.html">MachineConstantPool.h</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">llvm::CCValAssign::Full</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00034">CallingConvLower.h:34</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ab8758f0a60d0150a6dbda9328ee85a06"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ab8758f0a60d0150a6dbda9328ee85a06">llvm::GlobalValue::hasDefaultVisibility</a></div><div class="ttdeci">bool hasDefaultVisibility() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00088">GlobalValue.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdoc">not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00673">InstrTypes.h:673</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00060">Use.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45aacf7e7d80f766b55b2bbdaf3d354c39e"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45aacf7e7d80f766b55b2bbdaf3d354c39e">llvm::CCValAssign::Indirect</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00042">CallingConvLower.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="namespacellvm_html_a029305779c4671cfa47263aae5ed18cc"><div class="ttname"><a href="namespacellvm.html#a029305779c4671cfa47263aae5ed18cc">llvm::isGlobalStubReference</a></div><div class="ttdeci">static bool isGlobalStubReference(unsigned char TargetFlag)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00075">X86InstrInfo.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00846">MachineInstr.cpp:846</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_ae3d1eab6cbe1d4d2bd95ac0844bdee8f"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ae3d1eab6cbe1d4d2bd95ac0844bdee8f">llvm::ISD::ArgFlagsTy::isSExt</a></div><div class="ttdeci">bool isSExt() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00059">TargetCallingConv.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a9835cfe02fb5027680bd7203b024f77a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a9835cfe02fb5027680bd7203b024f77a">llvm::CmpInst::FCMP_OLE</a></div><div class="ttdoc">0 1 0 1 True if ordered and less than or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00658">InstrTypes.h:658</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a27bda7d8e8e4f0337650a892f3c9b46a"><div class="ttname"><a href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">llvm::MVT::SimpleTy</a></div><div class="ttdeci">SimpleValueType SimpleTy</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00161">ValueTypes.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_aeb53bb4b0a009e39fc6ca6002d1e160d"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#aeb53bb4b0a009e39fc6ca6002d1e160d">llvm::X86Subtarget::getTargetTriple</a></div><div class="ttdeci">const Triple &amp; getTargetTriple() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00309">X86Subtarget.h:309</a></div></div>
<div class="ttc" id="X86FastISel_8cpp_html_a2fc15f7be1f527429e4232939fa2ca85"><div class="ttname"><a href="X86FastISel_8cpp.html#a2fc15f7be1f527429e4232939fa2ca85">computeBytesPoppedByCallee</a></div><div class="ttdeci">static unsigned computeBytesPoppedByCallee(const X86Subtarget &amp;Subtarget, const ImmutableCallSite &amp;CS)</div><div class="ttdef"><b>Definition:</b> <a href="X86FastISel_8cpp_source.html#l01862">X86FastISel.cpp:1862</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_ad66657226225059fd5e7f49f4f1173cc"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ad66657226225059fd5e7f49f4f1173cc">llvm::ISD::ArgFlagsTy::setByValSize</a></div><div class="ttdeci">void setByValSize(unsigned S)</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00101">TargetCallingConv.h:101</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ead3b3c621bae2f478e73839979b52536a"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead3b3c621bae2f478e73839979b52536a">llvm::Attribute::StructRet</a></div><div class="ttdoc">Hidden pointer to structure to return. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00105">Attributes.h:105</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_aafb0a6c62a7cfe1538db1d20d759a34b"><div class="ttname"><a href="README-SSE_8txt.html#aafb0a6c62a7cfe1538db1d20d759a34b">EDX</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm EDX</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00132">README-SSE.txt:132</a></div></div>
<div class="ttc" id="X86TargetMachine_8h_html"><div class="ttname"><a href="X86TargetMachine_8h.html">X86TargetMachine.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a0a17fba293567ee7ac6bb0ff0843d9e4"><div class="ttname"><a href="namespacellvm.html#a0a17fba293567ee7ac6bb0ff0843d9e4">llvm::isGlobalRelativeToPICBase</a></div><div class="ttdeci">static bool isGlobalRelativeToPICBase(unsigned char TargetFlag)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8h_source.html#l00092">X86InstrInfo.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">llvm::CCValAssign::AExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00037">CallingConvLower.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1Triple_html_af2ee35261532b22de8929f4d7c86e6ac"><div class="ttname"><a href="classllvm_1_1Triple.html#af2ee35261532b22de8929f4d7c86e6ac">llvm::Triple::isMacOSXVersionLT</a></div><div class="ttdeci">unsigned isMacOSXVersionLT(unsigned Major, unsigned Minor=0, unsigned Micro=0) const </div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00288">Triple.h:288</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a5cb182c203efa2f1fc4797fb76b15daf"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">llvm::CCValAssign::getLocReg</a></div><div class="ttdeci">unsigned getLocReg() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00122">CallingConvLower.h:122</a></div></div>
<div class="ttc" id="classllvm_1_1FastISel_html"><div class="ttname"><a href="classllvm_1_1FastISel.html">llvm::FastISel</a></div><div class="ttdef"><b>Definition:</b> <a href="FastISel_8h_source.html#l00047">FastISel.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html">llvm::ConstantExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00790">Constants.h:790</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_ac8683d314a90a316cb67a685d42a8c28"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ac8683d314a90a316cb67a685d42a8c28">llvm::ISD::ArgFlagsTy::setInReg</a></div><div class="ttdeci">void setInReg()</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00063">TargetCallingConv.h:63</a></div></div>
<div class="ttc" id="Operator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a9d5e89b5f086590d776028ee2f095453"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a9d5e89b5f086590d776028ee2f095453">llvm::ISD::ArgFlagsTy::setZExt</a></div><div class="ttdeci">void setZExt()</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00057">TargetCallingConv.h:57</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a79f81261b542cb8213d8e23d3d6779c0"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a79f81261b542cb8213d8e23d3d6779c0">llvm::X86AddressMode::Base</a></div><div class="ttdeci">union llvm::X86AddressMode::@223 Base</div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a5314399c907d77b514ec837e8527a9de"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a5314399c907d77b514ec837e8527a9de">llvm::X86Subtarget::is64Bit</a></div><div class="ttdeci">bool is64Bit() const </div><div class="ttdoc">Is this x86_64? (disregarding specific ABI / programming model) </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00240">X86Subtarget.h:240</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">llvm::Intrinsic::memset</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01262">Intrinsics.h:1262</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a2e2e7c910cf4426ef2a67dc1d7f47cb7"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a2e2e7c910cf4426ef2a67dc1d7f47cb7">llvm::X86Subtarget::isPICStyleRIPRel</a></div><div class="ttdeci">bool isPICStyleRIPRel() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00348">X86Subtarget.h:348</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ac651192f7bb4de8e675b000f406d6489"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">llvm::CallSiteBase::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00170">CallSite.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a74e70ecbb79defbbfa6f6c87f76155bf"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">llvm::BranchInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02406">Instructions.h:2406</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a9a1c30a208eb023907075d28e7ab2f19"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a9a1c30a208eb023907075d28e7ab2f19">llvm::TargetOpcode::SUBREG_TO_REG</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00058">TargetOpcodes.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">llvm::MVT::i32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00046">ValueTypes.h:46</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51"><div class="ttname"><a href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00149">CallingConvLower.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eab3c7dc42b72fed5fbed71591604203a9"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eab3c7dc42b72fed5fbed71591604203a9">llvm::Attribute::ByVal</a></div><div class="ttdoc">Pass structure by value. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00073">Attributes.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_ad7e605e76cbee017a4f3964e93b60182"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#ad7e605e76cbee017a4f3964e93b60182">llvm::X86Subtarget::isPICStyleStubAny</a></div><div class="ttdeci">bool isPICStyleStubAny() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00357">X86Subtarget.h:357</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00255">Instructions.h:255</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a1abce20a9eff3d23ce05331962b1997c"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">llvm::CallSiteBase::getCalledValue</a></div><div class="ttdeci">ValTy * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00085">CallSite.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_af23ecc474bd52056428ee09ebe9f044f"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#af23ecc474bd52056428ee09ebe9f044f">llvm::CallSiteBase::getParamAlignment</a></div><div class="ttdeci">uint16_t getParamAlignment(uint16_t i) const </div><div class="ttdoc">Extract the alignment for a call or parameter (0=unknown). </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00197">CallSite.h:197</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a9aae7c60b468bcf6db982dc76e6c703a"><div class="ttname"><a href="classllvm_1_1Type.html#a9aae7c60b468bcf6db982dc76e6c703a">llvm::Type::isArrayTy</a></div><div class="ttdeci">bool isArrayTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00216">Type.h:216</a></div></div>
<div class="ttc" id="classllvm_1_1DbgDeclareInst_html_a482a19e6f43b335892300d937ef8fb80"><div class="ttname"><a href="classllvm_1_1DbgDeclareInst.html#a482a19e6f43b335892300d937ef8fb80">llvm::DbgDeclareInst::getVariable</a></div><div class="ttdeci">MDNode * getVariable() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00084">IntrinsicInst.h:84</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_ab578211fc94e49ec6628ec6023f4be09"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ab578211fc94e49ec6628ec6023f4be09">llvm::ISD::ArgFlagsTy::setOrigAlign</a></div><div class="ttdeci">void setOrigAlign(unsigned A)</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00093">TargetCallingConv.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1SequentialType_html_a39f2c3a62f293faf11ac28b15bc53359"><div class="ttname"><a href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">llvm::SequentialType::getElementType</a></div><div class="ttdeci">Type * getElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00319">DerivedTypes.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1TruncInst_html"><div class="ttname"><a href="classllvm_1_1TruncInst.html">llvm::TruncInst</a></div><div class="ttdoc">This class represents a truncation of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03175">Instructions.h:3175</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="namespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00389">MachineInstrBuilder.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a3715880ebfc4edc7a0e6bad607715954"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a3715880ebfc4edc7a0e6bad607715954">llvm::X86Subtarget::hasSSE2</a></div><div class="ttdeci">bool hasSSE2() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00260">X86Subtarget.h:260</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca83cf3151949430d75a783f36e2a1ffd8"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca83cf3151949430d75a783f36e2a1ffd8">llvm::MVT::v2f64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00106">ValueTypes.h:106</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ac291102760c543c8e045e829d57d3341"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ac291102760c543c8e045e829d57d3341">llvm::GlobalValue::isWeakForLinker</a></div><div class="ttdeci">static bool isWeakForLinker(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00183">GlobalValue.h:183</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a64d666eb92eff8eb2810814d040a21c1"><div class="ttname"><a href="README-SSE_8txt.html#a64d666eb92eff8eb2810814d040a21c1">EDI</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI EDI</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00211">README-SSE.txt:211</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a45cdfdabb3963ec52b198ce5d3aabc84af8c65b2bb851c2cde81d3df093310b68"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84af8c65b2bb851c2cde81d3df093310b68">llvm::X86II::MO_DARWIN_STUB</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00182">X86BaseInfo.h:182</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html_ae10c4483372a357a0d3411b3d64be10c"><div class="ttname"><a href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">llvm::StructLayout::getElementOffset</a></div><div class="ttdeci">uint64_t getElementOffset(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00442">DataLayout.h:442</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a9c293af587813d72fdc976697dd07f23"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">llvm::CallSiteBase&lt;&gt;::arg_iterator</a></div><div class="ttdeci">User::const_op_iterator arg_iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00133">CallSite.h:133</a></div></div>
<div class="ttc" id="namespacellvm_html_ae9a577ed38a1ba3a31fa03fb25d369ad"><div class="ttname"><a href="namespacellvm.html#ae9a577ed38a1ba3a31fa03fb25d369ad">llvm::GetReturnInfo</a></div><div class="ttdeci">void GetReturnInfo(Type *ReturnType, AttributeSet attr, SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;Outs, const TargetLowering &amp;TLI)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l01183">TargetLoweringBase.cpp:1183</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00709">Instructions.h:709</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64ISD_html_a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">llvm::AArch64ISD::Ret</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00060">AArch64ISelLowering.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00042">ValueTypes.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a3d312d3d7b24b6684b07792888bc5efd"><div class="ttname"><a href="classllvm_1_1MVT.html#a3d312d3d7b24b6684b07792888bc5efd">llvm::MVT::isInteger</a></div><div class="ttdeci">bool isInteger() const </div><div class="ttdoc">isInteger - Return true if this is an integer, or a vector integer type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00182">ValueTypes.h:182</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html_a3084f1dd69d67e1965fd1fe721a69f2e"><div class="ttname"><a href="classllvm_1_1StoreInst.html#a3084f1dd69d67e1965fd1fe721a69f2e">llvm::StoreInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a4caa21969bbdc4f0b8d77263760f9f69"><div class="ttname"><a href="README-SSE_8txt.html#a4caa21969bbdc4f0b8d77263760f9f69">XMM3</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI ADD32rr ESI XMM3</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00219">README-SSE.txt:219</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_ad7680f2a7ff3eac072b3e08e9ba9b08c"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#ad7680f2a7ff3eac072b3e08e9ba9b08c">llvm::X86Subtarget::isCallingConvWin64</a></div><div class="ttdeci">bool isCallingConvWin64(CallingConv::ID CC) const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00362">X86Subtarget.h:362</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html"><div class="ttname"><a href="classllvm_1_1MVT.html">llvm::MVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00033">ValueTypes.h:33</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a2014ce03ca56d15be72ef050d1098660"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a2014ce03ca56d15be72ef050d1098660">llvm::ISD::ArgFlagsTy::setByVal</a></div><div class="ttdeci">void setByVal()</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00069">TargetCallingConv.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae4c67f835911559821939fb23a2e7aff"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">llvm::CallSiteBase::getInstruction</a></div><div class="ttdeci">InstrTy * getInstruction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00079">CallSite.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">llvm::CCValAssign::SExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00035">CallingConvLower.h:35</a></div></div>
<div class="ttc" id="README-X86-64_8txt_html_a9de23273550c17a1957b1b325a01960e"><div class="ttname"><a href="README-X86-64_8txt.html#a9de23273550c17a1957b1b325a01960e">AH</a></div><div class="ttdeci">AMD64 Optimization Manual has some nice information about optimizing integer multiplication by a constant How much of it applies to Intel s X86 implementation There are definite trade offs to xmm0 cvttss2siq rdx jb L3 subss xmm0 rax cvttss2siq rdx xorq rdx rax ret instead of xmm1 cvttss2siq rcx movaps xmm2 subss xmm2 cvttss2siq rax rdx xorq rax ucomiss xmm0 cmovb rax ret Seems like the jb branch has high likelihood of being taken It would have saved a few instructions It s not possible to reference AH</div><div class="ttdef"><b>Definition:</b> <a href="README-X86-64_8txt_source.html#l00018">README-X86-64.txt:18</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_abdbb5443e06c46eba409abb252121105"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#abdbb5443e06c46eba409abb252121105">llvm::X86AddressMode::Reg</a></div><div class="ttdeci">unsigned Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00044">X86InstrBuilder.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02350">Instructions.h:2350</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6f725580f7834e2ca90762965866dad4"><div class="ttname"><a href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00229">Type.h:229</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a3f587325f64fb4081346df83a2a2e159"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a3f587325f64fb4081346df83a2a2e159">llvm::X86Subtarget::isPICStyleStubPIC</a></div><div class="ttdeci">bool isPICStyleStubPIC() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00350">X86Subtarget.h:350</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_ae59804b87136d0ddf452a25b025b768c"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">llvm::CCValAssign::getLocVT</a></div><div class="ttdeci">MVT getLocVT() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00124">CallingConvLower.h:124</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_ac07ebfa86b4d5bf5386e1ac07d62b2bd"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">llvm::MCRegisterInfo::getRegClass</a></div><div class="ttdeci">const MCRegisterClass &amp; getRegClass(unsigned i) const </div><div class="ttdoc">Returns the register class associated with the enumeration value. See class MCOperandInfo. </div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00399">MCRegisterInfo.h:399</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afa328609e9c6183e2bc34afe59b84d1d"><div class="ttname"><a href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">llvm::MVT::isVector</a></div><div class="ttdeci">bool isVector() const </div><div class="ttdoc">isVector - Return true if this is a vector value type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00190">ValueTypes.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">llvm::MVT::v4f32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00102">ValueTypes.h:102</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc">llvm::Intrinsic::sadd_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02431">Intrinsics.h:2431</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aeb06cf0f813f643b62d8dd98db0bc249"><div class="ttname"><a href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">llvm::Type::isFloatTy</a></div><div class="ttdeci">bool isFloatTy() const </div><div class="ttdoc">isFloatTy - Return true if this is &amp;#39;float&amp;#39;, a 32-bit IEEE fp type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00146">Type.h:146</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a996f0e431c0f5c7c14ab38bb225fc945"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a996f0e431c0f5c7c14ab38bb225fc945">llvm::ISD::ArgFlagsTy::setNest</a></div><div class="ttdeci">void setNest()</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00072">TargetCallingConv.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html"><div class="ttname"><a href="classllvm_1_1ConstantFP.html">llvm::ConstantFP</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00232">Constants.h:232</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html">llvm::ISD::ArgFlagsTy</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00024">TargetCallingConv.h:24</a></div></div>
<div class="ttc" id="namespacellvm_1_1Reloc_html_af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320"><div class="ttname"><a href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">llvm::Reloc::PIC_</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00025">CodeGen.h:25</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_a3ec0c47a5532e568d54c8d452dfb58df"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#a3ec0c47a5532e568d54c8d452dfb58df">llvm::MemIntrinsic::getRawDest</a></div><div class="ttdeci">Value * getRawDest() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00120">IntrinsicInst.h:120</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a0f0dbd990b6b52c4b884480fc7f75721ab07c42c17fdd1279c09b961c89653ffb"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a0f0dbd990b6b52c4b884480fc7f75721ab07c42c17fdd1279c09b961c89653ffb">llvm::X86AddressMode::FrameIndexBase</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00040">X86InstrBuilder.h:40</a></div></div>
<div class="ttc" id="X86RegisterInfo_8h_html"><div class="ttname"><a href="X86RegisterInfo_8h.html">X86RegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_af41f58e730804d10b91fcff39b035f74"><div class="ttname"><a href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">llvm::User::op_end</a></div><div class="ttdeci">op_iterator op_end()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00118">User.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html">llvm::X86Subtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00042">X86Subtarget.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00651">InstrTypes.h:651</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac5fb8808f3dcb9f0a83f1fc2e7747485"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac5fb8808f3dcb9f0a83f1fc2e7747485">llvm::ISD::TRAP</a></div><div class="ttdoc">TRAP - Trapping instruction. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00586">ISDOpcodes.h:586</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">llvm::Attribute::ZExt</a></div><div class="ttdoc">Zero extended before/after call. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00110">Attributes.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05aa3213b645e029aba8bb1b85213607d5e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa3213b645e029aba8bb1b85213607d5e">llvm::CmpInst::FCMP_ORD</a></div><div class="ttdoc">0 1 1 1 True if ordered (no nans) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00660">InstrTypes.h:660</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca0f87637b0102ab8e9f085bf80358fabc"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca0f87637b0102ab8e9f085bf80358fabc">llvm::MVT::v2i64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00089">ValueTypes.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">llvm::MVT::v4i32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00085">ValueTypes.h:85</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_abd9c765b9afafff59eb14d50c9e9fba1"><div class="ttname"><a href="README-SSE_8txt.html#abd9c765b9afafff59eb14d50c9e9fba1">EAX</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI EAX</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00208">README-SSE.txt:208</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8bf193a781a92cae52d7f9216d0824f8"><div class="ttname"><a href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">llvm::Function::arg_begin</a></div><div class="ttdeci">arg_iterator arg_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00410">Function.h:410</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974afde87569738f9e23963e8735f71c33eb"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afde87569738f9e23963e8735f71c33eb">llvm::CallingConv::X86_FastCall</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00074">CallingConv.h:74</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00714">InstrTypes.h:714</a></div></div>
<div class="ttc" id="namespacellvm_1_1N86_html_a154c9f74eba4608c7d1b656eb025a96da667b758702693d9dfb46e55025fc559d"><div class="ttname"><a href="namespacellvm_1_1N86.html#a154c9f74eba4608c7d1b656eb025a96da667b758702693d9dfb46e55025fc559d">llvm::N86::ECX</a></div><div class="ttdef"><b>Definition:</b> <a href="X86MCTargetDesc_8h_source.html#l00047">X86MCTargetDesc.h:47</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_ad696953257cf1c4e5bd12d02146e7287"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#ad696953257cf1c4e5bd12d02146e7287">llvm::SmallVectorTemplateCommon&lt; T &gt;::rend</a></div><div class="ttdeci">reverse_iterator rend()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00124">SmallVector.h:124</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a34ee642bf0fb623f775e04e0e60d9b26"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">llvm::ISD::ArgFlagsTy::isByVal</a></div><div class="ttdeci">bool isByVal() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00068">TargetCallingConv.h:68</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a70e508bc7f43a27814a74eb14f7c5c65"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a70e508bc7f43a27814a74eb14f7c5c65">llvm::X86Subtarget::isPICStyleGOT</a></div><div class="ttdeci">bool isPICStyleGOT() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00347">X86Subtarget.h:347</a></div></div>
<div class="ttc" id="X86CallingConv_8h_html"><div class="ttname"><a href="X86CallingConv_8h.html">X86CallingConv.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00576">ValueTypes.h:576</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00517">Value.cpp:517</a></div></div>
<div class="ttc" id="ThreadSanitizer_8cpp_html_accbf04314e7caef9ac81d62928dda8b8"><div class="ttname"><a href="ThreadSanitizer_8cpp.html#accbf04314e7caef9ac81d62928dda8b8">isAtomic</a></div><div class="ttdeci">static bool isAtomic(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSanitizer_8cpp_source.html#l00308">ThreadSanitizer.cpp:308</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1InputArg_html_a9b241995758f9cea8cecf597918d1488"><div class="ttname"><a href="structllvm_1_1ISD_1_1InputArg.html#a9b241995758f9cea8cecf597918d1488">llvm::ISD::InputArg::VT</a></div><div class="ttdeci">MVT VT</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00115">TargetCallingConv.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09">llvm::CmpInst::FCMP_ULE</a></div><div class="ttdoc">1 1 0 1 True if unordered, less than, or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00666">InstrTypes.h:666</a></div></div>
<div class="ttc" id="X86Subtarget_8h_html"><div class="ttname"><a href="X86Subtarget_8h.html">X86Subtarget.h</a></div></div>
<div class="ttc" id="classllvm_1_1X86RegisterInfo_html_ac26e69b92e7ee67cfe9766db55b221da"><div class="ttname"><a href="classllvm_1_1X86RegisterInfo.html#ac26e69b92e7ee67cfe9766db55b221da">llvm::X86RegisterInfo::getStackRegister</a></div><div class="ttdeci">unsigned getStackRegister() const </div><div class="ttdef"><b>Definition:</b> <a href="X86RegisterInfo_8h_source.html#l00125">X86RegisterInfo.h:125</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdoc">signed greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00678">InstrTypes.h:678</a></div></div>
<div class="ttc" id="namespacellvm_html_ad73248c76f67b663abacff7aff17fd2c"><div class="ttname"><a href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">llvm::addFrameReference</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addFrameReference(const MachineInstrBuilder &amp;MIB, int FI, int Offset=0, bool mem=true)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrBuilder_8h_source.html#l00033">PPCInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a2f7e5de56eac03da1d4f20ca402dfd0c"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a2f7e5de56eac03da1d4f20ca402dfd0c">llvm::X86Subtarget::isTargetWindows</a></div><div class="ttdeci">bool isTargetWindows() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00326">X86Subtarget.h:326</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_ac267a86695d58fe541ef96f8c60c1b0f"><div class="ttname"><a href="structllvm_1_1EVT.html#ac267a86695d58fe541ef96f8c60c1b0f">llvm::EVT::bitsGT</a></div><div class="ttdeci">bool bitsGT(EVT VT) const </div><div class="ttdoc">bitsGT - Return true if this has more bits than VT. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00723">ValueTypes.h:723</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8">llvm::CmpInst::FCMP_OGT</a></div><div class="ttdoc">0 0 1 0 True if ordered and greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00655">InstrTypes.h:655</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00029">GlobalValue.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_af1965b0188d8595d0aaf002d0eb6d009"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#af1965b0188d8595d0aaf002d0eb6d009">llvm::X86AddressMode::IndexReg</a></div><div class="ttdeci">unsigned IndexReg</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00049">X86InstrBuilder.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html"><div class="ttname"><a href="classllvm_1_1CCState.html">llvm::CCState</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00154">CallingConvLower.h:154</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="TargetOptions_8h_html"><div class="ttname"><a href="TargetOptions_8h.html">TargetOptions.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a883f2182cecc59883f24a9b886ffeb74"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a883f2182cecc59883f24a9b886ffeb74">llvm::X86AddressMode::Disp</a></div><div class="ttdeci">int Disp</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00050">X86InstrBuilder.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_abc97e120bb0538a9ecbeaaafa97d4ad5"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#abc97e120bb0538a9ecbeaaafa97d4ad5">llvm::X86Subtarget::isTargetELF</a></div><div class="ttdeci">bool isTargetELF() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00318">X86Subtarget.h:318</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a75016d5872d90adf89cc1cbf5763f474"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a75016d5872d90adf89cc1cbf5763f474">llvm::CmpInst::FCMP_ULT</a></div><div class="ttdoc">1 1 0 0 True if unordered or less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00665">InstrTypes.h:665</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1X86RegisterInfo_html"><div class="ttname"><a href="classllvm_1_1X86RegisterInfo.html">llvm::X86RegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="X86RegisterInfo_8h_source.html#l00027">X86RegisterInfo.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">llvm::MVT::f32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00054">ValueTypes.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html"><div class="ttname"><a href="classllvm_1_1CCValAssign.html">llvm::CCValAssign</a></div><div class="ttdoc">CCValAssign - Represent assignment of one arg/retval to a location. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00031">CallingConvLower.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdoc">signed less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00680">InstrTypes.h:680</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a3de0a03c0721e0683934a37868f6a421"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a3de0a03c0721e0683934a37868f6a421">llvm::TargetOpcode::KILL</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00035">TargetOpcodes.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_abad10f74789466601c7a025540c1c072"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">llvm::MemIntrinsic::getLength</a></div><div class="ttdeci">Value * getLength() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00122">IntrinsicInst.h:122</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a593e839307453b63de7b7021e8cc059a"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a593e839307453b63de7b7021e8cc059a">llvm::X86AddressMode::getFullAddress</a></div><div class="ttdeci">void getFullAddress(SmallVectorImpl&lt; MachineOperand &gt; &amp;MO)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00060">X86InstrBuilder.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MemCpyInst_html"><div class="ttname"><a href="classllvm_1_1MemCpyInst.html">llvm::MemCpyInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00247">IntrinsicInst.h:247</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a0bcd4131e1a1d92215f5385b4e16cd2e"><div class="ttname"><a href="classllvm_1_1CallInst.html#a0bcd4131e1a1d92215f5385b4e16cd2e">llvm::CallInst::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01357">Instructions.h:1357</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">llvm::MVT::i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00044">ValueTypes.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">llvm::CCValAssign::ZExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00036">CallingConvLower.h:36</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a150b33ecedbc8c7803c2db8040fbe3f8"><div class="ttname"><a href="classllvm_1_1CallInst.html#a150b33ecedbc8c7803c2db8040fbe3f8">llvm::CallInst::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01245">Instructions.h:1245</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">llvm::CmpInst::ICMP_SLE</a></div><div class="ttdoc">signed less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00681">InstrTypes.h:681</a></div></div>
<div class="ttc" id="GlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html_a6db4d11981474f069a29e1172da2e7fa"><div class="ttname"><a href="classllvm_1_1StoreInst.html#a6db4d11981474f069a29e1172da2e7fa">llvm::StoreInst::isAtomic</a></div><div class="ttdeci">bool isAtomic() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00331">Instructions.h:331</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="FastISel_8h_html"><div class="ttname"><a href="FastISel_8h.html">FastISel.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">llvm::ISD::ZERO_EXTEND</a></div><div class="ttdoc">ZERO_EXTEND - Used for integer types, zeroing the new bits. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00357">ISDOpcodes.h:357</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_aad5a471e82ee9fcb055b013718364cf9"><div class="ttname"><a href="README-SSE_8txt.html#aad5a471e82ee9fcb055b013718364cf9">ESI</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00205">README-SSE.txt:205</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">llvm::ISD::ANY_EXTEND</a></div><div class="ttdoc">ANY_EXTEND - Used for integer types. The high bits are undefined. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00360">ISDOpcodes.h:360</a></div></div>
<div class="ttc" id="CodeGen_2Analysis_8h_html"><div class="ttname"><a href="CodeGen_2Analysis_8h.html">Analysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a2895352ba760d977d04a525c6d388d08"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a2895352ba760d977d04a525c6d388d08">llvm::X86Subtarget::hasCMov</a></div><div class="ttdeci">bool hasCMov() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00257">X86Subtarget.h:257</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aec72fc7a6cc79a1ef53e5d5dbccb846c"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">llvm::MachineInstrBuilder::addGlobalAddress</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addGlobalAddress(const GlobalValue *GV, int64_t Offset=0, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00129">MachineInstrBuilder.h:129</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_a6b13ba290b25a5a9a392c5bb6adf898b"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a6b13ba290b25a5a9a392c5bb6adf898b">llvm::X86Subtarget::hasSSE1</a></div><div class="ttdeci">bool hasSSE1() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00259">X86Subtarget.h:259</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aed87738661d539150b3fc4bb46e36aa3"><div class="ttname"><a href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">llvm::Type::isStructTy</a></div><div class="ttdeci">bool isStructTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00212">Type.h:212</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a0c4e2aa2235abdd10d2beffa32cd9b14a1d25947b1e05ec73aa88243522dd01ff"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a0c4e2aa2235abdd10d2beffa32cd9b14a1d25947b1e05ec73aa88243522dd01ff">llvm::NVPTX::PTXLdStInstCode::Signed</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00122">NVPTX.h:122</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="GetElementPtrTypeIterator_8h_html"><div class="ttname"><a href="GetElementPtrTypeIterator_8h.html">GetElementPtrTypeIterator.h</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">llvm::MVT::f64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00055">ValueTypes.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a45cdfdabb3963ec52b198ce5d3aabc84a23bf757b117faacb20d4521a6ab42e51"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84a23bf757b117faacb20d4521a6ab42e51">llvm::X86II::MO_GOTOFF</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00079">X86BaseInfo.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a84309bb8c34c8bc5694ec5d48dd8668f"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02394">Instructions.h:2394</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a365628d9f62e7a281d493d15bdb13b27"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a365628d9f62e7a281d493d15bdb13b27">llvm::ConstantExpr::getSExt</a></div><div class="ttdeci">static Constant * getSExt(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01552">Constants.cpp:1552</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">llvm::ISD::AND</a></div><div class="ttdoc">Bitwise operators - logical and, logical or, logical xor. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="classPredicate_html"><div class="ttname"><a href="classPredicate.html">Predicate</a></div></div>
<div class="ttc" id="classllvm_1_1X86MachineFunctionInfo_html_ae3c76e82b7ff318588be8758d9883bdf"><div class="ttname"><a href="classllvm_1_1X86MachineFunctionInfo.html#ae3c76e82b7ff318588be8758d9883bdf">llvm::X86MachineFunctionInfo::getSRetReturnReg</a></div><div class="ttdeci">unsigned getSRetReturnReg() const </div><div class="ttdef"><b>Definition:</b> <a href="X86MachineFunctionInfo_8h_source.html#l00117">X86MachineFunctionInfo.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a80e82791d4d7f4d1d23d68ca0a2b1f64"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">llvm::ConstantExpr::getZExt</a></div><div class="ttdeci">static Constant * getZExt(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01566">Constants.cpp:1566</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="classllvm_1_1X86MachineFunctionInfo_html_a7d84acb0095b744998afca9246cd974c"><div class="ttname"><a href="classllvm_1_1X86MachineFunctionInfo.html#a7d84acb0095b744998afca9246cd974c">llvm::X86MachineFunctionInfo::getBytesToPopOnReturn</a></div><div class="ttdeci">unsigned getBytesToPopOnReturn() const </div><div class="ttdef"><b>Definition:</b> <a href="X86MachineFunctionInfo_8h_source.html#l00108">X86MachineFunctionInfo.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">llvm::CmpInst::ICMP_UGE</a></div><div class="ttdoc">unsigned greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00675">InstrTypes.h:675</a></div></div>
<div class="ttc" id="SystemZISelLowering_8cpp_html_ad46bc4ab207e93c35b24f708aa24cf0b"><div class="ttname"><a href="SystemZISelLowering_8cpp.html#ad46bc4ab207e93c35b24f708aa24cf0b">is32Bit</a></div><div class="ttdeci">static bool is32Bit(EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8cpp_source.html#l00044">SystemZISelLowering.cpp:44</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_ad1168fc42bcba1b71217a4969483671a"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad1168fc42bcba1b71217a4969483671a">llvm::LoadInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00181">Instructions.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_ace690c220f3b141bdf98c86635783d8f"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ace690c220f3b141bdf98c86635783d8f">llvm::MachineInstrBuilder::addExternalSymbol</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addExternalSymbol(const char *FnName, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00136">MachineInstrBuilder.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1ImmutableCallSite_html"><div class="ttname"><a href="classllvm_1_1ImmutableCallSite.html">llvm::ImmutableCallSite</a></div><div class="ttdoc">ImmutableCallSite - establish a view to a call site for examination. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00318">CallSite.h:318</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a8cca25ddb3be86ad23567dc8d36dacd3"><div class="ttname"><a href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">llvm::EVT::getSizeInBits</a></div><div class="ttdeci">unsigned getSizeInBits() const </div><div class="ttdoc">getSizeInBits - Return the size of the specified value type in bits. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00779">ValueTypes.h:779</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a">llvm::TargetOpcode::DBG_VALUE</a></div><div class="ttdoc">DBG_VALUE - a mapping of the llvm.dbg.value intrinsic. </div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00069">TargetOpcodes.h:69</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a73b07a938dd8182363ba52719d38bf53"><div class="ttname"><a href="classllvm_1_1CCState.html#a73b07a938dd8182363ba52719d38bf53">llvm::CCState::AnalyzeReturn</a></div><div class="ttdeci">void AnalyzeReturn(const SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;Outs, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00100">CallingConvLower.cpp:100</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a085b82f074c28030fb8e194377ed2d0c"><div class="ttname"><a href="classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00161">Value.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionLoweringInfo_html"><div class="ttname"><a href="classllvm_1_1FunctionLoweringInfo.html">llvm::FunctionLoweringInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="FunctionLoweringInfo_8h_source.html#l00051">FunctionLoweringInfo.h:51</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_aa131204d55bb6c008b91011b1fa16d76"><div class="ttname"><a href="README-SSE_8txt.html#aa131204d55bb6c008b91011b1fa16d76">XMM1</a></div><div class="ttdeci">We currently esp xorpd xmm0 xmm0 xmm1 xmm2 xmm1 jb LBB_X_2 xmm2 esp esp ret Lower memcpy memset to a series of SSE bit move instructions when it s feasible Still ok After register LLVM ADD32rm IMUL32rr EDX ESI ADD32rr ESI XMM1</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00215">README-SSE.txt:215</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a8a80b27ca29fe2076b9bbdee02c65464"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a8a80b27ca29fe2076b9bbdee02c65464">llvm::CmpInst::FCMP_ONE</a></div><div class="ttdoc">0 1 1 0 True if ordered and operands are unequal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00659">InstrTypes.h:659</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a3a207eed0331b875c6a9b6dbaf5c4af3"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">llvm::CallSiteBase::paramHasAttr</a></div><div class="ttdeci">bool paramHasAttr(unsigned i, Attribute::AttrKind A) const </div><div class="ttdoc">Return true if the call or the callee has the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00192">CallSite.h:192</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a06161eb542d205db0ba9b3cac2de306c"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a06161eb542d205db0ba9b3cac2de306c">llvm::X86AddressMode::BaseType</a></div><div class="ttdeci">enum llvm::X86AddressMode::@222 BaseType</div></div>
<div class="ttc" id="X86InstrBuilder_8h_html"><div class="ttname"><a href="X86InstrBuilder_8h.html">X86InstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a959268ceeae23abe5c9ad9e895669d0c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a959268ceeae23abe5c9ad9e895669d0c">llvm::CmpInst::FCMP_UGT</a></div><div class="ttdoc">1 0 1 0 True if unordered or greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00663">InstrTypes.h:663</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_affa0f3ae92ab8696fccd107c0addf5a2"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">llvm::CallSiteBase::arg_begin</a></div><div class="ttdeci">IterTy arg_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00137">CallSite.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00045">MachineInstrBuilder.h:45</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html_a0f0dbd990b6b52c4b884480fc7f75721a8763369023c9ed44c8a2861b80107e9f"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html#a0f0dbd990b6b52c4b884480fc7f75721a8763369023c9ed44c8a2861b80107e9f">llvm::X86AddressMode::RegBase</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00039">X86InstrBuilder.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_abefc2d8baa67d6f9e49c95912cfde480"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">llvm::GlobalValue::hasLocalLinkage</a></div><div class="ttdeci">bool hasLocalLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00211">GlobalValue.h:211</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a45cdfdabb3963ec52b198ce5d3aabc84ab2b21d9c332e616e0a11c3ff76ce0bdf"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84ab2b21d9c332e616e0a11c3ff76ce0bdf">llvm::X86II::MO_PLT</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00094">X86BaseInfo.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_ab9b67f93a2231970abb3d95636660ffc"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00120">DerivedTypes.h:120</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_a5b14ee30b3a7439e0f75bfadc978a30a"><div class="ttname"><a href="namespacellvm_1_1X86.html#a5b14ee30b3a7439e0f75bfadc978a30a">llvm::X86::isCalleePop</a></div><div class="ttdeci">bool isCalleePop(CallingConv::ID CallingConv, bool is64Bit, bool IsVarArg, bool TailCallOpt)</div><div class="ttdef"><b>Definition:</b> <a href="X86ISelLowering_8cpp_source.html#l03395">X86ISelLowering.cpp:3395</a></div></div>
<div class="ttc" id="classllvm_1_1MemTransferInst_html_a26bfca1607622229a625f2db73aed2ba"><div class="ttname"><a href="classllvm_1_1MemTransferInst.html#a26bfca1607622229a625f2db73aed2ba">llvm::MemTransferInst::getRawSource</a></div><div class="ttdeci">Value * getRawSource() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00217">IntrinsicInst.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdoc">equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00672">InstrTypes.h:672</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a63eff34e14f4840ec2f23581d9d4a126"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a63eff34e14f4840ec2f23581d9d4a126">llvm::Intrinsic::dbg_declare</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00369">Intrinsics.h:369</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca99d6935065e7c7a2fa53208e41e5b428"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca99d6935065e7c7a2fa53208e41e5b428">llvm::MVT::x86mmx</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00116">ValueTypes.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac38c53f76ef532f91f1666c8a87370e9"><div class="ttname"><a href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00149">Value.h:149</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974a47bd6c0b1caa2499b6d2f6d8ed751092"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974a47bd6c0b1caa2499b6d2f6d8ed751092">llvm::CallingConv::X86_64_Win64</a></div><div class="ttdoc">The C convention as implemented on Windows/x86-64. This convention differs from the more common X86_6...</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00132">CallingConv.h:132</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a23aab542398091e1fcfd46b6006d64ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a23aab542398091e1fcfd46b6006d64ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::rbegin</a></div><div class="ttdeci">reverse_iterator rbegin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00122">SmallVector.h:122</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1InputArg_html_a27823260c8966d6aa13c133689efe757"><div class="ttname"><a href="structllvm_1_1ISD_1_1InputArg.html#a27823260c8966d6aa13c133689efe757">llvm::ISD::InputArg::Used</a></div><div class="ttdeci">bool Used</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00117">TargetCallingConv.h:117</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_ac6f053514ba29bdf3b7f051f643dabe5"><div class="ttname"><a href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">llvm::EVT::isSimple</a></div><div class="ttdeci">bool isSimple() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00640">ValueTypes.h:640</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ad652423d9d91271ba153eb86482b2f55"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ad652423d9d91271ba153eb86482b2f55">llvm::BasicBlock::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">Get the context in which this basic block lives. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00033">BasicBlock.cpp:33</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">llvm::MVT::i16</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00045">ValueTypes.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a024db78a5ed74f64666f3ca4955e6eca"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a024db78a5ed74f64666f3ca4955e6eca">llvm::CmpInst::FCMP_OEQ</a></div><div class="ttdoc">0 0 0 1 True if ordered and equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00654">InstrTypes.h:654</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344">llvm::CmpInst::FCMP_UGE</a></div><div class="ttdoc">1 0 1 1 True if unordered, greater than, or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00664">InstrTypes.h:664</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00083">Instruction.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1DbgDeclareInst_html_afa9ad965b3bbcd6997637c8e95a48946"><div class="ttname"><a href="classllvm_1_1DbgDeclareInst.html#afa9ad965b3bbcd6997637c8e95a48946">llvm::DbgDeclareInst::getAddress</a></div><div class="ttdeci">Value * getAddress() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8cpp_source.html#l00056">IntrinsicInst.cpp:56</a></div></div>
<div class="ttc" id="X86FastISel_8cpp_html_a1eee6ac4842ce6fca9bdd513b73eb003"><div class="ttname"><a href="X86FastISel_8cpp.html#a1eee6ac4842ce6fca9bdd513b73eb003">X86ChooseCmpImmediateOpcode</a></div><div class="ttdeci">static unsigned X86ChooseCmpImmediateOpcode(EVT VT, const ConstantInt *RHSC)</div><div class="ttdef"><b>Definition:</b> <a href="X86FastISel_8cpp_source.html#l00941">X86FastISel.cpp:941</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_aa994cbb617d307bc2da05e44687a9b28"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#aa994cbb617d307bc2da05e44687a9b28">llvm::MemIntrinsic::getDestAddressSpace</a></div><div class="ttdeci">unsigned getDestAddressSpace() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00138">IntrinsicInst.h:138</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">llvm::CallingConv::Fast</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00039">CallingConv.h:39</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a45cdfdabb3963ec52b198ce5d3aabc84adca1e9b1551356bed7c8ef8cb0f1c471"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a45cdfdabb3963ec52b198ce5d3aabc84adca1e9b1551356bed7c8ef8cb0f1c471">llvm::X86II::MO_PIC_BASE_OFFSET</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00065">X86BaseInfo.h:65</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdoc">unsigned greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00674">InstrTypes.h:674</a></div></div>
<div class="ttc" id="X86ISelLowering_8h_html"><div class="ttname"><a href="X86ISelLowering_8h.html">X86ISelLowering.h</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a7b19fa41486ca39142442dd962c8d3b6"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a7b19fa41486ca39142442dd962c8d3b6">llvm::CCValAssign::getLocMemOffset</a></div><div class="ttdeci">unsigned getLocMemOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00123">CallingConvLower.h:123</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">llvm::ISD::SIGN_EXTEND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00354">ISDOpcodes.h:354</a></div></div>
<div class="ttc" id="structllvm_1_1X86AddressMode_html"><div class="ttname"><a href="structllvm_1_1X86AddressMode.html">llvm::X86AddressMode</a></div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00037">X86InstrBuilder.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9b6c252221bd964b77e852b3c7ea31e2"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9b6c252221bd964b77e852b3c7ea31e2">llvm::MachineInstrBuilder::addRegMask</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addRegMask(const uint32_t *Mask) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00149">MachineInstrBuilder.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a097c2d42e4deffabe6d54b007ad83367"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">llvm::ConstantInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const </div><div class="ttdoc">Return the sign extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00124">Constants.h:124</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a541533f34077bbbcfb703a90f6d2da9b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a541533f34077bbbcfb703a90f6d2da9b">llvm::CmpInst::FCMP_OGE</a></div><div class="ttdoc">0 0 1 1 True if ordered and greater than or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00656">InstrTypes.h:656</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1DbgDeclareInst_html"><div class="ttname"><a href="classllvm_1_1DbgDeclareInst.html">llvm::DbgDeclareInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00081">IntrinsicInst.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1MemTransferInst_html_a85cde8d2140f28dd865c6d37219e9e6b"><div class="ttname"><a href="classllvm_1_1MemTransferInst.html#a85cde8d2140f28dd865c6d37219e9e6b">llvm::MemTransferInst::getSourceAddressSpace</a></div><div class="ttdeci">unsigned getSourceAddressSpace() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00224">IntrinsicInst.h:224</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae0466120bfdf5b97b25aa06f3015cd51"><div class="ttname"><a href="classllvm_1_1Function.html#ae0466120bfdf5b97b25aa06f3015cd51">llvm::Function::isVarArg</a></div><div class="ttdeci">bool isVarArg() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00175">Function.cpp:175</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_accd683afb417ec1f0f44c62c8b5a8fc4"><div class="ttname"><a href="classllvm_1_1CCState.html#accd683afb417ec1f0f44c62c8b5a8fc4">llvm::CCState::AllocateStack</a></div><div class="ttdeci">unsigned AllocateStack(unsigned Size, unsigned Align)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00335">CallingConvLower.h:335</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a802c8408643a0c37e107e7b4b0994c30"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a802c8408643a0c37e107e7b4b0994c30">llvm::A64CC::AL</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00045">AArch64BaseInfo.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="namespacellvm_html_ad11e067542096816d0c437207ac8b6a5"><div class="ttname"><a href="namespacellvm.html#ad11e067542096816d0c437207ac8b6a5">llvm::addFullAddress</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addFullAddress(const MachineInstrBuilder &amp;MIB, const X86AddressMode &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrBuilder_8h_source.html#l00122">X86InstrBuilder.h:122</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86_html_ac370a59c2440ede047ceeea4ac9e9f77"><div class="ttname"><a href="namespacellvm_1_1X86.html#ac370a59c2440ede047ceeea4ac9e9f77">llvm::X86::createFastISel</a></div><div class="ttdeci">FastISel * createFastISel(FunctionLoweringInfo &amp;funcInfo, const TargetLibraryInfo *libInfo)</div><div class="ttdef"><b>Definition:</b> <a href="X86FastISel_8cpp_source.html#l02553">X86FastISel.cpp:2553</a></div></div>
<div class="ttc" id="classllvm_1_1X86Subtarget_html_ac9cfb5edfc4b0b419f87c36c624d2d84"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#ac9cfb5edfc4b0b419f87c36c624d2d84">llvm::X86Subtarget::hasAVX</a></div><div class="ttdeci">bool hasAVX() const </div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00265">X86Subtarget.h:265</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5b45953b758fdfe88452530f7d8371bc"><div class="ttname"><a href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">llvm::EVT::getSimpleVT</a></div><div class="ttdeci">MVT getSimpleVT() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00749">ValueTypes.h:749</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">llvm::CmpInst::ICMP_SGE</a></div><div class="ttdoc">signed greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00679">InstrTypes.h:679</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a1134ea0aa4c8b2d3e344d48dca3c4d44"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a1134ea0aa4c8b2d3e344d48dca3c4d44">llvm::ISD::ArgFlagsTy::setSExt</a></div><div class="ttdeci">void setSExt()</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00060">TargetCallingConv.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
<div class="ttc" id="X86FastISel_8cpp_html_a8a37b9d5aa1120121a9f73dfc2e302ba"><div class="ttname"><a href="X86FastISel_8cpp.html#a8a37b9d5aa1120121a9f73dfc2e302ba">X86ChooseCmpOpcode</a></div><div class="ttdeci">static unsigned X86ChooseCmpOpcode(EVT VT, const X86Subtarget *Subtarget)</div><div class="ttdef"><b>Definition:</b> <a href="X86FastISel_8cpp_source.html#l00920">X86FastISel.cpp:920</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="namespacellvm_html_ac828b9b52935f87659a4adf237f820a3"><div class="ttname"><a href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">llvm::gep_type_begin</a></div><div class="ttdeci">gep_type_iterator gep_type_begin(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00085">GetElementPtrTypeIterator.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_a18659a1da7db1674fa972c28846a3958"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a18659a1da7db1674fa972c28846a3958">llvm::TargetRegisterClass::contains</a></div><div class="ttdeci">bool contains(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00076">TargetRegisterInfo.h:76</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:03:11 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
