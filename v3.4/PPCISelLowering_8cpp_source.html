<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: PPCISelLowering.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('PPCISelLowering_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PPCISelLowering.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PPCISelLowering_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- PPCISelLowering.cpp - PPC DAG Lowering Implementation -------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements the PPCISelLowering class.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCISelLowering_8h.html">PPCISelLowering.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCPredicates_8h.html">MCTargetDesc/PPCPredicates.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCMachineFunctionInfo_8h.html">PPCMachineFunctionInfo.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCPerfectShuffle_8h.html">PPCPerfectShuffle.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCTargetMachine_8h.html">PPCTargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCTargetObjectFile_8h.html">PPCTargetObjectFile.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConvLower_8h.html">llvm/CodeGen/CallingConvLower.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAG_8h.html">llvm/CodeGen/SelectionDAG.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLoweringObjectFileImpl_8h.html">llvm/CodeGen/TargetLoweringObjectFileImpl.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConv_8h.html">llvm/IR/CallingConv.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOptions_8h.html">llvm/Target/TargetOptions.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="PPCISelLowering_8cpp.html#a39032b11b8339a15cd3c828db23000fb">DisablePPCPreinc</a>(<span class="stringliteral">&quot;disable-ppc-preinc&quot;</span>,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;disable preincrement load/store generation on PPC&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="PPCISelLowering_8cpp.html#ae8df7699f069ce76cf9c5d988b4319d3">DisableILPPref</a>(<span class="stringliteral">&quot;disable-ppc-ilp-pref&quot;</span>,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;disable setting the node scheduling preference to ILP on PPC&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="PPCISelLowering_8cpp.html#aae5a5f1af1abef57233d0e17e18f1c47">DisablePPCUnaligned</a>(<span class="stringliteral">&quot;disable-ppc-unaligned&quot;</span>,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;disable unaligned load/store generation on PPC&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a631c3222757cd088edf4ba738fdf908c">   49</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1TargetLoweringObjectFile.html">TargetLoweringObjectFile</a> *<a class="code" href="PPCISelLowering_8cpp.html#a631c3222757cd088edf4ba738fdf908c">CreateTLOF</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCTargetMachine.html">PPCTargetMachine</a> &amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>) {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1PPCTargetMachine.html#a19468aad6e69c24f158cadf2e3ac95d3">getSubtargetImpl</a>()-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#abf861b7eababe28400eb7d5b3519f18f">isDarwin</a>())</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1TargetLoweringObjectFileMachO.html">TargetLoweringObjectFileMachO</a>();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1PPCTargetMachine.html#a19468aad6e69c24f158cadf2e3ac95d3">getSubtargetImpl</a>()-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>())</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1PPC64LinuxTargetObjectFile.html">PPC64LinuxTargetObjectFile</a>();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1TargetLoweringObjectFileELF.html">TargetLoweringObjectFileELF</a>();</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a840de59c43fdd3160c0811cea581814e">   59</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a840de59c43fdd3160c0811cea581814e">PPCTargetLowering::PPCTargetLowering</a>(<a class="code" href="classllvm_1_1PPCTargetMachine.html">PPCTargetMachine</a> &amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  : <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a>(TM, <a class="code" href="PPCISelLowering_8cpp.html#a631c3222757cd088edf4ba738fdf908c">CreateTLOF</a>(TM)), PPCSubTarget(*TM.getSubtargetImpl()) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> *Subtarget = &amp;TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;();</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aafd8a231fedaa84f51066a4dfb719407">setPow2DivIsCheap</a>();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// Use _setjmp/_longjmp instead of setjmp/longjmp.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a3e43a72fb7a3e254f4cb150c3fd68dba">setUseUnderscoreSetJmp</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a63ac79658a3e958b69781a8bcfa65639">setUseUnderscoreLongJmp</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// On PPC32/64, arguments smaller than 4/8 bytes are extended, so all</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// arguments are at least 4/8 bytes aligned.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#abb99ee84c5bf07a45b913793848a3d50">setMinStackArgumentAlignment</a>(isPPC64 ? 8:4);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// Set up the register classes.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, &amp;PPC::F4RCRegClass);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, &amp;PPC::F8RCRegClass);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// PowerPC has an i16 but no i8 (or i1) SEXTLOAD</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b977e11e50382ce694e876961c4d272">setLoadExtAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">ISD::SEXTLOAD</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b977e11e50382ce694e876961c4d272">setLoadExtAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">ISD::SEXTLOAD</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa243085e56636cc454143f916686c190">setTruncStoreAction</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// PowerPC has pre-inc load and store&#39;s.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#afc21cf92ad41b655d26be24173440b0d">setIndexedLoadAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#afc21cf92ad41b655d26be24173440b0d">setIndexedLoadAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#afc21cf92ad41b655d26be24173440b0d">setIndexedLoadAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#afc21cf92ad41b655d26be24173440b0d">setIndexedLoadAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#afc21cf92ad41b655d26be24173440b0d">setIndexedLoadAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2435670de567f1a77c9981c1737f5bee">setIndexedStoreAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2435670de567f1a77c9981c1737f5bee">setIndexedStoreAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2435670de567f1a77c9981c1737f5bee">setIndexedStoreAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2435670de567f1a77c9981c1737f5bee">setIndexedStoreAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2435670de567f1a77c9981c1737f5bee">setIndexedStoreAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// This is used in the ppcf128-&gt;int sequence.  Note it has different semantics</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// from FP_ROUND:  that rounds to nearest, this rounds to zero.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4">ISD::FP_ROUND_INREG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// We do not currently implement these libm ops for PowerPC.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">ISD::FRINT</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">ISD::FNEARBYINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// PowerPC has no SREM/UREM instructions</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Don&#39;t use SMUL_LOHI/UMUL_LOHI or SDIVREM/UDIVREM to lower SREM/UREM.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada">ISD::UDIVREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">ISD::SDIVREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada">ISD::UDIVREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">ISD::SDIVREM</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// We don&#39;t support sin/cos/sqrt/fmod/pow</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">ISD::FCOS</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6ba8fc92ee5081d3e533cb5322f74f29">ISD::FSINCOS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">ISD::FPOW</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>  , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">ISD::FCOS</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6ba8fc92ee5081d3e533cb5322f74f29">ISD::FSINCOS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">ISD::FPOW</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>  , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a06a1a0916d630a342fc3c355b0de8eab">ISD::FLT_ROUNDS_</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// If we&#39;re enabling GP optimizations, use hardware square root</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a1fcd7b93a56527b2e92a8fadd753ad2a">hasFSQRT</a>() &amp;&amp;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      !(TM.<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a> &amp;&amp;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#aa87b843c7c3755ced0d9dd687735ce7e">hasFRSQRTE</a>() &amp;&amp; Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a0257802813bb37239972e20d931d0798">hasFRE</a>()))</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a1fcd7b93a56527b2e92a8fadd753ad2a">hasFSQRT</a>() &amp;&amp;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      !(TM.<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a> &amp;&amp;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a789f8b53bcfe59b855f9d89b25bd0ed6">hasFRSQRTES</a>() &amp;&amp; Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#afbcff1a0f1925de427ae0e585068eda8">hasFRES</a>()))</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#ae75bb52a96ce18e0c29dd0885954430b">hasFCPSGN</a>()) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a180bcb0b3f2fd7a940a0328e928190ce">hasFPRND</a>()) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">ISD::FROUND</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">ISD::FROUND</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// PowerPC does not have BSWAP, CTPOP or CTTZ</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ_ZERO_UNDEF</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ_ZERO_UNDEF</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#aee193ecbe5d6895930c69c545c6d913d">hasPOPCNTD</a>()) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// PowerPC does not have ROTR</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>   , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">ISD::ROTR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>   , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// PowerPC does not have Select</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// PowerPC wants to turn select_cc of FP into fsel when possible.</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// PowerPC wants to optimize integer setcc a bit</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// PowerPC does not have BRCOND which requires SetCC</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8167e4f6fa1bfb30f074ba620b81782">ISD::BRCOND</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a716d19ebad1927a2e8dd5fe3f951f882">ISD::BR_JT</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// PowerPC turns FP_TO_SINT into FCTIWZ and some load/stores.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="comment">// PowerPC does not have [U|S]INT_TO_FP</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// We cannot sextinreg(i1).  Expand to shifts.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// NOTE: EH_SJLJ_SETJMP/_LONGJMP supported here is NOT intended to support</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// SjLj exception handling but a light-weight setjmp/longjmp replacement to</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// support continuation, user-level threading, and etc.. As a result, no</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// other SjLj exception interfaces are implemented and please don&#39;t build</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// your own exception handling based on them.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// LLVM/Clang supports zero-cost DWARF exception handling.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae5a57fe9fd413df909ab121ca1a813c7">ISD::EH_SJLJ_SETJMP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a122a450e069003dc86859ef47ab6e278">ISD::EH_SJLJ_LONGJMP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// We want to legalize GlobalAddress and ConstantPool nodes into the</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// appropriate instructions to materialize the address.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a30316f8f9985260c49d7c26bc70a6cad">ISD::GlobalAddress</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a49f1172c7014cc4fa3570792e6834e2c">ISD::GlobalTLSAddress</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae98378a8672947382d343d75a5df3003">ISD::BlockAddress</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa8cad208c3cb96b33b5d8544590325b1">ISD::ConstantPool</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0c70100db6ddc0b37b56feb242145cf4">ISD::JumpTable</a>,     <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a30316f8f9985260c49d7c26bc70a6cad">ISD::GlobalAddress</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a49f1172c7014cc4fa3570792e6834e2c">ISD::GlobalTLSAddress</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae98378a8672947382d343d75a5df3003">ISD::BlockAddress</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa8cad208c3cb96b33b5d8544590325b1">ISD::ConstantPool</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0c70100db6ddc0b37b56feb242145cf4">ISD::JumpTable</a>,     <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// TRAP is legal.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac5fb8808f3dcb9f0a83f1fc2e7747485">ISD::TRAP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// TRAMPOLINE is custom lowered.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4534a6db2862a28324932a8ea1cb54d6">ISD::INIT_TRAMPOLINE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af7bfad446dfd85837fe7ff904ebb1aff">ISD::ADJUST_TRAMPOLINE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// VASTART needs to be custom lowered to use the VarArgsFrameIndex</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adfe32beaa596a1512b17e66b46e773ed">ISD::VASTART</a>           , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>()) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (isPPC64) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="comment">// VAARG always uses double-word chunks, so promote anything smaller.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">// VAARG is custom lowered with the 32-bit SVR4 ABI.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>() &amp;&amp; !isPPC64)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// VACOPY is custom lowered with the 32-bit SVR4 ABI.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a804c1960ac64628cdd1f74d7de885284">ISD::VACOPY</a>            , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a804c1960ac64628cdd1f74d7de885284">ISD::VACOPY</a>            , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// Use the default implementation.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1aadbb14ab26b74d841ac003363e3a5d">ISD::VAEND</a>             , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a031ce694e40832d40a163d7254a8df14">ISD::STACKSAVE</a>         , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a023a9de787026fe61b024476bf9c32cb">ISD::STACKRESTORE</a>      , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa71ac22470bf853868fe6b39a25bac72">ISD::DYNAMIC_STACKALLOC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa71ac22470bf853868fe6b39a25bac72">ISD::DYNAMIC_STACKALLOC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>  , <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// We want to custom lower some of our intrinsics.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// To handle counter-based loop conditions.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// Comparisons that require checking two conditions.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">ISD::SETUEQ</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">ISD::SETUEQ</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">ISD::SETOGE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">ISD::SETOGE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">ISD::SETOLE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">ISD::SETOLE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">ISD::SETONE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">ISD::SETONE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a011454ea07a73444b499f0b8bb35fa37">has64BitSupport</a>()) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// They also have instructions for converting between i64 and fp.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// This is just the low 32 bits of a (signed) fp-&gt;i64 conversion.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// We cannot do this with Promote because i64 is not a legal type.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a08f1316c1b491ceb3c25e28f70ea4b01">hasLFIWAX</a>() || Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>())</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// PowerPC does not have FP_TO_UINT on 32-bit implementations.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// With the instructions enabled under FPCVT, we can do everything.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ace45270eb91bcdccca02cb134e594007">hasFPCVT</a>()) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a011454ea07a73444b499f0b8bb35fa37">has64BitSupport</a>()) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#ac9b52e4b6f9d3dab8595d4eb36fe2b7a">use64BitRegs</a>()) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// 64-bit PowerPC implementations can support i64 types directly</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// BUILD_PAIR can&#39;t be handled natively, and should be expanded to shl/or</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD_PAIR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// 64-bit PowerPC wants to expand i128 shifts itself.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f">ISD::SHL_PARTS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1">ISD::SRA_PARTS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ed8e1dc0db59ab2a071da53ee794759">ISD::SRL_PARTS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// 32-bit PowerPC wants to expand i64 shifts itself.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f">ISD::SHL_PARTS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1">ISD::SRA_PARTS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ed8e1dc0db59ab2a071da53ee794759">ISD::SRL_PARTS</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>()) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// First set operation action for all vector types to expand. Then we</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// will selectively turn on ones that can be effectively codegen&#39;d.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<span class="keywordtype">unsigned</span>)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae95173386f40dde17d7ae56a7bdd416e">MVT::FIRST_VECTOR_VALUETYPE</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;         <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= (unsigned)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac70c1ab4641d55854fdc2d7b7d40350f">MVT::LAST_VECTOR_VALUETYPE</a>; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">MVT::SimpleValueType</a> VT = (<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">MVT::SimpleValueType</a>)<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="comment">// add/sub are legal for all supported vector VT&#39;s.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> , VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> , VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">// We promote all shuffles to v16i8.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>, VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="comment">// We promote all non-typed operations to v4i32.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>   , VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>   , VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>    , VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>    , VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>   , VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>   , VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>  , VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>  , VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">Promote</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">AddPromotedToType</a> (<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>, VT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="comment">// No other operations are legal.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a> , VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">ISD::FLOG</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">ISD::FLOG10</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">ISD::FLOG2</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">ISD::FEXP</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">ISD::FEXP2</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">ISD::FCOS</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>,  VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">ISD::FRINT</a>,  VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">ISD::FNEARBYINT</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada">ISD::UDIVREM</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">ISD::SDIVREM</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">ISD::FPOW</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ_ZERO_UNDEF</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = (<span class="keywordtype">unsigned</span>)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae95173386f40dde17d7ae56a7bdd416e">MVT::FIRST_VECTOR_VALUETYPE</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;           <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt;= (unsigned)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac70c1ab4641d55854fdc2d7b7d40350f">MVT::LAST_VECTOR_VALUETYPE</a>; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">MVT::SimpleValueType</a> InnerVT = (<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">MVT::SimpleValueType</a>)<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa243085e56636cc454143f916686c190">setTruncStoreAction</a>(VT, InnerVT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b977e11e50382ce694e876961c4d272">setLoadExtAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">ISD::SEXTLOAD</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b977e11e50382ce694e876961c4d272">setLoadExtAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b977e11e50382ce694e876961c4d272">setLoadExtAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">ISD::EXTLOAD</a>, VT, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// We can custom expand all VECTOR_SHUFFLEs to VPERM, others we can handle</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// with merges, splats, etc.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>   , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>    , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>   , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>  , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a> , <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">ISD::FNEARBYINT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, &amp;PPC::VRRCRegClass);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, &amp;PPC::VRRCRegClass);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, &amp;PPC::VRRCRegClass);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">addRegisterClass</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, &amp;PPC::VRRCRegClass);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a>) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">Custom</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// Altivec does not contain unordered floating-point compare instructions</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">ISD::SETUO</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">ISD::SETUEQ</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">ISD::SETUGE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">ISD::SETULE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">ISD::SETO</a>,   <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">setCondCodeAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">ISD::SETONE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a011454ea07a73444b499f0b8bb35fa37">has64BitSupport</a>()) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a691a4c9004e9bd04d1c0bebc5df57443">ISD::PREFETCH</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac43f9bea13e29622bbf18c861b52144d">ISD::READCYCLECOUNTER</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">Legal</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c47226f266248f4b8c155b83601b109">ISD::ATOMIC_LOAD</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8">ISD::ATOMIC_STORE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c47226f266248f4b8c155b83601b109">ISD::ATOMIC_LOAD</a>,  <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">setOperationAction</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8">ISD::ATOMIC_STORE</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">Expand</a>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6b928e5a6718acab4fa0030ce9198e8a">setBooleanContents</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">ZeroOrOneBooleanContent</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// Altivec instructions set fields to all zeros or all ones.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a0662d63e058816bf77a5b8f35331bd9d">setBooleanVectorContents</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">ZeroOrNegativeOneBooleanContent</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">if</span> (isPPC64) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa978d53d0e324539ecc141fb0d84954b">setStackPointerRegisterToSaveRestore</a>(PPC::X1);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a900b4d73a7171f9329453e0aba673f73">setExceptionPointerRegister</a>(PPC::X3);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7f928acc831c560457efb338d07df503">setExceptionSelectorRegister</a>(PPC::X4);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa978d53d0e324539ecc141fb0d84954b">setStackPointerRegisterToSaveRestore</a>(PPC::R1);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a900b4d73a7171f9329453e0aba673f73">setExceptionPointerRegister</a>(PPC::R3);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7f928acc831c560457efb338d07df503">setExceptionSelectorRegister</a>(<a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">PPC::R4</a>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// We have target-specific dag combine patterns for the following nodes:</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d5e322b263f0d5ea4204efafc1d78bb">ISD::BR_CC</a>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// Use reciprocal estimates.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a>) {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">setTargetDAGCombine</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// Darwin long double math library functions have $LDBL128 appended.</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#abf861b7eababe28400eb7d5b3519f18f">isDarwin</a>()) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447acd1ac5bde6e8130cdf274cd80150a6fe">RTLIB::COS_PPCF128</a>, <span class="stringliteral">&quot;cosl$LDBL128&quot;</span>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a27c3c049787afb74d9c7ebeed3119060">RTLIB::POW_PPCF128</a>, <span class="stringliteral">&quot;powl$LDBL128&quot;</span>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a33b67cea917a9560371f62c847c81d36">RTLIB::REM_PPCF128</a>, <span class="stringliteral">&quot;fmodl$LDBL128&quot;</span>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a1a9189900ae5c91cdf8f0c712fdce22f">RTLIB::SIN_PPCF128</a>, <span class="stringliteral">&quot;sinl$LDBL128&quot;</span>);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a523c09ebf4484c38d3bb066447d26b8e">RTLIB::SQRT_PPCF128</a>, <span class="stringliteral">&quot;sqrtl$LDBL128&quot;</span>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a87c0a85f979b7e95a254b0972c051635">RTLIB::LOG_PPCF128</a>, <span class="stringliteral">&quot;logl$LDBL128&quot;</span>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447ad7837284a4b9dcc4c8139a6468b49d80">RTLIB::LOG2_PPCF128</a>, <span class="stringliteral">&quot;log2l$LDBL128&quot;</span>);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a5f72128817687b0322d639af385b8929">RTLIB::LOG10_PPCF128</a>, <span class="stringliteral">&quot;log10l$LDBL128&quot;</span>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a2cddfd7ba21b019af1a85476bc2f41a0">RTLIB::EXP_PPCF128</a>, <span class="stringliteral">&quot;expl$LDBL128&quot;</span>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">setLibcallName</a>(<a class="code" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447abaf4745416240994a8338fb833f5c435">RTLIB::EXP2_PPCF128</a>, <span class="stringliteral">&quot;exp2l$LDBL128&quot;</span>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6742d41c6eee508ab6e885183f382ba7">setMinFunctionAlignment</a>(2);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abf861b7eababe28400eb7d5b3519f18f">isDarwin</a>())</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7229ed27a1fc24323231cd279cacee13">setPrefFunctionAlignment</a>(4);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">if</span> (isPPC64 &amp;&amp; Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#a681a429eed034e724db0e5059726dad8">isJITCodeModel</a>())</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// Temporary workaround for the inability of PPC64 JIT to handle jump</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">// tables.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ad70403ea15e3b94887d77a3bf17b1085">setSupportJumpTables</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a085e7ff99e231b703ab24b58bb3cb5a9">setInsertFencesForAtomic</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#ab332e87ff489d198d51648a3a41f57b9">enableMachineScheduler</a>())</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#af2a24aed2ba5d4f9c8db9904df6fa635">setSchedulingPreference</a>(<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Sched::Source</a>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#af2a24aed2ba5d4f9c8db9904df6fa635">setSchedulingPreference</a>(<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309ea6530ebdb4e713581540e6ceb88897acb">Sched::Hybrid</a>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#a753a20275871056d766d24354dfbc058">computeRegisterProperties</a>();</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// The Freescale cores does better with aggressive inlining of memcpy and</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// friends. Gcc uses same threshold of 128 bytes (= 32 word stores).</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#acc246ab25df99943c39246a7485f6f83">getDarwinDirective</a>() == <a class="code" href="namespacellvm_1_1PPC.html#adcdf9d77556f670b0d782d93355595f8a00d4f7d7f8d110db90749f417fceff3a">PPC::DIR_E500mc</a> ||</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#acc246ab25df99943c39246a7485f6f83">getDarwinDirective</a>() == <a class="code" href="namespacellvm_1_1PPC.html#adcdf9d77556f670b0d782d93355595f8ac4e6bb06de05f2620850b3fc53a0433e">PPC::DIR_E5500</a>) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a9830bda9bf50bfdab4c10954cc6fb1ac">MaxStoresPerMemset</a> = 32;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a67f472063b7db365d0b5da597871e03d">MaxStoresPerMemsetOptSize</a> = 16;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#aefbee33131c130f8f691c9a482f5fc40">MaxStoresPerMemcpy</a> = 32;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a1695feb44cd6dd30c64697360f1e76d3">MaxStoresPerMemcpyOptSize</a> = 8;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a6d0f43699563375800a45f45bc11ff49">MaxStoresPerMemmove</a> = 32;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7800cede44a09d00fcc61b9087c20d85">MaxStoresPerMemmoveOptSize</a> = 8;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#a7229ed27a1fc24323231cd279cacee13">setPrefFunctionAlignment</a>(4);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">/// getMaxByValAlign - Helper for getByValTypeAlignment to determine</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">/// the desired ByVal argument alignment.</span></div><div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#acd3d31aaede666dfef430c287c242f43">  583</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PPCISelLowering_8cpp.html#acd3d31aaede666dfef430c287c242f43">getMaxByValAlign</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <span class="keywordtype">unsigned</span> &amp;MaxAlign,</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                             <span class="keywordtype">unsigned</span> MaxMaxAlign) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">if</span> (MaxAlign == MaxMaxAlign)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *VTy = dyn_cast&lt;VectorType&gt;(Ty)) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (MaxMaxAlign &gt;= 32 &amp;&amp; VTy-&gt;getBitWidth() &gt;= 256)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      MaxAlign = 32;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VTy-&gt;getBitWidth() &gt;= 128 &amp;&amp; MaxAlign &lt; 16)</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      MaxAlign = 16;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *ATy = dyn_cast&lt;ArrayType&gt;(Ty)) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">unsigned</span> EltAlign = 0;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#acd3d31aaede666dfef430c287c242f43">getMaxByValAlign</a>(ATy-&gt;getElementType(), EltAlign, MaxMaxAlign);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (EltAlign &gt; MaxAlign)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      MaxAlign = EltAlign;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(Ty)) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = STy-&gt;getNumElements(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordtype">unsigned</span> EltAlign = 0;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="PPCISelLowering_8cpp.html#acd3d31aaede666dfef430c287c242f43">getMaxByValAlign</a>(STy-&gt;getElementType(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), EltAlign, MaxMaxAlign);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">if</span> (EltAlign &gt; MaxAlign)</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        MaxAlign = EltAlign;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">if</span> (MaxAlign == MaxMaxAlign)</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">/// getByValTypeAlignment - Return the desired alignment for ByVal aggregate</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">/// function arguments in the caller parameter area.</span></div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#aeda072b47ee5dccf983504e29ec5fe2e">  611</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#aeda072b47ee5dccf983504e29ec5fe2e">PPCTargetLowering::getByValTypeAlignment</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty)<span class="keyword"> const </span>{</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="comment">// Darwin passes everything on 4 byte boundary.</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abf861b7eababe28400eb7d5b3519f18f">isDarwin</a>())</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">// 16byte and wider vectors are passed on 16byte boundary.</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// The rest is 8 on PPC64 and 4 on PPC32 boundary.</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? 8 : 4;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() || PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#af42f28ba1587a941df383166cbe7ee35">hasQPX</a>())</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#acd3d31aaede666dfef430c287c242f43">getMaxByValAlign</a>(Ty, Align, PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#af42f28ba1587a941df383166cbe7ee35">hasQPX</a>() ? 32 : 16);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a2474ba98067cac511db469757356afc0">  624</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1PPCTargetLowering.html#a2474ba98067cac511db469757356afc0">PPCTargetLowering::getTargetNodeName</a>(<span class="keywordtype">unsigned</span> Opcode)<span class="keyword"> const </span>{</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::FSEL&quot;</span>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892">PPCISD::FCFID</a>:           <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::FCFID&quot;</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">PPCISD::FCTIDZ</a>:          <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::FCTIDZ&quot;</span>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec">PPCISD::FCTIWZ</a>:          <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::FCTIWZ&quot;</span>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a3475aac39d7d3909ef94c56fbdfbe7a9">PPCISD::FRE</a>:             <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::FRE&quot;</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abe7e3f85845897ad4b6270b32f8c7030">PPCISD::FRSQRTE</a>:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::FRSQRTE&quot;</span>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa71de12afd261e0b3f2e040ce1c10315">PPCISD::STFIWX</a>:          <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::STFIWX&quot;</span>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a4641b97d96da9f08b2609132342ca65b">PPCISD::VMADDFP</a>:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::VMADDFP&quot;</span>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a34a5ed2588ccc989de4882384c296b">PPCISD::VNMSUBFP</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::VNMSUBFP&quot;</span>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abd37e9e242507f9bcda602075a67c9dd">PPCISD::VPERM</a>:           <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::VPERM&quot;</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66afaa3b6d013f5589d52186fb31c1507de">PPCISD::Hi</a>:              <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::Hi&quot;</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abcb9c462158b362a5edc6a1d754c9edb">PPCISD::Lo</a>:              <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::Lo&quot;</span>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5ac8e8dafc2dd10379a59ceff7b237d6">PPCISD::TOC_ENTRY</a>:       <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::TOC_ENTRY&quot;</span>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ab791c435016d75f72e1e95c54f3d42d9">PPCISD::TOC_RESTORE</a>:     <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::TOC_RESTORE&quot;</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a35d9b393639fbc9a4e639ce81c704d17">PPCISD::LOAD</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::LOAD&quot;</span>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a4a73d0b02b92ec58d7f38d00ad50f289">PPCISD::LOAD_TOC</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::LOAD_TOC&quot;</span>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a098fa0d2b0ca58b9d504edb6a164ee54">PPCISD::DYNALLOC</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::DYNALLOC&quot;</span>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">PPCISD::GlobalBaseReg</a>:   <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::GlobalBaseReg&quot;</span>;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">PPCISD::SRL</a>:             <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::SRL&quot;</span>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aad0d80bf5cf5a07b271e4357ed436f62">PPCISD::SRA</a>:             <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::SRA&quot;</span>;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">PPCISD::SHL</a>:             <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::SHL&quot;</span>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa09dfd0e28e0ffea73ccfc88fb2fd95c">PPCISD::CALL</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::CALL&quot;</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ada865a374b524adeca1892f0eed6eb0e">PPCISD::CALL_NOP</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::CALL_NOP&quot;</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa48a0d892596a0da3cf4a82c6ff5a91f">PPCISD::MTCTR</a>:           <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::MTCTR&quot;</span>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a453b3ee2482b8a61bbcf5ce1cd6e395e">PPCISD::BCTRL</a>:           <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::BCTRL&quot;</span>;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aca057f3b5880594ff9a4ef1750a61924">PPCISD::RET_FLAG</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::RET_FLAG&quot;</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a819ce93b1bf9e907128d4a48ce356a21">PPCISD::EH_SJLJ_SETJMP</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::EH_SJLJ_SETJMP&quot;</span>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ae1846075ba0055d16c23e95fb9069efd">PPCISD::EH_SJLJ_LONGJMP</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::EH_SJLJ_LONGJMP&quot;</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f">PPCISD::MFOCRF</a>:          <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::MFOCRF&quot;</span>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a43a3ad5a512466965973ac46c8239c60">PPCISD::VCMP</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::VCMP&quot;</span>;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2739f8327120cab9e21846dee3a5366b">PPCISD::VCMPo</a>:           <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::VCMPo&quot;</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a8032251e5c6dfb52579250ef6373d599">PPCISD::LBRX</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::LBRX&quot;</span>;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af2142b68a3cab0d2f680eecbb31c76e0">PPCISD::STBRX</a>:           <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::STBRX&quot;</span>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a21a28a4fd508bbb42150bd0a22bfa6a6">PPCISD::LARX</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::LARX&quot;</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac7dcbb4c22c1613325814e5d3550cc59">PPCISD::STCX</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::STCX&quot;</span>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0992940624286ed6bc85cd7163501613">PPCISD::COND_BRANCH</a>:     <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::COND_BRANCH&quot;</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a160ec67350dc5e964fc0a12a9cde1df8">PPCISD::BDNZ</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::BDNZ&quot;</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66addb9d78754c1f2e6d765a0da913f0800">PPCISD::BDZ</a>:             <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::BDZ&quot;</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aab6a046c536c71121190fefd548d6b25">PPCISD::MFFS</a>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::MFFS&quot;</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ad2b0da006c4560646ac3eb561a8b73b2">PPCISD::FADDRTZ</a>:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::FADDRTZ&quot;</span>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa4dc9f480c199614ca9475c7969ead06">PPCISD::TC_RETURN</a>:       <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::TC_RETURN&quot;</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7fa84f3807a868c9e48e0928e3ac7f81">PPCISD::CR6SET</a>:          <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::CR6SET&quot;</span>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0a616f27a6f2de704ab3ed849b50b181">PPCISD::CR6UNSET</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::CR6UNSET&quot;</span>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a887a8b2b7f050e0aec4004e6bc7daaf8">PPCISD::ADDIS_TOC_HA</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDIS_TOC_HA&quot;</span>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0861273f8b50e76256e91802d767a8e0">PPCISD::LD_TOC_L</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::LD_TOC_L&quot;</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1368bce74d94da9e2a658ed834f806c4">PPCISD::ADDI_TOC_L</a>:      <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDI_TOC_L&quot;</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a390f7ff6ebc81e2540d946d8d1061f29">PPCISD::ADDIS_GOT_TPREL_HA</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDIS_GOT_TPREL_HA&quot;</span>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af54af574e0a93231dd275e38ed4cf026">PPCISD::LD_GOT_TPREL_L</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::LD_GOT_TPREL_L&quot;</span>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a606fcb46940146f9bb7ee312d6a4835f">PPCISD::ADD_TLS</a>:         <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADD_TLS&quot;</span>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a968bba2363b57ced282bda51b19c8162">PPCISD::ADDIS_TLSGD_HA</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDIS_TLSGD_HA&quot;</span>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac3043814fcbe457dc6a768c714864692">PPCISD::ADDI_TLSGD_L</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDI_TLSGD_L&quot;</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2c181ed9e9ec3fb57f7e8542df22f422">PPCISD::GET_TLS_ADDR</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::GET_TLS_ADDR&quot;</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abdad0d05f0b11932ef877b95832e31ea">PPCISD::ADDIS_TLSLD_HA</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDIS_TLSLD_HA&quot;</span>;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ad1e4cb7a1fc0c9ea50baef6974f21431">PPCISD::ADDI_TLSLD_L</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDI_TLSLD_L&quot;</span>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac0753db07d6a64f1ee53f3d31dbac379">PPCISD::GET_TLSLD_ADDR</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::GET_TLSLD_ADDR&quot;</span>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5fdb4eb697cc8fb8a8aa8fa53effac34">PPCISD::ADDIS_DTPREL_HA</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDIS_DTPREL_HA&quot;</span>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a6f48c93bc2c3495090cdad2d375290dc">PPCISD::ADDI_DTPREL_L</a>:   <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::ADDI_DTPREL_L&quot;</span>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a63d10572d28760b1a149732cc760628a">PPCISD::VADD_SPLAT</a>:      <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::VADD_SPLAT&quot;</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">PPCISD::SC</a>:              <span class="keywordflow">return</span> <span class="stringliteral">&quot;PPCISD::SC&quot;</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#aa25300b78bcf37a1c6fcce44912d0ff9">  689</a></span>&#160;<a class="code" href="structllvm_1_1EVT.html">EVT</a> <a class="code" href="classllvm_1_1PPCTargetLowering.html#aa25300b78bcf37a1c6fcce44912d0ff9">PPCTargetLowering::getSetCCResultType</a>(<a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT)<span class="keyword"> const </span>{</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>())</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">return</span> VT.<a class="code" href="structllvm_1_1EVT.html#a2eed75ff7477295264c8320af1630bbb">changeVectorElementTypeToInteger</a>();</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">// Node matching predicates, for use by the tblgen matching code.</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">/// isFloatingPointZero - Return true if this is 0.0 or -0.0.</span></div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#af4674b301fdc98e0a729a8d4690e45f2">  700</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#af4674b301fdc98e0a729a8d4690e45f2">isFloatingPointZero</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *CFP = dyn_cast&lt;ConstantFPSDNode&gt;(Op))</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">return</span> CFP-&gt;getValueAPF().isZero();</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a910795e8d77c1545da0683c0e1cb81ee">ISD::isEXTLoad</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()) || <a class="code" href="namespacellvm_1_1ISD.html#a15623094a1ed0cd7163dc786e44c87c9">ISD::isNON_EXTLoad</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>())) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// Maybe this has already been legalized into the constant pool?</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantPoolSDNode.html">ConstantPoolSDNode</a> *CP = dyn_cast&lt;ConstantPoolSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1)))</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP = dyn_cast&lt;ConstantFP&gt;(CP-&gt;getConstVal()))</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">return</span> CFP-&gt;getValueAPF().isZero();</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">/// isConstantOrUndef - Op is either an undef node or a ConstantSDNode.  Return</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">/// true if Op is undef or if it matches the specified value.</span></div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">  714</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(<span class="keywordtype">int</span> Op, <span class="keywordtype">int</span> Val) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">return</span> Op &lt; 0 || Op == Val;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">/// isVPKUHUMShuffleMask - Return true if this is the shuffle mask for a</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">/// VPKUHUM instruction.</span></div><div class="line"><a name="l00720"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#a4546a80a0dc0cca8a263b80cc86122b0">  720</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1PPC.html#a4546a80a0dc0cca8a263b80cc86122b0">PPC::isVPKUHUMShuffleMask</a>(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">bool</span> isUnary) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">if</span> (!isUnary) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+1))</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 8; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>),    <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+1) ||</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          !<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+8),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+1))</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/// isVPKUWUMShuffleMask - Return true if this is the shuffle mask for a</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">/// VPKUWUM instruction.</span></div><div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#ac08dd0e631069166e1c864b2bfbc05fe">  736</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1PPC.html#ac08dd0e631069166e1c864b2bfbc05fe">PPC::isVPKUWUMShuffleMask</a>(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">bool</span> isUnary) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">if</span> (!isUnary) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>  ),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+2) ||</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          !<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+3))</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 8; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>  ),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+2) ||</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;          !<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+3) ||</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          !<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+8),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+2) ||</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          !<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+9),  <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+3))</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">/// isVMerge - Common function, used to match vmrg* shuffles.</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a941eb33c376cb0192d0d7e52e21c0c11">  755</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#a941eb33c376cb0192d0d7e52e21c0c11">isVMerge</a>(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> UnitSize,</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                     <span class="keywordtype">unsigned</span> LHSStart, <span class="keywordtype">unsigned</span> RHSStart) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a> &amp;&amp;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;         <span class="stringliteral">&quot;PPC only supports shuffles by bytes!&quot;</span>);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  assert((UnitSize == 1 || UnitSize == 2 || UnitSize == 4) &amp;&amp;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;         <span class="stringliteral">&quot;Unsupported merge size!&quot;</span>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 8/UnitSize; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)     <span class="comment">// Step over units</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != UnitSize; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {   <span class="comment">// Step over bytes within unit</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*UnitSize*2+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>),</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                             LHSStart+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*UnitSize) ||</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;          !<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*UnitSize*2+UnitSize+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>),</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                             RHSStart+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*UnitSize))</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">/// isVMRGLShuffleMask - Return true if this is a shuffle mask suitable for</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">/// a VRGL* instruction with the specified unit size (1,2 or 4 bytes).</span></div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">  775</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">PPC::isVMRGLShuffleMask</a>(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> UnitSize,</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                             <span class="keywordtype">bool</span> isUnary) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">if</span> (!isUnary)</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#a941eb33c376cb0192d0d7e52e21c0c11">isVMerge</a>(N, UnitSize, 8, 24);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#a941eb33c376cb0192d0d7e52e21c0c11">isVMerge</a>(N, UnitSize, 8, 8);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">/// isVMRGHShuffleMask - Return true if this is a shuffle mask suitable for</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">/// a VRGH* instruction with the specified unit size (1,2 or 4 bytes).</span></div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">  784</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">PPC::isVMRGHShuffleMask</a>(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> UnitSize,</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                             <span class="keywordtype">bool</span> isUnary) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordflow">if</span> (!isUnary)</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#a941eb33c376cb0192d0d7e52e21c0c11">isVMerge</a>(N, UnitSize, 0, 16);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#a941eb33c376cb0192d0d7e52e21c0c11">isVMerge</a>(N, UnitSize, 0, 0);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">/// isVSLDOIShuffleMask - If this is a vsldoi shuffle mask, return the shift</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">/// amount, otherwise return -1.</span></div><div class="line"><a name="l00794"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#a9fdffa1326c897a221fdba3dc82f0ec4">  794</a></span>&#160;<span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1PPC.html#a9fdffa1326c897a221fdba3dc82f0ec4">PPC::isVSLDOIShuffleMask</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">bool</span> isUnary) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a> &amp;&amp;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;         <span class="stringliteral">&quot;PPC only supports shuffles by bytes!&quot;</span>);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *SVOp = cast&lt;ShuffleVectorSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">// Find the first non-undef value in the shuffle mask.</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">for</span> (i = 0; i != 16 &amp;&amp; SVOp-&gt;getMaskElt(i) &lt; 0; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">/*search*/</span>;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">if</span> (i == 16) <span class="keywordflow">return</span> -1;  <span class="comment">// all undef.</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// Otherwise, check to see if the rest of the elements are consecutively</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="comment">// numbered from this value.</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordtype">unsigned</span> ShiftAmt = SVOp-&gt;getMaskElt(i);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">if</span> (ShiftAmt &lt; i) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  ShiftAmt -= <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span> (!isUnary) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// Check the rest of the elements to see if they are consecutive.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">for</span> (++i; i != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(SVOp-&gt;getMaskElt(i), ShiftAmt+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// Check the rest of the elements to see if they are consecutive.</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">for</span> (++i; i != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a>(SVOp-&gt;getMaskElt(i), (ShiftAmt+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp; 15))</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordflow">return</span> ShiftAmt;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;}</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">/// isSplatShuffleMask - Return true if the specified VECTOR_SHUFFLE operand</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">/// specifies a splat of a single element that is suitable for input to</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">/// VSPLTB/VSPLTH/VSPLTW.</span></div><div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#adf912033ee385662cb4e40bd06206b67">  830</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1PPC.html#adf912033ee385662cb4e40bd06206b67">PPC::isSplatShuffleMask</a>(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> EltSize) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a> &amp;&amp;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;         (EltSize == 1 || EltSize == 2 || EltSize == 4));</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="comment">// This is a splat operation if each element of the permute is the same, and</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// if the value doesn&#39;t reference the second vector.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keywordtype">unsigned</span> ElementBase = N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(0);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// FIXME: Handle UNDEF elements too!</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keywordflow">if</span> (ElementBase &gt;= 16)</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// Check that the indices are consecutive, in the case of a multi-byte element</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// splatted with a v16i8 mask.</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != EltSize; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt; 0 || N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) != (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+ElementBase))</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = EltSize, e = 16; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> += EltSize) {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &lt; 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != EltSize; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) != N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>))</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">/// isAllNegativeZeroVector - Returns true if all elements of build_vector</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">/// are -0.0.</span></div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#a96b493b8aa609c1c5c83e21dde6bf3d0">  859</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1PPC.html#a96b493b8aa609c1c5c83e21dde6bf3d0">PPC::isAllNegativeZeroVector</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <a class="code" href="classllvm_1_1BuildVectorSDNode.html">BuildVectorSDNode</a> *BV = cast&lt;BuildVectorSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> APVal, APUndef;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keywordtype">unsigned</span> BitSize;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordtype">bool</span> HasAnyUndefs;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">if</span> (BV-&gt;<a class="code" href="classllvm_1_1BuildVectorSDNode.html#a0d1aedc8b57ec58e82db037ccb38c2a2">isConstantSplat</a>(APVal, APUndef, BitSize, HasAnyUndefs, 32, <span class="keyword">true</span>))</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *CFP = dyn_cast&lt;ConstantFPSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0)))</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">return</span> CFP-&gt;getValueAPF().isNegZero();</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">/// getVSPLTImmediate - Return the appropriate VSPLT* immediate to splat the</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">/// specified isSplatShuffleMask VECTOR_SHUFFLE mask.</span></div><div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#a9e6acfbcf4b5bde3ce4f55352a82aa49">  875</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1PPC.html#a9e6acfbcf4b5bde3ce4f55352a82aa49">PPC::getVSPLTImmediate</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> EltSize) {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *SVOp = cast&lt;ShuffleVectorSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  assert(<a class="code" href="namespacellvm_1_1PPC.html#adf912033ee385662cb4e40bd06206b67">isSplatShuffleMask</a>(SVOp, EltSize));</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">return</span> SVOp-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(0) / EltSize;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;}</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">/// get_VSPLTI_elt - If this is a build_vector of constants which can be formed</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">/// by using a vspltis[bhw] instruction of the specified element size, return</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">/// the constant being splatted.  The ByteSize field indicates the number of</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">/// bytes of each element [124] -&gt; [bhw].</span></div><div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#a1a14301103c8d97e52ed0ca117ea6b65">  885</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1PPC.html#a1a14301103c8d97e52ed0ca117ea6b65">PPC::get_VSPLTI_elt</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> ByteSize, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OpVal(0, 0);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="comment">// If ByteSize of the splat is bigger than the element size of the</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="comment">// build_vector, then we have a case where we are checking for a splat where</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// multiple elements of the buildvector are folded together into a single</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// logical element of the splat (e.g. &quot;vsplish 1&quot; to splat {0,1}*8).</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordtype">unsigned</span> EltSize = 16/N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>();</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">if</span> (EltSize &lt; ByteSize) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordtype">unsigned</span> Multiple = ByteSize/EltSize;   <span class="comment">// Number of BV entries per spltval.</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UniquedVals[4];</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    assert(Multiple &gt; 1 &amp;&amp; Multiple &lt;= 4 &amp;&amp; <span class="stringliteral">&quot;How can this happen?&quot;</span>);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// See if all of the elements in the buildvector agree across.</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="comment">// If the element isn&#39;t a constant, bail fully out.</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;ConstantSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">if</span> (UniquedVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;(Multiple-1)].getNode() == 0)</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        UniquedVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;(Multiple-1)] = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (UniquedVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;(Multiple-1)] != N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();  <span class="comment">// no match.</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">// Okay, if we reached this point, UniquedVals[0..Multiple-1] contains</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">// either constant or undef values that are identical for each chunk.  See</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="comment">// if these chunks can form into a larger vspltis*.</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="comment">// Check to see if all of the leading entries are either 0 or -1.  If</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// neither, then this won&#39;t fit into the immediate field.</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">bool</span> LeadingZero = <span class="keyword">true</span>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordtype">bool</span> LeadingOnes = <span class="keyword">true</span>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != Multiple-1; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="keywordflow">if</span> (UniquedVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getNode() == 0) <span class="keywordflow">continue</span>;  <span class="comment">// Must have been undefs.</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      LeadingZero &amp;= cast&lt;ConstantSDNode&gt;(UniquedVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])-&gt;isNullValue();</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      LeadingOnes &amp;= cast&lt;ConstantSDNode&gt;(UniquedVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])-&gt;isAllOnesValue();</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">// Finally, check the least significant entry.</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">if</span> (LeadingZero) {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">if</span> (UniquedVals[Multiple-1].getNode() == 0)</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);  <span class="comment">// 0,0,0,undef</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="keywordtype">int</span> Val = cast&lt;ConstantSDNode&gt;(UniquedVals[Multiple-1])-&gt;getZExtValue();</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordflow">if</span> (Val &lt; 16)</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Val, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);  <span class="comment">// 0,0,0,4 -&gt; vspltisw(4)</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">if</span> (LeadingOnes) {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <span class="keywordflow">if</span> (UniquedVals[Multiple-1].getNode() == 0)</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(~0U, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);  <span class="comment">// -1,-1,-1,undef</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordtype">int</span> Val =cast&lt;ConstantSDNode&gt;(UniquedVals[Multiple-1])-&gt;getSExtValue();</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">if</span> (Val &gt;= -16)                            <span class="comment">// -1,-1,-1,-2 -&gt; vspltisw(-2)</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Val, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// Check to see if this buildvec has a single non-undef value in its elements.</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">if</span> (OpVal.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() == 0)</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      OpVal = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpVal != N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">if</span> (OpVal.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() == 0) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();  <span class="comment">// All UNDEF: use implicit def.</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordtype">unsigned</span> ValSizeInBytes = EltSize;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  uint64_t <a class="code" href="classllvm_1_1Value.html">Value</a> = 0;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CN = dyn_cast&lt;ConstantSDNode&gt;(OpVal)) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    Value = CN-&gt;getZExtValue();</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFPSDNode.html">ConstantFPSDNode</a> *CN = dyn_cast&lt;ConstantFPSDNode&gt;(OpVal)) {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    assert(CN-&gt;getValueType(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; <span class="stringliteral">&quot;Only one legal FP vector type!&quot;</span>);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    Value = <a class="code" href="namespacellvm.html#a5537d2c18e3c7cf4e9b70986bb7c90db">FloatToBits</a>(CN-&gt;getValueAPF().convertToFloat());</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">// If the splat value is larger than the element value, then we can never do</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="comment">// this splat.  The only case that we could fit the replicated bits into our</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// immediate field for would be zero, and we prefer to use vxor for it.</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keywordflow">if</span> (ValSizeInBytes &lt; ByteSize) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// If the element value is larger than the splat value, cut it in half and</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// check to see if the two halves are equal.  Continue doing this until we</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// get to ByteSize.  This allows us to handle 0x01010101 as 0x01.</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordflow">while</span> (ValSizeInBytes &gt; ByteSize) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    ValSizeInBytes &gt;&gt;= 1;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="comment">// If the top half equals the bottom half, we&#39;re still ok.</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (((Value &gt;&gt; (ValSizeInBytes*8)) &amp; ((1 &lt;&lt; (8*ValSizeInBytes))-1)) !=</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;         (Value                        &amp; ((1 &lt;&lt; (8*ValSizeInBytes))-1)))</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// Properly sign extend the value.</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordtype">int</span> MaskVal = <a class="code" href="namespacellvm.html#a79155cfcf20c6572900a4c43f127bf00">SignExtend32</a>(Value, ByteSize * 8);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// If this is zero, don&#39;t match, zero matches ISD::isBuildVectorAllZeros.</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">if</span> (MaskVal == 0) <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// Finally, if this value fits in a 5 bit sext field, return it</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">if</span> (SignExtend32&lt;5&gt;(MaskVal) == MaskVal)</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(MaskVal, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;}</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">//  Addressing Mode Selection</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">/// isIntS16Immediate - This method tests to see if the node is either a 32-bit</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">/// or 64-bit immediate, and if the value can be accurately represented as a</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">/// sign extension from a 16-bit value.  If so, this returns true and the</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">/// immediate.</span></div><div class="line"><a name="l01001"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af"> 1001</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">short</span> &amp;Imm) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">ISD::Constant</a>)</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  Imm = (short)cast&lt;ConstantSDNode&gt;(N)-&gt;getZExtValue();</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> Imm == (int32_t)cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getZExtValue();</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> Imm == (int64_t)cast&lt;ConstantSDNode&gt;(N)-&gt;getZExtValue();</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div><div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a5a2abfa58ea2a3349750c7f4b4a11694"> 1011</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <span class="keywordtype">short</span> &amp;Imm) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(), Imm);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">/// SelectAddressRegReg - Given the specified addressed, check to see if it</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">/// can be represented as an indexed [r+r] operation.  Returns false if it</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">/// can be more efficiently represented with [r+imm].</span></div><div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a82ce354ab2e296919fb5052cb69191ff"> 1019</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a82ce354ab2e296919fb5052cb69191ff">PPCTargetLowering::SelectAddressRegReg</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Index,</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                                            <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordtype">short</span> imm = 0;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">if</span> (N.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1), imm))</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;    <span class="comment">// r+i</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">if</span> (N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abcb9c462158b362a5edc6a1d754c9edb">PPCISD::Lo</a>)</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;    <span class="comment">// r+i</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    Base = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    Index = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1), imm))</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;    <span class="comment">// r+i can fold it if we can.</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="comment">// If this is an or of disjoint bitfields, we can codegen this as an add</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">// (for better address arithmetic) if the LHS and RHS of the OR are provably</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">// disjoint.</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSKnownZero, LHSKnownOne;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> RHSKnownZero, RHSKnownOne;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad06ca140783fd9f03eed498e8485fc3d">ComputeMaskedBits</a>(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0),</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                          LHSKnownZero, LHSKnownOne);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (LHSKnownZero.<a class="code" href="classllvm_1_1APInt.html#ac8be1ee0c47d9e47e567fa353f987ed5">getBoolValue</a>()) {</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad06ca140783fd9f03eed498e8485fc3d">ComputeMaskedBits</a>(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1),</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                            RHSKnownZero, RHSKnownOne);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="comment">// If all of the bits are known zero on the LHS or RHS, the add won&#39;t</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="comment">// carry.</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">if</span> (~(LHSKnownZero | RHSKnownZero) == 0) {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        Base = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        Index = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    }</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  }</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">// If we happen to be doing an i64 load or store into a stack slot that has</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">// less than a 4-byte alignment, then the frame-index elimination may need to</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">// use an indexed load or store instruction (because the offset may not be a</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">// multiple of 4). The extra register needed to hold the offset comes from the</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">// register scavenger, and it is possible that the scavenger will need to use</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">// an emergency spill slot. As a result, we need to make sure that a spill slot</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">// is allocated when doing an i64 load/store into a less-than-4-byte-aligned</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">// stack slot.</span></div><div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#aa45779e6cfae9dac4c65a6aa4bbdab74"> 1068</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PPCISelLowering_8cpp.html#aa45779e6cfae9dac4c65a6aa4bbdab74">fixupFuncForFI</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <span class="keywordtype">int</span> FrameIdx, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="comment">// FIXME: This does not handle the LWA case.</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">// NOTE: We&#39;ll exclude negative FIs here, which come from argument</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// lowering, because there are no known test cases triggering this problem</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">// using packed structures (or similar). We can remove this exclusion if</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// we find such a test case. The reason why this is so test-case driven is</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// because this entire &#39;fixup&#39; is only to prevent crashes (from the</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// register scavenger) on not-really-valid inputs. For example, if we have:</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">//   %a = alloca i1</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">//   %b = bitcast i1* %a to i64*</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="comment">//   store i64* a, i64 b</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">// then the store should really be marked as &#39;align 1&#39;, but is not. If it</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// were marked as &#39;align 1&#39; then the indexed form would have been</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// instruction-selected initially, and the problem this &#39;fixup&#39; is preventing</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="comment">// won&#39;t happen regardless.</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordflow">if</span> (FrameIdx &lt; 0)</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">getObjectAlignment</a>(FrameIdx);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">if</span> (Align &gt;= 4)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#aef8b8a2cddd6ae0ae42a5711d358d437">setHasNonRISpills</a>();</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;}</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment">/// Returns true if the address N can be represented by a base register plus</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment">/// a signed 16-bit displacement [r+imm], and if it is not better</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">/// represented as reg+reg.  If Aligned is true, only accept displacements</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">/// suitable for STD and friends, i.e. multiples of 4.</span></div><div class="line"><a name="l01104"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a27a0a04d07a0d178bdbc7fa1b4c5b373"> 1104</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a27a0a04d07a0d178bdbc7fa1b4c5b373">PPCTargetLowering::SelectAddressRegImm</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Disp,</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                                            <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                            <span class="keywordtype">bool</span> Aligned)<span class="keyword"> const </span>{</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="comment">// FIXME dl should come from parent load or store, not from address</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="comment">// If this can be more profitably realized as r+r, fail.</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCTargetLowering.html#a82ce354ab2e296919fb5052cb69191ff">SelectAddressRegReg</a>(N, Disp, Base, DAG))</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keywordflow">if</span> (N.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordtype">short</span> imm = 0;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1), imm) &amp;&amp;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        (!Aligned || (imm &amp; 3) == 0)) {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      Disp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(imm, N.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1FrameIndexSDNode.html">FrameIndexSDNode</a> *FI = dyn_cast&lt;FrameIndexSDNode&gt;(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0))) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        Base = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FI-&gt;getIndex(), N.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#aa45779e6cfae9dac4c65a6aa4bbdab74">fixupFuncForFI</a>(DAG, FI-&gt;getIndex(), N.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        Base = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// [r+i]</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abcb9c462158b362a5edc6a1d754c9edb">PPCISD::Lo</a>) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="comment">// Match LOAD (ADD (X, Lo(G))).</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      assert(!cast&lt;ConstantSDNode&gt;(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))-&gt;getZExtValue()</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;             &amp;&amp; <span class="stringliteral">&quot;Cannot handle constant offsets yet!&quot;</span>);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      Disp = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);  <span class="comment">// The global address.</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      assert(Disp.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b8176af163ee944af127081d24f4a2">ISD::TargetGlobalAddress</a> ||</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;             Disp.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc9ad7857b7faf49dcde3dcf434e22a6">ISD::TargetGlobalTLSAddress</a> ||</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;             Disp.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a038a7f124b4118456a27a739c03650bf">ISD::TargetConstantPool</a> ||</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;             Disp.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a603c0651ff8c3a929c5e1d8b9a8f14cb">ISD::TargetJumpTable</a>);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      Base = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// [&amp;g+r]</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>) {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordtype">short</span> imm = 0;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1), imm) &amp;&amp;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        (!Aligned || (imm &amp; 3) == 0)) {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="comment">// If this is an or of disjoint bitfields, we can codegen this as an add</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="comment">// (for better address arithmetic) if the LHS and RHS of the OR are</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="comment">// provably disjoint.</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSKnownZero, LHSKnownOne;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad06ca140783fd9f03eed498e8485fc3d">ComputeMaskedBits</a>(N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), LHSKnownZero, LHSKnownOne);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">if</span> ((LHSKnownZero.<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>()|~(uint64_t)imm) == ~0ULL) {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="comment">// If all of the bits are known zero on the LHS or RHS, the add won&#39;t</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">// carry.</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        Base = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        Disp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(imm, N.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CN = dyn_cast&lt;ConstantSDNode&gt;(N)) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// Loading from a constant address.</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">// If this address fits entirely in a 16-bit sext immediate field, codegen</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">// this as &quot;d, 0&quot;</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordtype">short</span> Imm;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a>(CN, Imm) &amp;&amp; (!Aligned || (Imm &amp; 3) == 0)) {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      Disp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Imm, CN-&gt;getValueType(0));</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      Base = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? PPC::ZERO8 : PPC::ZERO,</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                             CN-&gt;getValueType(0));</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="comment">// Handle 32-bit sext immediates with LIS + addr mode.</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">if</span> ((CN-&gt;getValueType(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> ||</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;         (int64_t)CN-&gt;getZExtValue() == (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)CN-&gt;getZExtValue()) &amp;&amp;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        (!Aligned || (CN-&gt;getZExtValue() &amp; 3) == 0)) {</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordtype">int</span> Addr = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)CN-&gt;getZExtValue();</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="comment">// Otherwise, break this down into an LIS + disp.</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      Disp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>((<span class="keywordtype">short</span>)Addr, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      Base = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>((Addr - (<span class="keywordtype">signed</span> <span class="keywordtype">short</span>)Addr) &gt;&gt; 16, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keywordtype">unsigned</span> Opc = CN-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> ? PPC::LIS : PPC::LIS8;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      Base = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#afe8c553ab3418eec718860c098c6e080">getMachineNode</a>(Opc, dl, CN-&gt;getValueType(0), Base), 0);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  }</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  Disp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(0, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>());</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1FrameIndexSDNode.html">FrameIndexSDNode</a> *FI = dyn_cast&lt;FrameIndexSDNode&gt;(N)) {</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    Base = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">getTargetFrameIndex</a>(FI-&gt;getIndex(), N.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#aa45779e6cfae9dac4c65a6aa4bbdab74">fixupFuncForFI</a>(DAG, FI-&gt;getIndex(), N.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    Base = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;      <span class="comment">// [r+0]</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;}</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">/// SelectAddressRegRegOnly - Given the specified addressed, force it to be</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">/// represented as an indexed [r+r] operation.</span></div><div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#aee1e7fbaa86db98a24b2971b90ec06bb"> 1196</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#aee1e7fbaa86db98a24b2971b90ec06bb">PPCTargetLowering::SelectAddressRegRegOnly</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Index,</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                                <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="comment">// Check to see if we can easily represent this as an [r+r] address.  This</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="comment">// will fail if it thinks that the address is more profitably represented as</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="comment">// reg+imm, e.g. where imm = 0.</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCTargetLowering.html#a82ce354ab2e296919fb5052cb69191ff">SelectAddressRegReg</a>(N, Base, Index, DAG))</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// If the operand is an addition, always emit this as [r+r], since this is</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// better (for code size, and execution, as the memop does the add for free)</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// than emitting an explicit add.</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">if</span> (N.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    Base = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    Index = N.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="comment">// Otherwise, do it the hard way, using R0 as the base register.</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  Base = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? PPC::ZERO8 : PPC::ZERO,</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                         N.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  Index = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;}</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">/// getPreIndexedAddressParts - returns true by value, base pointer and</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment">/// offset pointer and addressing mode by reference if the node&#39;s address</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">/// can be legally represented as pre-indexed load / store address.</span></div><div class="line"><a name="l01224"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#ad29bfd78dd46028de88d10314613fcbd"> 1224</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#ad29bfd78dd46028de88d10314613fcbd">PPCTargetLowering::getPreIndexedAddressParts</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Offset,</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                                  <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31">ISD::MemIndexedMode</a> &amp;AM,</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                                  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#a39032b11b8339a15cd3c828db23000fb">DisablePPCPreinc</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keywordtype">bool</span> isLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ptr;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="keywordtype">unsigned</span> Alignment;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a> = dyn_cast&lt;LoadSDNode&gt;(N)) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    Ptr = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>-&gt;getBasePtr();</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    VT = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>-&gt;getMemoryVT();</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    Alignment = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>-&gt;getAlignment();</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = dyn_cast&lt;StoreSDNode&gt;(N)) {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    Ptr = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getBasePtr();</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    VT  = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getMemoryVT();</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    Alignment = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getAlignment();</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    isLoad = <span class="keyword">false</span>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="comment">// PowerPC doesn&#39;t have preinc load/store instructions for vectors.</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>())</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCTargetLowering.html#a82ce354ab2e296919fb5052cb69191ff">SelectAddressRegReg</a>(Ptr, Base, Offset, DAG)) {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="comment">// Common code will reject creating a pre-inc form if the base pointer</span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="comment">// is a frame index, or if N is a store and the base pointer is either</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="comment">// the same as or a predecessor of the value being stored.  Check for</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="comment">// those situations here, and try with swapped Base/Offset instead.</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordtype">bool</span> Swap = <span class="keyword">false</span>;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span> (isa&lt;FrameIndexSDNode&gt;(Base) || isa&lt;RegisterSDNode&gt;(Base))</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      Swap = <span class="keyword">true</span>;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isLoad) {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getValue();</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <span class="keywordflow">if</span> (Val == Base || Base.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ee80bb807d0f88ecbfbc44607228ef6">isPredecessorOf</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()))</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        Swap = <span class="keyword">true</span>;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">if</span> (Swap)</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Base, Offset);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    AM = <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">// LDU/STU can only handle immediates that are a multiple of 4.</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCTargetLowering.html#a27a0a04d07a0d178bdbc7fa1b4c5b373">SelectAddressRegImm</a>(Ptr, Offset, Base, DAG, <span class="keyword">false</span>))</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// LDU/STU need an address with at least 4-byte alignment.</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">if</span> (Alignment &lt; 4)</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCTargetLowering.html#a27a0a04d07a0d178bdbc7fa1b4c5b373">SelectAddressRegImm</a>(Ptr, Offset, Base, DAG, <span class="keyword">true</span>))</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a> = dyn_cast&lt;LoadSDNode&gt;(N)) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">// PPC64 doesn&#39;t have lwau, but it does have lwaux.  Reject preinc load of</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="comment">// sext i32 to i64 when addr mode is r+i.</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>-&gt;getValueType(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>-&gt;getMemoryVT() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>-&gt;getExtensionType() == <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">ISD::SEXTLOAD</a> &amp;&amp;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        isa&lt;ConstantSDNode&gt;(Offset))</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  AM = <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">ISD::PRE_INC</a>;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">//  LowerOperation implementation</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">/// GetLabelAccessInfo - Return true if we should reference labels using a</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">/// PICBase, set the HiOpFlags and LoOpFlags to the target MO flags.</span></div><div class="line"><a name="l01305"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#adeb13b67584232ee5ddade3d82a0b23a"> 1305</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#adeb13b67584232ee5ddade3d82a0b23a">GetLabelAccessInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;TM, <span class="keywordtype">unsigned</span> &amp;HiOpFlags,</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                               <span class="keywordtype">unsigned</span> &amp;LoOpFlags, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = 0) {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  HiOpFlags = <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf3ceb6d8d3d044088a869d52777a6ed6">PPCII::MO_HA</a>;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  LoOpFlags = <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffacfbc322d45d593103140a6a0dd75e9cd">PPCII::MO_LO</a>;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="comment">// Don&#39;t use the pic base if not in PIC relocation model.  Or if we are on a</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="comment">// non-darwin platform.  We don&#39;t support PIC on other platforms yet.</span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="keywordtype">bool</span> isPIC = TM.<a class="code" href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">getRelocationModel</a>() == <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">Reloc::PIC_</a> &amp;&amp;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;               TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().isDarwin();</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordflow">if</span> (isPIC) {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    HiOpFlags |= <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf464d229c08e6d5eb945d7b905a7c9fd">PPCII::MO_PIC_FLAG</a>;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    LoOpFlags |= <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf464d229c08e6d5eb945d7b905a7c9fd">PPCII::MO_PIC_FLAG</a>;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="comment">// If this is a reference to a global value that requires a non-lazy-ptr, make</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// sure that instruction lowering adds it.</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">if</span> (GV &amp;&amp; TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().<a class="code" href="classllvm_1_1PPCSubtarget.html#a94b8b75b7e75b19670b209830d2befab">hasLazyResolverStub</a>(GV, TM)) {</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    HiOpFlags |= <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa4c9eaf71e784335fbfdd96354cf46235">PPCII::MO_NLP_FLAG</a>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    LoOpFlags |= <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa4c9eaf71e784335fbfdd96354cf46235">PPCII::MO_NLP_FLAG</a>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;hasHiddenVisibility()) {</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      HiOpFlags |= <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa6ce0aaff74c60178c0210f31002c7f59">PPCII::MO_NLP_HIDDEN_FLAG</a>;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      LoOpFlags |= <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa6ce0aaff74c60178c0210f31002c7f59">PPCII::MO_NLP_HIDDEN_FLAG</a>;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  }</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">return</span> isPIC;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#ab5d4759731e493988eda569efb67233f"> 1334</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#ab5d4759731e493988eda569efb67233f">LowerLabelRef</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiPart, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoPart, <span class="keywordtype">bool</span> isPIC,</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                             <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = HiPart.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, PtrVT);</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(HiPart);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66afaa3b6d013f5589d52186fb31c1507de">PPCISD::Hi</a>, DL, PtrVT, HiPart, Zero);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abcb9c462158b362a5edc6a1d754c9edb">PPCISD::Lo</a>, DL, PtrVT, LoPart, Zero);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// With PIC, the first instruction is actually &quot;GR+hi(&amp;G)&quot;.</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">if</span> (isPIC)</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, DL, PtrVT,</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">PPCISD::GlobalBaseReg</a>, DL, PtrVT), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="comment">// Generate non-pic code that has direct accesses to the constant pool.</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="comment">// The address of the global is just (hi(&amp;g)+lo(&amp;g)).</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, DL, PtrVT, Hi, Lo);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;}</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerConstantPool(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                                             <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="classllvm_1_1ConstantPoolSDNode.html">ConstantPoolSDNode</a> *CP = cast&lt;ConstantPoolSDNode&gt;(Op);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = CP-&gt;<a class="code" href="classllvm_1_1ConstantPoolSDNode.html#aab74b88c9e364929ff1dd529ed24904b">getConstVal</a>();</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">// 64-bit SVR4 ABI code is always position-independent.</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="comment">// The actual address of the GlobalValue is stored in the TOC.</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>() &amp;&amp; PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>()) {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GA = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4a5973fcd1193bfff9158d5a83aebd1b">getTargetConstantPool</a>(C, PtrVT, CP-&gt;<a class="code" href="classllvm_1_1ConstantPoolSDNode.html#a130b74d7047dd920dfaea193ac8b0a3d">getAlignment</a>(), 0);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5ac8e8dafc2dd10379a59ceff7b237d6">PPCISD::TOC_ENTRY</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(CP), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, GA,</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  }</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordtype">unsigned</span> MOHiFlag, MOLoFlag;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordtype">bool</span> isPIC = <a class="code" href="PPCISelLowering_8cpp.html#adeb13b67584232ee5ddade3d82a0b23a">GetLabelAccessInfo</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>(), MOHiFlag, MOLoFlag);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CPIHi =</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4a5973fcd1193bfff9158d5a83aebd1b">getTargetConstantPool</a>(C, PtrVT, CP-&gt;<a class="code" href="classllvm_1_1ConstantPoolSDNode.html#a130b74d7047dd920dfaea193ac8b0a3d">getAlignment</a>(), 0, MOHiFlag);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CPILo =</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a4a5973fcd1193bfff9158d5a83aebd1b">getTargetConstantPool</a>(C, PtrVT, CP-&gt;<a class="code" href="classllvm_1_1ConstantPoolSDNode.html#a130b74d7047dd920dfaea193ac8b0a3d">getAlignment</a>(), 0, MOLoFlag);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ab5d4759731e493988eda569efb67233f">LowerLabelRef</a>(CPIHi, CPILo, isPIC, DAG);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;}</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerJumpTable(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <a class="code" href="classllvm_1_1JumpTableSDNode.html">JumpTableSDNode</a> *JT = cast&lt;JumpTableSDNode&gt;(Op);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="comment">// 64-bit SVR4 ABI code is always position-independent.</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="comment">// The actual address of the GlobalValue is stored in the TOC.</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>() &amp;&amp; PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>()) {</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GA = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a780c45d85d7380e1e8a85c1e1d192e85">getTargetJumpTable</a>(JT-&gt;<a class="code" href="classllvm_1_1JumpTableSDNode.html#a4de66dbb2dcc5ec355a196270aad93f6">getIndex</a>(), PtrVT);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5ac8e8dafc2dd10379a59ceff7b237d6">PPCISD::TOC_ENTRY</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(JT), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, GA,</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  }</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordtype">unsigned</span> MOHiFlag, MOLoFlag;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordtype">bool</span> isPIC = <a class="code" href="PPCISelLowering_8cpp.html#adeb13b67584232ee5ddade3d82a0b23a">GetLabelAccessInfo</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>(), MOHiFlag, MOLoFlag);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> JTIHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a780c45d85d7380e1e8a85c1e1d192e85">getTargetJumpTable</a>(JT-&gt;<a class="code" href="classllvm_1_1JumpTableSDNode.html#a4de66dbb2dcc5ec355a196270aad93f6">getIndex</a>(), PtrVT, MOHiFlag);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> JTILo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a780c45d85d7380e1e8a85c1e1d192e85">getTargetJumpTable</a>(JT-&gt;<a class="code" href="classllvm_1_1JumpTableSDNode.html#a4de66dbb2dcc5ec355a196270aad93f6">getIndex</a>(), PtrVT, MOLoFlag);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ab5d4759731e493988eda569efb67233f">LowerLabelRef</a>(JTIHi, JTILo, isPIC, DAG);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;}</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerBlockAddress(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                             <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BlockAddress.html">BlockAddress</a> *BA = cast&lt;BlockAddressSDNode&gt;(Op)-&gt;getBlockAddress();</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="keywordtype">unsigned</span> MOHiFlag, MOLoFlag;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordtype">bool</span> isPIC = <a class="code" href="PPCISelLowering_8cpp.html#adeb13b67584232ee5ddade3d82a0b23a">GetLabelAccessInfo</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>(), MOHiFlag, MOLoFlag);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TgtBAHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a296c3fa055022ec4c28b5745df7efdda">getTargetBlockAddress</a>(BA, PtrVT, 0, MOHiFlag);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TgtBALo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a296c3fa055022ec4c28b5745df7efdda">getTargetBlockAddress</a>(BA, PtrVT, 0, MOLoFlag);</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ab5d4759731e493988eda569efb67233f">LowerLabelRef</a>(TgtBAHi, TgtBALo, isPIC, DAG);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerGlobalTLSAddress(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                                              <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">// FIXME: TLS addresses currently use medium model code sequences,</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">// which is the most useful form.  Eventually support for small and</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="comment">// large models could be added if users need it, at the cost of</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="comment">// additional complexity.</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *GA = cast&lt;GlobalAddressSDNode&gt;(Op);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(GA);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = GA-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#ae4b1a0675562cdfa6c89c3f96989117b">getGlobal</a>();</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordtype">bool</span> is64bit = PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <a class="code" href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120">TLSModel::Model</a> <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a21ff907aa3b0ada12ff6031429d4dec6">getTLSModel</a>(GV);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="keywordflow">if</span> (Model == <a class="code" href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120ae13ef3bbe423ce80086f0a684fd25753">TLSModel::LocalExec</a>) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TGAHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, dl, PtrVT, 0,</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                                               <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaa7929b1029f09db9b9b538e0d200fdd8">PPCII::MO_TPREL_HA</a>);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TGALo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, dl, PtrVT, 0,</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                                               <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffac1c555a378ab914a0dcae6234359aa73">PPCII::MO_TPREL_LO</a>);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TLSReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(is64bit ? PPC::X13 : <a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">PPC::R2</a>,</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                                     is64bit ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66afaa3b6d013f5589d52186fb31c1507de">PPCISD::Hi</a>, dl, PtrVT, TGAHi, TLSReg);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abcb9c462158b362a5edc6a1d754c9edb">PPCISD::Lo</a>, dl, PtrVT, TGALo, Hi);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">if</span> (!is64bit)</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;only local-exec is currently supported for ppc32&quot;</span>);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">if</span> (Model == <a class="code" href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120a3cae4242c478d473bfa1af350f126545">TLSModel::InitialExec</a>) {</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TGA = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, dl, PtrVT, 0, 0);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TGATLS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, dl, PtrVT, 0,</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                                <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffab99c6c8402edd4e84a137d89ad71169c">PPCII::MO_TLS</a>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GOTReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TPOffsetHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a390f7ff6ebc81e2540d946d8d1061f29">PPCISD::ADDIS_GOT_TPREL_HA</a>, dl,</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                                     PtrVT, GOTReg, TGA);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TPOffset = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af54af574e0a93231dd275e38ed4cf026">PPCISD::LD_GOT_TPREL_L</a>, dl,</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                                   PtrVT, TGA, TPOffsetHi);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a606fcb46940146f9bb7ee312d6a4835f">PPCISD::ADD_TLS</a>, dl, PtrVT, TPOffset, TGATLS);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordflow">if</span> (Model == <a class="code" href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120aa530fb2056fbb72e132893eba6ff4883">TLSModel::GeneralDynamic</a>) {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TGA = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, dl, PtrVT, 0, 0);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GOTReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GOTEntryHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a968bba2363b57ced282bda51b19c8162">PPCISD::ADDIS_TLSGD_HA</a>, dl, PtrVT,</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                     GOTReg, TGA);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GOTEntry = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac3043814fcbe457dc6a768c714864692">PPCISD::ADDI_TLSGD_L</a>, dl, PtrVT,</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                                   GOTEntryHi, TGA);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">// We need a chain node, and don&#39;t have one handy.  The underlying</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="comment">// call has no side effects, so using the function entry node</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="comment">// suffices.</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>();</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, PPC::X3, GOTEntry);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ParmReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X3, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TLSAddr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2c181ed9e9ec3fb57f7e8542df22f422">PPCISD::GET_TLS_ADDR</a>, dl,</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                                  PtrVT, ParmReg, TGA);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="comment">// The return value from GET_TLS_ADDR really is in X3 already, but</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="comment">// some hacks are needed here to tie everything together.  The extra</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="comment">// copies dissolve during subsequent transforms.</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, PPC::X3, TLSAddr);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, PPC::X3, PtrVT);</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  }</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">if</span> (Model == <a class="code" href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120a110e377ad85dc311cb9bce1e32bea8aa">TLSModel::LocalDynamic</a>) {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TGA = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, dl, PtrVT, 0, 0);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GOTReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GOTEntryHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abdad0d05f0b11932ef877b95832e31ea">PPCISD::ADDIS_TLSLD_HA</a>, dl, PtrVT,</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                                     GOTReg, TGA);</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GOTEntry = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ad1e4cb7a1fc0c9ea50baef6974f21431">PPCISD::ADDI_TLSLD_L</a>, dl, PtrVT,</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                   GOTEntryHi, TGA);</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="comment">// We need a chain node, and don&#39;t have one handy.  The underlying</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="comment">// call has no side effects, so using the function entry node</span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="comment">// suffices.</span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>();</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, PPC::X3, GOTEntry);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ParmReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X3, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TLSAddr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac0753db07d6a64f1ee53f3d31dbac379">PPCISD::GET_TLSLD_ADDR</a>, dl,</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                  PtrVT, ParmReg, TGA);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="comment">// The return value from GET_TLSLD_ADDR really is in X3 already, but</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="comment">// some hacks are needed here to tie everything together.  The extra</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="comment">// copies dissolve during subsequent transforms.</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, PPC::X3, TLSAddr);</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DtvOffsetHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5fdb4eb697cc8fb8a8aa8fa53effac34">PPCISD::ADDIS_DTPREL_HA</a>, dl, PtrVT,</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                                      Chain, ParmReg, TGA);</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a6f48c93bc2c3495090cdad2d375290dc">PPCISD::ADDI_DTPREL_L</a>, dl, PtrVT, DtvOffsetHi, TGA);</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  }</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown TLS model!&quot;</span>);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;}</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerGlobalAddress(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                                              <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *GSDN = cast&lt;GlobalAddressSDNode&gt;(Op);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(GSDN);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = GSDN-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#ae4b1a0675562cdfa6c89c3f96989117b">getGlobal</a>();</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// 64-bit SVR4 ABI code is always position-independent.</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">// The actual address of the GlobalValue is stored in the TOC.</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>() &amp;&amp; PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>()) {</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GA = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, DL, PtrVT, GSDN-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#a6671fb68d5def7aa31d7eb4c1898d80a">getOffset</a>());</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5ac8e8dafc2dd10379a59ceff7b237d6">PPCISD::TOC_ENTRY</a>, DL, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, GA,</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  }</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordtype">unsigned</span> MOHiFlag, MOLoFlag;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordtype">bool</span> isPIC = <a class="code" href="PPCISelLowering_8cpp.html#adeb13b67584232ee5ddade3d82a0b23a">GetLabelAccessInfo</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>(), MOHiFlag, MOLoFlag, GV);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GAHi =</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, DL, PtrVT, GSDN-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#a6671fb68d5def7aa31d7eb4c1898d80a">getOffset</a>(), MOHiFlag);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GALo =</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(GV, DL, PtrVT, GSDN-&gt;<a class="code" href="classllvm_1_1GlobalAddressSDNode.html#a6671fb68d5def7aa31d7eb4c1898d80a">getOffset</a>(), MOLoFlag);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ptr = <a class="code" href="PPCISelLowering_8cpp.html#ab5d4759731e493988eda569efb67233f">LowerLabelRef</a>(GAHi, GALo, isPIC, DAG);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="comment">// If the global reference is actually to a non-lazy-pointer, we have to do an</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="comment">// extra load to get the address of the global.</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">if</span> (MOHiFlag &amp; <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa4c9eaf71e784335fbfdd96354cf46235">PPCII::MO_NLP_FLAG</a>)</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    Ptr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, DL, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), Ptr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                      <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">return</span> Ptr;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;}</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerSETCC(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = cast&lt;CondCodeSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2))-&gt;<span class="keyword">get</span>();</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="comment">// If we&#39;re comparing for equality to zero, expose the fact that this is</span></div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="comment">// implented as a ctlz/srl pair on ppc, so that the dag combiner can</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// fold the new nodes.</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))) {</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue() &amp;&amp; CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zext = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">bitsLT</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)) {</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        VT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        Zext = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VT, Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0));</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      }</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="keywordtype">unsigned</span> Log2b = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>());</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Clz = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>, dl, VT, Zext);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Scc = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, VT, Clz,</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Log2b, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, Scc);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    }</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="comment">// Leave comparisons against 0 and -1 alone for now, since they&#39;re usually</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="comment">// optimized.  FIXME: revisit this when we can custom lower all setcc</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="comment">// optimizations.</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue() || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue())</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  }</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="comment">// If we have an integer seteq/setne, turn it into a compare against zero</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="comment">// by xor&#39;ing the rhs with the lhs, which is faster than setting a</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="comment">// condition register, reading it back out, and masking the correct bit.  The</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="comment">// normal approach here uses sub to do this instead of xor.  Using xor exposes</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="comment">// the result to other bit-twiddling opportunities.</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LHSVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">if</span> (LHSVT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() &amp;&amp; (CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>)) {</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sub = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, LHSVT, Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0),</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                                Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1));</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2650d530046f9ddfc602dc7383ba0730">getSetCC</a>(dl, VT, Sub, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, LHSVT), <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  }</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;}</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerVAARG(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;Subtarget)<span class="keyword"> const </span>{</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node = Op.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>();</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InChain = Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VAListPtr = Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *SV = cast&lt;SrcValueSDNode&gt;(Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2))-&gt;getValue();</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Node);</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  assert(!Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() &amp;&amp; <span class="stringliteral">&quot;LowerVAARG is PPC32 only&quot;</span>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="comment">// gpr_index</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GprIndex = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, InChain,</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                                    VAListPtr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>,</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                                    <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  InChain = GprIndex.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// Check if GprIndex is even</span></div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GprAnd = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, GprIndex,</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CC64 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2650d530046f9ddfc602dc7383ba0730">getSetCC</a>(dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, GprAnd,</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> GprIndexPlusOne = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, GprIndex,</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="comment">// Align GprIndex to be even if it isn&#39;t</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    GprIndex = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, CC64, GprIndexPlusOne,</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                           GprIndex);</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  }</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// fpr index is 1 byte after gpr</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FprPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, VAListPtr,</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="comment">// fpr</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FprIndex = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">ISD::ZEXTLOAD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, InChain,</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                                    FprPtr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>,</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                                    <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  InChain = FprIndex.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RegSaveAreaPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, VAListPtr,</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(8, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OverflowAreaPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, VAListPtr,</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(4, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="comment">// areas</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OverflowArea = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, dl, InChain, OverflowAreaPtr,</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                                     <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                                     <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  InChain = OverflowArea.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RegSaveArea = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, dl, InChain, RegSaveAreaPtr,</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                                    <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                                    <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  InChain = RegSaveArea.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="comment">// select overflow_area if index &gt; 8</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2650d530046f9ddfc602dc7383ba0730">getSetCC</a>(dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, VT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() ? GprIndex : FprIndex,</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(8, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="comment">// adjustment constant gpr_index * 4/8</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RegConstant = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                                    VT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() ? GprIndex : FprIndex,</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                                    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() ? 4 : 8,</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                                                    <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="comment">// OurReg = RegSaveArea + RegConstant</span></div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OurReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, RegSaveArea,</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                               RegConstant);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// Floating types are 32 bytes into RegSaveArea</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#afc4147764cdb5599c67f747813ef9bdc">isFloatingPoint</a>())</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    OurReg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, OurReg,</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(32, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="comment">// increase {f,g}pr_index by 1 (or 2 if VT is i64)</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> IndexPlus1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                   VT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() ? GprIndex : FprIndex,</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> ? 2 : 1,</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                   <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  InChain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(InChain, dl, IndexPlus1,</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                              VT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() ? VAListPtr : FprPtr,</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                              <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV),</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                              <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  <span class="comment">// determine if we should load from reg_save_area or overflow_area</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, PtrVT, CC, OurReg, OverflowArea);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="comment">// increase overflow_area by 4/8 if gpr/fpr &gt; 8</span></div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OverflowAreaPlusN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, OverflowArea,</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() ? 4 : 8,</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                                          <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  OverflowArea = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, CC, OverflowArea,</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                             OverflowAreaPlusN);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  InChain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(InChain, dl, OverflowArea,</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                              OverflowAreaPtr,</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                              <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                              <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(VT, dl, InChain, Result, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerVACOPY(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;Subtarget)<span class="keyword"> const </span>{</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  assert(!Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() &amp;&amp; <span class="stringliteral">&quot;LowerVACOPY is PPC32 only&quot;</span>);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="comment">// We have to copy the entire va_list struct:</span></div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="comment">// 2*sizeof(char) + 2 Byte alignment + 2*sizeof(char*) = 12 Byte</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af6bf10019c0fa74fe3234178bd0a2c52">getMemcpy</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), Op,</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                       Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1), Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2),</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(12, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>), 8, <span class="keyword">false</span>, <span class="keyword">true</span>,</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>());</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;}</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerADJUST_TRAMPOLINE(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                                                  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordflow">return</span> Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;}</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerINIT_TRAMPOLINE(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                                                <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Trmp = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1); <span class="comment">// trampoline</span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FPtr = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2); <span class="comment">// nested function</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Nest = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(3); <span class="comment">// &#39;nest&#39; parameter value</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = (PtrVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntPtrTy =</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#adc25bcc279ccfb5b867c2b7b8eedaa9b">getDataLayout</a>()-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                                                             *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#ab6132d2ff56c64c551cf71e714dbb5c2">TargetLowering::ArgListTy</a> Args;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1ArgListEntry.html">TargetLowering::ArgListEntry</a> Entry;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  Entry.<a class="code" href="structllvm_1_1TargetLowering_1_1ArgListEntry.html#a5d2b21233cb3005cfa01f9cfb260f094">Ty</a> = IntPtrTy;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  Entry.<a class="code" href="structllvm_1_1TargetLowering_1_1ArgListEntry.html#a7d3f92aa62dcbaa4321822b441e384e6">Node</a> = Trmp; Args.push_back(Entry);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">// TrampSize == (isPPC64 ? 48 : 40);</span></div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  Entry.<a class="code" href="structllvm_1_1TargetLowering_1_1ArgListEntry.html#a7d3f92aa62dcbaa4321822b441e384e6">Node</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(isPPC64 ? 48 : 40,</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                               isPPC64 ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  Args.push_back(Entry);</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  Entry.<a class="code" href="structllvm_1_1TargetLowering_1_1ArgListEntry.html#a7d3f92aa62dcbaa4321822b441e384e6">Node</a> = FPtr; Args.push_back(Entry);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  Entry.<a class="code" href="structllvm_1_1TargetLowering_1_1ArgListEntry.html#a7d3f92aa62dcbaa4321822b441e384e6">Node</a> = Nest; Args.push_back(Entry);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">// Lower to a call to __trampoline_setup(Trmp, TrampSize, FPtr, ctx_reg)</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html">TargetLowering::CallLoweringInfo</a> CLI(Chain,</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                                       <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>()),</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                                       <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0,</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                                       <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a>,</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                <span class="comment">/*isTailCall=*/</span><span class="keyword">false</span>,</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                                       <span class="comment">/*doesNotRet=*/</span><span class="keyword">false</span>,</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                                       <span class="comment">/*isReturnValueUsed=*/</span><span class="keyword">true</span>,</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#aa8f1c26a4e070ead6c67b4e9a5d93124">getExternalSymbol</a>(<span class="stringliteral">&quot;__trampoline_setup&quot;</span>, PtrVT),</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                Args, DAG, dl);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  std::pair&lt;SDValue, SDValue&gt; CallResult = <a class="code" href="classllvm_1_1TargetLowering.html#a395ec1cfea698db112b7e8709dca547d">LowerCallTo</a>(CLI);</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="keywordflow">return</span> CallResult.second;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;}</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerVASTART(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;Subtarget)<span class="keyword"> const </span>{</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a27ef3d0113fbcca318c3ed2a86116932">isDarwinABI</a>() || Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>()) {</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="comment">// vastart just stores the address of the VarArgsFrameIndex slot into the</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="comment">// memory location argument.</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FR = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0a78984133f621514980f087442645b4">getVarArgsFrameIndex</a>(), PtrVT);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *SV = cast&lt;SrcValueSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2))-&gt;getValue();</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), dl, FR, Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1),</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                        <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV),</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                        <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  }</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">// For the 32-bit SVR4 ABI we follow the layout of the va_list struct.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="comment">// We suppose the given va_list is already allocated.</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="comment">// typedef struct {</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="comment">//  char gpr;     /* index into the array of 8 GPRs</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="comment">//                 * stored in the register save area</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="comment">//                 * gpr=0 corresponds to r3,</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">//                 * gpr=1 to r4, etc.</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">//                 */</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="comment">//  char fpr;     /* index into the array of 8 FPRs</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="comment">//                 * stored in the register save area</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="comment">//                 * fpr=0 corresponds to f1,</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="comment">//                 * fpr=1 to f2, etc.</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <span class="comment">//                 */</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="comment">//  char *overflow_arg_area;</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="comment">//                /* location on stack that holds</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="comment">//                 * the next overflow argument</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="comment">//                 */</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="comment">//  char *reg_save_area;</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="comment">//               /* where r3:r10 and f1:f8 (if saved)</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="comment">//                * are stored</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="comment">//                */</span></div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="comment">// } va_list[1];</span></div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ArgGPR = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a3aa70a123e676b63f9de9f668997f7e3">getVarArgsNumGPR</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ArgFPR = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a2178fdaddb3a80610707339be13fa6e0">getVarArgsNumFPR</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackOffsetFI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a2c04006f5187665a2b06483b76c1917a">getVarArgsStackOffset</a>(),</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                                            PtrVT);</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FR = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0a78984133f621514980f087442645b4">getVarArgsFrameIndex</a>(),</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                                 PtrVT);</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  uint64_t FrameOffset = PtrVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ConstFrameOffset = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(FrameOffset, PtrVT);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  uint64_t StackOffset = PtrVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8 - 1;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ConstStackOffset = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(StackOffset, PtrVT);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  uint64_t FPROffset = 1;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ConstFPROffset = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(FPROffset, PtrVT);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *SV = cast&lt;SrcValueSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2))-&gt;getValue();</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="comment">// Store first byte : number of int regs</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> firstStore = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), dl, ArgGPR,</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                                         Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1),</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                                         <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV),</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                                         <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  uint64_t nextOffset = FPROffset;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> nextPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1),</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                                  ConstFPROffset);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="comment">// Store second byte : number of float regs</span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> secondStore =</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(firstStore, dl, ArgFPR, nextPtr,</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                      <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV, nextOffset), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>,</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                      <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  nextOffset += StackOffset;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  nextPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, nextPtr, ConstStackOffset);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="comment">// Store second word : arguments given on stack</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> thirdStore =</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(secondStore, dl, StackOffsetFI, nextPtr,</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                 <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV, nextOffset),</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                 <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  nextOffset += FrameOffset;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  nextPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, nextPtr, ConstFrameOffset);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">// Store third word : arguments given in registers</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(thirdStore, dl, FR, nextPtr,</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                      <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(SV, nextOffset),</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                      <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;}</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="preprocessor">#include &quot;PPCGenCallingConv.inc&quot;</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment">// Function whose sole purpose is to kill compiler warnings </span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment">// stemming from unused functions included from PPCGenCallingConv.inc.</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<a class="code" href="namespacellvm.html#aa555cd3eb8141809d16bcfc45ccc3715">CCAssignFn</a> *PPCTargetLowering::useFastISelCCs(<span class="keywordtype">unsigned</span> Flag)<span class="keyword"> const </span>{</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="keywordflow">return</span> Flag ? CC_PPC64_ELF_FIS : RetCC_PPC64_ELF_FIS;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;}</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"><a class="line" href="namespacellvm.html#a97e7c61d62ac4a08e5bf6a5e132d5369"> 1849</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a97e7c61d62ac4a08e5bf6a5e132d5369">llvm::CC_PPC32_SVR4_Custom_Dummy</a>(<span class="keywordtype">unsigned</span> &amp;ValNo, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;ValVT, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;LocVT,</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                                      <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45">CCValAssign::LocInfo</a> &amp;LocInfo,</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                      <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> &amp;ArgFlags,</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                                      <a class="code" href="classllvm_1_1CCState.html">CCState</a> &amp;State) {</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;}</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8c45daace9a43c45f6de8ce703142dc0"> 1856</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a8c45daace9a43c45f6de8ce703142dc0">llvm::CC_PPC32_SVR4_Custom_AlignArgRegs</a>(<span class="keywordtype">unsigned</span> &amp;ValNo, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;ValVT,</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                                             <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;LocVT,</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                                             <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45">CCValAssign::LocInfo</a> &amp;LocInfo,</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                                             <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> &amp;ArgFlags,</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                                             <a class="code" href="classllvm_1_1CCState.html">CCState</a> &amp;State) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t ArgRegs[] = {</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    PPC::R3, <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">PPC::R4</a>, PPC::R5, <a class="code" href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">PPC::R6</a>,</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    PPC::R7, PPC::R8, PPC::R9, PPC::R10,</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  };</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="AArch64ISelLowering_8cpp.html#a3ef2f286698b5a56193e290b89b76636">NumArgRegs</a> = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(ArgRegs);</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordtype">unsigned</span> RegNum = State.<a class="code" href="classllvm_1_1CCState.html#aea636e30afd00adc2d5df11e73fb205c">getFirstUnallocated</a>(ArgRegs, NumArgRegs);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">// Skip one register if the first unallocated register has an even register</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="comment">// number and there are still argument registers available which have not been</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="comment">// allocated yet. RegNum is actually an index into ArgRegs, which means we</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="comment">// need to skip a register if RegNum is odd.</span></div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">if</span> (RegNum != NumArgRegs &amp;&amp; RegNum % 2 == 1) {</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    State.<a class="code" href="classllvm_1_1CCState.html#a5a67878322183059c969a26b2f232031">AllocateReg</a>(ArgRegs[RegNum]);</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  }</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="comment">// Always return false here, as this function only makes sure that the first</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// unallocated register has an odd register number and does not actually</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="comment">// allocate a register for the current argument.</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;}</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa7c7c20cf17776614af286c301cb0d92"> 1883</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa7c7c20cf17776614af286c301cb0d92">llvm::CC_PPC32_SVR4_Custom_AlignFPArgRegs</a>(<span class="keywordtype">unsigned</span> &amp;ValNo, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;ValVT,</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                                               <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;LocVT,</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                                               <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45">CCValAssign::LocInfo</a> &amp;LocInfo,</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                                               <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> &amp;ArgFlags,</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                                               <a class="code" href="classllvm_1_1CCState.html">CCState</a> &amp;State) {</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t ArgRegs[] = {</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    PPC::F1, PPC::F2, PPC::F3, PPC::F4, PPC::F5, PPC::F6, PPC::F7,</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    PPC::F8</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  };</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="AArch64ISelLowering_8cpp.html#a3ef2f286698b5a56193e290b89b76636">NumArgRegs</a> = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(ArgRegs);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="keywordtype">unsigned</span> RegNum = State.<a class="code" href="classllvm_1_1CCState.html#aea636e30afd00adc2d5df11e73fb205c">getFirstUnallocated</a>(ArgRegs, NumArgRegs);</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="comment">// If there is only one Floating-point register left we need to put both f64</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <span class="comment">// values of a split ppc_fp128 value on the stack.</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordflow">if</span> (RegNum != NumArgRegs &amp;&amp; ArgRegs[RegNum] == PPC::F8) {</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    State.<a class="code" href="classllvm_1_1CCState.html#a5a67878322183059c969a26b2f232031">AllocateReg</a>(ArgRegs[RegNum]);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  }</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="comment">// Always return false here, as this function only makes sure that the two f64</span></div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="comment">// values a ppc_fp128 value is split into are both passed in registers or both</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <span class="comment">// passed on the stack and does not actually allocate a register for the</span></div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="comment">// current argument.</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;}</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="comment">/// GetFPR - Get the set of FP registers that should be allocated for arguments,</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="comment">/// on Darwin.</span></div><div class="line"><a name="l01912"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a1cbd108eaf5aca7619ff85c02489c3a1"> 1912</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uint16_t *<a class="code" href="PPCISelLowering_8cpp.html#a1cbd108eaf5aca7619ff85c02489c3a1">GetFPR</a>() {</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t FPR[] = {</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    PPC::F1, PPC::F2, PPC::F3, PPC::F4, PPC::F5, PPC::F6, PPC::F7,</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    PPC::F8, PPC::F9, PPC::F10, PPC::F11, PPC::F12, PPC::F13</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  };</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="keywordflow">return</span> FPR;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;}</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment">/// CalculateStackSlotSize - Calculates the size reserved for this argument on</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment">/// the stack.</span></div><div class="line"><a name="l01923"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2"> 1923</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2">CalculateStackSlotSize</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> ArgVT, <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>,</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                                       <span class="keywordtype">unsigned</span> PtrByteSize) {</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="keywordtype">unsigned</span> ArgSize = ArgVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>())</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    ArgSize = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>();</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  ArgSize = ((ArgSize + PtrByteSize - 1)/PtrByteSize) * PtrByteSize;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <span class="keywordflow">return</span> ArgSize;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;}</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;PPCTargetLowering::LowerFormalArguments(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                                        <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                                          &amp;<a class="code" href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363">Ins</a>,</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                                        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                                        <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"></span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="keyword">                                          const </span>{</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>()) {</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">if</span> (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>())</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      <span class="keywordflow">return</span> LowerFormalArguments_64SVR4(Chain, CallConv, isVarArg, Ins,</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                                         dl, DAG, InVals);</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <span class="keywordflow">return</span> LowerFormalArguments_32SVR4(Chain, CallConv, isVarArg, Ins,</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                                         dl, DAG, InVals);</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keywordflow">return</span> LowerFormalArguments_Darwin(Chain, CallConv, isVarArg, Ins,</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                                       dl, DAG, InVals);</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  }</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;}</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;PPCTargetLowering::LowerFormalArguments_32SVR4(</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                                      <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                                        &amp;Ins,</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                                      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="comment">// 32-bit SVR4 ABI Stack Frame Layout:</span></div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="comment">//              +-----------------------------------+</span></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="comment">//        +--&gt;  |            Back chain             |</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="comment">//        |     | Floating-point register save area |</span></div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="comment">//        |     |    General register save area     |</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="comment">//        |     |          CR save word             |</span></div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <span class="comment">//        |     |         VRSAVE save word          |</span></div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="comment">//        |     |         Alignment padding         |</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="comment">//        |     |     Vector register save area     |</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="comment">//        |     |       Local variable space        |</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="comment">//        |     |        Parameter list area        |</span></div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="comment">//        |     |           LR save word            |</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="comment">//        |     +-----------------------------------+</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <span class="comment">// SP--&gt;  +---  |            Back chain             |</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <span class="comment">//              +-----------------------------------+</span></div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="comment">// Specifications:</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="comment">//   System V Application Binary Interface PowerPC Processor Supplement</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="comment">//   AltiVec Technology Programming Interface Manual</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <span class="comment">// Potential tail calls could cause overwriting of argument stack slots.</span></div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="keywordtype">bool</span> isImmutable = !(<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#ad54fc81a4ef7ab96137a9b6e78fdf838">GuaranteedTailCallOpt</a> &amp;&amp;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                       (CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>));</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <span class="keywordtype">unsigned</span> PtrByteSize = 4;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="comment">// Assign locations to all of the incoming arguments.</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ArgLocs;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CallConv, isVarArg, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>(),</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                 <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>(), ArgLocs, *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="comment">// Reserve space for the linkage area on the stack.</span></div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  CCInfo.<a class="code" href="classllvm_1_1CCState.html#accd683afb417ec1f0f44c62c8b5a8fc4">AllocateStack</a>(<a class="code" href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">PPCFrameLowering::getLinkageSize</a>(<span class="keyword">false</span>, <span class="keyword">false</span>), PtrByteSize);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  CCInfo.AnalyzeFormalArguments(Ins, CC_PPC32_SVR4);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = ArgLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = ArgLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="comment">// Arguments stored in registers.</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">if</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>()) {</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ValVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>();</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <span class="keywordflow">switch</span> (ValVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;          <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;ValVT not supported by formal arguments Lowering&quot;</span>);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;          RC = &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;          RC = &amp;PPC::F4RCRegClass;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;          RC = &amp;PPC::F8RCRegClass;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>:</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>:</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>:</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>:</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;          RC = &amp;PPC::VRRCRegClass;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      }</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="comment">// Transform the arguments stored in physical registers into virtual ones.</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>(), RC);</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ArgValue = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, Reg, ValVT);</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgValue);</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <span class="comment">// Argument stored in memory.</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5b5b7a20dd6b367935d4f44744ab6e08">isMemLoc</a>());</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      <span class="keywordtype">unsigned</span> ArgSize = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#a423166b2b5d1010162dde0003e5ad09c">getSizeInBits</a>() / 8;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(ArgSize, VA.<a class="code" href="classllvm_1_1CCValAssign.html#a7b19fa41486ca39142442dd962c8d3b6">getLocMemOffset</a>(),</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                                      isImmutable);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="comment">// Create load nodes to retrieve arguments from the stack.</span></div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>(), dl, Chain, FIN,</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                                   <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                                   <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0));</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    }</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  }</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  <span class="comment">// Assign locations to all of the incoming aggregate by value arguments.</span></div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="comment">// Aggregates passed by value are stored in the local variable space of the</span></div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="comment">// caller&#39;s stack frame, right above the parameter list area.</span></div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ByValArgLocs;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCByValInfo(CallConv, isVarArg, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>(),</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>(), ByValArgLocs, *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="comment">// Reserve stack space for the allocations in CCInfo.</span></div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  CCByValInfo.<a class="code" href="classllvm_1_1CCState.html#accd683afb417ec1f0f44c62c8b5a8fc4">AllocateStack</a>(CCInfo.getNextStackOffset(), PtrByteSize);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  CCByValInfo.AnalyzeFormalArguments(Ins, CC_PPC32_SVR4_ByVal);</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="comment">// Area that is at least reserved in the caller of this function.</span></div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordtype">unsigned</span> MinReservedArea = CCByValInfo.getNextStackOffset();</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="comment">// Set the size that is at least reserved in caller of this function.  Tail</span></div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="comment">// call optimized function&#39;s reserved stack space needs to be aligned so that</span></div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="comment">// taking the difference between two stack areas will result in an aligned</span></div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="comment">// stack.</span></div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  MinReservedArea =</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    std::max(MinReservedArea,</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;             <a class="code" href="classllvm_1_1PPCFrameLowering.html#ad6cf9c804045cfe1b414dd12b18e86ca">PPCFrameLowering::getMinCallFrameSize</a>(<span class="keyword">false</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="keywordtype">unsigned</span> TargetAlign = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>()-&gt;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    getStackAlignment();</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordtype">unsigned</span> AlignMask = TargetAlign-1;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  MinReservedArea = (MinReservedArea + AlignMask) &amp; ~AlignMask;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a8e0b7625b4133471e51249e77ef84c81">setMinReservedArea</a>(MinReservedArea);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> MemOps;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <span class="comment">// If the function takes variable number of arguments, make a frame index for</span></div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="comment">// the start of the first vararg value... for expansion of llvm.va_start.</span></div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPArgRegs[] = {</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      PPC::R3, <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">PPC::R4</a>, PPC::R5, <a class="code" href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">PPC::R6</a>,</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      PPC::R7, PPC::R8, PPC::R9, PPC::R10,</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    };</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumGPArgRegs = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(GPArgRegs);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> uint16_t FPArgRegs[] = {</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      PPC::F1, PPC::F2, PPC::F3, PPC::F4, PPC::F5, PPC::F6, PPC::F7,</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      PPC::F8</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    };</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumFPArgRegs = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(FPArgRegs);</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a4555f7c774794316ae5ce15ff8cda889">setVarArgsNumGPR</a>(CCInfo.getFirstUnallocated(GPArgRegs,</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                                                          NumGPArgRegs));</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0d10581957463a46f2142a8e5efbd1f8">setVarArgsNumFPR</a>(CCInfo.getFirstUnallocated(FPArgRegs,</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                                                          NumFPArgRegs));</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="comment">// Make room for NumGPArgRegs and NumFPArgRegs.</span></div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordtype">int</span> Depth = NumGPArgRegs * PtrVT.getSizeInBits()/8 +</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                NumFPArgRegs * <a class="code" href="structllvm_1_1EVT.html">EVT</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>).<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#ac48baf3479d85046d9613e91423bb05b">setVarArgsStackOffset</a>(</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(PtrVT.getSizeInBits()/8,</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                             CCInfo.getNextStackOffset(), <span class="keyword">true</span>));</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#ada6f0ce61d2e0bfaef869dffc2d643ed">setVarArgsFrameIndex</a>(MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a40416676e8af628d284ab2061a75ef19">CreateStackObject</a>(Depth, 8, <span class="keyword">false</span>));</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0a78984133f621514980f087442645b4">getVarArgsFrameIndex</a>(), PtrVT);</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="comment">// The fixed integer arguments of a variadic function are stored to the</span></div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="comment">// VarArgsFrameIndex on the stack so that they may be loaded by deferencing</span></div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="comment">// the result of va_next.</span></div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> GPRIndex = 0; GPRIndex != NumGPArgRegs; ++GPRIndex) {</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="comment">// Get an existing live-in vreg, or add a new one.</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a957027d4e9d0442f3bf1a0d7db0ba253">getLiveInVirtReg</a>(GPArgRegs[GPRIndex]);</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">if</span> (!VReg)</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPArgRegs[GPRIndex], &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, PtrVT);</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                                   <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <span class="comment">// Increment the address by four for the next argument to store</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(PtrVT.getSizeInBits()/8, PtrVT);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), FIN, PtrOff);</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    }</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="comment">// FIXME 32-bit SVR4: We only need to save FP argument registers if CR bit 6</span></div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="comment">// is set.</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <span class="comment">// The double arguments are stored to the VarArgsFrameIndex</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="comment">// on the stack.</span></div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> FPRIndex = 0; FPRIndex != NumFPArgRegs; ++FPRIndex) {</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <span class="comment">// Get an existing live-in vreg, or add a new one.</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a957027d4e9d0442f3bf1a0d7db0ba253">getLiveInVirtReg</a>(FPArgRegs[FPRIndex]);</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      <span class="keywordflow">if</span> (!VReg)</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(FPArgRegs[FPRIndex], &amp;PPC::F8RCRegClass);</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>);</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                                   <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="comment">// Increment the address by eight for the next argument to store</span></div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>).getSizeInBits()/8,</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                                         PtrVT);</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), FIN, PtrOff);</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    }</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  }</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <span class="keywordflow">if</span> (!MemOps.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl,</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                        <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, &amp;MemOps[0], MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="keywordflow">return</span> Chain;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;}</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;<span class="comment">// PPC64 passes i8, i16, and i32 values in i64 registers. Promote</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="comment">// value to MVT::i64 and then truncate to the correct register size.</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;PPCTargetLowering::extendArgForPPC64(<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>, <a class="code" href="structllvm_1_1EVT.html">EVT</a> ObjectVT,</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                                     <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ArgVal,</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                                     <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl)<span class="keyword"> const </span>{</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ae3d1eab6cbe1d4d2bd95ac0844bdee8f">isSExt</a>())</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, ArgVal,</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(ObjectVT));</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a0414ddd7827c97349dd4d7ffe34d0798">isZExt</a>())</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, ArgVal,</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(ObjectVT));</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, ArgVal);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;}</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="comment">// Set the size that is at least reserved in caller of this function.  Tail</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<span class="comment">// call optimized functions&#39; reserved stack space needs to be aligned so that</span></div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="comment">// taking the difference between two stack areas will result in an aligned</span></div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="comment">// stack.</span></div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;PPCTargetLowering::setMinReservedArea(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                                      <span class="keywordtype">unsigned</span> nAltivecParamsAtEnd,</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                                      <span class="keywordtype">unsigned</span> MinReservedArea,</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                                      <span class="keywordtype">bool</span> isPPC64)<span class="keyword"> const </span>{</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="comment">// Add the Altivec parameters at the end, if needed.</span></div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <span class="keywordflow">if</span> (nAltivecParamsAtEnd) {</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    MinReservedArea = ((MinReservedArea+15)/16)*16;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    MinReservedArea += 16*nAltivecParamsAtEnd;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  }</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  MinReservedArea =</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    std::max(MinReservedArea,</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;             <a class="code" href="classllvm_1_1PPCFrameLowering.html#ad6cf9c804045cfe1b414dd12b18e86ca">PPCFrameLowering::getMinCallFrameSize</a>(isPPC64, <span class="keyword">true</span>));</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <span class="keywordtype">unsigned</span> TargetAlign</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>()-&gt;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        getStackAlignment();</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  <span class="keywordtype">unsigned</span> AlignMask = TargetAlign-1;</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  MinReservedArea = (MinReservedArea + AlignMask) &amp; ~AlignMask;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a8e0b7625b4133471e51249e77ef84c81">setMinReservedArea</a>(MinReservedArea);</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;}</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;PPCTargetLowering::LowerFormalArguments_64SVR4(</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                                      <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a></div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                                        &amp;Ins,</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                                      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="comment">// TODO: add description of PPC stack frame format, or at least some docs.</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="comment">// Potential tail calls could cause overwriting of argument stack slots.</span></div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordtype">bool</span> isImmutable = !(<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#ad54fc81a4ef7ab96137a9b6e78fdf838">GuaranteedTailCallOpt</a> &amp;&amp;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                       (CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>));</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="keywordtype">unsigned</span> PtrByteSize = 8;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="keywordtype">unsigned</span> ArgOffset = <a class="code" href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">PPCFrameLowering::getLinkageSize</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="comment">// Area that is at least reserved in caller of this function.</span></div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordtype">unsigned</span> MinReservedArea = ArgOffset;</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR[] = {</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    PPC::X3, PPC::X4, PPC::X5, PPC::X6,</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    PPC::X7, PPC::X8, PPC::X9, PPC::X10,</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  };</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t *FPR = <a class="code" href="PPCISelLowering_8cpp.html#a1cbd108eaf5aca7619ff85c02489c3a1">GetFPR</a>();</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t VR[] = {</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">PPC::V2</a>, PPC::V3, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca72ebe5e08d40fbab96c046e017576a32">PPC::V4</a>, PPC::V5, PPC::V6, PPC::V7, PPC::V8,</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    PPC::V9, PPC::V10, PPC::V11, PPC::V12, PPC::V13</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  };</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Num_GPR_Regs = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(GPR);</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Num_FPR_Regs = 13;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Num_VR_Regs  = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(VR);</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="keywordtype">unsigned</span> GPR_idx = 0, FPR_idx = 0, VR_idx = 0;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  <span class="comment">// Add DAG nodes to load the arguments or copy them out of registers.  On</span></div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="comment">// entry to a function on PPC, the arguments start after the linkage area,</span></div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="comment">// although the first ones are often in registers.</span></div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> MemOps;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordtype">unsigned</span> nAltivecParamsAtEnd = 0;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">Function::const_arg_iterator</a> FuncArg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>();</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="keywordtype">unsigned</span> CurArgIdx = 0;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ArgNo = 0, e = Ins.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ArgNo != e; ++ArgNo) {</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ArgVal;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordtype">bool</span> needsLoad = <span class="keyword">false</span>;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ObjectVT = Ins[ArgNo].VT;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordtype">unsigned</span> ObjSize = ObjectVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keywordtype">unsigned</span> ArgSize = ObjSize;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Ins[ArgNo].Flags;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">std::advance</a>(FuncArg, Ins[ArgNo].OrigArgIndex - CurArgIdx);</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    CurArgIdx = Ins[ArgNo].OrigArgIndex;</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordtype">unsigned</span> CurArgOffset = ArgOffset;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="comment">// Varargs or 64 bit Altivec parameters are padded to a 16 byte boundary.</span></div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keywordflow">if</span> (ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a> || ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a> ||</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a> || ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>) {</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        MinReservedArea = ((MinReservedArea+15)/16)*16;</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        MinReservedArea += <a class="code" href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2">CalculateStackSlotSize</a>(ObjectVT,</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                                                  Flags,</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;                                                  PtrByteSize);</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        nAltivecParamsAtEnd++;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      <span class="comment">// Calculate min reserved area.</span></div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;      MinReservedArea += <a class="code" href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2">CalculateStackSlotSize</a>(Ins[ArgNo].VT,</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                                                Flags,</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                                                PtrByteSize);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="comment">// FIXME the codegen can be much improved in some cases.</span></div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="comment">// We do not have to keep everything in memory.</span></div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) {</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      <span class="comment">// ObjSize is the true size, ArgSize rounded up to multiple of registers.</span></div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      ObjSize = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>();</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      ArgSize = ((ObjSize + PtrByteSize - 1)/PtrByteSize) * PtrByteSize;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <span class="comment">// Empty aggregate parameters do not take up registers.  Examples:</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <span class="comment">//   struct { } a;</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <span class="comment">//   union  { } b;</span></div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <span class="comment">//   int c[0];</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <span class="comment">// etc.  However, we have to provide a place-holder in InVals, so</span></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <span class="comment">// pretend we have an 8-byte item at the current address for that</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <span class="comment">// purpose.</span></div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      <span class="keywordflow">if</span> (!ObjSize) {</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(PtrByteSize, ArgOffset, <span class="keyword">true</span>);</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(FIN);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      }</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      <span class="keywordtype">unsigned</span> BVAlign = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a24db357868a02447db2862c8b5cef52f">getByValAlign</a>();</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <span class="keywordflow">if</span> (BVAlign &gt; 8) {</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        ArgOffset = ((ArgOffset+BVAlign-1)/BVAlign)*BVAlign;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        CurArgOffset = ArgOffset;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      }</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <span class="comment">// All aggregates smaller than 8 bytes must be passed right-justified.</span></div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      <span class="keywordflow">if</span> (ObjSize &lt; PtrByteSize)</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        CurArgOffset = CurArgOffset + (PtrByteSize - ObjSize);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      <span class="comment">// The value of the object is its address.</span></div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(ObjSize, CurArgOffset, <span class="keyword">true</span>);</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;      InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(FIN);</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      <span class="keywordflow">if</span> (ObjSize &lt; 8) {</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;          <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, PtrVT);</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a>;</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;          <span class="keywordflow">if</span> (ObjSize==1 || ObjSize==2 || ObjSize==4) {</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;            <a class="code" href="structllvm_1_1EVT.html">EVT</a> ObjType = (ObjSize == 1 ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> :</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;                           (ObjSize == 2 ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;            Store = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                                      <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(FuncArg, CurArgOffset),</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                                      ObjType, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;            <span class="comment">// For sizes that don&#39;t fit a truncating store (3, 5, 6, 7),</span></div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;            <span class="comment">// store the whole register as-is to the parameter save area</span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;            <span class="comment">// slot.  The address of the parameter was already calculated</span></div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;            <span class="comment">// above (InVals.push_back(FIN)) to be the right-justified</span></div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;            <span class="comment">// offset within the slot.  For this store, we need a new</span></div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            <span class="comment">// frame index that points at the beginning of the slot.</span></div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(PtrByteSize, ArgOffset, <span class="keyword">true</span>);</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            Store = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                                 <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(FuncArg, ArgOffset),</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                                 <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;          }</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;          MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;          ++GPR_idx;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        }</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        <span class="comment">// Whether we copied from a register or not, advance the offset</span></div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        <span class="comment">// into the parameter save area by a full doubleword.</span></div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;        ArgOffset += PtrByteSize;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;      }</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; ArgSize; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> += PtrByteSize) {</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;        <span class="comment">// Store whatever pieces of the object are in registers</span></div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <span class="comment">// to memory.  ArgOffset will be the address of the beginning</span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;        <span class="comment">// of the object.</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;          <span class="keywordtype">unsigned</span> VReg;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;          VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;          <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(PtrByteSize, ArgOffset, <span class="keyword">true</span>);</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, PtrVT);</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(FuncArg, ArgOffset),</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                                       <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;          MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;          ++GPR_idx;</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;          ArgOffset += ArgSize - <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>;</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        }</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      }</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    }</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordflow">switch</span> (ObjectVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled argument type!&quot;</span>);</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;      <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;        <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="keywordflow">if</span> (ObjectVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;          <span class="comment">// PPC64 passes i8, i16, and i32 values in i64 registers. Promote</span></div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;          <span class="comment">// value to MVT::i64 and then truncate to the correct register size.</span></div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;          ArgVal = extendArgForPPC64(Flags, ObjectVT, DAG, ArgVal, dl);</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        ++GPR_idx;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        needsLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        ArgSize = PtrByteSize;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      }</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      ArgOffset += 8;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      <span class="comment">// Every 8 bytes of argument space consumes one of the GPRs available for</span></div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="comment">// argument passing.</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        ++GPR_idx;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      }</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      <span class="keywordflow">if</span> (FPR_idx != Num_FPR_Regs) {</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;        <span class="keywordtype">unsigned</span> VReg;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;        <span class="keywordflow">if</span> (ObjectVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;          VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(FPR[FPR_idx], &amp;PPC::F4RCRegClass);</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;          VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(FPR[FPR_idx], &amp;PPC::F8RCRegClass);</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, ObjectVT);</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        ++FPR_idx;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        needsLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        ArgSize = PtrByteSize;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      }</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      ArgOffset += 8;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>:</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>:</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>:</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>:</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      <span class="comment">// Note that vector arguments in registers don&#39;t reserve stack space,</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <span class="comment">// except in varargs functions.</span></div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      <span class="keywordflow">if</span> (VR_idx != Num_VR_Regs) {</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;        <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(VR[VR_idx], &amp;PPC::VRRCRegClass);</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;        ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, ObjectVT);</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;        <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;          <span class="keywordflow">while</span> ((ArgOffset % 16) != 0) {</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;            ArgOffset += PtrByteSize;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;            <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs)</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;              GPR_idx++;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;          }</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;          ArgOffset += 16;</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;          GPR_idx = std::min(GPR_idx+4, Num_GPR_Regs); <span class="comment">// FIXME correct for ppc64?</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        }</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        ++VR_idx;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        <span class="comment">// Vectors are aligned.</span></div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        ArgOffset = ((ArgOffset+15)/16)*16;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        CurArgOffset = ArgOffset;</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        ArgOffset += 16;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        needsLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      }</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    }</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="comment">// We need to load the argument to a virtual register if we determined</span></div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <span class="comment">// above that we ran out of physical registers of the appropriate type.</span></div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <span class="keywordflow">if</span> (needsLoad) {</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(ObjSize,</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                                      CurArgOffset + (ArgSize - ObjSize),</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                                      isImmutable);</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(ObjectVT, dl, Chain, FIN, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                           <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    }</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgVal);</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  }</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="comment">// Set the size that is at least reserved in caller of this function.  Tail</span></div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="comment">// call optimized functions&#39; reserved stack space needs to be aligned so that</span></div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="comment">// taking the difference between two stack areas will result in an aligned</span></div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="comment">// stack.</span></div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  setMinReservedArea(MF, DAG, nAltivecParamsAtEnd, MinReservedArea, <span class="keyword">true</span>);</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="comment">// If the function takes variable number of arguments, make a frame index for</span></div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="comment">// the start of the first vararg value... for expansion of llvm.va_start.</span></div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="keywordtype">int</span> Depth = ArgOffset;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#ada6f0ce61d2e0bfaef869dffc2d643ed">setVarArgsFrameIndex</a>(</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(PtrByteSize, Depth, <span class="keyword">true</span>));</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0a78984133f621514980f087442645b4">getVarArgsFrameIndex</a>(), PtrVT);</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="comment">// If this function is vararg, store any remaining integer argument regs</span></div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="comment">// to their spots on the stack so that they may be loaded by deferencing the</span></div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="comment">// result of va_next.</span></div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keywordflow">for</span> (; GPR_idx != Num_GPR_Regs; ++GPR_idx) {</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, PtrVT);</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;                                   <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      <span class="comment">// Increment the address by four for the next argument to store</span></div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(PtrByteSize, PtrVT);</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;      FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), FIN, PtrOff);</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    }</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  }</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordflow">if</span> (!MemOps.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl,</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                        <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, &amp;MemOps[0], MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  <span class="keywordflow">return</span> Chain;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;}</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;PPCTargetLowering::LowerFormalArguments_Darwin(</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;                                      <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a></div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                                        &amp;Ins,</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                                      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  <span class="comment">// TODO: add description of PPC stack frame format, or at least some docs.</span></div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = PtrVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="comment">// Potential tail calls could cause overwriting of argument stack slots.</span></div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="keywordtype">bool</span> isImmutable = !(<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#ad54fc81a4ef7ab96137a9b6e78fdf838">GuaranteedTailCallOpt</a> &amp;&amp;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                       (CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>));</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordtype">unsigned</span> PtrByteSize = isPPC64 ? 8 : 4;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  <span class="keywordtype">unsigned</span> ArgOffset = <a class="code" href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">PPCFrameLowering::getLinkageSize</a>(isPPC64, <span class="keyword">true</span>);</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="comment">// Area that is at least reserved in caller of this function.</span></div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="keywordtype">unsigned</span> MinReservedArea = ArgOffset;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR_32[] = {           <span class="comment">// 32-bit registers.</span></div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    PPC::R3, <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">PPC::R4</a>, PPC::R5, <a class="code" href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">PPC::R6</a>,</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    PPC::R7, PPC::R8, PPC::R9, PPC::R10,</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  };</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR_64[] = {           <span class="comment">// 64-bit registers.</span></div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    PPC::X3, PPC::X4, PPC::X5, PPC::X6,</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    PPC::X7, PPC::X8, PPC::X9, PPC::X10,</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  };</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t *FPR = <a class="code" href="PPCISelLowering_8cpp.html#a1cbd108eaf5aca7619ff85c02489c3a1">GetFPR</a>();</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t VR[] = {</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">PPC::V2</a>, PPC::V3, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca72ebe5e08d40fbab96c046e017576a32">PPC::V4</a>, PPC::V5, PPC::V6, PPC::V7, PPC::V8,</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    PPC::V9, PPC::V10, PPC::V11, PPC::V12, PPC::V13</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  };</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Num_GPR_Regs = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(GPR_32);</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Num_FPR_Regs = 13;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Num_VR_Regs  = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>( VR);</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <span class="keywordtype">unsigned</span> GPR_idx = 0, FPR_idx = 0, VR_idx = 0;</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="keyword">const</span> uint16_t *GPR = isPPC64 ? GPR_64 : GPR_32;</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="comment">// In 32-bit non-varargs functions, the stack space for vectors is after the</span></div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="comment">// stack space for non-vectors.  We do not use this space unless we have</span></div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="comment">// too many vectors to fit in registers, something that only occurs in</span></div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="comment">// constructed examples:), but we have to walk the arglist to figure</span></div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="comment">// that out...for the pathological case, compute VecArgOffset as the</span></div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  <span class="comment">// start of the vector parameter area.  Computing VecArgOffset is the</span></div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="comment">// entire point of the following loop.</span></div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <span class="keywordtype">unsigned</span> VecArgOffset = ArgOffset;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <span class="keywordflow">if</span> (!isVarArg &amp;&amp; !isPPC64) {</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ArgNo = 0, e = Ins.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ArgNo != e;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;         ++ArgNo) {</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ObjectVT = Ins[ArgNo].VT;</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Ins[ArgNo].Flags;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) {</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        <span class="comment">// ObjSize is the true size, ArgSize rounded up to multiple of regs.</span></div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        <span class="keywordtype">unsigned</span> ObjSize = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>();</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        <span class="keywordtype">unsigned</span> ArgSize =</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                ((ObjSize + PtrByteSize - 1)/PtrByteSize) * PtrByteSize;</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        VecArgOffset += ArgSize;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      }</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <span class="keywordflow">switch</span>(ObjectVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled argument type!&quot;</span>);</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        VecArgOffset += 4;</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:  <span class="comment">// PPC64</span></div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        <span class="comment">// FIXME: We are guaranteed to be !isPPC64 at this point.</span></div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        <span class="comment">// Does MVT::i64 apply?</span></div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        VecArgOffset += 8;</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>:</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>:</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>:</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>:</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        <span class="comment">// Nothing to do, we&#39;re only looking at Nonvector args here.</span></div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;      }</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    }</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  }</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  <span class="comment">// We&#39;ve found where the vector parameter area in memory is.  Skip the</span></div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="comment">// first 12 parameters; these don&#39;t use that memory.</span></div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  VecArgOffset = ((VecArgOffset+15)/16)*16;</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  VecArgOffset += 12*16;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="comment">// Add DAG nodes to load the arguments or copy them out of registers.  On</span></div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="comment">// entry to a function on PPC, the arguments start after the linkage area,</span></div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="comment">// although the first ones are often in registers.</span></div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> MemOps;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordtype">unsigned</span> nAltivecParamsAtEnd = 0;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">Function::const_arg_iterator</a> FuncArg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>();</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="keywordtype">unsigned</span> CurArgIdx = 0;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ArgNo = 0, e = Ins.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ArgNo != e; ++ArgNo) {</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ArgVal;</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="keywordtype">bool</span> needsLoad = <span class="keyword">false</span>;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ObjectVT = Ins[ArgNo].VT;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <span class="keywordtype">unsigned</span> ObjSize = ObjectVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordtype">unsigned</span> ArgSize = ObjSize;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Ins[ArgNo].Flags;</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">std::advance</a>(FuncArg, Ins[ArgNo].OrigArgIndex - CurArgIdx);</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    CurArgIdx = Ins[ArgNo].OrigArgIndex;</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="keywordtype">unsigned</span> CurArgOffset = ArgOffset;</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="comment">// Varargs or 64 bit Altivec parameters are padded to a 16 byte boundary.</span></div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordflow">if</span> (ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a> || ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a> ||</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a> || ObjectVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>) {</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      <span class="keywordflow">if</span> (isVarArg || isPPC64) {</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;        MinReservedArea = ((MinReservedArea+15)/16)*16;</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        MinReservedArea += <a class="code" href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2">CalculateStackSlotSize</a>(ObjectVT,</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;                                                  Flags,</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                                                  PtrByteSize);</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;      } <span class="keywordflow">else</span>  nAltivecParamsAtEnd++;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;      <span class="comment">// Calculate min reserved area.</span></div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;      MinReservedArea += <a class="code" href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2">CalculateStackSlotSize</a>(Ins[ArgNo].VT,</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                                                Flags,</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;                                                PtrByteSize);</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="comment">// FIXME the codegen can be much improved in some cases.</span></div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="comment">// We do not have to keep everything in memory.</span></div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) {</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <span class="comment">// ObjSize is the true size, ArgSize rounded up to multiple of registers.</span></div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      ObjSize = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>();</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;      ArgSize = ((ObjSize + PtrByteSize - 1)/PtrByteSize) * PtrByteSize;</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      <span class="comment">// Objects of size 1 and 2 are right justified, everything else is</span></div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;      <span class="comment">// left justified.  This means the memory address is adjusted forwards.</span></div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;      <span class="keywordflow">if</span> (ObjSize==1 || ObjSize==2) {</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        CurArgOffset = CurArgOffset + (4 - ObjSize);</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      }</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;      <span class="comment">// The value of the object is its address.</span></div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;      <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(ObjSize, CurArgOffset, <span class="keyword">true</span>);</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(FIN);</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">if</span> (ObjSize==1 || ObjSize==2) {</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;          <span class="keywordtype">unsigned</span> VReg;</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;          <span class="keywordflow">if</span> (isPPC64)</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;            VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;            VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, PtrVT);</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;          <a class="code" href="structllvm_1_1EVT.html">EVT</a> ObjType = ObjSize == 1 ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>;</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;                                            <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(FuncArg,</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;                                              CurArgOffset),</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;                                            ObjType, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;          MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;          ++GPR_idx;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;        }</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        ArgOffset += PtrByteSize;</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      }</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; ArgSize; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> += PtrByteSize) {</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        <span class="comment">// Store whatever pieces of the object are in registers</span></div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        <span class="comment">// to memory.  ArgOffset will be the address of the beginning</span></div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        <span class="comment">// of the object.</span></div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;          <span class="keywordtype">unsigned</span> VReg;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;          <span class="keywordflow">if</span> (isPPC64)</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;            VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;            VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;          <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(PtrByteSize, ArgOffset, <span class="keyword">true</span>);</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, PtrVT);</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(FuncArg, ArgOffset),</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;                                       <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;          MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;          ++GPR_idx;</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;          ArgOffset += ArgSize - (ArgOffset-CurArgOffset);</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        }</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      }</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    }</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">switch</span> (ObjectVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled argument type!&quot;</span>);</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      <span class="keywordflow">if</span> (!isPPC64) {</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;          <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;          ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;          ++GPR_idx;</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;          needsLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;          ArgSize = PtrByteSize;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        }</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        <span class="comment">// All int arguments reserve stack space in the Darwin ABI.</span></div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        ArgOffset += PtrByteSize;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      }</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      <span class="comment">// FALLTHROUGH</span></div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:  <span class="comment">// PPC64</span></div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;        <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;        ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        <span class="keywordflow">if</span> (ObjectVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;          <span class="comment">// PPC64 passes i8, i16, and i32 values in i64 registers. Promote</span></div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;          <span class="comment">// value to MVT::i64 and then truncate to the correct register size.</span></div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;          ArgVal = extendArgForPPC64(Flags, ObjectVT, DAG, ArgVal, dl);</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        ++GPR_idx;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;        needsLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        ArgSize = PtrByteSize;</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      }</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <span class="comment">// All int arguments reserve stack space in the Darwin ABI.</span></div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;      ArgOffset += 8;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;      <span class="comment">// Every 4 bytes of argument space consumes one of the GPRs available for</span></div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      <span class="comment">// argument passing.</span></div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;      <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs) {</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        ++GPR_idx;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;        <span class="keywordflow">if</span> (ObjSize == 8 &amp;&amp; GPR_idx != Num_GPR_Regs &amp;&amp; !isPPC64)</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;          ++GPR_idx;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;      }</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      <span class="keywordflow">if</span> (FPR_idx != Num_FPR_Regs) {</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <span class="keywordtype">unsigned</span> VReg;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;        <span class="keywordflow">if</span> (ObjectVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;          VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(FPR[FPR_idx], &amp;PPC::F4RCRegClass);</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;          VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(FPR[FPR_idx], &amp;PPC::F8RCRegClass);</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, ObjectVT);</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;        ++FPR_idx;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;        needsLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      }</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;      <span class="comment">// All FP arguments reserve stack space in the Darwin ABI.</span></div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;      ArgOffset += isPPC64 ? 8 : ObjSize;</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>:</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>:</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>:</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>:</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      <span class="comment">// Note that vector arguments in registers don&#39;t reserve stack space,</span></div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;      <span class="comment">// except in varargs functions.</span></div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;      <span class="keywordflow">if</span> (VR_idx != Num_VR_Regs) {</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;        <span class="keywordtype">unsigned</span> VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(VR[VR_idx], &amp;PPC::VRRCRegClass);</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;        ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, ObjectVT);</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;        <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;          <span class="keywordflow">while</span> ((ArgOffset % 16) != 0) {</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;            ArgOffset += PtrByteSize;</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;            <span class="keywordflow">if</span> (GPR_idx != Num_GPR_Regs)</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;              GPR_idx++;</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;          }</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;          ArgOffset += 16;</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;          GPR_idx = std::min(GPR_idx+4, Num_GPR_Regs); <span class="comment">// FIXME correct for ppc64?</span></div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        }</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        ++VR_idx;</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        <span class="keywordflow">if</span> (!isVarArg &amp;&amp; !isPPC64) {</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;          <span class="comment">// Vectors go after all the nonvectors.</span></div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;          CurArgOffset = VecArgOffset;</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;          VecArgOffset += 16;</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;          <span class="comment">// Vectors are aligned.</span></div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;          ArgOffset = ((ArgOffset+15)/16)*16;</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;          CurArgOffset = ArgOffset;</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;          ArgOffset += 16;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;        }</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        needsLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      }</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    }</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="comment">// We need to load the argument to a virtual register if we determined above</span></div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <span class="comment">// that we ran out of physical registers of the appropriate type.</span></div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <span class="keywordflow">if</span> (needsLoad) {</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;      <span class="keywordtype">int</span> FI = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(ObjSize,</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                                      CurArgOffset + (ArgSize - ObjSize),</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                                      isImmutable);</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, PtrVT);</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      ArgVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(ObjectVT, dl, Chain, FIN, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;                           <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    }</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgVal);</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  }</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <span class="comment">// Set the size that is at least reserved in caller of this function.  Tail</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <span class="comment">// call optimized functions&#39; reserved stack space needs to be aligned so that</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <span class="comment">// taking the difference between two stack areas will result in an aligned</span></div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="comment">// stack.</span></div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  setMinReservedArea(MF, DAG, nAltivecParamsAtEnd, MinReservedArea, isPPC64);</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <span class="comment">// If the function takes variable number of arguments, make a frame index for</span></div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="comment">// the start of the first vararg value... for expansion of llvm.va_start.</span></div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="keywordtype">int</span> Depth = ArgOffset;</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#ada6f0ce61d2e0bfaef869dffc2d643ed">setVarArgsFrameIndex</a>(</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(PtrVT.getSizeInBits()/8,</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;                             Depth, <span class="keyword">true</span>));</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0a78984133f621514980f087442645b4">getVarArgsFrameIndex</a>(), PtrVT);</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    <span class="comment">// If this function is vararg, store any remaining integer argument regs</span></div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <span class="comment">// to their spots on the stack so that they may be loaded by deferencing the</span></div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <span class="comment">// result of va_next.</span></div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordflow">for</span> (; GPR_idx != Num_GPR_Regs; ++GPR_idx) {</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      <span class="keywordtype">unsigned</span> VReg;</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;      <span class="keywordflow">if</span> (isPPC64)</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;        VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;        VReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">addLiveIn</a>(GPR[GPR_idx], &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, VReg, PtrVT);</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, FIN,</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                                   <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;      <span class="comment">// Increment the address by four for the next argument to store</span></div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(PtrVT.getSizeInBits()/8, PtrVT);</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;      FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), FIN, PtrOff);</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    }</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  }</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <span class="keywordflow">if</span> (!MemOps.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl,</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                        <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, &amp;MemOps[0], MemOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="keywordflow">return</span> Chain;</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;}</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;<span class="comment">/// CalculateParameterAndLinkageAreaSize - Get the size of the parameter plus</span></div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="comment">/// linkage area for the Darwin ABI, or the 64-bit SVR4 ABI.</span></div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span></div><div class="line"><a name="l02864"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a3c31aec5751525d6fd2c9a3c7916b637"> 2864</a></span>&#160;<a class="code" href="PPCISelLowering_8cpp.html#a3c31aec5751525d6fd2c9a3c7916b637">CalculateParameterAndLinkageAreaSize</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                                     <span class="keywordtype">bool</span> isPPC64,</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                                     <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                                     <span class="keywordtype">unsigned</span> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>,</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::OutputArg&gt;</a></div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                                       &amp;Outs,</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OutVals,</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                                     <span class="keywordtype">unsigned</span> &amp;nAltivecParamsAtEnd) {</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  <span class="comment">// Count how many bytes are to be pushed on the stack, including the linkage</span></div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <span class="comment">// area, and parameter passing area.  We start with 24/48 bytes, which is</span></div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="comment">// prereserved space for [SP][CR][LR][3 x unused].</span></div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes = <a class="code" href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">PPCFrameLowering::getLinkageSize</a>(isPPC64, <span class="keyword">true</span>);</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = Outs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordtype">unsigned</span> PtrByteSize = isPPC64 ? 8 : 4;</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  <span class="comment">// Add up all the space actually used.</span></div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  <span class="comment">// In 32-bit non-varargs calls, Altivec parameters all go at the end; usually</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="comment">// they all go in registers, but we must reserve stack space for them for</span></div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  <span class="comment">// possible use by the caller.  In varargs or 64-bit calls, parameters are</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <span class="comment">// assigned stack space in order, with padding so Altivec parameters are</span></div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="comment">// 16-byte aligned.</span></div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  nAltivecParamsAtEnd = 0;</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Flags;</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> ArgVT = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].VT;</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <span class="comment">// Varargs Altivec parameters are padded to a 16 byte boundary.</span></div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <span class="keywordflow">if</span> (ArgVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a> || ArgVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a> ||</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        ArgVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a> || ArgVT==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>) {</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;      <span class="keywordflow">if</span> (!isVarArg &amp;&amp; !isPPC64) {</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;        <span class="comment">// Non-varargs Altivec parameters go after all the non-Altivec</span></div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        <span class="comment">// parameters; handle those later so we know how much padding we need.</span></div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        nAltivecParamsAtEnd++;</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;      }</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;      <span class="comment">// Varargs and 64-bit Altivec parameters are padded to 16 byte boundary.</span></div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      NumBytes = ((NumBytes+15)/16)*16;</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    }</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    NumBytes += <a class="code" href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2">CalculateStackSlotSize</a>(ArgVT, Flags, PtrByteSize);</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  }</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;   <span class="comment">// Allow for Altivec parameters at the end, if needed.</span></div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  <span class="keywordflow">if</span> (nAltivecParamsAtEnd) {</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    NumBytes = ((NumBytes+15)/16)*16;</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    NumBytes += 16*nAltivecParamsAtEnd;</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  }</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  <span class="comment">// The prolog code of the callee may store up to 8 GPR argument registers to</span></div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  <span class="comment">// the stack, allowing va_start to index over them in memory if its varargs.</span></div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="comment">// Because we cannot tell if this is needed on the caller side, we have to</span></div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="comment">// conservatively assume that it is needed.  As such, make sure we have at</span></div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="comment">// least enough stack space for the caller to store the 8 GPRs.</span></div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  NumBytes = std::max(NumBytes,</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;                      <a class="code" href="classllvm_1_1PPCFrameLowering.html#ad6cf9c804045cfe1b414dd12b18e86ca">PPCFrameLowering::getMinCallFrameSize</a>(isPPC64, <span class="keyword">true</span>));</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <span class="comment">// Tail call needs the stack to be aligned.</span></div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <span class="keywordflow">if</span> (CC == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> &amp;&amp; DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#ad54fc81a4ef7ab96137a9b6e78fdf838">GuaranteedTailCallOpt</a>){</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <span class="keywordtype">unsigned</span> TargetAlign = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      getFrameLowering()-&gt;getStackAlignment();</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <span class="keywordtype">unsigned</span> AlignMask = TargetAlign-1;</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    NumBytes = (NumBytes + AlignMask) &amp; ~AlignMask;</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  }</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <span class="keywordflow">return</span> NumBytes;</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;}</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;<span class="comment">/// CalculateTailCallSPDiff - Get the amount the stack pointer has to be</span></div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;<span class="comment">/// adjusted to accommodate the arguments for the tailcall.</span></div><div class="line"><a name="l02931"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#aaf0bcfcb9ee7e078bec6074304e31cb0"> 2931</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="PPCISelLowering_8cpp.html#aaf0bcfcb9ee7e078bec6074304e31cb0">CalculateTailCallSPDiff</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a>&amp; DAG, <span class="keywordtype">bool</span> isTailCall,</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;                                   <span class="keywordtype">unsigned</span> ParamSize) {</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <span class="keywordflow">if</span> (!isTailCall) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keywordtype">unsigned</span> CallerMinReservedArea = FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#ac3642c7af6c2fd311f64b648c72057b5">getMinReservedArea</a>();</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <span class="keywordtype">int</span> SPDiff = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)CallerMinReservedArea - (<span class="keywordtype">int</span>)ParamSize;</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  <span class="comment">// Remember only if the new adjustement is bigger.</span></div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;  <span class="keywordflow">if</span> (SPDiff &lt; FI-&gt;getTailCallSPDelta())</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a7780eaaa923683ff9eac5b49916136bc">setTailCallSPDelta</a>(SPDiff);</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  <span class="keywordflow">return</span> SPDiff;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;}</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="comment">/// IsEligibleForTailCallOptimization - Check whether the call is eligible</span></div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="comment">/// for tail call optimization. Targets which want to do tail call</span></div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;<span class="comment">/// optimization should implement this function.</span></div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;PPCTargetLowering::IsEligibleForTailCallOptimization(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Callee,</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                                                     <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CalleeCC,</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                                                     <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a> &amp;Ins,</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;                                                     <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a>&amp; DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().Options.GuaranteedTailCallOpt)</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <span class="comment">// Variable argument functions are not supported.</span></div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <span class="keywordflow">if</span> (isVarArg)</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallerCC = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">getCallingConv</a>();</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <span class="keywordflow">if</span> (CalleeCC == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> &amp;&amp; CallerCC == CalleeCC) {</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="comment">// Functions containing by val parameters are not supported.</span></div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != Ins.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;       <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Ins[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Flags;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;       <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    }</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="comment">// Non PIC/GOT  tail calls are supported.</span></div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">getRelocationModel</a>() != <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">Reloc::PIC_</a>)</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="comment">// At the moment we can only do local tail calls (in same module, hidden</span></div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    <span class="comment">// or protected) if we are generating PIC.</span></div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a> = dyn_cast&lt;GlobalAddressSDNode&gt;(Callee))</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;getGlobal()-&gt;hasHiddenVisibility()</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;          || <a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;getGlobal()-&gt;hasProtectedVisibility();</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  }</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;}</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;<span class="comment">/// isCallCompatibleAddress - Return the immediate to use if the specified</span></div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;<span class="comment">/// 32-bit value is representable in the immediate field of a BxA instruction.</span></div><div class="line"><a name="l02987"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#aca2e60fc82a1bde79b2afe10ef5c520d"> 2987</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="PPCISelLowering_8cpp.html#aca2e60fc82a1bde79b2afe10ef5c520d">isBLACompatibleAddress</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a>&gt;(Op);</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  <span class="keywordflow">if</span> (!C) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="keywordtype">int</span> Addr = C-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a1e9365c991dd55e65e9d5ab5653812e4">getZExtValue</a>();</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="keywordflow">if</span> ((Addr &amp; 3) != 0 ||  <span class="comment">// Low 2 bits are implicitly zero.</span></div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      SignExtend32&lt;26&gt;(Addr) != Addr)</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    <span class="keywordflow">return</span> 0;  <span class="comment">// Top 6 bits have to be sext of immediate.</span></div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>((<span class="keywordtype">int</span>)C-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a1e9365c991dd55e65e9d5ab5653812e4">getZExtValue</a>() &gt;&gt; 2,</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>()).getNode();</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;}</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<span class="keyword">struct </span>TailCallArgumentInfo {</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg;</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FrameIdxOp;</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  <span class="keywordtype">int</span>       FrameIdx;</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  TailCallArgumentInfo() : FrameIdx(0) {}</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;};</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;}</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;<span class="comment">/// StoreTailCallArgumentsToStackSlot - Stores arguments to their stack slot.</span></div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l03014"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a89570eaab013dc406a4419f2ee05c227"> 3014</a></span>&#160;<a class="code" href="PPCISelLowering_8cpp.html#a89570eaab013dc406a4419f2ee05c227">StoreTailCallArgumentsToStackSlot</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;TailCallArgumentInfo&gt;</a> &amp;TailCallArgs,</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                   <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;MemOpChains,</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;                   <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl) {</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = TailCallArgs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg = TailCallArgs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Arg;</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = TailCallArgs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].FrameIdxOp;</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <span class="keywordtype">int</span> FI = TailCallArgs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].FrameIdx;</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <span class="comment">// Store relative to framepointer.</span></div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, Arg, FIN,</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FI),</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                                       <span class="keyword">false</span>, <span class="keyword">false</span>, 0));</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  }</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;}</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="comment">/// EmitTailCallStoreFPAndRetAddr - Move the frame pointer and return address to</span></div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="comment">/// the appropriate stack slot for the tail call optimized function call.</span></div><div class="line"><a name="l03032"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a6db5de5092ad3319d9fb9f059b9594ee"> 3032</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#a6db5de5092ad3319d9fb9f059b9594ee">EmitTailCallStoreFPAndRetAddr</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                                               <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OldRetAddr,</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;                                               <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OldFP,</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;                                               <span class="keywordtype">int</span> SPDiff,</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                                               <span class="keywordtype">bool</span> isPPC64,</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;                                               <span class="keywordtype">bool</span> isDarwinABI,</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                                               <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl) {</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="keywordflow">if</span> (SPDiff) {</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="comment">// Calculate the new stack slot for the return address.</span></div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="keywordtype">int</span> SlotSize = isPPC64 ? 8 : 4;</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="keywordtype">int</span> NewRetAddrLoc = SPDiff + <a class="code" href="classllvm_1_1PPCFrameLowering.html#a4d69526bf0c3ba246820af1cbc25effe">PPCFrameLowering::getReturnSaveOffset</a>(isPPC64,</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                                                                   isDarwinABI);</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <span class="keywordtype">int</span> NewRetAddr = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(SlotSize,</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;                                                          NewRetAddrLoc, <span class="keyword">true</span>);</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = isPPC64 ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewRetAddrFrIdx = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(NewRetAddr, VT);</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, OldRetAddr, NewRetAddrFrIdx,</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;                         <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(NewRetAddr),</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;                         <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="comment">// When using the 32/64-bit SVR4 ABI there is no need to move the FP stack</span></div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    <span class="comment">// slot as the FP is never overwritten.</span></div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <span class="keywordflow">if</span> (isDarwinABI) {</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      <span class="keywordtype">int</span> NewFPLoc =</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        SPDiff + <a class="code" href="classllvm_1_1PPCFrameLowering.html#a97db50b03c1daa960e8d2e0fcb9e9f8b">PPCFrameLowering::getFramePointerSaveOffset</a>(isPPC64, isDarwinABI);</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      <span class="keywordtype">int</span> NewFPIdx = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(SlotSize, NewFPLoc,</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;                                                          <span class="keyword">true</span>);</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewFramePtrIdx = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(NewFPIdx, VT);</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, OldFP, NewFramePtrIdx,</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;                           <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(NewFPIdx),</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                           <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    }</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;  }</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  <span class="keywordflow">return</span> Chain;</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;}</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;<span class="comment">/// CalculateTailCallArgDest - Remember Argument for later processing. Calculate</span></div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;<span class="comment">/// the position of the argument.</span></div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l03073"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a426e30bfd2fb5f211f8e72d9d4374ac2"> 3073</a></span>&#160;<a class="code" href="PPCISelLowering_8cpp.html#a426e30bfd2fb5f211f8e72d9d4374ac2">CalculateTailCallArgDest</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">bool</span> isPPC64,</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg, <span class="keywordtype">int</span> SPDiff, <span class="keywordtype">unsigned</span> ArgOffset,</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;TailCallArgumentInfo&gt;</a>&amp; TailCallArguments) {</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  <span class="keywordtype">int</span> Offset = ArgOffset + SPDiff;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  uint32_t <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02dad11797b0ad89e5eb13f16d7a2ba9741e">OpSize</a> = (Arg.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()+7)/8;</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="keywordtype">int</span> FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(OpSize, Offset, <span class="keyword">true</span>);</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = isPPC64 ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIN = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FI, VT);</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  TailCallArgumentInfo Info;</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;  Info.Arg = Arg;</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  Info.FrameIdxOp = FIN;</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  Info.FrameIdx = FI;</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  TailCallArguments.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Info);</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;}</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;<span class="comment">/// EmitTCFPAndRetAddrLoad - Emit load from frame pointer and return address</span></div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;<span class="comment">/// stack slot. Returns the chain as result and the loaded frame pointers in</span></div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;<span class="comment">/// LROpOut/FPOpout. Used when tail calling.</span></div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::EmitTailCallLoadFPAndRetAddr(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp; DAG,</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;                                                        <span class="keywordtype">int</span> SPDiff,</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;                                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;                                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;LROpOut,</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;                                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;FPOpOut,</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;                                                        <span class="keywordtype">bool</span> isDarwinABI,</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                                                        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl)<span class="keyword"> const </span>{</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  <span class="keywordflow">if</span> (SPDiff) {</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="comment">// Load the LR and FP stack slot for later adjusting.</span></div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = PPCSubTarget.isPPC64() ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    LROpOut = getReturnAddrFrameIndex(DAG);</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    LROpOut = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(VT, dl, Chain, LROpOut, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                          <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    Chain = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(LROpOut.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(), 1);</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <span class="comment">// When using the 32/64-bit SVR4 ABI there is no need to load the FP stack</span></div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    <span class="comment">// slot as the FP is never overwritten.</span></div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">if</span> (isDarwinABI) {</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;      FPOpOut = getFramePointerFrameIndex(DAG);</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;      FPOpOut = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(VT, dl, Chain, FPOpOut, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;                            <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;      Chain = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(FPOpOut.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(), 1);</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    }</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  }</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  <span class="keywordflow">return</span> Chain;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;}</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;<span class="comment">/// CreateCopyOfByValArgument - Make a copy of an aggregate at address specified</span></div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;<span class="comment">/// by &quot;Src&quot; to address &quot;Dst&quot; of size &quot;Size&quot;.  Alignment information is</span></div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;<span class="comment">/// specified by the specific parameter attribute. The copy will be passed as</span></div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<span class="comment">/// a byval function parameter.</span></div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;<span class="comment">/// Sometimes what we are copying is the end of a larger object, the part that</span></div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;<span class="comment">/// does not fit in registers.</span></div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l03125"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#afcf8b8a06b0dba7e061a154072543bdd"> 3125</a></span>&#160;<a class="code" href="PPCISelLowering_8cpp.html#afcf8b8a06b0dba7e061a154072543bdd">CreateCopyOfByValArgument</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Dst, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;                          <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;                          <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl) {</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SizeNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af6bf10019c0fa74fe3234178bd0a2c52">getMemcpy</a>(Chain, dl, Dst, Src, SizeNode, Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a24db357868a02447db2862c8b5cef52f">getByValAlign</a>(),</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                       <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(0),</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(0));</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;}</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;<span class="comment">/// LowerMemOpCallTo - Store the argument to the stack or remember it in case of</span></div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;<span class="comment">/// tail calls.</span></div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l03137"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c"> 3137</a></span>&#160;<a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;                 <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff, <span class="keywordtype">int</span> SPDiff,</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;                 <span class="keywordtype">unsigned</span> ArgOffset, <span class="keywordtype">bool</span> isPPC64, <span class="keywordtype">bool</span> isTailCall,</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;                 <span class="keywordtype">bool</span> isVector, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;MemOpChains,</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;TailCallArgumentInfo&gt;</a> &amp;TailCallArguments,</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                 <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl) {</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  <span class="keywordflow">if</span> (!isTailCall) {</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="keywordflow">if</span> (isVector) {</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr;</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      <span class="keywordflow">if</span> (isPPC64)</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;        StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;        StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::R1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, StackPtr,</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(ArgOffset, PtrVT));</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;    }</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, Arg, PtrOff,</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0));</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  <span class="comment">// Calculate and remember argument location.</span></div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;  } <span class="keywordflow">else</span> <a class="code" href="PPCISelLowering_8cpp.html#a426e30bfd2fb5f211f8e72d9d4374ac2">CalculateTailCallArgDest</a>(DAG, MF, isPPC64, Arg, SPDiff, ArgOffset,</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                                  TailCallArguments);</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;}</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l03162"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a16f390005ac008f017658dfcb7fe9950"> 3162</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="PPCISelLowering_8cpp.html#a16f390005ac008f017658dfcb7fe9950">PrepareTailCall</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;InFlag, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain,</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                     <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <span class="keywordtype">bool</span> isPPC64, <span class="keywordtype">int</span> SPDiff, <span class="keywordtype">unsigned</span> NumBytes,</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LROp, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FPOp, <span class="keywordtype">bool</span> isDarwinABI,</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;TailCallArgumentInfo&gt;</a> &amp;TailCallArguments) {</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  <span class="comment">// Emit a sequence of copyto/copyfrom virtual registers for arguments that</span></div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  <span class="comment">// might overwrite each other in case of tail call optimization.</span></div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> MemOpChains2;</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  <span class="comment">// Do not flag preceding copytoreg stuff together with the following stuff.</span></div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  InFlag = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;  <a class="code" href="PPCISelLowering_8cpp.html#a89570eaab013dc406a4419f2ee05c227">StoreTailCallArgumentsToStackSlot</a>(DAG, Chain, TailCallArguments,</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                                    MemOpChains2, dl);</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  <span class="keywordflow">if</span> (!MemOpChains2.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                        &amp;MemOpChains2[0], MemOpChains2.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;  <span class="comment">// Store the return address to the appropriate stack slot.</span></div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  Chain = <a class="code" href="PPCISelLowering_8cpp.html#a6db5de5092ad3319d9fb9f059b9594ee">EmitTailCallStoreFPAndRetAddr</a>(DAG, MF, Chain, LROp, FPOp, SPDiff,</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                                        isPPC64, isDarwinABI, dl);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;  <span class="comment">// Emit callseq_end just before tailcall node.</span></div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a869cff5a579577d3aed2c9490bbecf28">getCALLSEQ_END</a>(Chain, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(NumBytes, <span class="keyword">true</span>),</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(0, <span class="keyword">true</span>), InFlag, dl);</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;}</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l03190"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a6b0472389ca4b4ab52e69f94653442a7"> 3190</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="PPCISelLowering_8cpp.html#a6b0472389ca4b4ab52e69f94653442a7">PrepareCall</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Callee, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;InFlag,</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Chain, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <span class="keywordtype">int</span> SPDiff, <span class="keywordtype">bool</span> isTailCall,</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;unsigned, SDValue&gt; &gt; &amp;RegsToPass,</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;Ops, std::vector&lt;EVT&gt; &amp;NodeTys,</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;PPCSubTarget) {</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="keywordtype">bool</span> isSVR4ABI = PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>();</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  NodeTys.push_back(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>);   <span class="comment">// Returns a chain</span></div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  NodeTys.push_back(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>);    <span class="comment">// Returns a flag for retval copy to use.</span></div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <span class="keywordtype">unsigned</span> CallOpc = <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa09dfd0e28e0ffea73ccfc88fb2fd95c">PPCISD::CALL</a>;</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <span class="keywordtype">bool</span> needIndirectCall = <span class="keyword">true</span>;</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Dest = <a class="code" href="PPCISelLowering_8cpp.html#aca2e60fc82a1bde79b2afe10ef5c520d">isBLACompatibleAddress</a>(Callee, DAG)) {</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    <span class="comment">// If this is an absolute destination address, use the munged value.</span></div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    Callee = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Dest, 0);</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    needIndirectCall = <span class="keyword">false</span>;</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;  }</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a> = dyn_cast&lt;GlobalAddressSDNode&gt;(Callee)) {</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="comment">// XXX Work around for http://llvm.org/bugs/show_bug.cgi?id=5201</span></div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <span class="comment">// Use indirect calls for ALL functions calls in JIT mode, since the</span></div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    <span class="comment">// far-call stubs may be outside relocation limits for a BL instruction.</span></div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="keywordflow">if</span> (!DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().isJITCodeModel()) {</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;      <span class="keywordtype">unsigned</span> OpFlags = 0;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;      <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">getRelocationModel</a>() != <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568a2102fa713297236bf4339c5f0bf0f39d">Reloc::Static</a> &amp;&amp;</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;          (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a3934c03d7d0973a65fa524182810ec34">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#a046b1c05ec2d492f6572840cf8bac653">isMacOSX</a>() &amp;&amp;</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;           PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a3934c03d7d0973a65fa524182810ec34">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#af2ee35261532b22de8929f4d7c86e6ac">isMacOSXVersionLT</a>(10, 5)) &amp;&amp;</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;          (<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;getGlobal()-&gt;isDeclaration() ||</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;           <a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;getGlobal()-&gt;isWeakForLinker())) {</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;        <span class="comment">// PC-relative references to external symbols should go through $stub,</span></div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;        <span class="comment">// unless we&#39;re building with the leopard linker or later, which</span></div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        <span class="comment">// automatically synthesizes these stubs.</span></div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;        OpFlags = <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffae388379ce6a1637e40bc3e1320a414cd">PPCII::MO_DARWIN_STUB</a>;</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;      }</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      <span class="comment">// If the callee is a GlobalAddress/ExternalSymbol node (quite common,</span></div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      <span class="comment">// every direct call is) turn it into a TargetGlobalAddress /</span></div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      <span class="comment">// TargetExternalSymbol node so that legalize doesn&#39;t hack it.</span></div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;      Callee = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">getTargetGlobalAddress</a>(<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;getGlobal(), dl,</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                                          Callee.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                                          0, OpFlags);</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;      needIndirectCall = <span class="keyword">false</span>;</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    }</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  }</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ExternalSymbolSDNode.html">ExternalSymbolSDNode</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast&lt;ExternalSymbolSDNode&gt;(Callee)) {</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> OpFlags = 0;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">getRelocationModel</a>() != <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568a2102fa713297236bf4339c5f0bf0f39d">Reloc::Static</a> &amp;&amp;</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;        (PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a3934c03d7d0973a65fa524182810ec34">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#a046b1c05ec2d492f6572840cf8bac653">isMacOSX</a>() &amp;&amp;</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;         PPCSubTarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a3934c03d7d0973a65fa524182810ec34">getTargetTriple</a>().<a class="code" href="classllvm_1_1Triple.html#af2ee35261532b22de8929f4d7c86e6ac">isMacOSXVersionLT</a>(10, 5))) {</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;      <span class="comment">// PC-relative references to external symbols should go through $stub,</span></div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;      <span class="comment">// unless we&#39;re building with the leopard linker or later, which</span></div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;      <span class="comment">// automatically synthesizes these stubs.</span></div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      OpFlags = <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffae388379ce6a1637e40bc3e1320a414cd">PPCII::MO_DARWIN_STUB</a>;</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    }</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    Callee = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab5254dc94639bcdd77bf933ad2fe9ac3">getTargetExternalSymbol</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getSymbol(), Callee.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                                         OpFlags);</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    needIndirectCall = <span class="keyword">false</span>;</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  }</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  <span class="keywordflow">if</span> (needIndirectCall) {</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <span class="comment">// Otherwise, this is an indirect call.  We have to use a MTCTR/BCTRL pair</span></div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;    <span class="comment">// to do the call, we can&#39;t use PPCISD::CALL.</span></div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MTCTROps[] = {Chain, Callee, InFlag};</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    <span class="keywordflow">if</span> (isSVR4ABI &amp;&amp; isPPC64) {</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;      <span class="comment">// Function pointers in the 64-bit SVR4 ABI do not point to the function</span></div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;      <span class="comment">// entry point, but to the function descriptor (the function entry point</span></div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;      <span class="comment">// address is part of the function descriptor though).</span></div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;      <span class="comment">// The function descriptor is a three doubleword structure with the</span></div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;      <span class="comment">// following fields: function entry point, TOC base address and</span></div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;      <span class="comment">// environment pointer.</span></div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;      <span class="comment">// Thus for a call through a function pointer, the following actions need</span></div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;      <span class="comment">// to be performed:</span></div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;      <span class="comment">//   1. Save the TOC of the caller in the TOC save area of its stack</span></div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;      <span class="comment">//      frame (this is done in LowerCall_Darwin() or LowerCall_64SVR4()).</span></div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;      <span class="comment">//   2. Load the address of the function entry point from the function</span></div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;      <span class="comment">//      descriptor.</span></div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;      <span class="comment">//   3. Load the TOC of the callee from the function descriptor into r2.</span></div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;      <span class="comment">//   4. Load the environment pointer from the function descriptor into</span></div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;      <span class="comment">//      r11.</span></div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;      <span class="comment">//   5. Branch to the function entry point address.</span></div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;      <span class="comment">//   6. On return of the callee, the TOC of the caller needs to be</span></div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;      <span class="comment">//      restored (this is done in FinishCall()).</span></div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;      <span class="comment">// All those operations are flagged together to ensure that no other</span></div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;      <span class="comment">// operations can be scheduled in between. E.g. without flagging the</span></div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;      <span class="comment">// operations together, a TOC access in the caller could be scheduled</span></div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;      <span class="comment">// between the load of the callee TOC and the branch to the callee, which</span></div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;      <span class="comment">// results in the TOC access going through the TOC of the callee instead</span></div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;      <span class="comment">// of going through the TOC of the caller, which leads to incorrect code.</span></div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;      <span class="comment">// Load the address of the function entry point from the function</span></div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;      <span class="comment">// descriptor.</span></div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;      <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>);</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoadFuncPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a35d9b393639fbc9a4e639ce81c704d17">PPCISD::LOAD</a>, dl, VTs, MTCTROps,</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                                        InFlag.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() ? 3 : 2);</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;      Chain = LoadFuncPtr.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      InFlag = LoadFuncPtr.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(2);</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      <span class="comment">// Load environment pointer into r11.</span></div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;      <span class="comment">// Offset of the environment pointer within the function descriptor.</span></div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(16);</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, Callee, PtrOff);</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoadEnvPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a35d9b393639fbc9a4e639ce81c704d17">PPCISD::LOAD</a>, dl, VTs, Chain, AddPtr,</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                                       InFlag);</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      Chain = LoadEnvPtr.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;      InFlag = LoadEnvPtr.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(2);</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EnvVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, PPC::X11, LoadEnvPtr,</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;                                        InFlag);</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      Chain = EnvVal.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(0);</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;      InFlag = EnvVal.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      <span class="comment">// Load TOC of the callee into r2. We are using a target-specific load</span></div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      <span class="comment">// with r2 hard coded, because the result of a target-independent load</span></div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;      <span class="comment">// would never go directly into r2, since r2 is a reserved register (which</span></div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;      <span class="comment">// prevents the register allocator from allocating it), resulting in an</span></div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;      <span class="comment">// additional register being allocated and an unnecessary move instruction</span></div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;      <span class="comment">// being generated.</span></div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;      VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>);</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoadTOCPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a4a73d0b02b92ec58d7f38d00ad50f289">PPCISD::LOAD_TOC</a>, dl, VTs, Chain,</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                                       Callee, InFlag);</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      Chain = LoadTOCPtr.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(0);</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;      InFlag = LoadTOCPtr.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;      MTCTROps[0] = Chain;</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;      MTCTROps[1] = LoadFuncPtr;</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;      MTCTROps[2] = InFlag;</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    }</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa48a0d892596a0da3cf4a82c6ff5a91f">PPCISD::MTCTR</a>, dl, NodeTys, MTCTROps,</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;                        2 + (InFlag.getNode() != 0));</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    NodeTys.clear();</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    NodeTys.push_back(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>);</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    NodeTys.push_back(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>);</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Chain);</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    CallOpc = <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a453b3ee2482b8a61bbcf5ce1cd6e395e">PPCISD::BCTRL</a>;</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    Callee.<a class="code" href="classllvm_1_1SDValue.html#ad575e4867727668f7d50952bc9e1a1cd">setNode</a>(0);</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="comment">// Add use of X11 (holding environment pointer)</span></div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="keywordflow">if</span> (isSVR4ABI &amp;&amp; isPPC64)</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X11, PtrVT));</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="comment">// Add CTR register as callee so a bctr can be emitted later.</span></div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(isPPC64 ? PPC::CTR8 : PPC::CTR, PtrVT));</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  }</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <span class="comment">// If this is a direct call, pass the chain and the callee.</span></div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="keywordflow">if</span> (Callee.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()) {</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Chain);</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Callee);</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;  }</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="comment">// If this is a tail call add stack pointer delta.</span></div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(SPDiff, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  <span class="comment">// Add argument registers to the end of the list so that they are known live</span></div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <span class="comment">// into the call.</span></div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RegsToPass.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(RegsToPass[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first,</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                                  RegsToPass[i].second.getValueType()));</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  <span class="keywordflow">return</span> CallOpc;</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;}</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l03365"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#af8f1aa9eaa10954ed0f91b56e372edd9"> 3365</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#af8f1aa9eaa10954ed0f91b56e372edd9">isLocalCall</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Callee)</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;{</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a> = dyn_cast&lt;GlobalAddressSDNode&gt;(Callee))</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;getGlobal()-&gt;isDeclaration() &amp;&amp;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;           !<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;getGlobal()-&gt;isWeakForLinker();</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;}</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;PPCTargetLowering::LowerCallResult(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InFlag,</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                                   <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a> &amp;Ins,</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                                   <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                                   <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> RVLocs;</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCRetInfo(CallConv, isVarArg, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>(),</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                    <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>(), RVLocs, *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;  CCRetInfo.<a class="code" href="classllvm_1_1CCState.html#a34218a663a02de9dc2d26a5639f58ebe">AnalyzeCallResult</a>(Ins, RetCC_PPC);</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;  <span class="comment">// Copy all of the result registers out of their specified physreg.</span></div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RVLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = RVLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>() &amp;&amp; <span class="stringliteral">&quot;Can only return in registers!&quot;</span>);</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl,</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                                     VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>(), VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(), InFlag);</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    Chain = Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    InFlag = Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(2);</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    <span class="keywordflow">switch</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">getLocInfo</a>()) {</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown loc info!&quot;</span>);</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">CCValAssign::AExt</a>:</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;      Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>(), Val);</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">CCValAssign::ZExt</a>:</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;      Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">ISD::AssertZext</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(), Val,</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>()));</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>(), Val);</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">CCValAssign::SExt</a>:</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;      Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">ISD::AssertSext</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(), Val,</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>()));</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;      Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>(), Val);</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    }</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    InVals.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Val);</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;  }</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;  <span class="keywordflow">return</span> Chain;</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;}</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;PPCTargetLowering::FinishCall(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl,</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;                              <span class="keywordtype">bool</span> isTailCall, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;                              <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;                              <a class="code" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;std::pair&lt;unsigned, SDValue&gt;, 8&gt;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;                                &amp;RegsToPass,</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;                              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InFlag, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;                              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Callee,</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                              <span class="keywordtype">int</span> SPDiff, <span class="keywordtype">unsigned</span> NumBytes,</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a> &amp;Ins,</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  std::vector&lt;EVT&gt; NodeTys;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  <span class="keywordtype">unsigned</span> CallOpc = <a class="code" href="PPCISelLowering_8cpp.html#a6b0472389ca4b4ab52e69f94653442a7">PrepareCall</a>(DAG, Callee, InFlag, Chain, dl, SPDiff,</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;                                 isTailCall, RegsToPass, Ops, NodeTys,</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;                                 PPCSubTarget);</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;  <span class="comment">// Add implicit use of CR bit 6 for 32-bit SVR4 vararg calls</span></div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  <span class="keywordflow">if</span> (isVarArg &amp;&amp; PPCSubTarget.isSVR4ABI() &amp;&amp; !PPCSubTarget.isPPC64())</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::CR1EQ, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  <span class="comment">// When performing tail call optimization the callee pops its arguments off</span></div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;  <span class="comment">// the stack. Account for this here so these bytes can be pushed back on in</span></div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="comment">// PPCFrameLowering::eliminateCallFramePseudoInstr.</span></div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <span class="keywordtype">int</span> BytesCalleePops =</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    (CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a> &amp;&amp;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;     <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#ad54fc81a4ef7ab96137a9b6e78fdf838">GuaranteedTailCallOpt</a>) ? NumBytes : 0;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <span class="comment">// Add a register mask operand representing the call-preserved registers.</span></div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>();</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  <span class="keyword">const</span> uint32_t *Mask = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#abbdc1cffc65c3d42ac4c8f5003679071">getCallPreservedMask</a>(CallConv);</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  assert(Mask &amp;&amp; <span class="stringliteral">&quot;Missing call preserved mask for calling convention&quot;</span>);</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acfe1250a2214797a59c6457dd2180df9">getRegisterMask</a>(Mask));</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  <span class="keywordflow">if</span> (InFlag.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>())</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(InFlag);</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <span class="comment">// Emit tail call.</span></div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <span class="keywordflow">if</span> (isTailCall) {</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    assert(((Callee.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a419e8283a58d2b1b86591fa7f18ccfd9">ISD::Register</a> &amp;&amp;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;             cast&lt;RegisterSDNode&gt;(Callee)-&gt;<a class="code" href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a>() == PPC::CTR) ||</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;            Callee.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a59b314018a929255951f01f8daaae72f">ISD::TargetExternalSymbol</a> ||</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;            Callee.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b8176af163ee944af127081d24f4a2">ISD::TargetGlobalAddress</a> ||</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;            isa&lt;ConstantSDNode&gt;(Callee)) &amp;&amp;</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <span class="stringliteral">&quot;Expecting an global address, external symbol, absolute value or register&quot;</span>);</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa4dc9f480c199614ca9475c7969ead06">PPCISD::TC_RETURN</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, &amp;Ops[0], Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  }</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  <span class="comment">// Add a NOP immediately after the branch instruction when using the 64-bit</span></div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  <span class="comment">// SVR4 ABI. At link time, if caller and callee are in a different module and</span></div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;  <span class="comment">// thus have a different TOC, the call will be replaced with a call to a stub</span></div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;  <span class="comment">// function which saves the current TOC, loads the TOC of the callee and</span></div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <span class="comment">// branches to the callee. The NOP will be replaced with a load instruction</span></div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <span class="comment">// which restores the TOC of the caller from the TOC save slot of the current</span></div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <span class="comment">// stack frame. If caller and callee belong to the same module (and have the</span></div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  <span class="comment">// same TOC), the NOP will remain unchanged.</span></div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keywordtype">bool</span> needsTOCRestore = <span class="keyword">false</span>;</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;  <span class="keywordflow">if</span> (!isTailCall &amp;&amp; PPCSubTarget.isSVR4ABI()&amp;&amp; PPCSubTarget.isPPC64()) {</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">if</span> (CallOpc == <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a453b3ee2482b8a61bbcf5ce1cd6e395e">PPCISD::BCTRL</a>) {</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      <span class="comment">// This is a call through a function pointer.</span></div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;      <span class="comment">// Restore the caller TOC from the save area into R2.</span></div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;      <span class="comment">// See PrepareCall() for more information about calls through function</span></div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;      <span class="comment">// pointers in the 64-bit SVR4 ABI.</span></div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;      <span class="comment">// We are using a target-specific load with r2 hard coded, because the</span></div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;      <span class="comment">// result of a target-independent load would never go directly into r2,</span></div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;      <span class="comment">// since r2 is a reserved register (which prevents the register allocator</span></div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;      <span class="comment">// from allocating it), resulting in an additional register being</span></div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      <span class="comment">// allocated and an unnecessary move instruction being generated.</span></div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;      needsTOCRestore = <span class="keyword">true</span>;</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((CallOpc == <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa09dfd0e28e0ffea73ccfc88fb2fd95c">PPCISD::CALL</a>) &amp;&amp;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;               (!<a class="code" href="PPCISelLowering_8cpp.html#af8f1aa9eaa10954ed0f91b56e372edd9">isLocalCall</a>(Callee) ||</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">getRelocationModel</a>() == <a class="code" href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">Reloc::PIC_</a>)) {</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;      <span class="comment">// Otherwise insert NOP for non-local calls.</span></div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      CallOpc = <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ada865a374b524adeca1892f0eed6eb0e">PPCISD::CALL_NOP</a>;</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    }</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  }</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(CallOpc, dl, NodeTys, &amp;Ops[0], Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="keywordflow">if</span> (needsTOCRestore) {</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>);</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ab791c435016d75f72e1e95c54f3d42d9">PPCISD::TOC_RESTORE</a>, dl, VTs, Chain, InFlag);</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;  }</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a869cff5a579577d3aed2c9490bbecf28">getCALLSEQ_END</a>(Chain, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(NumBytes, <span class="keyword">true</span>),</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(BytesCalleePops, <span class="keyword">true</span>),</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;                             InFlag, dl);</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="keywordflow">if</span> (!Ins.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  <span class="keywordflow">return</span> LowerCallResult(Chain, InFlag, CallConv, isVarArg,</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;                         Ins, dl, DAG, InVals);</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;}</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;PPCTargetLowering::LowerCall(<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html">TargetLowering::CallLoweringInfo</a> &amp;CLI,</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG                     = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ae76ac9826f02f95aae34e845ac110244">DAG</a>;</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> &amp;dl                             = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">DL</a>;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::OutputArg&gt;</a> &amp;Outs = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ad07ce660c9cb208ae98a53ad8b3ce1de">Outs</a>;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OutVals     = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#adba9c4dde08bb0a9de1c99e7e039d8a0">OutVals</a>;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a> &amp;Ins   = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a423dda4ff918d4145ccc1861f059f940">Ins</a>;</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain                         = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#aa4872f31b8be67e8a1998454db0766bd">Chain</a>;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Callee                        = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a31faa4803c937d756c28947a070c6c2e">Callee</a>;</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  <span class="keywordtype">bool</span> &amp;isTailCall                      = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a283b7df55a414e3185b56aeea1ec7ee7">IsTailCall</a>;</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv              = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ae47a430364102f6e179d49cb3411b955">CallConv</a>;</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;  <span class="keywordtype">bool</span> isVarArg                         = CLI.<a class="code" href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a3eb6e80dc80f35553ccc33a89d691df8">IsVarArg</a>;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    isTailCall = IsEligibleForTailCallOptimization(Callee, CallConv, isVarArg,</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;                                                   Ins, DAG);</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.isSVR4ABI()) {</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <span class="keywordflow">if</span> (PPCSubTarget.isPPC64())</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;      <span class="keywordflow">return</span> LowerCall_64SVR4(Chain, Callee, CallConv, isVarArg,</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;                              isTailCall, Outs, OutVals, Ins,</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;                              dl, DAG, InVals);</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;      <span class="keywordflow">return</span> LowerCall_32SVR4(Chain, Callee, CallConv, isVarArg,</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;                              isTailCall, Outs, OutVals, Ins,</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;                              dl, DAG, InVals);</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  }</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  <span class="keywordflow">return</span> LowerCall_Darwin(Chain, Callee, CallConv, isVarArg,</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;                          isTailCall, Outs, OutVals, Ins,</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;                          dl, DAG, InVals);</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;}</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;PPCTargetLowering::LowerCall_32SVR4(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Callee,</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;                                    <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;                                    <span class="keywordtype">bool</span> isTailCall,</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::OutputArg&gt;</a> &amp;Outs,</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OutVals,</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a> &amp;Ins,</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;                                    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;  <span class="comment">// See PPCTargetLowering::LowerFormalArguments_32SVR4() for a description</span></div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <span class="comment">// of the 32-bit SVR4 ABI stack frame layout.</span></div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;  assert((CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">CallingConv::C</a> ||</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;          CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>) &amp;&amp; <span class="stringliteral">&quot;Unknown calling convention!&quot;</span>);</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <span class="keywordtype">unsigned</span> PtrByteSize = 4;</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;  <span class="comment">// Mark this function as potentially containing a function that contains a</span></div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  <span class="comment">// tail call. As a consequence the frame pointer will be used for dynamicalloc</span></div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  <span class="comment">// and restoring the callers stack pointer in this functions epilog. This is</span></div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;  <span class="comment">// done because by tail calling the called function might overwrite the value</span></div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;  <span class="comment">// in this function&#39;s (MF) stack pointer stack slot 0(SP).</span></div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().Options.GuaranteedTailCallOpt &amp;&amp;</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;      CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>)</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;()-&gt;setHasFastCall();</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;  <span class="comment">// Count how many bytes are to be pushed on the stack, including the linkage</span></div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;  <span class="comment">// area, parameter list area and the part of the local variable space which</span></div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;  <span class="comment">// contains copies of aggregates which are passed by value.</span></div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;  <span class="comment">// Assign locations to all of the outgoing arguments.</span></div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ArgLocs;</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CallConv, isVarArg, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>(),</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;                 <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>(), ArgLocs, *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  <span class="comment">// Reserve space for the linkage area on the stack.</span></div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  CCInfo.<a class="code" href="classllvm_1_1CCState.html#accd683afb417ec1f0f44c62c8b5a8fc4">AllocateStack</a>(<a class="code" href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">PPCFrameLowering::getLinkageSize</a>(<span class="keyword">false</span>, <span class="keyword">false</span>), PtrByteSize);</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <span class="comment">// Handle fixed and variable vector arguments differently.</span></div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    <span class="comment">// Fixed vector arguments go into registers as long as registers are</span></div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;    <span class="comment">// available. Variable vector arguments always go into memory.</span></div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    <span class="keywordtype">unsigned</span> NumArgs = Outs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumArgs; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;      <a class="code" href="classllvm_1_1MVT.html">MVT</a> ArgVT = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].VT;</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;      <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> ArgFlags = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Flags;</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;      <span class="keywordtype">bool</span> Result;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;      <span class="keywordflow">if</span> (Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].IsFixed) {</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        Result = CC_PPC32_SVR4(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ArgVT, ArgVT, <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>, ArgFlags,</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;                               CCInfo);</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;        Result = CC_PPC32_SVR4_VarArg(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ArgVT, ArgVT, <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>,</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;                                      ArgFlags, CCInfo);</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;      }</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;      <span class="keywordflow">if</span> (Result) {</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;        <a class="code" href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Call operand #&quot;</span> &lt;&lt; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; <span class="stringliteral">&quot; has unhandled type &quot;</span></div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;             &lt;&lt; <a class="code" href="structllvm_1_1EVT.html">EVT</a>(ArgVT).<a class="code" href="structllvm_1_1EVT.html#a840a2d72e6d1e7ec1c938ffd9f023c68">getEVTString</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(0);</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;      }</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    }</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    <span class="comment">// All arguments are treated the same.</span></div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    CCInfo.AnalyzeCallOperands(Outs, CC_PPC32_SVR4);</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  }</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  <span class="comment">// Assign locations to all of the outgoing aggregate by value arguments.</span></div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ByValArgLocs;</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCByValInfo(CallConv, isVarArg, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>(),</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;                      <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>(), ByValArgLocs, *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  <span class="comment">// Reserve stack space for the allocations in CCInfo.</span></div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;  CCByValInfo.<a class="code" href="classllvm_1_1CCState.html#accd683afb417ec1f0f44c62c8b5a8fc4">AllocateStack</a>(CCInfo.getNextStackOffset(), PtrByteSize);</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;  CCByValInfo.AnalyzeCallOperands(Outs, CC_PPC32_SVR4_ByVal);</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  <span class="comment">// Size of the linkage area, parameter list area and the part of the local</span></div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  <span class="comment">// space variable where copies of aggregates which are passed by value are</span></div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;  <span class="comment">// stored.</span></div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes = CCByValInfo.getNextStackOffset();</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;  <span class="comment">// Calculate by how many bytes the stack has to be adjusted in case of tail</span></div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;  <span class="comment">// call optimization.</span></div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  <span class="keywordtype">int</span> SPDiff = <a class="code" href="PPCISelLowering_8cpp.html#aaf0bcfcb9ee7e078bec6074304e31cb0">CalculateTailCallSPDiff</a>(DAG, isTailCall, NumBytes);</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;  <span class="comment">// Adjust the stack pointer for the new arguments...</span></div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  <span class="comment">// These operations are automatically eliminated by the prolog/epilog pass</span></div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae7819ab19d78a7d3729165fcbe95891d">getCALLSEQ_START</a>(Chain, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(NumBytes, <span class="keyword">true</span>),</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;                               dl);</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CallSeqStart = Chain;</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  <span class="comment">// Load the return address and frame pointer so it can be moved somewhere else</span></div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="comment">// later.</span></div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LROp, FPOp;</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  Chain = EmitTailCallLoadFPAndRetAddr(DAG, SPDiff, Chain, LROp, FPOp, <span class="keyword">false</span>,</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;                                       dl);</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  <span class="comment">// Set up a copy of the stack pointer for use loading and storing any</span></div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  <span class="comment">// arguments that may not fit in the registers available for argument</span></div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  <span class="comment">// passing.</span></div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::R1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, SDValue&gt;</a>, 8&gt; RegsToPass;</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TailCallArgumentInfo, 8&gt;</a> TailCallArguments;</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> MemOpChains;</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  <span class="keywordtype">bool</span> seenFloatArg = <span class="keyword">false</span>;</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;  <span class="comment">// Walk the register/memloc assignments, inserting copies/loads.</span></div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0, e = ArgLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e;</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;       ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = ArgLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg = OutVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Flags;</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) {</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;      <span class="comment">// Argument is an aggregate which is passed by value, thus we need to</span></div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;      <span class="comment">// create a copy of it in the local variable space of the current stack</span></div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;      <span class="comment">// frame (which is the stack frame of the caller) and pass the address of</span></div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;      <span class="comment">// this copy to the callee.</span></div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;      assert((<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; ByValArgLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) &amp;&amp; <span class="stringliteral">&quot;Index out of bounds!&quot;</span>);</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;ByValVA = ByValArgLocs[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>++];</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;      assert((VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>() == ByValVA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()) &amp;&amp; <span class="stringliteral">&quot;ValNo mismatch!&quot;</span>);</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;      <span class="comment">// Memory reserved in the local variable space of the callers stack frame.</span></div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;      <span class="keywordtype">unsigned</span> LocMemOffset = ByValVA.<a class="code" href="classllvm_1_1CCValAssign.html#a7b19fa41486ca39142442dd962c8d3b6">getLocMemOffset</a>();</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(LocMemOffset);</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;      PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>(), StackPtr, PtrOff);</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;      <span class="comment">// Create a copy of the argument in the local area of the current</span></div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;      <span class="comment">// stack frame.</span></div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MemcpyCall =</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#afcf8b8a06b0dba7e061a154072543bdd">CreateCopyOfByValArgument</a>(Arg, PtrOff,</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;                                  CallSeqStart.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0),</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;                                  <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>, DAG, dl);</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;      <span class="comment">// This must go outside the CALLSEQ_START..END.</span></div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewCallSeqStart = DAG.getCALLSEQ_START(MemcpyCall,</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;                           CallSeqStart.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1),</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;                           <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(MemcpyCall));</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;      DAG.ReplaceAllUsesWith(CallSeqStart.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(),</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;                             NewCallSeqStart.getNode());</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;      Chain = CallSeqStart = NewCallSeqStart;</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;      <span class="comment">// Pass the address of the aggregate copy on the stack either in a</span></div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;      <span class="comment">// physical register or in the parameter list area of the current stack</span></div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;      <span class="comment">// frame to the callee.</span></div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;      Arg = PtrOff;</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    }</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="keywordflow">if</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>()) {</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;      seenFloatArg |= VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>().<a class="code" href="classllvm_1_1MVT.html#ab1311d6d51755d404adc348ad4aeaaad">isFloatingPoint</a>();</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;      <span class="comment">// Put argument in a physical register.</span></div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;      RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>(), Arg));</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;      <span class="comment">// Put argument in the parameter list area of the current stack frame.</span></div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;      assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5b5b7a20dd6b367935d4f44744ab6e08">isMemLoc</a>());</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;      <span class="keywordtype">unsigned</span> LocMemOffset = VA.<a class="code" href="classllvm_1_1CCValAssign.html#a7b19fa41486ca39142442dd962c8d3b6">getLocMemOffset</a>();</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      <span class="keywordflow">if</span> (!isTailCall) {</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(LocMemOffset);</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;        PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>(), StackPtr, PtrOff);</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;        MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, Arg, PtrOff,</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;                                           <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;                                           <span class="keyword">false</span>, <span class="keyword">false</span>, 0));</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;        <span class="comment">// Calculate and remember argument location.</span></div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a426e30bfd2fb5f211f8e72d9d4374ac2">CalculateTailCallArgDest</a>(DAG, MF, <span class="keyword">false</span>, Arg, SPDiff, LocMemOffset,</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;                                 TailCallArguments);</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;      }</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    }</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  }</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  <span class="keywordflow">if</span> (!MemOpChains.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;                        &amp;MemOpChains[0], MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;  <span class="comment">// Build a sequence of copy-to-reg nodes chained together with token chain</span></div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;  <span class="comment">// and flag operands which copy the outgoing args into the appropriate regs.</span></div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InFlag;</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, RegsToPass[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first,</div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;                             RegsToPass[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second, InFlag);</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  }</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  <span class="comment">// Set CR bit 6 to true if this is a vararg call with floating args passed in</span></div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;  <span class="comment">// registers.</span></div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>);</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = { Chain, InFlag };</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(seenFloatArg ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7fa84f3807a868c9e48e0928e3ac7f81">PPCISD::CR6SET</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0a616f27a6f2de704ab3ed849b50b181">PPCISD::CR6UNSET</a>,</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;                        dl, VTs, Ops, InFlag.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() ? 2 : 1);</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  }</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#a16f390005ac008f017658dfcb7fe9950">PrepareTailCall</a>(DAG, InFlag, Chain, dl, <span class="keyword">false</span>, SPDiff, NumBytes, LROp, FPOp,</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;                    <span class="keyword">false</span>, TailCallArguments);</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  <span class="keywordflow">return</span> FinishCall(CallConv, dl, isTailCall, isVarArg, DAG,</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;                    RegsToPass, InFlag, Chain, Callee, SPDiff, NumBytes,</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;                    Ins, InVals);</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;}</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;<span class="comment">// Copy an argument into memory, being careful to do this outside the</span></div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;<span class="comment">// call sequence for the call to which the argument belongs.</span></div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;PPCTargetLowering::createMemcpyOutsideCallSeq(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff,</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;                                              <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CallSeqStart,</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;                                              <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags,</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;                                              <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;                                              <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl)<span class="keyword"> const </span>{</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MemcpyCall = <a class="code" href="PPCISelLowering_8cpp.html#afcf8b8a06b0dba7e061a154072543bdd">CreateCopyOfByValArgument</a>(Arg, PtrOff,</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;                        CallSeqStart.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0),</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;                        <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>, DAG, dl);</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <span class="comment">// The MEMCPY must go outside the CALLSEQ_START..END.</span></div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewCallSeqStart = DAG.getCALLSEQ_START(MemcpyCall,</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;                             CallSeqStart.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1),</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;                             <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(MemcpyCall));</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  DAG.ReplaceAllUsesWith(CallSeqStart.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(),</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;                         NewCallSeqStart.getNode());</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <span class="keywordflow">return</span> NewCallSeqStart;</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;}</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;PPCTargetLowering::LowerCall_64SVR4(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Callee,</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;                                    <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;                                    <span class="keywordtype">bool</span> isTailCall,</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::OutputArg&gt;</a> &amp;Outs,</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OutVals,</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a> &amp;Ins,</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;                                    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = Outs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  <span class="keywordtype">unsigned</span> PtrByteSize = 8;</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;  <span class="comment">// Mark this function as potentially containing a function that contains a</span></div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <span class="comment">// tail call. As a consequence the frame pointer will be used for dynamicalloc</span></div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="comment">// and restoring the callers stack pointer in this functions epilog. This is</span></div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  <span class="comment">// done because by tail calling the called function might overwrite the value</span></div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  <span class="comment">// in this function&#39;s (MF) stack pointer stack slot 0(SP).</span></div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().Options.GuaranteedTailCallOpt &amp;&amp;</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;      CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>)</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;()-&gt;setHasFastCall();</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <span class="keywordtype">unsigned</span> nAltivecParamsAtEnd = 0;</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;  <span class="comment">// Count how many bytes are to be pushed on the stack, including the linkage</span></div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;  <span class="comment">// area, and parameter passing area.  We start with at least 48 bytes, which</span></div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  <span class="comment">// is reserved space for [SP][CR][LR][3 x unused].</span></div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  <span class="comment">// NOTE: For PPC64, nAltivecParamsAtEnd always remains zero as a result</span></div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="comment">// of this call.</span></div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes =</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#a3c31aec5751525d6fd2c9a3c7916b637">CalculateParameterAndLinkageAreaSize</a>(DAG, <span class="keyword">true</span>, isVarArg, CallConv,</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                                         Outs, OutVals, nAltivecParamsAtEnd);</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  <span class="comment">// Calculate by how many bytes the stack has to be adjusted in case of tail</span></div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="comment">// call optimization.</span></div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="keywordtype">int</span> SPDiff = <a class="code" href="PPCISelLowering_8cpp.html#aaf0bcfcb9ee7e078bec6074304e31cb0">CalculateTailCallSPDiff</a>(DAG, isTailCall, NumBytes);</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <span class="comment">// To protect arguments on the stack from being clobbered in a tail call,</span></div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <span class="comment">// force all the loads to happen before doing any other lowering.</span></div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1487d4dfd14eebe24447f52b04bb8f6f">getStackArgumentTokenFactor</a>(Chain);</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  <span class="comment">// Adjust the stack pointer for the new arguments...</span></div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <span class="comment">// These operations are automatically eliminated by the prolog/epilog pass</span></div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae7819ab19d78a7d3729165fcbe95891d">getCALLSEQ_START</a>(Chain, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(NumBytes, <span class="keyword">true</span>),</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;                               dl);</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CallSeqStart = Chain;</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  <span class="comment">// Load the return address and frame pointer so it can be move somewhere else</span></div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <span class="comment">// later.</span></div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LROp, FPOp;</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  Chain = EmitTailCallLoadFPAndRetAddr(DAG, SPDiff, Chain, LROp, FPOp, <span class="keyword">true</span>,</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;                                       dl);</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <span class="comment">// Set up a copy of the stack pointer for use loading and storing any</span></div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;  <span class="comment">// arguments that may not fit in the registers available for argument</span></div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  <span class="comment">// passing.</span></div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  <span class="comment">// Figure out which arguments are going to go in registers, and which in</span></div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <span class="comment">// memory.  Also, if this is a vararg function, floating point operations</span></div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <span class="comment">// must be stored to our stack, and loaded into integer regs as well, if</span></div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <span class="comment">// any integer regs are available for argument passing.</span></div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  <span class="keywordtype">unsigned</span> ArgOffset = <a class="code" href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">PPCFrameLowering::getLinkageSize</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="keywordtype">unsigned</span> GPR_idx = 0, FPR_idx = 0, VR_idx = 0;</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR[] = {</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    PPC::X3, PPC::X4, PPC::X5, PPC::X6,</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    PPC::X7, PPC::X8, PPC::X9, PPC::X10,</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  };</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t *FPR = <a class="code" href="PPCISelLowering_8cpp.html#a1cbd108eaf5aca7619ff85c02489c3a1">GetFPR</a>();</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t VR[] = {</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">PPC::V2</a>, PPC::V3, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca72ebe5e08d40fbab96c046e017576a32">PPC::V4</a>, PPC::V5, PPC::V6, PPC::V7, PPC::V8,</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    PPC::V9, PPC::V10, PPC::V11, PPC::V12, PPC::V13</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  };</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumGPRs = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(GPR);</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumFPRs = 13;</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumVRs  = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(VR);</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, SDValue&gt;</a>, 8&gt; RegsToPass;</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TailCallArgumentInfo, 8&gt;</a> TailCallArguments;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> MemOpChains;</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg = OutVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Flags;</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    <span class="comment">// PtrOff will be used to store the current argument to the stack if a</span></div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <span class="comment">// register cannot be found for it.</span></div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff;</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;    PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(ArgOffset, StackPtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, StackPtr, PtrOff);</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    <span class="comment">// Promote integers to 64-bit values.</span></div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    <span class="keywordflow">if</span> (Arg.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;      <span class="comment">// FIXME: Should this use ANY_EXTEND if neither sext nor zext?</span></div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;      <span class="keywordtype">unsigned</span> ExtOp = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ae3d1eab6cbe1d4d2bd95ac0844bdee8f">isSExt</a>() ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>;</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;      Arg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(ExtOp, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, Arg);</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    }</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    <span class="comment">// FIXME memcpy is used way more than necessary.  Correctness first.</span></div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;    <span class="comment">// Note: &quot;by value&quot; is code for passing a structure by value, not</span></div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    <span class="comment">// basic types.</span></div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) {</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      <span class="comment">// Note: Size includes alignment padding, so</span></div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;      <span class="comment">//   struct x { short a; char b; }</span></div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;      <span class="comment">// will have Size = 4.  With #pragma pack(1), it will have Size = 3.</span></div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      <span class="comment">// These are the proper values we need for right-justifying the</span></div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;      <span class="comment">// aggregate in a parameter register.</span></div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;      <span class="keywordtype">unsigned</span> Size = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>();</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      <span class="comment">// An empty aggregate parameter takes up no storage and no</span></div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;      <span class="comment">// registers.</span></div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;      <span class="keywordflow">if</span> (Size == 0)</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;      <span class="keywordtype">unsigned</span> BVAlign = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a24db357868a02447db2862c8b5cef52f">getByValAlign</a>();</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      <span class="keywordflow">if</span> (BVAlign &gt; 8) {</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;        <span class="keywordflow">if</span> (BVAlign % PtrByteSize != 0)</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;          <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;            <span class="stringliteral">&quot;ByVal alignment is not a multiple of the pointer size&quot;</span>);</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;        ArgOffset = ((ArgOffset+BVAlign-1)/BVAlign)*BVAlign;</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      }</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      <span class="comment">// All aggregates smaller than 8 bytes must be passed right-justified.</span></div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;      <span class="keywordflow">if</span> (Size==1 || Size==2 || Size==4) {</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = (Size==1) ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> : ((Size==2) ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">ISD::EXTLOAD</a>, dl, PtrVT, Chain, Arg,</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;                                        <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), VT,</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;                                        <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;        }</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;      }</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      <span class="keywordflow">if</span> (GPR_idx == NumGPRs &amp;&amp; Size &lt; 8) {</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Const = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(PtrByteSize - Size,</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;                                        PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff, Const);</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        Chain = CallSeqStart = createMemcpyOutsideCallSeq(Arg, AddPtr,</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;                                                          CallSeqStart,</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;                                                          Flags, DAG, dl);</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;        ArgOffset += PtrByteSize;</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;      }</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;      <span class="comment">// Copy entire object into memory.  There are cases where gcc-generated</span></div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;      <span class="comment">// code assumes it is there, even if it could be put entirely into</span></div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      <span class="comment">// registers.  (This is not what the doc says.)</span></div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      <span class="comment">// FIXME: The above statement is likely due to a misunderstanding of the</span></div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="comment">// documents.  All arguments must be copied into the parameter area BY</span></div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;      <span class="comment">// THE CALLEE in the event that the callee takes the address of any</span></div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;      <span class="comment">// formal argument.  That has not yet been implemented.  However, it is</span></div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;      <span class="comment">// reasonable to use the stack area as a staging area for the register</span></div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;      <span class="comment">// load.</span></div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;      <span class="comment">// Skip this for small aggregates, as we will use the same slot for a</span></div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;      <span class="comment">// right-justified copy, below.</span></div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;      <span class="keywordflow">if</span> (Size &gt;= 8)</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;        Chain = CallSeqStart = createMemcpyOutsideCallSeq(Arg, PtrOff,</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;                                                          CallSeqStart,</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;                                                          Flags, DAG, dl);</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      <span class="comment">// When a register is available, pass a small aggregate right-justified.</span></div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;      <span class="keywordflow">if</span> (Size &lt; 8 &amp;&amp; GPR_idx != NumGPRs) {</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;        <span class="comment">// The easiest way to get this right-justified in a register</span></div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;        <span class="comment">// is to copy the structure into the rightmost portion of a</span></div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;        <span class="comment">// local variable slot, then load the whole slot into the</span></div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;        <span class="comment">// register.</span></div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;        <span class="comment">// FIXME: The memcpy seems to produce pretty awful code for</span></div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;        <span class="comment">// small aggregates, particularly for packed ones.</span></div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;        <span class="comment">// FIXME: It would be preferable to use the slot in the</span></div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;        <span class="comment">// parameter save area instead of a new local variable.</span></div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Const = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(8 - Size, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff, Const);</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;        Chain = CallSeqStart = createMemcpyOutsideCallSeq(Arg, AddPtr,</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;                                                          CallSeqStart,</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;                                                          Flags, DAG, dl);</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;        <span class="comment">// Load the slot into the register.</span></div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Chain, PtrOff,</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;                                   <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;                                   <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;        MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;        RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;        <span class="comment">// Done with this argument.</span></div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        ArgOffset += PtrByteSize;</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;      }</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;      <span class="comment">// For aggregates larger than PtrByteSize, copy the pieces of the</span></div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;      <span class="comment">// object that fit into registers from the parameter save area.</span></div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>=0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>&lt;Size; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>+=PtrByteSize) {</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Const = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddArg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, Arg, Const);</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Chain, AddArg,</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;                                     <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;                                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;          ArgOffset += ((Size - <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> + PtrByteSize-1)/PtrByteSize)*PtrByteSize;</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;        }</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;      }</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    }</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="keywordflow">switch</span> (Arg.<a class="code" href="classllvm_1_1SDValue.html#a8bc8606044f2c3cdb6271c0378e0f9cf">getSimpleValueType</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ValueType for argument!&quot;</span>);</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;      <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;        RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Arg));</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(DAG, MF, Chain, Arg, PtrOff, SPDiff, ArgOffset,</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;                         <span class="keyword">true</span>, isTailCall, <span class="keyword">false</span>, MemOpChains,</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;                         TailCallArguments, dl);</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;      }</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;      ArgOffset += PtrByteSize;</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;      <span class="keywordflow">if</span> (FPR_idx != NumFPRs) {</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;        RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(FPR[FPR_idx++], Arg));</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;        <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;          <span class="comment">// A single float or an aggregate containing only a single float</span></div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;          <span class="comment">// must be passed right-justified in the stack doubleword, and</span></div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;          <span class="comment">// in the GPR, if one is available.</span></div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StoreOff;</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;          <span class="keywordflow">if</span> (Arg.<a class="code" href="classllvm_1_1SDValue.html#a8bc8606044f2c3cdb6271c0378e0f9cf">getSimpleValueType</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) {</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ConstFour = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(4, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;            StoreOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff, ConstFour);</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;          } <span class="keywordflow">else</span></div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;            StoreOff = PtrOff;</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, Arg, StoreOff,</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;          <span class="comment">// Float varargs are always shadowed in available integer registers</span></div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;          <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Store, PtrOff,</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;                                       <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;            MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;            RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;          }</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GPR_idx != NumGPRs)</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;          <span class="comment">// If we have any FPRs remaining, we may also have GPRs remaining.</span></div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;          ++GPR_idx;</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;        <span class="comment">// Single-precision floating-point values are mapped to the</span></div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;        <span class="comment">// second (rightmost) word of the stack doubleword.</span></div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;        <span class="keywordflow">if</span> (Arg.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) {</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ConstFour = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(4, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;          PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff, ConstFour);</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;        }</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(DAG, MF, Chain, Arg, PtrOff, SPDiff, ArgOffset,</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;                         <span class="keyword">true</span>, isTailCall, <span class="keyword">false</span>, MemOpChains,</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;                         TailCallArguments, dl);</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;      }</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      ArgOffset += 8;</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>:</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>:</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>:</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>:</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;      <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;        <span class="comment">// These go aligned on the stack, or in the corresponding R registers</span></div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;        <span class="comment">// when within range.  The Darwin PPC ABI doc claims they also go in</span></div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;        <span class="comment">// V registers; in fact gcc does this only for arguments that are</span></div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;        <span class="comment">// prototyped, not for those that match the ...  We do it for all</span></div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;        <span class="comment">// arguments, seems to work.</span></div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;        <span class="keywordflow">while</span> (ArgOffset % 16 !=0) {</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;          <span class="keywordflow">if</span> (GPR_idx != NumGPRs)</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;            GPR_idx++;</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;        }</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;        <span class="comment">// We could elide this store in the case where the object fits</span></div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;        <span class="comment">// entirely in R registers.  Maybe later.</span></div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;        PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, StackPtr,</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(ArgOffset, PtrVT));</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, Arg, PtrOff,</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;                                     <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;        MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;        <span class="keywordflow">if</span> (VR_idx != NumVRs) {</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, dl, Store, PtrOff,</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;                                     <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;                                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(VR[VR_idx++], Load));</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;        }</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;        ArgOffset += 16;</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;16; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+=PtrByteSize) {</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;          <span class="keywordflow">if</span> (GPR_idx == NumGPRs)</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ix = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff,</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;                                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, PtrVT));</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Store, Ix, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;                                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;        }</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;      }</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;      <span class="comment">// Non-varargs Altivec params generally go in registers, but have</span></div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;      <span class="comment">// stack space allocated at the end.</span></div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;      <span class="keywordflow">if</span> (VR_idx != NumVRs) {</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;        <span class="comment">// Doesn&#39;t have GPR space allocated.</span></div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;        RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(VR[VR_idx++], Arg));</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(DAG, MF, Chain, Arg, PtrOff, SPDiff, ArgOffset,</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;                         <span class="keyword">true</span>, isTailCall, <span class="keyword">true</span>, MemOpChains,</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;                         TailCallArguments, dl);</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;        ArgOffset += 16;</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;      }</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    }</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  }</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="keywordflow">if</span> (!MemOpChains.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;                        &amp;MemOpChains[0], MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <span class="comment">// Check if this is an indirect call (MTCTR/BCTRL).</span></div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="comment">// See PrepareCall() for more information about calls through function</span></div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="comment">// pointers in the 64-bit SVR4 ABI.</span></div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;  <span class="keywordflow">if</span> (!isTailCall &amp;&amp;</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;      !dyn_cast&lt;GlobalAddressSDNode&gt;(Callee) &amp;&amp;</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;      !<a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ExternalSymbolSDNode.html">ExternalSymbolSDNode</a>&gt;(Callee) &amp;&amp;</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;      !<a class="code" href="PPCISelLowering_8cpp.html#aca2e60fc82a1bde79b2afe10ef5c520d">isBLACompatibleAddress</a>(Callee, DAG)) {</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    <span class="comment">// Load r2 into a virtual register and store it to the TOC save area.</span></div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(Chain, dl, PPC::X2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    <span class="comment">// TOC save area offset.</span></div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(40);</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, StackPtr, PtrOff);</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, Val, AddPtr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;                         <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    <span class="comment">// R12 must contain the address of an indirect callee.  This does not</span></div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;    <span class="comment">// mean the MTCTR instruction must use R12; it&#39;s easier to model this</span></div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;    <span class="comment">// as an extra parameter, so do that.</span></div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;    RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair((<span class="keywordtype">unsigned</span>)PPC::X12, Callee));</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;  }</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <span class="comment">// Build a sequence of copy-to-reg nodes chained together with token chain</span></div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;  <span class="comment">// and flag operands which copy the outgoing args into the appropriate regs.</span></div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InFlag;</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, RegsToPass[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first,</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;                             RegsToPass[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second, InFlag);</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  }</div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;  <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#a16f390005ac008f017658dfcb7fe9950">PrepareTailCall</a>(DAG, InFlag, Chain, dl, <span class="keyword">true</span>, SPDiff, NumBytes, LROp,</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;                    FPOp, <span class="keyword">true</span>, TailCallArguments);</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;  <span class="keywordflow">return</span> FinishCall(CallConv, dl, isTailCall, isVarArg, DAG,</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;                    RegsToPass, InFlag, Chain, Callee, SPDiff, NumBytes,</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;                    Ins, InVals);</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;}</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;PPCTargetLowering::LowerCall_Darwin(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Callee,</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;                                    <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;                                    <span class="keywordtype">bool</span> isTailCall,</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::OutputArg&gt;</a> &amp;Outs,</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OutVals,</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::InputArg&gt;</a> &amp;Ins,</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;                                    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;InVals)<span class="keyword"> const </span>{</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = Outs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = PtrVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;  <span class="keywordtype">unsigned</span> PtrByteSize = isPPC64 ? 8 : 4;</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;  <span class="comment">// Mark this function as potentially containing a function that contains a</span></div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;  <span class="comment">// tail call. As a consequence the frame pointer will be used for dynamicalloc</span></div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;  <span class="comment">// and restoring the callers stack pointer in this functions epilog. This is</span></div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;  <span class="comment">// done because by tail calling the called function might overwrite the value</span></div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;  <span class="comment">// in this function&#39;s (MF) stack pointer stack slot 0(SP).</span></div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().Options.GuaranteedTailCallOpt &amp;&amp;</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;      CallConv == <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">CallingConv::Fast</a>)</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;()-&gt;setHasFastCall();</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  <span class="keywordtype">unsigned</span> nAltivecParamsAtEnd = 0;</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;  <span class="comment">// Count how many bytes are to be pushed on the stack, including the linkage</span></div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;  <span class="comment">// area, and parameter passing area.  We start with 24/48 bytes, which is</span></div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;  <span class="comment">// prereserved space for [SP][CR][LR][3 x unused].</span></div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes =</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#a3c31aec5751525d6fd2c9a3c7916b637">CalculateParameterAndLinkageAreaSize</a>(DAG, isPPC64, isVarArg, CallConv,</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;                                         Outs, OutVals,</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;                                         nAltivecParamsAtEnd);</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;  <span class="comment">// Calculate by how many bytes the stack has to be adjusted in case of tail</span></div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;  <span class="comment">// call optimization.</span></div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  <span class="keywordtype">int</span> SPDiff = <a class="code" href="PPCISelLowering_8cpp.html#aaf0bcfcb9ee7e078bec6074304e31cb0">CalculateTailCallSPDiff</a>(DAG, isTailCall, NumBytes);</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <span class="comment">// To protect arguments on the stack from being clobbered in a tail call,</span></div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  <span class="comment">// force all the loads to happen before doing any other lowering.</span></div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a1487d4dfd14eebe24447f52b04bb8f6f">getStackArgumentTokenFactor</a>(Chain);</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;  <span class="comment">// Adjust the stack pointer for the new arguments...</span></div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;  <span class="comment">// These operations are automatically eliminated by the prolog/epilog pass</span></div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae7819ab19d78a7d3729165fcbe95891d">getCALLSEQ_START</a>(Chain, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(NumBytes, <span class="keyword">true</span>),</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;                               dl);</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CallSeqStart = Chain;</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  <span class="comment">// Load the return address and frame pointer so it can be move somewhere else</span></div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;  <span class="comment">// later.</span></div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LROp, FPOp;</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  Chain = EmitTailCallLoadFPAndRetAddr(DAG, SPDiff, Chain, LROp, FPOp, <span class="keyword">true</span>,</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;                                       dl);</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;  <span class="comment">// Set up a copy of the stack pointer for use loading and storing any</span></div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;  <span class="comment">// arguments that may not fit in the registers available for argument</span></div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;  <span class="comment">// passing.</span></div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr;</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;  <span class="keywordflow">if</span> (isPPC64)</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::X1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::R1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;  <span class="comment">// Figure out which arguments are going to go in registers, and which in</span></div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;  <span class="comment">// memory.  Also, if this is a vararg function, floating point operations</span></div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;  <span class="comment">// must be stored to our stack, and loaded into integer regs as well, if</span></div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  <span class="comment">// any integer regs are available for argument passing.</span></div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;  <span class="keywordtype">unsigned</span> ArgOffset = <a class="code" href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">PPCFrameLowering::getLinkageSize</a>(isPPC64, <span class="keyword">true</span>);</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;  <span class="keywordtype">unsigned</span> GPR_idx = 0, FPR_idx = 0, VR_idx = 0;</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR_32[] = {           <span class="comment">// 32-bit registers.</span></div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;    PPC::R3, <a class="code" href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">PPC::R4</a>, PPC::R5, <a class="code" href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">PPC::R6</a>,</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    PPC::R7, PPC::R8, PPC::R9, PPC::R10,</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;  };</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t GPR_64[] = {           <span class="comment">// 64-bit registers.</span></div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    PPC::X3, PPC::X4, PPC::X5, PPC::X6,</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    PPC::X7, PPC::X8, PPC::X9, PPC::X10,</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;  };</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t *FPR = <a class="code" href="PPCISelLowering_8cpp.html#a1cbd108eaf5aca7619ff85c02489c3a1">GetFPR</a>();</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> uint16_t VR[] = {</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">PPC::V2</a>, PPC::V3, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca72ebe5e08d40fbab96c046e017576a32">PPC::V4</a>, PPC::V5, PPC::V6, PPC::V7, PPC::V8,</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    PPC::V9, PPC::V10, PPC::V11, PPC::V12, PPC::V13</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;  };</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumGPRs = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(GPR_32);</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumFPRs = 13;</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumVRs  = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(VR);</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <span class="keyword">const</span> uint16_t *GPR = isPPC64 ? GPR_64 : GPR_32;</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, SDValue&gt;</a>, 8&gt; RegsToPass;</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TailCallArgumentInfo, 8&gt;</a> TailCallArguments;</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> MemOpChains;</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg = OutVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> Flags = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Flags;</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <span class="comment">// PtrOff will be used to store the current argument to the stack if a</span></div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    <span class="comment">// register cannot be found for it.</span></div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff;</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(ArgOffset, StackPtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, StackPtr, PtrOff);</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    <span class="comment">// On PPC64, promote integers to 64-bit values.</span></div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    <span class="keywordflow">if</span> (isPPC64 &amp;&amp; Arg.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;      <span class="comment">// FIXME: Should this use ANY_EXTEND if neither sext nor zext?</span></div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;      <span class="keywordtype">unsigned</span> ExtOp = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ae3d1eab6cbe1d4d2bd95ac0844bdee8f">isSExt</a>() ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>;</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;      Arg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(ExtOp, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, Arg);</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    }</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;    <span class="comment">// FIXME memcpy is used way more than necessary.  Correctness first.</span></div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    <span class="comment">// Note: &quot;by value&quot; is code for passing a structure by value, not</span></div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    <span class="comment">// basic types.</span></div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;    <span class="keywordflow">if</span> (Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">isByVal</a>()) {</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;      <span class="keywordtype">unsigned</span> Size = Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">getByValSize</a>();</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;      <span class="comment">// Very small objects are passed right-justified.  Everything else is</span></div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;      <span class="comment">// passed left-justified.</span></div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;      <span class="keywordflow">if</span> (Size==1 || Size==2) {</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = (Size==1) ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>;</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">ISD::EXTLOAD</a>, dl, PtrVT, Chain, Arg,</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;                                        <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), VT,</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;                                        <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Const = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(PtrByteSize - Size,</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;                                          PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff, Const);</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;          Chain = CallSeqStart = createMemcpyOutsideCallSeq(Arg, AddPtr,</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;                                                            CallSeqStart,</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;                                                            Flags, DAG, dl);</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;        }</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;      }</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;      <span class="comment">// Copy entire object into memory.  There are cases where gcc-generated</span></div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;      <span class="comment">// code assumes it is there, even if it could be put entirely into</span></div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;      <span class="comment">// registers.  (This is not what the doc says.)</span></div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;      Chain = CallSeqStart = createMemcpyOutsideCallSeq(Arg, PtrOff,</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;                                                        CallSeqStart,</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;                                                        Flags, DAG, dl);</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;      <span class="comment">// For small aggregates (Darwin only) and aggregates &gt;= PtrByteSize,</span></div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;      <span class="comment">// copy the pieces of the object that fit into registers from the</span></div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;      <span class="comment">// parameter save area.</span></div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>=0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>&lt;Size; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>+=PtrByteSize) {</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Const = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> AddArg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, Arg, Const);</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;        <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Chain, AddArg,</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;                                     <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;                                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;          ArgOffset += ((Size - <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> + PtrByteSize-1)/PtrByteSize)*PtrByteSize;</div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;        }</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;      }</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    }</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;    <span class="keywordflow">switch</span> (Arg.<a class="code" href="classllvm_1_1SDValue.html#a8bc8606044f2c3cdb6271c0378e0f9cf">getSimpleValueType</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ValueType for argument!&quot;</span>);</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;      <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;        RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Arg));</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(DAG, MF, Chain, Arg, PtrOff, SPDiff, ArgOffset,</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;                         isPPC64, isTailCall, <span class="keyword">false</span>, MemOpChains,</div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;                         TailCallArguments, dl);</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;      }</div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;      ArgOffset += PtrByteSize;</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;      <span class="keywordflow">if</span> (FPR_idx != NumFPRs) {</div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;        RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(FPR[FPR_idx++], Arg));</div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;</div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;        <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, Arg, PtrOff,</div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;          <span class="comment">// Float varargs are always shadowed in available integer registers</span></div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;          <span class="keywordflow">if</span> (GPR_idx != NumGPRs) {</div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Store, PtrOff,</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;                                       <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;            MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;            RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;          }</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;          <span class="keywordflow">if</span> (GPR_idx != NumGPRs &amp;&amp; Arg.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> &amp;&amp; !isPPC64){</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ConstFour = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(4, PtrOff.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;            PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff, ConstFour);</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Store, PtrOff,</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;                                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;                                       <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;            MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;            RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;          }</div><div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;          <span class="comment">// If we have any FPRs remaining, we may also have GPRs remaining.</span></div><div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;          <span class="comment">// Args passed in FPRs consume either 1 (f32) or 2 (f64) available</span></div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;          <span class="comment">// GPRs.</span></div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;          <span class="keywordflow">if</span> (GPR_idx != NumGPRs)</div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;            ++GPR_idx;</div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;          <span class="keywordflow">if</span> (GPR_idx != NumGPRs &amp;&amp; Arg.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> &amp;&amp;</div><div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;              !isPPC64)  <span class="comment">// PPC64 has 64-bit GPR&#39;s obviously :)</span></div><div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;            ++GPR_idx;</div><div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;        }</div><div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(DAG, MF, Chain, Arg, PtrOff, SPDiff, ArgOffset,</div><div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;                         isPPC64, isTailCall, <span class="keyword">false</span>, MemOpChains,</div><div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;                         TailCallArguments, dl);</div><div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;      <span class="keywordflow">if</span> (isPPC64)</div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        ArgOffset += 8;</div><div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        ArgOffset += Arg.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> ? 4 : 8;</div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>:</div><div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>:</div><div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>:</div><div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>:</div><div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;      <span class="keywordflow">if</span> (isVarArg) {</div><div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        <span class="comment">// These go aligned on the stack, or in the corresponding R registers</span></div><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;        <span class="comment">// when within range.  The Darwin PPC ABI doc claims they also go in</span></div><div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;        <span class="comment">// V registers; in fact gcc does this only for arguments that are</span></div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;        <span class="comment">// prototyped, not for those that match the ...  We do it for all</span></div><div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;        <span class="comment">// arguments, seems to work.</span></div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;        <span class="keywordflow">while</span> (ArgOffset % 16 !=0) {</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;          ArgOffset += PtrByteSize;</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;          <span class="keywordflow">if</span> (GPR_idx != NumGPRs)</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;            GPR_idx++;</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;        }</div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;        <span class="comment">// We could elide this store in the case where the object fits</span></div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;        <span class="comment">// entirely in R registers.  Maybe later.</span></div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;        PtrOff = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, StackPtr,</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(ArgOffset, PtrVT));</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, Arg, PtrOff,</div><div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;                                     <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;        MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Store);</div><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;        <span class="keywordflow">if</span> (VR_idx != NumVRs) {</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>, dl, Store, PtrOff,</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;                                     <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;                                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(VR[VR_idx++], Load));</div><div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;        }</div><div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;        ArgOffset += 16;</div><div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;16; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+=PtrByteSize) {</div><div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;          <span class="keywordflow">if</span> (GPR_idx == NumGPRs)</div><div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ix = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, PtrOff,</div><div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;                                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, PtrVT));</div><div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Store, Ix, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;                                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;          MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;          RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(GPR[GPR_idx++], Load));</div><div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;        }</div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;      }</div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;</div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;      <span class="comment">// Non-varargs Altivec params generally go in registers, but have</span></div><div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;      <span class="comment">// stack space allocated at the end.</span></div><div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;      <span class="keywordflow">if</span> (VR_idx != NumVRs) {</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;        <span class="comment">// Doesn&#39;t have GPR space allocated.</span></div><div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;        RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(VR[VR_idx++], Arg));</div><div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nAltivecParamsAtEnd==0) {</div><div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;        <span class="comment">// We are emitting Altivec params in order.</span></div><div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(DAG, MF, Chain, Arg, PtrOff, SPDiff, ArgOffset,</div><div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;                         isPPC64, isTailCall, <span class="keyword">true</span>, MemOpChains,</div><div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;                         TailCallArguments, dl);</div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;        ArgOffset += 16;</div><div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;      }</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;    }</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;  }</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;  <span class="comment">// If all Altivec parameters fit in registers, as they usually do,</span></div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;  <span class="comment">// they get stack space following the non-Altivec parameters.  We</span></div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  <span class="comment">// don&#39;t track this here because nobody below needs it.</span></div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;  <span class="comment">// If there are more Altivec parameters than fit in registers emit</span></div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;  <span class="comment">// the stores here.</span></div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;  <span class="keywordflow">if</span> (!isVarArg &amp;&amp; nAltivecParamsAtEnd &gt; NumVRs) {</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0;</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    <span class="comment">// Offset is aligned; skip 1st 12 params which go in V registers.</span></div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    ArgOffset = ((ArgOffset+15)/16)*16;</div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    ArgOffset += 12*16;</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg = OutVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> ArgType = Outs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].VT;</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;      <span class="keywordflow">if</span> (ArgType==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a> || ArgType==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a> ||</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;          ArgType==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a> || ArgType==<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>) {</div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;        <span class="keywordflow">if</span> (++j &gt; NumVRs) {</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PtrOff;</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;          <span class="comment">// We are emitting Altivec params in order.</span></div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;          <a class="code" href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a>(DAG, MF, Chain, Arg, PtrOff, SPDiff, ArgOffset,</div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;                           isPPC64, isTailCall, <span class="keyword">true</span>, MemOpChains,</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;                           TailCallArguments, dl);</div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;          ArgOffset += 16;</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;        }</div><div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;      }</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    }</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;  }</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;  <span class="keywordflow">if</span> (!MemOpChains.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;                        &amp;MemOpChains[0], MemOpChains.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  <span class="comment">// On Darwin, R12 must contain the address of an indirect callee.  This does</span></div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;  <span class="comment">// not mean the MTCTR instruction must use R12; it&#39;s easier to model this as</span></div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;  <span class="comment">// an extra parameter, so do that.</span></div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;  <span class="keywordflow">if</span> (!isTailCall &amp;&amp;</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;      !dyn_cast&lt;GlobalAddressSDNode&gt;(Callee) &amp;&amp;</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;      !<a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ExternalSymbolSDNode.html">ExternalSymbolSDNode</a>&gt;(Callee) &amp;&amp;</div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;      !<a class="code" href="PPCISelLowering_8cpp.html#aca2e60fc82a1bde79b2afe10ef5c520d">isBLACompatibleAddress</a>(Callee, DAG))</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;    RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair((<span class="keywordtype">unsigned</span>)(isPPC64 ? PPC::X12 :</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;                                                   PPC::R12), Callee));</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;  <span class="comment">// Build a sequence of copy-to-reg nodes chained together with token chain</span></div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;  <span class="comment">// and flag operands which copy the outgoing args into the appropriate regs.</span></div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InFlag;</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RegsToPass.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, RegsToPass[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first,</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;                             RegsToPass[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second, InFlag);</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    InFlag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;  }</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;  <span class="keywordflow">if</span> (isTailCall)</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    <a class="code" href="PPCISelLowering_8cpp.html#a16f390005ac008f017658dfcb7fe9950">PrepareTailCall</a>(DAG, InFlag, Chain, dl, isPPC64, SPDiff, NumBytes, LROp,</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;                    FPOp, <span class="keyword">true</span>, TailCallArguments);</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;</div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;  <span class="keywordflow">return</span> FinishCall(CallConv, dl, isTailCall, isVarArg, DAG,</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;                    RegsToPass, InFlag, Chain, Callee, SPDiff, NumBytes,</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;                    Ins, InVals);</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;}</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;PPCTargetLowering::CanLowerReturn(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv,</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;                                  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::OutputArg&gt;</a> &amp;Outs,</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;                                  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context)<span class="keyword"> const </span>{</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> RVLocs;</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CallConv, isVarArg, MF, <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>(),</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;                 RVLocs, Context);</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;  <span class="keywordflow">return</span> CCInfo.<a class="code" href="classllvm_1_1CCState.html#a39b4b8d9063fc65669cad74610f8c011">CheckReturn</a>(Outs, RetCC_PPC);</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;}</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;PPCTargetLowering::LowerReturn(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain,</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;                               <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CallConv, <span class="keywordtype">bool</span> isVarArg,</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::OutputArg&gt;</a> &amp;Outs,</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;OutVals,</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;                               <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> RVLocs;</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CallConv, isVarArg, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>(),</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;                 <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>(), RVLocs, *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;  CCInfo.<a class="code" href="classllvm_1_1CCState.html#a73b07a938dd8182363ba52719d38bf53">AnalyzeReturn</a>(Outs, RetCC_PPC);</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Flag;</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 4&gt;</a> RetOps(1, Chain);</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;  <span class="comment">// Copy the result values into the output registers.</span></div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != RVLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = RVLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;    assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>() &amp;&amp; <span class="stringliteral">&quot;Can only return in registers!&quot;</span>);</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;</div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg = OutVals[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;    <span class="keywordflow">switch</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">getLocInfo</a>()) {</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown loc info!&quot;</span>);</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">CCValAssign::AExt</a>:</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;      Arg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(), Arg);</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">CCValAssign::ZExt</a>:</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;      Arg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(), Arg);</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">CCValAssign::SExt</a>:</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;      Arg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>(), Arg);</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;    }</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(Chain, dl, VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>(), Arg, Flag);</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;    Flag = Chain.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1);</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;    RetOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>(), VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>()));</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;  }</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;  RetOps[0] = Chain;  <span class="comment">// Update chain.</span></div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;  <span class="comment">// Add the flag if we have it.</span></div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  <span class="keywordflow">if</span> (Flag.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>())</div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    RetOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Flag);</div><div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;</div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aca057f3b5880594ff9a4ef1750a61924">PPCISD::RET_FLAG</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;                     &amp;RetOps[0], RetOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;}</div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;</div><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerSTACKRESTORE(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;Subtarget)<span class="keyword"> const </span>{</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;  <span class="comment">// When we pop the dynamic allocation we need to restore the SP link.</span></div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;  <span class="comment">// Get the corect type for pointers.</span></div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;</div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;  <span class="comment">// Construct the stack pointer operand.</span></div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;  <span class="keywordtype">unsigned</span> SP = isPPC64 ? PPC::X1 : PPC::R1;</div><div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(SP, PtrVT);</div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;</div><div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;  <span class="comment">// Get the operands for the STACKRESTORE.</span></div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SaveSP = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;</div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;  <span class="comment">// Load the old link SP.</span></div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoadLinkSP = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(PtrVT, dl, Chain, StackPtr,</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;                                   <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;                                   <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;  <span class="comment">// Restore the stack pointer.</span></div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;  Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">getCopyToReg</a>(LoadLinkSP.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), dl, SP, SaveSP);</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;  <span class="comment">// Store the old link SP.</span></div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, LoadLinkSP, StackPtr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;                      <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;}</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;</div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;PPCTargetLowering::getReturnAddrFrameIndex(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp; DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = PPCSubTarget.isPPC64();</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;  <span class="keywordtype">bool</span> isDarwinABI = PPCSubTarget.isDarwinABI();</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;  <span class="comment">// Get current frame pointer save index.  The users of this index will be</span></div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;  <span class="comment">// primarily DYNALLOC instructions.</span></div><div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;  <span class="keywordtype">int</span> RASI = FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a5466153a2e22cd8f1cfcf2dd77d1b3d7">getReturnAddrSaveIndex</a>();</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;  <span class="comment">// If the frame pointer save index hasn&#39;t been defined yet.</span></div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;  <span class="keywordflow">if</span> (!RASI) {</div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;    <span class="comment">// Find out what the fix offset of the frame pointer save area.</span></div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    <span class="keywordtype">int</span> LROffset = <a class="code" href="classllvm_1_1PPCFrameLowering.html#a4d69526bf0c3ba246820af1cbc25effe">PPCFrameLowering::getReturnSaveOffset</a>(isPPC64, isDarwinABI);</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    <span class="comment">// Allocate the frame index for frame pointer save area.</span></div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;    RASI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(isPPC64? 8 : 4, LROffset, <span class="keyword">true</span>);</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;    <span class="comment">// Save the result.</span></div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;    FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a19957a6465c3a7a64ada8dfdec4d5aba">setReturnAddrSaveIndex</a>(RASI);</div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;  }</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(RASI, PtrVT);</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;}</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;PPCTargetLowering::getFramePointerFrameIndex(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp; DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = PPCSubTarget.isPPC64();</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  <span class="keywordtype">bool</span> isDarwinABI = PPCSubTarget.isDarwinABI();</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;</div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <span class="comment">// Get current frame pointer save index.  The users of this index will be</span></div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;  <span class="comment">// primarily DYNALLOC instructions.</span></div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;  <span class="keywordtype">int</span> FPSI = FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0071b1186435b05bd312b95e5d09a50b">getFramePointerSaveIndex</a>();</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;  <span class="comment">// If the frame pointer save index hasn&#39;t been defined yet.</span></div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;  <span class="keywordflow">if</span> (!FPSI) {</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    <span class="comment">// Find out what the fix offset of the frame pointer save area.</span></div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    <span class="keywordtype">int</span> FPOffset = <a class="code" href="classllvm_1_1PPCFrameLowering.html#a97db50b03c1daa960e8d2e0fcb9e9f8b">PPCFrameLowering::getFramePointerSaveOffset</a>(isPPC64,</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;                                                           isDarwinABI);</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;</div><div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    <span class="comment">// Allocate the frame index for frame pointer save area.</span></div><div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    FPSI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">CreateFixedObject</a>(isPPC64? 8 : 4, FPOffset, <span class="keyword">true</span>);</div><div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    <span class="comment">// Save the result.</span></div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;    FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#afd615e1f3b75dc847e26ce6bd4932a56">setFramePointerSaveIndex</a>(FPSI);</div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;  }</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FPSI, PtrVT);</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;}</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerDYNAMIC_STACKALLOC(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;                                         <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;Subtarget)<span class="keyword"> const </span>{</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;  <span class="comment">// Get the inputs.</span></div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Size  = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;  <span class="comment">// Get the corect type for pointers.</span></div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;  <span class="comment">// Negate the size.</span></div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NegSize = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, PtrVT,</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;                                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, PtrVT), Size);</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;  <span class="comment">// Construct a node for the frame pointer save index.</span></div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FPSIdx = getFramePointerFrameIndex(DAG);</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;  <span class="comment">// Build a DYNALLOC node.</span></div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[3] = { Chain, NegSize, FPSIdx };</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;  <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(PtrVT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>);</div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a098fa0d2b0ca58b9d504edb6a164ee54">PPCISD::DYNALLOC</a>, dl, VTs, Ops, 3);</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;}</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::lowerEH_SJLJ_SETJMP(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;                                               <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(Op);</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a819ce93b1bf9e907128d4a48ce356a21">PPCISD::EH_SJLJ_SETJMP</a>, DL,</div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>),</div><div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;                     Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1));</div><div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;}</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::lowerEH_SJLJ_LONGJMP(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;                                                <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(Op);</div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ae1846075ba0055d16c23e95fb9069efd">PPCISD::EH_SJLJ_LONGJMP</a>, DL, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;                     Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1));</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;}</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;<span class="comment">/// LowerSELECT_CC - Lower floating point select_cc&#39;s into fsel instruction when</span></div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;<span class="comment">/// possible.</span></div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerSELECT_CC(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;  <span class="comment">// Not FP? Not a fsel.</span></div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;  <span class="keywordflow">if</span> (!Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#afc4147764cdb5599c67f747813ef9bdc">isFloatingPoint</a>() ||</div><div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;      !Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#afc4147764cdb5599c67f747813ef9bdc">isFloatingPoint</a>())</div><div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;    <span class="keywordflow">return</span> Op;</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;</div><div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;  <span class="comment">// We might be able to do better than this under some circumstances, but in</span></div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;  <span class="comment">// general, fsel-based lowering of select is a finite-math-only optimization.</span></div><div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;  <span class="comment">// For more information, see section F.3 of the 2.06 ISA specification.</span></div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;  <span class="keywordflow">if</span> (!DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a4d277b3eb8ea035973291fe90d27d280">NoInfsFPMath</a> ||</div><div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;      !DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#aaf9cc05758a26e784f7cfa554e76f175">NoNaNsFPMath</a>)</div><div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    <span class="keywordflow">return</span> Op;</div><div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;</div><div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = cast&lt;CondCodeSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(4))-&gt;<span class="keyword">get</span>();</div><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;</div><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ResVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> CmpVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), RHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TV  = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2), FV  = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(3);</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;  <span class="comment">// If the RHS of the comparison is a 0.0, we don&#39;t need to do the</span></div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;  <span class="comment">// subtraction at all.</span></div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Sel1;</div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#af4674b301fdc98e0a729a8d4690e45f2">isFloatingPointZero</a>(RHS))</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;    <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;       <span class="comment">// SETUO etc aren&#39;t handled by fsel.</span></div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>:</div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TV, FV);</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>:</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;      <span class="keywordflow">if</span> (LHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        LHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, LHS);</div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;      Sel1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT, LHS, TV, FV);</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;      <span class="keywordflow">if</span> (Sel1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;        Sel1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Sel1);</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT,</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, LHS), Sel1, FV);</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>:</div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>:</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TV, FV);  <span class="comment">// fsel is natively setge, swap operands for setlt</span></div><div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">ISD::SETOGE</a>:</div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>:</div><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;      <span class="keywordflow">if</span> (LHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;        LHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, LHS);</div><div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT, LHS, TV, FV);</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>:</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>:</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TV, FV);  <span class="comment">// fsel is natively setge, swap operands for setlt</span></div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">ISD::SETOLE</a>:</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>:</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;      <span class="keywordflow">if</span> (LHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;        LHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, LHS);</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT,</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, LHS), TV, FV);</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    }</div><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cmp;</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;  <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;       <span class="comment">// SETUO etc aren&#39;t handled by fsel.</span></div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>:</div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TV, FV);</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>:</div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;    Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, CmpVT, LHS, RHS);</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;    <span class="keywordflow">if</span> (Cmp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;      Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Cmp);</div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;    Sel1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT, Cmp, TV, FV);</div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;    <span class="keywordflow">if</span> (Sel1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;      Sel1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Sel1);</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT,</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Cmp), Sel1, FV);</div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">ISD::SETULT</a>:</div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">ISD::SETLT</a>:</div><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;    Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, CmpVT, LHS, RHS);</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <span class="keywordflow">if</span> (Cmp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;      Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Cmp);</div><div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT, Cmp, FV, TV);</div><div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">ISD::SETOGE</a>:</div><div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">ISD::SETGE</a>:</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, CmpVT, LHS, RHS);</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;    <span class="keywordflow">if</span> (Cmp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;      Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Cmp);</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT, Cmp, TV, FV);</div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>:</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">ISD::SETGT</a>:</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;    Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, CmpVT, RHS, LHS);</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;    <span class="keywordflow">if</span> (Cmp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;      Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Cmp);</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT, Cmp, FV, TV);</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">ISD::SETOLE</a>:</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>:</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, CmpVT, RHS, LHS);</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    <span class="keywordflow">if</span> (Cmp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)   <span class="comment">// Comparison is always 64-bits</span></div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;      Cmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Cmp);</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">PPCISD::FSEL</a>, dl, ResVT, Cmp, TV, FV);</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;  }</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  <span class="keywordflow">return</span> Op;</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;}</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;<span class="comment">// FIXME: Split this code up when LegalizeDAGTypes lands.</span></div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerFP_TO_INT(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;                                           <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl)<span class="keyword"> const </span>{</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  assert(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#afc4147764cdb5599c67f747813ef9bdc">isFloatingPoint</a>());</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;  <span class="keywordflow">if</span> (Src.getValueType() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    Src = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Src);</div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp;</div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="keywordflow">switch</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a8bc8606044f2c3cdb6271c0378e0f9cf">getSimpleValueType</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled FP_TO_INT type in custom expander!&quot;</span>);</div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>()==<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a> ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec">PPCISD::FCTIWZ</a> :</div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;                        (PPCSubTarget.hasFPCVT() ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a88c7793fdfe5003a35e5cac9a3527eb9">PPCISD::FCTIWUZ</a> :</div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;                                                   <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">PPCISD::FCTIDZ</a>),</div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;                      dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Src);</div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    assert((Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a> || PPCSubTarget.hasFPCVT()) &amp;&amp;</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;           <span class="stringliteral">&quot;i64 FP_TO_UINT is supported only with FPCVT&quot;</span>);</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>()==<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a> ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">PPCISD::FCTIDZ</a> :</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;                                                        <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a043df81d8fc961c94e42fc8fa2c71331">PPCISD::FCTIDUZ</a>,</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;                      dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Src);</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  }</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;  <span class="comment">// Convert the FP value to an int value through memory.</span></div><div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  <span class="keywordtype">bool</span> i32Stack = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; PPCSubTarget.hasSTFIWX() &amp;&amp;</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;    (Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a> || PPCSubTarget.hasFPCVT());</div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3de9644ea2dd81453acf760bd2c1f921">CreateStackTemporary</a>(i32Stack ? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>);</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  <span class="keywordtype">int</span> FI = cast&lt;FrameIndexSDNode&gt;(FIPtr)-&gt;getIndex();</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;  <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a> MPI = <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FI);</div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;</div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;  <span class="comment">// Emit a store to the stack slot.</span></div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain;</div><div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;  <span class="keywordflow">if</span> (i32Stack) {</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;      MF.<a class="code" href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">getMachineMemOperand</a>(MPI, <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>, 4, 4);</div><div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = { DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), Tmp, FIPtr };</div><div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af9feec7e8533ed4f31520496c458c1d0">getMemIntrinsicNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa71de12afd261e0b3f2e040ce1c10315">PPCISD::STFIWX</a>, dl,</div><div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>), Ops, <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(Ops),</div><div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;              <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, MMO);</div><div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl, Tmp, FIPtr,</div><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;                         MPI, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;</div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  <span class="comment">// Result is a load from the stack slot.  If loading 4 bytes, make sure to</span></div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;  <span class="comment">// add in a bias.</span></div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;  <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; !i32Stack) {</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    FIPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, FIPtr.getValueType(), FIPtr,</div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(4, FIPtr.getValueType()));</div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    MPI = <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>();</div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  }</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), dl, Chain, FIPtr, MPI,</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;}</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerINT_TO_FP(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;                                           <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;  <span class="comment">// Don&#39;t handle ppc_fp128 here; let it be lowered to a libcall.</span></div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;  <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;  assert((Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a> || PPCSubTarget.hasFPCVT()) &amp;&amp;</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;         <span class="stringliteral">&quot;UINT_TO_FP is supported only with FPCVT&quot;</span>);</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;  <span class="comment">// If we have FCFIDS, then use it when converting to single-precision.</span></div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="comment">// Otherwise, convert to double-precision and then round.</span></div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordtype">unsigned</span> FCFOp = (PPCSubTarget.hasFPCVT() &amp;&amp; Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ?</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;                   (Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a> ?</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;                    <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa52f8d0b1001830d27a193285d4a7090">PPCISD::FCFIDUS</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7e06dc9bf94c1b690b4379bec9d64962">PPCISD::FCFIDS</a>) :</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;                   (Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a> ?</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;                    <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aea46f7cc94ac666cf413d686484ce45d">PPCISD::FCFIDU</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892">PPCISD::FCFID</a>);</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a>      FCFTy = (PPCSubTarget.hasFPCVT() &amp;&amp; Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ?</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;                   <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>;</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;  <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SINT = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    <span class="comment">// When converting to single-precision, we actually need to convert</span></div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    <span class="comment">// to double-precision first and then round to single-precision.</span></div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    <span class="comment">// To avoid double-rounding effects during that operation, we have</span></div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;    <span class="comment">// to prepare the input operand.  Bits that might be truncated when</span></div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    <span class="comment">// converting to double-precision are replaced by a bit that won&#39;t</span></div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;    <span class="comment">// be lost at this stage, but is below the single-precision rounding</span></div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;    <span class="comment">// position.</span></div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    <span class="comment">// However, if -enable-unsafe-fp-math is in effect, accept double</span></div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;    <span class="comment">// rounding to avoid the extra overhead.</span></div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp;</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;        !PPCSubTarget.hasFPCVT() &amp;&amp;</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;        !DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a>) {</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;      <span class="comment">// Twiddle input to make sure the low 11 bits are zero.  (If this</span></div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;      <span class="comment">// is the case, we are guaranteed the value will fit into the 53 bit</span></div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;      <span class="comment">// mantissa of an IEEE double-precision value without rounding.)</span></div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;      <span class="comment">// If any of those low 11 bits were not zero originally, make sure</span></div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;      <span class="comment">// bit 12 (value 2048) is set instead, so that the final rounding</span></div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;      <span class="comment">// to single-precision gets the correct result.</span></div><div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Round = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>,</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;                                  SINT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(2047, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;      Round = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>,</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;                          Round, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(2047, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;      Round = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, Round, SINT);</div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;      Round = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>,</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;                          Round, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(-2048, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;      <span class="comment">// However, we cannot use that value unconditionally: if the magnitude</span></div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;      <span class="comment">// of the input value is small, the bit-twiddling we did above might</span></div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;      <span class="comment">// end up visibly changing the output.  Fortunately, in that case, we</span></div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;      <span class="comment">// don&#39;t need to twiddle bits since the original input will convert</span></div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;      <span class="comment">// exactly to double-precision floating-point already.  Therefore,</span></div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;      <span class="comment">// construct a conditional to use the original value if the top 11</span></div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;      <span class="comment">// bits are all sign-bit copies, and use the rounded value computed</span></div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;      <span class="comment">// above otherwise.</span></div><div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cond = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>,</div><div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;                                 SINT, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(53, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;      Cond = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>,</div><div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;                         Cond, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>));</div><div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;      Cond = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2650d530046f9ddfc602dc7383ba0730">getSetCC</a>(dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;                          Cond, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>), <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">ISD::SETUGT</a>);</div><div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;      SINT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, Cond, Round, SINT);</div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;    }</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, SINT);</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FP = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(FCFOp, dl, FCFTy, Bits);</div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;    <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; !PPCSubTarget.hasFPCVT())</div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;      FP = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, dl,</div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;                       <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, FP, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(0));</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    <span class="keywordflow">return</span> FP;</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;  }</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;  assert(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp;</div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;         <span class="stringliteral">&quot;Unhandled INT_TO_FP type in custom expander!&quot;</span>);</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;  <span class="comment">// Since we only generate this in 64-bit mode, we can take advantage of</span></div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;  <span class="comment">// 64-bit registers.  In particular, sign extend the input value into the</span></div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;  <span class="comment">// 64-bit register with extsw, store the WHOLE 64-bit value into the stack</span></div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;  <span class="comment">// then lfd it and fcfid it.</span></div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *FrameInfo = MF.getFrameInfo();</div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;</div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ld;</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.hasLFIWAX() || PPCSubTarget.hasFPCVT()) {</div><div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;    <span class="keywordtype">int</span> FrameIdx = FrameInfo-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a40416676e8af628d284ab2061a75ef19">CreateStackObject</a>(4, 4, <span class="keyword">false</span>);</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIdx = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FrameIdx, PtrVT);</div><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;</div><div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), FIdx,</div><div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;                                 <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FrameIdx),</div><div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;                                 <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;</div><div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    assert(cast&lt;StoreSDNode&gt;(Store)-&gt;getMemoryVT() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp;</div><div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;           <span class="stringliteral">&quot;Expected an i32 store&quot;</span>);</div><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;      MF.getMachineMemOperand(<a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FrameIdx),</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;                              <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>, 4, 4);</div><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = { <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a>, FIdx };</div><div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;    Ld = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af9feec7e8533ed4f31520496c458c1d0">getMemIntrinsicNode</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a> ?</div><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;                                   <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a480a6977d64df14b9af6821de3f520b9">PPCISD::LFIWZX</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af19177e57893484cb79f34527b5cd7f8">PPCISD::LFIWAX</a>,</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;                                 dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>),</div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;                                 Ops, 2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, MMO);</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    assert(PPCSubTarget.isPPC64() &amp;&amp;</div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;           <span class="stringliteral">&quot;i32-&gt;FP without LFIWAX supported only on PPC64&quot;</span>);</div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;    <span class="keywordtype">int</span> FrameIdx = FrameInfo-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a40416676e8af628d284ab2061a75ef19">CreateStackObject</a>(8, 8, <span class="keyword">false</span>);</div><div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIdx = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FrameIdx, PtrVT);</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ext64 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>,</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;                                Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0));</div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;</div><div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;    <span class="comment">// STD the extended value into the stack slot.</span></div><div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl, Ext64, FIdx,</div><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;                                 <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FrameIdx),</div><div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;                                 <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;</div><div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    <span class="comment">// Load the value as a double.</span></div><div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;    Ld = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, dl, Store, FIdx,</div><div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;                     <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FrameIdx),</div><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;  }</div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;</div><div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="comment">// FCFID it and return it.</span></div><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FP = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(FCFOp, dl, FCFTy, Ld);</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;  <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; !PPCSubTarget.hasFPCVT())</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;    FP = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, FP, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(0));</div><div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  <span class="keywordflow">return</span> FP;</div><div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;}</div><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerFLT_ROUNDS_(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;                                            <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;<span class="comment">   The rounding mode is in bits 30:31 of FPSR, and has the following</span></div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;<span class="comment">   settings:</span></div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;<span class="comment">     00 Round to nearest</span></div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;<span class="comment">     01 Round to 0</span></div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;<span class="comment">     10 Round to +inf</span></div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;<span class="comment">     11 Round to -inf</span></div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;<span class="comment">  FLT_ROUNDS, on the other hand, expects the following:</span></div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;<span class="comment">    -1 Undefined</span></div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;<span class="comment">     0 Round to 0</span></div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;<span class="comment">     1 Round to nearest</span></div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;<span class="comment">     2 Round to +inf</span></div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;<span class="comment">     3 Round to -inf</span></div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;<span class="comment">  To perform the conversion, we do:</span></div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;<span class="comment">    ((FPSCR &amp; 0x3) ^ ((~FPSCR &amp; 0x3) &gt;&gt; 1))</span></div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> MFFSreg, InFlag;</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;  <span class="comment">// Save FP Control Word to register</span></div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NodeTys[] = {</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>,    <span class="comment">// return register</span></div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>    <span class="comment">// unused in this context</span></div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;  };</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aab6a046c536c71121190fefd548d6b25">PPCISD::MFFS</a>, dl, NodeTys, &amp;InFlag, 0);</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;  <span class="comment">// Save FP register to stack slot</span></div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;  <span class="keywordtype">int</span> SSFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>()-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a40416676e8af628d284ab2061a75ef19">CreateStackObject</a>(8, 8, <span class="keyword">false</span>);</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackSlot = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(SSFI, PtrVT);</div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl, Chain,</div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;                               StackSlot, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>,0);</div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;</div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;  <span class="comment">// Load FP Control Word from low 32 bits of stack slot.</span></div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Four = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(4, PtrVT);</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Addr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, PtrVT, StackSlot, Four);</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CWD = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, dl, Store, Addr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;                            <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;  <span class="comment">// Transform as necessary</span></div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CWD1 =</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;                CWD, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(3, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CWD2 =</div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;                                        CWD, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(3, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)),</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(3, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)),</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;</div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RetVal =</div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, CWD1, CWD2);</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;</div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>((VT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() &lt; 16 ?</div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;                      <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>), dl, VT, RetVal);</div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;}</div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerSHL_PARTS(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = VT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  assert(Op.<a class="code" href="classllvm_1_1SDValue.html#a5f0447ef8ec128563ad131b76e5062bd">getNumOperands</a>() == 3 &amp;&amp;</div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;         VT == Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() &amp;&amp;</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;         <span class="stringliteral">&quot;Unexpected SHL!&quot;</span>);</div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;</div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;  <span class="comment">// Expand into a bunch of logical ops.  Note that these ops</span></div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;  <span class="comment">// depend on the PPC behavior for oversized shift amounts.</span></div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a> = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a> = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Amt = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2);</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> AmtVT = Amt.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;</div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, AmtVT,</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(BitWidth, AmtVT), Amt);</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">PPCISD::SHL</a>, dl, VT, Hi, Amt);</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">PPCISD::SRL</a>, dl, VT, Lo, Tmp1);</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a> , dl, VT, Tmp2, Tmp3);</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, AmtVT, Amt,</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(-BitWidth, AmtVT));</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">PPCISD::SHL</a>, dl, VT, Lo, Tmp5);</div><div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp4, Tmp6);</div><div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutLo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">PPCISD::SHL</a>, dl, VT, Lo, Amt);</div><div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutOps[] = { OutLo, OutHi };</div><div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5a041e40641fea3eb15756197eeaa226">getMergeValues</a>(OutOps, 2, dl);</div><div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;}</div><div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;</div><div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerSRL_PARTS(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = VT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;  assert(Op.<a class="code" href="classllvm_1_1SDValue.html#a5f0447ef8ec128563ad131b76e5062bd">getNumOperands</a>() == 3 &amp;&amp;</div><div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;         VT == Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() &amp;&amp;</div><div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;         <span class="stringliteral">&quot;Unexpected SRL!&quot;</span>);</div><div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;</div><div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;  <span class="comment">// Expand into a bunch of logical ops.  Note that these ops</span></div><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;  <span class="comment">// depend on the PPC behavior for oversized shift amounts.</span></div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a> = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a> = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Amt = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2);</div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> AmtVT = Amt.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;</div><div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, AmtVT,</div><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(BitWidth, AmtVT), Amt);</div><div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">PPCISD::SRL</a>, dl, VT, Lo, Amt);</div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">PPCISD::SHL</a>, dl, VT, Hi, Tmp1);</div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp2, Tmp3);</div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, AmtVT, Amt,</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(-BitWidth, AmtVT));</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">PPCISD::SRL</a>, dl, VT, Hi, Tmp5);</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutLo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp4, Tmp6);</div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">PPCISD::SRL</a>, dl, VT, Hi, Amt);</div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutOps[] = { OutLo, OutHi };</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5a041e40641fea3eb15756197eeaa226">getMergeValues</a>(OutOps, 2, dl);</div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;}</div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;</div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerSRA_PARTS(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = VT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;  assert(Op.<a class="code" href="classllvm_1_1SDValue.html#a5f0447ef8ec128563ad131b76e5062bd">getNumOperands</a>() == 3 &amp;&amp;</div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;         VT == Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() &amp;&amp;</div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;         <span class="stringliteral">&quot;Unexpected SRA!&quot;</span>);</div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;</div><div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;  <span class="comment">// Expand into a bunch of logical ops, followed by a select_cc.</span></div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a> = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a> = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Amt = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2);</div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> AmtVT = Amt.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;</div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>, dl, AmtVT,</div><div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(BitWidth, AmtVT), Amt);</div><div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">PPCISD::SRL</a>, dl, VT, Lo, Amt);</div><div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp3 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">PPCISD::SHL</a>, dl, VT, Hi, Tmp1);</div><div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp4 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>, dl, VT, Tmp2, Tmp3);</div><div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp5 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, AmtVT, Amt,</div><div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(-BitWidth, AmtVT));</div><div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp6 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aad0d80bf5cf5a07b271e4357ed436f62">PPCISD::SRA</a>, dl, VT, Hi, Tmp5);</div><div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aad0d80bf5cf5a07b271e4357ed436f62">PPCISD::SRA</a>, dl, VT, Hi, Amt);</div><div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutLo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac5049f4bc4c1d0322abab27481d30c37">getSelectCC</a>(dl, Tmp5, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, AmtVT),</div><div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;                                  Tmp4, Tmp6, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">ISD::SETLE</a>);</div><div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OutOps[] = { OutLo, OutHi };</div><div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5a041e40641fea3eb15756197eeaa226">getMergeValues</a>(OutOps, 2, dl);</div><div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;}</div><div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;</div><div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;<span class="comment">// Vector related lowering.</span></div><div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;<span class="comment">/// BuildSplatI - Build a canonical splati of Val with an element size of</span></div><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;<span class="comment">/// SplatSize.  Cast the result to VT.</span></div><div class="line"><a name="l05147"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8"> 5147</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(<span class="keywordtype">int</span> Val, <span class="keywordtype">unsigned</span> SplatSize, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT,</div><div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;                             <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl) {</div><div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;  assert(Val &gt;= -16 &amp;&amp; Val &lt;= 15 &amp;&amp; <span class="stringliteral">&quot;vsplti is out of range!&quot;</span>);</div><div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;</div><div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structllvm_1_1EVT.html">EVT</a> VTys[] = { <span class="comment">// canonical VT to use for each size.</span></div><div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;    <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a></div><div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;  };</div><div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;</div><div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ReqVT = VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a> ? VT : VTys[SplatSize-1];</div><div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;</div><div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;  <span class="comment">// Force vspltis[hw] -1 to vspltisb -1 to canonicalize.</span></div><div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;  <span class="keywordflow">if</span> (Val == -1)</div><div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    SplatSize = 1;</div><div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;</div><div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> CanonicalVT = VTys[SplatSize-1];</div><div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;</div><div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;  <span class="comment">// Build a canonical splat for this value.</span></div><div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Val, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div><div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a465f75c78f1dc551152248c9f203b88d">assign</a>(CanonicalVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>(), Elt);</div><div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, CanonicalVT,</div><div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;                              &amp;Ops[0], Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, ReqVT, Res);</div><div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;}</div><div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;<span class="comment">/// BuildIntrinsicOp - Return a unary operator intrinsic node with the</span></div><div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;<span class="comment">/// specified intrinsic ID.</span></div><div class="line"><a name="l05174"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb"> 5174</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<span class="keywordtype">unsigned</span> IID, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;                                <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl,</div><div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;                                <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>) {</div><div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;  <span class="keywordflow">if</span> (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>) DestVT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>, dl, DestVT,</div><div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IID, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>), Op);</div><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;}</div><div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;<span class="comment">/// BuildIntrinsicOp - Return a binary operator intrinsic node with the</span></div><div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;<span class="comment">/// specified intrinsic ID.</span></div><div class="line"><a name="l05184"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a5ba52cafc5ede3b5c035704137de4e39"> 5184</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<span class="keywordtype">unsigned</span> IID, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHS,</div><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;                                <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl,</div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;                                <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>) {</div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;  <span class="keywordflow">if</span> (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>) DestVT = LHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>, dl, DestVT,</div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IID, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>), LHS, RHS);</div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;}</div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;<span class="comment">/// BuildIntrinsicOp - Return a ternary operator intrinsic node with the</span></div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;<span class="comment">/// specified intrinsic ID.</span></div><div class="line"><a name="l05194"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#abe3c3d8d2f311d55666aa2b5996160aa"> 5194</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<span class="keywordtype">unsigned</span> IID, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1,</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;                                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op2, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;                                <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl, <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>) {</div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;  <span class="keywordflow">if</span> (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>) DestVT = Op0.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>, dl, DestVT,</div><div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IID, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>), Op0, Op1, Op2);</div><div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;}</div><div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;</div><div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;<span class="comment">/// BuildVSLDOI - Return a VECTOR_SHUFFLE that is a vsldoi of the specified</span></div><div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;<span class="comment">/// amount.  The result has the specified value type.</span></div><div class="line"><a name="l05205"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9"> 5205</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHS, <span class="keywordtype">unsigned</span> Amt,</div><div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;                             <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl) {</div><div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;  <span class="comment">// Force LHS/RHS to be the right type.</span></div><div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;  LHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, LHS);</div><div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  RHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, RHS);</div><div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;</div><div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;  <span class="keywordtype">int</span> Ops[16];</div><div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;    Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + Amt;</div><div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classT.html">T</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">getVectorShuffle</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, dl, LHS, RHS, Ops);</div><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, VT, T);</div><div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;}</div><div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;</div><div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;<span class="comment">// If this is a case we can&#39;t handle, return null and let the default</span></div><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;<span class="comment">// expansion code take care of it.  If we CAN select this case, and if it</span></div><div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;<span class="comment">// selects to a single instruction, return Op.  Otherwise, if we can codegen</span></div><div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;<span class="comment">// this case more efficiently than a constant pool load, lower it to the</span></div><div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;<span class="comment">// sequence of ops that should be used.</span></div><div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerBUILD_VECTOR(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;                                             <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;  <a class="code" href="classllvm_1_1BuildVectorSDNode.html">BuildVectorSDNode</a> *BVN = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BuildVectorSDNode.html">BuildVectorSDNode</a>&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;  assert(BVN != 0 &amp;&amp; <span class="stringliteral">&quot;Expected a BuildVectorSDNode in LowerBUILD_VECTOR&quot;</span>);</div><div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;</div><div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;  <span class="comment">// Check if this is a splat of a constant value.</span></div><div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> APSplatBits, APSplatUndef;</div><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;  <span class="keywordtype">unsigned</span> SplatBitSize;</div><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;  <span class="keywordtype">bool</span> HasAnyUndefs;</div><div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;  <span class="keywordflow">if</span> (! BVN-&gt;<a class="code" href="classllvm_1_1BuildVectorSDNode.html#a0d1aedc8b57ec58e82db037ccb38c2a2">isConstantSplat</a>(APSplatBits, APSplatUndef, SplatBitSize,</div><div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;                             HasAnyUndefs, 0, <span class="keyword">true</span>) || SplatBitSize &gt; 32)</div><div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;</div><div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;  <span class="keywordtype">unsigned</span> SplatBits = APSplatBits.<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>();</div><div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;  <span class="keywordtype">unsigned</span> SplatUndef = APSplatUndef.<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>();</div><div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;  <span class="keywordtype">unsigned</span> SplatSize = SplatBitSize / 8;</div><div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;</div><div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;  <span class="comment">// First, handle single instruction cases.</span></div><div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;</div><div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  <span class="comment">// All zeros?</span></div><div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;  <span class="keywordflow">if</span> (SplatBits == 0) {</div><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;    <span class="comment">// Canonicalize all zero vectors to be v4i32.</span></div><div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a> || HasAnyUndefs) {</div><div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Z = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;      Z = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, Z, Z, Z, Z);</div><div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;      Op = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Z);</div><div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;    }</div><div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;    <span class="keywordflow">return</span> Op;</div><div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;  }</div><div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;</div><div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;  <span class="comment">// If the sign extended value is in the range [-16,15], use VSPLTI[bhw].</span></div><div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;  int32_t SextVal= (int32_t(SplatBits &lt;&lt; (32-SplatBitSize)) &gt;&gt;</div><div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;                    (32-SplatBitSize));</div><div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;  <span class="keywordflow">if</span> (SextVal &gt;= -16 &amp;&amp; SextVal &lt;= 15)</div><div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(SextVal, SplatSize, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), DAG, dl);</div><div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;</div><div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;</div><div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;  <span class="comment">// Two instruction sequences.</span></div><div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;</div><div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;  <span class="comment">// If this value is in the range [-32,30] and is even, use:</span></div><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  <span class="comment">//     VSPLTI[bhw](val/2) + VSPLTI[bhw](val/2)</span></div><div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;  <span class="comment">// If this value is in the range [17,31] and is odd, use:</span></div><div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;  <span class="comment">//     VSPLTI[bhw](val-16) - VSPLTI[bhw](-16)</span></div><div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;  <span class="comment">// If this value is in the range [-31,-17] and is odd, use:</span></div><div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;  <span class="comment">//     VSPLTI[bhw](val+16) + VSPLTI[bhw](-16)</span></div><div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;  <span class="comment">// Note the last two are three-instruction sequences.</span></div><div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;  <span class="keywordflow">if</span> (SextVal &gt;= -32 &amp;&amp; SextVal &lt;= 31) {</div><div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;    <span class="comment">// To avoid having these optimizations undone by constant folding,</span></div><div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    <span class="comment">// we convert to a pseudo that will be expanded later into one of</span></div><div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    <span class="comment">// the above forms.</span></div><div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(SextVal, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    <span class="keywordtype">int</span> Size = VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a> ? 1 : (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a> ? 2 : 4);</div><div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EltSize = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Size, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a63d10572d28760b1a149732cc760628a">PPCISD::VADD_SPLAT</a>, dl, VT, Elt, EltSize);</div><div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;  }</div><div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;</div><div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;  <span class="comment">// If this is 0x8000_0000 x 4, turn into vspltisw + vslw.  If it is</span></div><div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;  <span class="comment">// 0x7FFF_FFFF x 4, turn it into not(0x8000_0000).  This is important</span></div><div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;  <span class="comment">// for fneg/fabs.</span></div><div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;  <span class="keywordflow">if</span> (SplatSize == 4 &amp;&amp; SplatBits == (0x7FFFFFFF&amp;~SplatUndef)) {</div><div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    <span class="comment">// Make -1 and vspltisw -1:</span></div><div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OnesV = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(-1, 4, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, DAG, dl);</div><div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;</div><div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    <span class="comment">// Make the VSLW intrinsic, computing 0x8000_0000.</span></div><div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a17b7b34ee0847ecc91dfe8f655282ee7">Intrinsic::ppc_altivec_vslw</a>, OnesV,</div><div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;                                   OnesV, DAG, dl);</div><div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;</div><div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;    <span class="comment">// xor by OnesV to invert it.</span></div><div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, Res, OnesV);</div><div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Res);</div><div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;  }</div><div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;</div><div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;  <span class="comment">// Check to see if this is a wide variety of vsplti*, binop self cases.</span></div><div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">signed</span> <span class="keywordtype">char</span> SplatCsts[] = {</div><div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    -1, 1, -2, 2, -3, 3, -4, 4, -5, 5, -6, 6, -7, 7,</div><div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    -8, 8, -9, 9, -10, 10, -11, 11, -12, 12, -13, 13, 14, -14, 15, -15, -16</div><div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;  };</div><div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;</div><div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> idx = 0; idx &lt; <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(SplatCsts); ++idx) {</div><div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    <span class="comment">// Indirect through the SplatCsts array so that we favor &#39;vsplti -1&#39; for</span></div><div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    <span class="comment">// cases which are ambiguous (e.g. formation of 0x8000_0000).  &#39;vsplti -1&#39;</span></div><div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = SplatCsts[idx];</div><div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;</div><div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;    <span class="comment">// Figure out what shift amount will be used by altivec if shifted by i in</span></div><div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;    <span class="comment">// this splat size.</span></div><div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    <span class="keywordtype">unsigned</span> TypeShiftAmt = i &amp; (SplatBitSize-1);</div><div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;</div><div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    <span class="comment">// vsplti + shl self.</span></div><div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    <span class="keywordflow">if</span> (SextVal == (<span class="keywordtype">int</span>)((unsigned)i &lt;&lt; TypeShiftAmt)) {</div><div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(i, SplatSize, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, DAG, dl);</div><div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IIDs[] = { <span class="comment">// Intrinsic to use for each size.</span></div><div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a732481d062147ffe21fbc2f1b216b6cb">Intrinsic::ppc_altivec_vslb</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ad690f1d0ad125514035c39d88452d3c8">Intrinsic::ppc_altivec_vslh</a>, 0,</div><div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a17b7b34ee0847ecc91dfe8f655282ee7">Intrinsic::ppc_altivec_vslw</a></div><div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;      };</div><div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;      Res = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(IIDs[SplatSize-1], Res, Res, DAG, dl);</div><div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Res);</div><div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;    }</div><div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;</div><div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;    <span class="comment">// vsplti + srl self.</span></div><div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    <span class="keywordflow">if</span> (SextVal == (<span class="keywordtype">int</span>)((unsigned)i &gt;&gt; TypeShiftAmt)) {</div><div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(i, SplatSize, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, DAG, dl);</div><div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IIDs[] = { <span class="comment">// Intrinsic to use for each size.</span></div><div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afc1dee59b7dffa14ad2f3c2819d16dc8">Intrinsic::ppc_altivec_vsrb</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a5f31b58fc7485a2453acd1ce570cb173">Intrinsic::ppc_altivec_vsrh</a>, 0,</div><div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4fd41c1ed2bcbe32f131759c1e271490">Intrinsic::ppc_altivec_vsrw</a></div><div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;      };</div><div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;      Res = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(IIDs[SplatSize-1], Res, Res, DAG, dl);</div><div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Res);</div><div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;    }</div><div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;</div><div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <span class="comment">// vsplti + sra self.</span></div><div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;    <span class="keywordflow">if</span> (SextVal == (<span class="keywordtype">int</span>)((unsigned)i &gt;&gt; TypeShiftAmt)) {</div><div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(i, SplatSize, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, DAG, dl);</div><div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IIDs[] = { <span class="comment">// Intrinsic to use for each size.</span></div><div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ad6cead31da9e6b4f016627a6727b6d66">Intrinsic::ppc_altivec_vsrab</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a846ed4e0a8555e2eb870e039aed8e4b2">Intrinsic::ppc_altivec_vsrah</a>, 0,</div><div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab4e56b2b48b90a855003286833c45010">Intrinsic::ppc_altivec_vsraw</a></div><div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;      };</div><div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;      Res = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(IIDs[SplatSize-1], Res, Res, DAG, dl);</div><div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Res);</div><div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    }</div><div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;</div><div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    <span class="comment">// vsplti + rol self.</span></div><div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;    <span class="keywordflow">if</span> (SextVal == (<span class="keywordtype">int</span>)(((unsigned)i &lt;&lt; TypeShiftAmt) |</div><div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;                         ((unsigned)i &gt;&gt; (SplatBitSize-TypeShiftAmt)))) {</div><div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(i, SplatSize, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, DAG, dl);</div><div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IIDs[] = { <span class="comment">// Intrinsic to use for each size.</span></div><div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4b38992540d8d149e91a73cc7122a2d5">Intrinsic::ppc_altivec_vrlb</a>, <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ad6b80d1c6463cfcc0470a3d914d2fced">Intrinsic::ppc_altivec_vrlh</a>, 0,</div><div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a248f93f61208480b5efb4e1e09539529">Intrinsic::ppc_altivec_vrlw</a></div><div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;      };</div><div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;      Res = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(IIDs[SplatSize-1], Res, Res, DAG, dl);</div><div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Res);</div><div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;    }</div><div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;</div><div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;    <span class="comment">// t = vsplti c, result = vsldoi t, t, 1</span></div><div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;    <span class="keywordflow">if</span> (SextVal == (<span class="keywordtype">int</span>)(((unsigned)i &lt;&lt; 8) | (i &lt; 0 ? 0xFF : 0))) {</div><div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classT.html">T</a> = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(i, SplatSize, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, DAG, dl);</div><div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a>(T, T, 1, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), DAG, dl);</div><div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;    }</div><div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;    <span class="comment">// t = vsplti c, result = vsldoi t, t, 2</span></div><div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;    <span class="keywordflow">if</span> (SextVal == (<span class="keywordtype">int</span>)(((unsigned)i &lt;&lt; 16) | (i &lt; 0 ? 0xFFFF : 0))) {</div><div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classT.html">T</a> = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(i, SplatSize, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, DAG, dl);</div><div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a>(T, T, 2, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), DAG, dl);</div><div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;    }</div><div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    <span class="comment">// t = vsplti c, result = vsldoi t, t, 3</span></div><div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;    <span class="keywordflow">if</span> (SextVal == (<span class="keywordtype">int</span>)(((unsigned)i &lt;&lt; 24) | (i &lt; 0 ? 0xFFFFFF : 0))) {</div><div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classT.html">T</a> = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(i, SplatSize, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, DAG, dl);</div><div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a>(T, T, 3, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), DAG, dl);</div><div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    }</div><div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;  }</div><div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;</div><div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;}</div><div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;<span class="comment">/// GeneratePerfectShuffle - Given an entry in the perfect-shuffle table, emit</span></div><div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;<span class="comment">/// the specified operations to build the shuffle.</span></div><div class="line"><a name="l05379"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a379fbc8b02bed2a8cf517415cdc251c8"> 5379</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="PPCISelLowering_8cpp.html#a379fbc8b02bed2a8cf517415cdc251c8">GeneratePerfectShuffle</a>(<span class="keywordtype">unsigned</span> PFEntry, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS,</div><div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;                                      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHS, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;                                      <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl) {</div><div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;  <span class="keywordtype">unsigned</span> OpNum = (PFEntry &gt;&gt; 26) &amp; 0x0F;</div><div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;  <span class="keywordtype">unsigned</span> LHSID = (PFEntry &gt;&gt; 13) &amp; ((1 &lt;&lt; 13)-1);</div><div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;  <span class="keywordtype">unsigned</span> RHSID = (PFEntry &gt;&gt;  0) &amp; ((1 &lt;&lt; 13)-1);</div><div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;</div><div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;    OP_COPY = 0,  <span class="comment">// Copy, used for things like &lt;u,u,u,3&gt; to say it is &lt;0,1,2,3&gt;</span></div><div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    OP_VMRGHW,</div><div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;    OP_VMRGLW,</div><div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;    OP_VSPLTISW0,</div><div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;    OP_VSPLTISW1,</div><div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    OP_VSPLTISW2,</div><div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    OP_VSPLTISW3,</div><div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    OP_VSLDOI4,</div><div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    OP_VSLDOI8,</div><div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    OP_VSLDOI12</div><div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;  };</div><div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;</div><div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;  <span class="keywordflow">if</span> (OpNum == OP_COPY) {</div><div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;    <span class="keywordflow">if</span> (LHSID == (1*9+2)*9+3) <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;    assert(LHSID == ((4*9+5)*9+6)*9+7 &amp;&amp; <span class="stringliteral">&quot;Illegal OP_COPY!&quot;</span>);</div><div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;    <span class="keywordflow">return</span> RHS;</div><div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;  }</div><div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;</div><div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OpLHS, OpRHS;</div><div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;  OpLHS = <a class="code" href="PPCISelLowering_8cpp.html#a379fbc8b02bed2a8cf517415cdc251c8">GeneratePerfectShuffle</a>(<a class="code" href="ARMPerfectShuffle_8h.html#a461cf57a94707854fa27b598c2e7826b">PerfectShuffleTable</a>[LHSID], LHS, RHS, DAG, dl);</div><div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;  OpRHS = <a class="code" href="PPCISelLowering_8cpp.html#a379fbc8b02bed2a8cf517415cdc251c8">GeneratePerfectShuffle</a>(<a class="code" href="ARMPerfectShuffle_8h.html#a461cf57a94707854fa27b598c2e7826b">PerfectShuffleTable</a>[RHSID], LHS, RHS, DAG, dl);</div><div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;</div><div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;  <span class="keywordtype">int</span> ShufIdxs[16];</div><div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;  <span class="keywordflow">switch</span> (OpNum) {</div><div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown i32 permute!&quot;</span>);</div><div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;  <span class="keywordflow">case</span> OP_VMRGHW:</div><div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;    ShufIdxs[ 0] =  0; ShufIdxs[ 1] =  1; ShufIdxs[ 2] =  2; ShufIdxs[ 3] =  3;</div><div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;    ShufIdxs[ 4] = 16; ShufIdxs[ 5] = 17; ShufIdxs[ 6] = 18; ShufIdxs[ 7] = 19;</div><div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;    ShufIdxs[ 8] =  4; ShufIdxs[ 9] =  5; ShufIdxs[10] =  6; ShufIdxs[11] =  7;</div><div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    ShufIdxs[12] = 20; ShufIdxs[13] = 21; ShufIdxs[14] = 22; ShufIdxs[15] = 23;</div><div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;  <span class="keywordflow">case</span> OP_VMRGLW:</div><div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;    ShufIdxs[ 0] =  8; ShufIdxs[ 1] =  9; ShufIdxs[ 2] = 10; ShufIdxs[ 3] = 11;</div><div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;    ShufIdxs[ 4] = 24; ShufIdxs[ 5] = 25; ShufIdxs[ 6] = 26; ShufIdxs[ 7] = 27;</div><div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    ShufIdxs[ 8] = 12; ShufIdxs[ 9] = 13; ShufIdxs[10] = 14; ShufIdxs[11] = 15;</div><div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    ShufIdxs[12] = 28; ShufIdxs[13] = 29; ShufIdxs[14] = 30; ShufIdxs[15] = 31;</div><div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;  <span class="keywordflow">case</span> OP_VSPLTISW0:</div><div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;      ShufIdxs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;3)+0;</div><div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;  <span class="keywordflow">case</span> OP_VSPLTISW1:</div><div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;      ShufIdxs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;3)+4;</div><div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;  <span class="keywordflow">case</span> OP_VSPLTISW2:</div><div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;      ShufIdxs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;3)+8;</div><div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;  <span class="keywordflow">case</span> OP_VSPLTISW3:</div><div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 16; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;      ShufIdxs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;3)+12;</div><div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;  <span class="keywordflow">case</span> OP_VSLDOI4:</div><div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a>(OpLHS, OpRHS, 4, OpLHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), DAG, dl);</div><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;  <span class="keywordflow">case</span> OP_VSLDOI8:</div><div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a>(OpLHS, OpRHS, 8, OpLHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), DAG, dl);</div><div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;  <span class="keywordflow">case</span> OP_VSLDOI12:</div><div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a>(OpLHS, OpRHS, 12, OpLHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), DAG, dl);</div><div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  }</div><div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = OpLHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;  OpLHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, OpLHS);</div><div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;  OpRHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, OpRHS);</div><div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classT.html">T</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">getVectorShuffle</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, dl, OpLHS, OpRHS, ShufIdxs);</div><div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, VT, T);</div><div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;}</div><div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;<span class="comment">/// LowerVECTOR_SHUFFLE - Return the code we lower for VECTOR_SHUFFLE.  If this</span></div><div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;<span class="comment">/// is a shuffle we can handle in a single instruction, return it.  Otherwise,</span></div><div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;<span class="comment">/// return the code it can be lowered into.  Worst case, it can always be</span></div><div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;<span class="comment">/// lowered into a vperm.</span></div><div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerVECTOR_SHUFFLE(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;                                               <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> V1 = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a> = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;  <a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *SVOp = cast&lt;ShuffleVectorSDNode&gt;(Op);</div><div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;</div><div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="comment">// Cases that are handled by instructions that take permute immediates</span></div><div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;  <span class="comment">// (such as vsplt*) should be left as VECTOR_SHUFFLE nodes so they can be</span></div><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;  <span class="comment">// selected by the instruction selector.</span></div><div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;  <span class="keywordflow">if</span> (V2.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>) {</div><div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PPC.html#adf912033ee385662cb4e40bd06206b67">PPC::isSplatShuffleMask</a>(SVOp, 1) ||</div><div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#adf912033ee385662cb4e40bd06206b67">PPC::isSplatShuffleMask</a>(SVOp, 2) ||</div><div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#adf912033ee385662cb4e40bd06206b67">PPC::isSplatShuffleMask</a>(SVOp, 4) ||</div><div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#ac08dd0e631069166e1c864b2bfbc05fe">PPC::isVPKUWUMShuffleMask</a>(SVOp, <span class="keyword">true</span>) ||</div><div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#a4546a80a0dc0cca8a263b80cc86122b0">PPC::isVPKUHUMShuffleMask</a>(SVOp, <span class="keyword">true</span>) ||</div><div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#a9fdffa1326c897a221fdba3dc82f0ec4">PPC::isVSLDOIShuffleMask</a>(SVOp, <span class="keyword">true</span>) != -1 ||</div><div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">PPC::isVMRGLShuffleMask</a>(SVOp, 1, <span class="keyword">true</span>) ||</div><div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">PPC::isVMRGLShuffleMask</a>(SVOp, 2, <span class="keyword">true</span>) ||</div><div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">PPC::isVMRGLShuffleMask</a>(SVOp, 4, <span class="keyword">true</span>) ||</div><div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">PPC::isVMRGHShuffleMask</a>(SVOp, 1, <span class="keyword">true</span>) ||</div><div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">PPC::isVMRGHShuffleMask</a>(SVOp, 2, <span class="keyword">true</span>) ||</div><div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;        <a class="code" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">PPC::isVMRGHShuffleMask</a>(SVOp, 4, <span class="keyword">true</span>)) {</div><div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;      <span class="keywordflow">return</span> Op;</div><div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;    }</div><div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;  }</div><div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;</div><div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;  <span class="comment">// Altivec has a variety of &quot;shuffle immediates&quot; that take two vector inputs</span></div><div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;  <span class="comment">// and produce a fixed permutation.  If any of these match, do not lower to</span></div><div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;  <span class="comment">// VPERM.</span></div><div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PPC.html#ac08dd0e631069166e1c864b2bfbc05fe">PPC::isVPKUWUMShuffleMask</a>(SVOp, <span class="keyword">false</span>) ||</div><div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a4546a80a0dc0cca8a263b80cc86122b0">PPC::isVPKUHUMShuffleMask</a>(SVOp, <span class="keyword">false</span>) ||</div><div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a9fdffa1326c897a221fdba3dc82f0ec4">PPC::isVSLDOIShuffleMask</a>(SVOp, <span class="keyword">false</span>) != -1 ||</div><div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">PPC::isVMRGLShuffleMask</a>(SVOp, 1, <span class="keyword">false</span>) ||</div><div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">PPC::isVMRGLShuffleMask</a>(SVOp, 2, <span class="keyword">false</span>) ||</div><div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">PPC::isVMRGLShuffleMask</a>(SVOp, 4, <span class="keyword">false</span>) ||</div><div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">PPC::isVMRGHShuffleMask</a>(SVOp, 1, <span class="keyword">false</span>) ||</div><div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">PPC::isVMRGHShuffleMask</a>(SVOp, 2, <span class="keyword">false</span>) ||</div><div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">PPC::isVMRGHShuffleMask</a>(SVOp, 4, <span class="keyword">false</span>))</div><div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;    <span class="keywordflow">return</span> Op;</div><div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;</div><div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;  <span class="comment">// Check to see if this is a shuffle of 4-byte values.  If so, we can use our</span></div><div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;  <span class="comment">// perfect shuffle table to emit an optimal matching sequence.</span></div><div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;int&gt;</a> PermMask = SVOp-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#a6fe922cdd5bea1aee12d8719bac484d3">getMask</a>();</div><div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;</div><div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;  <span class="keywordtype">unsigned</span> PFIndexes[4];</div><div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;  <span class="keywordtype">bool</span> isFourElementShuffle = <span class="keyword">true</span>;</div><div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 4 &amp;&amp; isFourElementShuffle; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="comment">// Element number</span></div><div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;    <span class="keywordtype">unsigned</span> EltNo = 8;   <span class="comment">// Start out undef.</span></div><div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != 4; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {  <span class="comment">// Intra-element byte.</span></div><div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;      <span class="keywordflow">if</span> (PermMask[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>] &lt; 0)</div><div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;        <span class="keywordflow">continue</span>;   <span class="comment">// Undef, ignore it.</span></div><div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;</div><div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;      <span class="keywordtype">unsigned</span> ByteSource = PermMask[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>];</div><div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;      <span class="keywordflow">if</span> ((ByteSource &amp; 3) != <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;        isFourElementShuffle = <span class="keyword">false</span>;</div><div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;      }</div><div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;</div><div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;      <span class="keywordflow">if</span> (EltNo == 8) {</div><div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;        EltNo = ByteSource/4;</div><div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EltNo != ByteSource/4) {</div><div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;        isFourElementShuffle = <span class="keyword">false</span>;</div><div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;      }</div><div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    }</div><div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;    PFIndexes[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = EltNo;</div><div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;  }</div><div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;</div><div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;  <span class="comment">// If this shuffle can be expressed as a shuffle of 4-byte elements, use the</span></div><div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;  <span class="comment">// perfect shuffle vector to determine if it is cost effective to do this as</span></div><div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;  <span class="comment">// discrete instructions, or whether we should use a vperm.</span></div><div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;  <span class="keywordflow">if</span> (isFourElementShuffle) {</div><div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;    <span class="comment">// Compute the index in the perfect shuffle table.</span></div><div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;    <span class="keywordtype">unsigned</span> PFTableIndex =</div><div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;      PFIndexes[0]*9*9*9+PFIndexes[1]*9*9+PFIndexes[2]*9+PFIndexes[3];</div><div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;</div><div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    <span class="keywordtype">unsigned</span> PFEntry = <a class="code" href="ARMPerfectShuffle_8h.html#a461cf57a94707854fa27b598c2e7826b">PerfectShuffleTable</a>[PFTableIndex];</div><div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;    <span class="keywordtype">unsigned</span> Cost  = (PFEntry &gt;&gt; 30);</div><div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;</div><div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;    <span class="comment">// Determining when to avoid vperm is tricky.  Many things affect the cost</span></div><div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;    <span class="comment">// of vperm, particularly how many times the perm mask needs to be computed.</span></div><div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;    <span class="comment">// For example, if the perm mask can be hoisted out of a loop or is already</span></div><div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;    <span class="comment">// used (perhaps because there are multiple permutes with the same shuffle</span></div><div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;    <span class="comment">// mask?) the vperm has a cost of 1.  OTOH, hoisting the permute mask out of</span></div><div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;    <span class="comment">// the loop requires an extra register.</span></div><div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;    <span class="comment">// As a compromise, we only emit discrete instructions if the shuffle can be</span></div><div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;    <span class="comment">// generated in 3 or fewer operations.  When we have loop information</span></div><div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    <span class="comment">// available, if this block is within a loop, we should avoid using vperm</span></div><div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;    <span class="comment">// for 3-operation perms and use a constant pool load instead.</span></div><div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;    <span class="keywordflow">if</span> (Cost &lt; 3)</div><div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#a379fbc8b02bed2a8cf517415cdc251c8">GeneratePerfectShuffle</a>(PFEntry, V1, V2, DAG, dl);</div><div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;  }</div><div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;</div><div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  <span class="comment">// Lower this to a VPERM(V1, V2, V3) expression, where V3 is a constant</span></div><div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;  <span class="comment">// vector that will get spilled to the constant pool.</span></div><div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <span class="keywordflow">if</span> (V2.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>) V2 = V1;</div><div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;</div><div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;  <span class="comment">// The SHUFFLE_VECTOR mask is almost exactly what we want for vperm, except</span></div><div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  <span class="comment">// that it is in input element units, not in bytes.  Convert now.</span></div><div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = V1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;  <span class="keywordtype">unsigned</span> BytesPerElement = EltVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;</div><div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> ResultMask;</div><div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = VT.getVectorNumElements(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;    <span class="keywordtype">unsigned</span> SrcElt = PermMask[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; 0 ? 0 : PermMask[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;</div><div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != BytesPerElement; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div><div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;      ResultMask.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(SrcElt*BytesPerElement+<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>,</div><div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;                                           <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;  }</div><div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;</div><div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VPermMask = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>,</div><div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;                                    &amp;ResultMask[0], ResultMask.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abd37e9e242507f9bcda602075a67c9dd">PPCISD::VPERM</a>, dl, V1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), V1, <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, VPermMask);</div><div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;}</div><div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;<span class="comment">/// getAltivecCompareInfo - Given an intrinsic, return false if it is not an</span></div><div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;<span class="comment">/// altivec comparison.  If it is, return true and fill in Opc/isDot with</span></div><div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;<span class="comment">/// information about the intrinsic.</span></div><div class="line"><a name="l05580"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a35053bb3e328d74ce342c149dde6ead8"> 5580</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#a35053bb3e328d74ce342c149dde6ead8">getAltivecCompareInfo</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Intrin, <span class="keywordtype">int</span> &amp;CompareOpc,</div><div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;                                  <span class="keywordtype">bool</span> &amp;isDot) {</div><div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;  <span class="keywordtype">unsigned</span> IntrinsicID =</div><div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    cast&lt;ConstantSDNode&gt;(Intrin.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0))-&gt;getZExtValue();</div><div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;  CompareOpc = -1;</div><div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;  isDot = <span class="keyword">false</span>;</div><div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;  <span class="keywordflow">switch</span> (IntrinsicID) {</div><div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;    <span class="comment">// Comparison predicates.</span></div><div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a89a21084d4470f93ac146c8e477b288d">Intrinsic::ppc_altivec_vcmpbfp_p</a>:  CompareOpc = 966; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3d3a309f761dbae24b488412f6550fc2">Intrinsic::ppc_altivec_vcmpeqfp_p</a>: CompareOpc = 198; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a6526d0d368789849e3a217ea986e22d9">Intrinsic::ppc_altivec_vcmpequb_p</a>: CompareOpc =   6; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2fc833fc1234ba27e00e934ba536b538">Intrinsic::ppc_altivec_vcmpequh_p</a>: CompareOpc =  70; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab45a2d5cdc5e1d5b22e6ba30f26ccb8a">Intrinsic::ppc_altivec_vcmpequw_p</a>: CompareOpc = 134; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a302bc8325092bbb02d6fb40f24086cfe">Intrinsic::ppc_altivec_vcmpgefp_p</a>: CompareOpc = 454; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aea36803fe51b4ef3e51f9ea59f3cdc49">Intrinsic::ppc_altivec_vcmpgtfp_p</a>: CompareOpc = 710; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a796c035d1b69a9cf3fb794bd65ebc584">Intrinsic::ppc_altivec_vcmpgtsb_p</a>: CompareOpc = 774; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a48341f6d21bbbdcfab4afe09e4f35e28">Intrinsic::ppc_altivec_vcmpgtsh_p</a>: CompareOpc = 838; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a81c99091724ec1863e2a50d96de97d11">Intrinsic::ppc_altivec_vcmpgtsw_p</a>: CompareOpc = 902; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4dd98345aafbd799c1a2777fe287c5dc">Intrinsic::ppc_altivec_vcmpgtub_p</a>: CompareOpc = 518; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3ed00c2124f22e1c624b4816f9347d14">Intrinsic::ppc_altivec_vcmpgtuh_p</a>: CompareOpc = 582; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa31902bbec3616dc9a8abc5d9e437338">Intrinsic::ppc_altivec_vcmpgtuw_p</a>: CompareOpc = 646; isDot = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;</div><div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;    <span class="comment">// Normal Comparisons.</span></div><div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a84a927aebe57c20229f4906013fe3d86">Intrinsic::ppc_altivec_vcmpbfp</a>:    CompareOpc = 966; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a7d2d261f151994af1acad3619dfc1d1d">Intrinsic::ppc_altivec_vcmpeqfp</a>:   CompareOpc = 198; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a31d22846923e4cf12e8c73ee80bf6cc8">Intrinsic::ppc_altivec_vcmpequb</a>:   CompareOpc =   6; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a03990abcceb35d31126b0080dbb8d7bd">Intrinsic::ppc_altivec_vcmpequh</a>:   CompareOpc =  70; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ac47b0dfeac5eae1fa556b3a91eb68ff5">Intrinsic::ppc_altivec_vcmpequw</a>:   CompareOpc = 134; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a8246b2d3b4cbf4bc2643ed875544d323">Intrinsic::ppc_altivec_vcmpgefp</a>:   CompareOpc = 454; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90af20f75a68b34dfc915011734f3d708e8">Intrinsic::ppc_altivec_vcmpgtfp</a>:   CompareOpc = 710; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab569f10cf55ef082c4aac1c3113af587">Intrinsic::ppc_altivec_vcmpgtsb</a>:   CompareOpc = 774; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1b1a9079068d388738ecda3d19ed7b81">Intrinsic::ppc_altivec_vcmpgtsh</a>:   CompareOpc = 838; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1b1a3d2e67ae3a7930cbaa4b58e726d8">Intrinsic::ppc_altivec_vcmpgtsw</a>:   CompareOpc = 902; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a0160348e78e21e0529bb412ac4a4d58d">Intrinsic::ppc_altivec_vcmpgtub</a>:   CompareOpc = 518; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1676dc438d3c8d2516bf81770e42759f">Intrinsic::ppc_altivec_vcmpgtuh</a>:   CompareOpc = 582; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a52de1f014060e25bfe7c6b824404a617">Intrinsic::ppc_altivec_vcmpgtuw</a>:   CompareOpc = 646; isDot = 0; <span class="keywordflow">break</span>;</div><div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;  }</div><div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;}</div><div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;<span class="comment">/// LowerINTRINSIC_WO_CHAIN - If this is an intrinsic that we want to custom</span></div><div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;<span class="comment">/// lower, do it, otherwise return null.</span></div><div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerINTRINSIC_WO_CHAIN(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;                                                   <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;  <span class="comment">// If this is a lowered altivec predicate compare, CompareOpc is set to the</span></div><div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;  <span class="comment">// opcode number of the comparison.</span></div><div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;  <span class="keywordtype">int</span> CompareOpc;</div><div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;  <span class="keywordtype">bool</span> isDot;</div><div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a35053bb3e328d74ce342c149dde6ead8">getAltivecCompareInfo</a>(Op, CompareOpc, isDot))</div><div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();    <span class="comment">// Don&#39;t custom lower most intrinsics.</span></div><div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;</div><div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;  <span class="comment">// If this is a non-dot comparison, make the VCMP node and we are done.</span></div><div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;  <span class="keywordflow">if</span> (!isDot) {</div><div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Tmp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a43a3ad5a512466965973ac46c8239c60">PPCISD::VCMP</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;                              Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1), Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2),</div><div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(CompareOpc, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Tmp);</div><div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;  }</div><div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;</div><div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;  <span class="comment">// Create the PPCISD altivec &#39;dot&#39; comparison node.</span></div><div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div><div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2),  <span class="comment">// LHS</span></div><div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(3),  <span class="comment">// RHS</span></div><div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(CompareOpc, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;  };</div><div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VTs[] = { Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a> };</div><div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CompNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2739f8327120cab9e21846dee3a5366b">PPCISD::VCMPo</a>, dl, VTs, Ops, 3);</div><div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;</div><div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;  <span class="comment">// Now that we have the comparison, emit a copy from the CR to a GPR.</span></div><div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;  <span class="comment">// This is flagged to the above dot comparison.</span></div><div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Flags = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f">PPCISD::MFOCRF</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>,</div><div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::CR6, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>),</div><div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;                                CompNode.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;</div><div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;  <span class="comment">// Unpack the result based on how the target uses it.</span></div><div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;  <span class="keywordtype">unsigned</span> BitNo;   <span class="comment">// Bit # of CR6.</span></div><div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;  <span class="keywordtype">bool</span> InvertBit;   <span class="comment">// Invert result?</span></div><div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;  <span class="keywordflow">switch</span> (cast&lt;ConstantSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))-&gt;getZExtValue()) {</div><div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;  <span class="keywordflow">default</span>:  <span class="comment">// Can&#39;t happen, don&#39;t crash on invalid number though.</span></div><div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;  <span class="keywordflow">case</span> 0:   <span class="comment">// Return the value of the EQ bit of CR6.</span></div><div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;    BitNo = 0; InvertBit = <span class="keyword">false</span>;</div><div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;  <span class="keywordflow">case</span> 1:   <span class="comment">// Return the inverted value of the EQ bit of CR6.</span></div><div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;    BitNo = 0; InvertBit = <span class="keyword">true</span>;</div><div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;  <span class="keywordflow">case</span> 2:   <span class="comment">// Return the value of the LT bit of CR6.</span></div><div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;    BitNo = 2; InvertBit = <span class="keyword">false</span>;</div><div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;  <span class="keywordflow">case</span> 3:   <span class="comment">// Return the inverted value of the LT bit of CR6.</span></div><div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;    BitNo = 2; InvertBit = <span class="keyword">true</span>;</div><div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;  }</div><div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;</div><div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;  <span class="comment">// Shift the bit into the low position.</span></div><div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;  Flags = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, Flags,</div><div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(8-(3-BitNo), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;  <span class="comment">// Isolate the bit.</span></div><div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  Flags = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, Flags,</div><div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;</div><div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;  <span class="comment">// If we are supposed to, toggle the bit.</span></div><div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;  <span class="keywordflow">if</span> (InvertBit)</div><div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;    Flags = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, Flags,</div><div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>));</div><div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>;</div><div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;}</div><div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;</div><div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerSCALAR_TO_VECTOR(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;                                                   <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;  <span class="comment">// Create a stack slot that is 16-byte aligned.</span></div><div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *FrameInfo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;  <span class="keywordtype">int</span> FrameIdx = FrameInfo-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a40416676e8af628d284ab2061a75ef19">CreateStackObject</a>(16, 16, <span class="keyword">false</span>);</div><div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FIdx = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">getFrameIndex</a>(FrameIdx, PtrVT);</div><div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;</div><div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;  <span class="comment">// Store the input value into Value#0 of the stack slot.</span></div><div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl,</div><div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;                               Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), FIdx, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;                               <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;  <span class="comment">// Load it out.</span></div><div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), dl, <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a>, FIdx, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;                     <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;}</div><div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;</div><div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerMUL(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;  <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>) {</div><div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), RHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;</div><div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero  = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(  0, 1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, DAG, dl);</div><div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Neg16 = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(-16, 4, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, DAG, dl);<span class="comment">//+16 as shift amt.</span></div><div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;</div><div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHSSwap =   <span class="comment">// = vrlw RHS, 16</span></div><div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;      <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a248f93f61208480b5efb4e1e09539529">Intrinsic::ppc_altivec_vrlw</a>, RHS, Neg16, DAG, dl);</div><div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;</div><div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;    <span class="comment">// Shrinkify inputs to v8i16.</span></div><div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;    LHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, LHS);</div><div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;    RHS = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, RHS);</div><div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;    RHSSwap = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, RHSSwap);</div><div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;</div><div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;    <span class="comment">// Low parts multiplied together, generating 32-bit results (we ignore the</span></div><div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;    <span class="comment">// top parts).</span></div><div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoProd = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a5ca7a24d8b2e27299b008c03adda33c2">Intrinsic::ppc_altivec_vmulouh</a>,</div><div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;                                        LHS, RHS, DAG, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;</div><div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiProd = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2fd670826fb13b0b347c7ff356849720">Intrinsic::ppc_altivec_vmsumuhm</a>,</div><div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;                                      LHS, RHSSwap, Zero, DAG, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>);</div><div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;    <span class="comment">// Shift the high parts up 16 bits.</span></div><div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;    HiProd = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a17b7b34ee0847ecc91dfe8f655282ee7">Intrinsic::ppc_altivec_vslw</a>, HiProd,</div><div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;                              Neg16, DAG, dl);</div><div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, LoProd, HiProd);</div><div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>) {</div><div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), RHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;</div><div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = <a class="code" href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a>(0, 1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>, DAG, dl);</div><div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;</div><div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab48827e94d600a54d3f5d151c8070370">Intrinsic::ppc_altivec_vmladduhm</a>,</div><div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;                            LHS, RHS, Zero, DAG, dl);</div><div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>) {</div><div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), RHS = Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1);</div><div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;</div><div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;    <span class="comment">// Multiply the even 8-bit parts, producing 16-bit sums.</span></div><div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EvenParts = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a7f2fa72dd3c0d7d1cfc1e0a29b8c1b51">Intrinsic::ppc_altivec_vmuleub</a>,</div><div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;                                           LHS, RHS, DAG, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>);</div><div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;    EvenParts = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, EvenParts);</div><div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;</div><div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    <span class="comment">// Multiply the odd 8-bit parts, producing 16-bit sums.</span></div><div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> OddParts = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aef6032224b5bc6fac721c6095de2ab6c">Intrinsic::ppc_altivec_vmuloub</a>,</div><div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;                                          LHS, RHS, DAG, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a>);</div><div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;    OddParts = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, OddParts);</div><div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;</div><div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    <span class="comment">// Merge the results together.</span></div><div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;    <span class="keywordtype">int</span> Ops[16];</div><div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 8; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;      Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2  ] = 2*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1;</div><div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;      Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>*2+1] = 2*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1+16;</div><div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    }</div><div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">getVectorShuffle</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>, dl, EvenParts, OddParts, Ops);</div><div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown mul to lower!&quot;</span>);</div><div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;  }</div><div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;}</div><div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;<span class="comment">/// LowerOperation - Provide custom lowering hooks for some operations.</span></div><div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05768"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#ae2a0b9bd4deed69296ac2aaf273e0ada"> 5768</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1PPCTargetLowering.html#ae2a0b9bd4deed69296ac2aaf273e0ada">PPCTargetLowering::LowerOperation</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;  <span class="keywordflow">switch</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>()) {</div><div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Wasn&#39;t expecting to be able to lower this!&quot;</span>);</div><div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa8cad208c3cb96b33b5d8544590325b1">ISD::ConstantPool</a>:       <span class="keywordflow">return</span> LowerConstantPool(Op, DAG);</div><div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae98378a8672947382d343d75a5df3003">ISD::BlockAddress</a>:       <span class="keywordflow">return</span> LowerBlockAddress(Op, DAG);</div><div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a30316f8f9985260c49d7c26bc70a6cad">ISD::GlobalAddress</a>:      <span class="keywordflow">return</span> LowerGlobalAddress(Op, DAG);</div><div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a49f1172c7014cc4fa3570792e6834e2c">ISD::GlobalTLSAddress</a>:   <span class="keywordflow">return</span> LowerGlobalTLSAddress(Op, DAG);</div><div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0c70100db6ddc0b37b56feb242145cf4">ISD::JumpTable</a>:          <span class="keywordflow">return</span> LowerJumpTable(Op, DAG);</div><div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>:              <span class="keywordflow">return</span> LowerSETCC(Op, DAG);</div><div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4534a6db2862a28324932a8ea1cb54d6">ISD::INIT_TRAMPOLINE</a>:    <span class="keywordflow">return</span> LowerINIT_TRAMPOLINE(Op, DAG);</div><div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af7bfad446dfd85837fe7ff904ebb1aff">ISD::ADJUST_TRAMPOLINE</a>:  <span class="keywordflow">return</span> LowerADJUST_TRAMPOLINE(Op, DAG);</div><div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adfe32beaa596a1512b17e66b46e773ed">ISD::VASTART</a>:</div><div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;    <span class="keywordflow">return</span> LowerVASTART(Op, DAG, PPCSubTarget);</div><div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;</div><div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>:</div><div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;    <span class="keywordflow">return</span> LowerVAARG(Op, DAG, PPCSubTarget);</div><div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;</div><div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a804c1960ac64628cdd1f74d7de885284">ISD::VACOPY</a>:</div><div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;    <span class="keywordflow">return</span> LowerVACOPY(Op, DAG, PPCSubTarget);</div><div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;</div><div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a023a9de787026fe61b024476bf9c32cb">ISD::STACKRESTORE</a>:       <span class="keywordflow">return</span> LowerSTACKRESTORE(Op, DAG, PPCSubTarget);</div><div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa71ac22470bf853868fe6b39a25bac72">ISD::DYNAMIC_STACKALLOC</a>:</div><div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <span class="keywordflow">return</span> LowerDYNAMIC_STACKALLOC(Op, DAG, PPCSubTarget);</div><div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;</div><div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae5a57fe9fd413df909ab121ca1a813c7">ISD::EH_SJLJ_SETJMP</a>:     <span class="keywordflow">return</span> lowerEH_SJLJ_SETJMP(Op, DAG);</div><div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a122a450e069003dc86859ef47ab6e278">ISD::EH_SJLJ_LONGJMP</a>:    <span class="keywordflow">return</span> lowerEH_SJLJ_LONGJMP(Op, DAG);</div><div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;</div><div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>:          <span class="keywordflow">return</span> LowerSELECT_CC(Op, DAG);</div><div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>:</div><div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>:         <span class="keywordflow">return</span> LowerFP_TO_INT(Op, DAG,</div><div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;                                                       <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(Op));</div><div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>:</div><div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:         <span class="keywordflow">return</span> LowerINT_TO_FP(Op, DAG);</div><div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a06a1a0916d630a342fc3c355b0de8eab">ISD::FLT_ROUNDS_</a>:        <span class="keywordflow">return</span> LowerFLT_ROUNDS_(Op, DAG);</div><div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;</div><div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;  <span class="comment">// Lower 64-bit shifts.</span></div><div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f">ISD::SHL_PARTS</a>:          <span class="keywordflow">return</span> LowerSHL_PARTS(Op, DAG);</div><div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ed8e1dc0db59ab2a071da53ee794759">ISD::SRL_PARTS</a>:          <span class="keywordflow">return</span> LowerSRL_PARTS(Op, DAG);</div><div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1">ISD::SRA_PARTS</a>:          <span class="keywordflow">return</span> LowerSRA_PARTS(Op, DAG);</div><div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;</div><div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;  <span class="comment">// Vector-related lowering.</span></div><div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>:       <span class="keywordflow">return</span> LowerBUILD_VECTOR(Op, DAG);</div><div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>:     <span class="keywordflow">return</span> LowerVECTOR_SHUFFLE(Op, DAG);</div><div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>: <span class="keywordflow">return</span> LowerINTRINSIC_WO_CHAIN(Op, DAG);</div><div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>:   <span class="keywordflow">return</span> LowerSCALAR_TO_VECTOR(Op, DAG);</div><div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>:                <span class="keywordflow">return</span> LowerMUL(Op, DAG);</div><div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;</div><div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;  <span class="comment">// For counter-based loop handling.</span></div><div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a>:  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;</div><div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;  <span class="comment">// Frame &amp; Return address.</span></div><div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dfacb29792dd59f2cfbe529206265bc">ISD::RETURNADDR</a>:         <span class="keywordflow">return</span> LowerRETURNADDR(Op, DAG);</div><div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdb38c8daa8c1ab881007062d113cef3">ISD::FRAMEADDR</a>:          <span class="keywordflow">return</span> LowerFRAMEADDR(Op, DAG);</div><div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;  }</div><div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;}</div><div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;</div><div class="line"><a name="l05824"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a83cd5e15e6aa20b6646dbcd619a20120"> 5824</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a83cd5e15e6aa20b6646dbcd619a20120">PPCTargetLowering::ReplaceNodeResults</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div><div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;                                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a>&amp;Results,</div><div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;                                           <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;TM = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>();</div><div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;  <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Do not know how to custom type legalize this operation!&quot;</span>);</div><div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a>: {</div><div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;    <span class="keywordflow">if</span> (cast&lt;ConstantSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;getZExtValue() !=</div><div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;        <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1420b00acc303559771c7d9c17c636ce">Intrinsic::ppc_is_decremented_ctr_nonzero</a>)</div><div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;</div><div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;    assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a> &amp;&amp;</div><div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;           <span class="stringliteral">&quot;Unexpected result type for CTR decrement intrinsic&quot;</span>);</div><div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SVT = <a class="code" href="classllvm_1_1PPCTargetLowering.html#aa25300b78bcf37a1c6fcce44912d0ff9">getSetCCResultType</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;    <a class="code" href="structllvm_1_1SDVTList.html">SDVTList</a> VTs = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(SVT, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>);</div><div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewInt = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, VTs, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0),</div><div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;                                 N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)); </div><div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;</div><div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;    Results.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(NewInt);</div><div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;    Results.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(NewInt.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;  }</div><div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">ISD::VAARG</a>: {</div><div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;    <span class="keywordflow">if</span> (!TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>()</div><div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;        || TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().isPPC64())</div><div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;</div><div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;</div><div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;    <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewNode = LowerVAARG(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 1), DAG, PPCSubTarget);</div><div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;</div><div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;      Results.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(NewNode);</div><div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;      Results.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(NewNode.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;    }</div><div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;  }</div><div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4">ISD::FP_ROUND_INREG</a>: {</div><div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;    assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>);</div><div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;    assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>);</div><div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT_ELEMENT</a>, dl,</div><div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;                             <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0),</div><div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(0));</div><div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">ISD::EXTRACT_ELEMENT</a>, dl,</div><div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;                             <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0),</div><div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;                             DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(1));</div><div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;</div><div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;    <span class="comment">// Add the two halves of the long double in round-to-zero mode.</span></div><div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FPreg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ad2b0da006c4560646ac3eb561a8b73b2">PPCISD::FADDRTZ</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Lo, Hi);</div><div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;</div><div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;    <span class="comment">// We know the low half is about to be thrown away, so just use something</span></div><div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;    <span class="comment">// convenient.</span></div><div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;    Results.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">ISD::BUILD_PAIR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>,</div><div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;                                FPreg, FPreg));</div><div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;  }</div><div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>:</div><div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;    <span class="comment">// LowerFP_TO_INT() can only handle f32 and f64.</span></div><div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;    <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>)</div><div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;    Results.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(LowerFP_TO_INT(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 0), DAG, dl));</div><div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;  }</div><div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;}</div><div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;</div><div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;</div><div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;<span class="comment">//  Other Lowering Code</span></div><div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;</div><div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *</div><div class="line"><a name="l05897"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577"> 5897</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">PPCTargetLowering::EmitAtomicBinary</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;                                    <span class="keywordtype">bool</span> is64bit, <span class="keywordtype">unsigned</span> BinOpcode)<span class="keyword"> const </span>{</div><div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;  <span class="comment">// This also handles ATOMIC_SWAP, indicated by BinOpcode==0.</span></div><div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;</div><div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LLVM_BB = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2961c31b29db17a4f2964899c8569a64">getBasicBlock</a>();</div><div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> It = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;  ++It;</div><div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;</div><div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;  <span class="keywordtype">unsigned</span> ptrA = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;  <span class="keywordtype">unsigned</span> ptrB = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <span class="keywordtype">unsigned</span> incr = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;</div><div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *loopMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *exitMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;  F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, loopMBB);</div><div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;  F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, exitMBB);</div><div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;  exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;                  <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(MI)),</div><div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;                  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div><div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;  exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adae25a8cf267a802c72c3d6ad8c044e3">transferSuccessorsAndUpdatePHIs</a>(BB);</div><div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;</div><div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;  <span class="keywordtype">unsigned</span> TmpReg = (!BinOpcode) ? incr :</div><div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;    RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(</div><div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;       is64bit ? (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *) &amp;PPC::G8RCRegClass :</div><div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;                 (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *) &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;</div><div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;  <span class="comment">//  thisMBB:</span></div><div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;  <span class="comment">//   ...</span></div><div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;  <span class="comment">//   fallthrough --&gt; loopMBB</span></div><div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loopMBB);</div><div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;</div><div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;  <span class="comment">//  loopMBB:</span></div><div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;  <span class="comment">//   l[wd]arx dest, ptr</span></div><div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;  <span class="comment">//   add r0, dest, incr</span></div><div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;  <span class="comment">//   st[wd]cx. r0, ptr</span></div><div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;  <span class="comment">//   bne- loopMBB</span></div><div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;  <span class="comment">//   fallthrough --&gt; exitMBB</span></div><div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;  BB = loopMBB;</div><div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::LDARX : PPC::LWARX), <a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a>)</div><div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;    .addReg(ptrA).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrB);</div><div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;  <span class="keywordflow">if</span> (BinOpcode)</div><div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(BinOpcode), TmpReg).addReg(incr).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(dest);</div><div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::STDCX : PPC::STWCX))</div><div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    .addReg(TmpReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrA).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrB);</div><div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCC))</div><div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;    .addImm(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::CR0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(loopMBB);</div><div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loopMBB);</div><div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(exitMBB);</div><div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;</div><div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;  <span class="comment">//  exitMBB:</span></div><div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;  <span class="comment">//   ...</span></div><div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;  BB = exitMBB;</div><div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;}</div><div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;</div><div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *</div><div class="line"><a name="l05958"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac"> 5958</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">PPCTargetLowering::EmitPartwordAtomicBinary</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;                                            <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;                                            <span class="keywordtype">bool</span> is8bit,    <span class="comment">// operation</span></div><div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;                                            <span class="keywordtype">unsigned</span> BinOpcode)<span class="keyword"> const </span>{</div><div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;  <span class="comment">// This also handles ATOMIC_SWAP, indicated by BinOpcode==0.</span></div><div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;  <span class="comment">// In 64 bit mode we have to use 64 bits for addresses, even though the</span></div><div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;  <span class="comment">// lwarx/stwcx are 32 bits.  With the 32-bit atomics we can use address</span></div><div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;  <span class="comment">// registers without caring whether they&#39;re 32 or 64, but here we&#39;re</span></div><div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;  <span class="comment">// doing actual arithmetic on the addresses.</span></div><div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;  <span class="keywordtype">bool</span> is64bit = PPCSubTarget.isPPC64();</div><div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;  <span class="keywordtype">unsigned</span> ZeroReg = is64bit ? PPC::ZERO8 : PPC::ZERO;</div><div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;</div><div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LLVM_BB = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2961c31b29db17a4f2964899c8569a64">getBasicBlock</a>();</div><div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> It = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;  ++It;</div><div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;</div><div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;  <span class="keywordtype">unsigned</span> ptrA = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;  <span class="keywordtype">unsigned</span> ptrB = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;  <span class="keywordtype">unsigned</span> incr = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;</div><div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *loopMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *exitMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;  F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, loopMBB);</div><div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;  F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, exitMBB);</div><div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;  exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;                  <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(MI)),</div><div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;                  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div><div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;  exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adae25a8cf267a802c72c3d6ad8c044e3">transferSuccessorsAndUpdatePHIs</a>(BB);</div><div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;</div><div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;    is64bit ? (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *) &amp;PPC::G8RCRegClass :</div><div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;              (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *) &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;  <span class="keywordtype">unsigned</span> PtrReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;  <span class="keywordtype">unsigned</span> Shift1Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;  <span class="keywordtype">unsigned</span> ShiftReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;  <span class="keywordtype">unsigned</span> Incr2Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;  <span class="keywordtype">unsigned</span> MaskReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;  <span class="keywordtype">unsigned</span> Mask2Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;  <span class="keywordtype">unsigned</span> Mask3Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;  <span class="keywordtype">unsigned</span> Tmp2Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;  <span class="keywordtype">unsigned</span> Tmp3Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;  <span class="keywordtype">unsigned</span> Tmp4Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;  <span class="keywordtype">unsigned</span> TmpDestReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;  <span class="keywordtype">unsigned</span> Ptr1Reg;</div><div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;  <span class="keywordtype">unsigned</span> TmpReg = (!BinOpcode) ? Incr2Reg : RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;</div><div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;  <span class="comment">//  thisMBB:</span></div><div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;  <span class="comment">//   ...</span></div><div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;  <span class="comment">//   fallthrough --&gt; loopMBB</span></div><div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loopMBB);</div><div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;</div><div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;  <span class="comment">// The 4-byte load must be aligned, while a char or short may be</span></div><div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;  <span class="comment">// anywhere in the word.  Hence all this nasty bookkeeping code.</span></div><div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;  <span class="comment">//   add ptr1, ptrA, ptrB [copy if ptrA==0]</span></div><div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;  <span class="comment">//   rlwinm shift1, ptr1, 3, 27, 28 [3, 27, 27]</span></div><div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;  <span class="comment">//   xori shift, shift1, 24 [16]</span></div><div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;  <span class="comment">//   rlwinm ptr, ptr1, 0, 0, 29</span></div><div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;  <span class="comment">//   slw incr2, incr, shift</span></div><div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;  <span class="comment">//   li mask2, 255 [li mask3, 0; ori mask2, mask3, 65535]</span></div><div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;  <span class="comment">//   slw mask, mask2, shift</span></div><div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;  <span class="comment">//  loopMBB:</span></div><div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;  <span class="comment">//   lwarx tmpDest, ptr</span></div><div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;  <span class="comment">//   add tmp, tmpDest, incr2</span></div><div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;  <span class="comment">//   andc tmp2, tmpDest, mask</span></div><div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;  <span class="comment">//   and tmp3, tmp, mask</span></div><div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;  <span class="comment">//   or tmp4, tmp3, tmp2</span></div><div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;  <span class="comment">//   stwcx. tmp4, ptr</span></div><div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;  <span class="comment">//   bne- loopMBB</span></div><div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;  <span class="comment">//   fallthrough --&gt; exitMBB</span></div><div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;  <span class="comment">//   srw dest, tmpDest, shift</span></div><div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;  <span class="keywordflow">if</span> (ptrA != ZeroReg) {</div><div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    Ptr1Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::ADD8 : PPC::ADD4), Ptr1Reg)</div><div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;      .addReg(ptrA).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrB);</div><div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;    Ptr1Reg = ptrB;</div><div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;  }</div><div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::RLWINM), Shift1Reg).addReg(Ptr1Reg)</div><div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(3).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(27).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(is8bit ? 28 : 27);</div><div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::XORI8 : PPC::XORI), ShiftReg)</div><div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;      .addReg(Shift1Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(is8bit ? 24 : 16);</div><div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;  <span class="keywordflow">if</span> (is64bit)</div><div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::RLDICR), PtrReg)</div><div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;      .addReg(Ptr1Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(61);</div><div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::RLWINM), PtrReg)</div><div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;      .addReg(Ptr1Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(29);</div><div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::SLW), Incr2Reg)</div><div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;      .addReg(incr).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ShiftReg);</div><div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;  <span class="keywordflow">if</span> (is8bit)</div><div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI), Mask2Reg).addImm(255);</div><div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI), Mask3Reg).addImm(0);</div><div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::ORI),Mask2Reg).addReg(Mask3Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(65535);</div><div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;  }</div><div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::SLW), MaskReg)</div><div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;      .addReg(Mask2Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ShiftReg);</div><div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;</div><div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;  BB = loopMBB;</div><div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWARX), TmpDestReg)</div><div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;    .addReg(ZeroReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PtrReg);</div><div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;  <span class="keywordflow">if</span> (BinOpcode)</div><div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(BinOpcode), TmpReg)</div><div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;      .addReg(Incr2Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(TmpDestReg);</div><div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::ANDC8 : PPC::ANDC), Tmp2Reg)</div><div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;    .addReg(TmpDestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MaskReg);</div><div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::AND8 : <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>), Tmp3Reg)</div><div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;    .addReg(TmpReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MaskReg);</div><div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::OR8 : <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">PPC::OR</a>), Tmp4Reg)</div><div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    .addReg(Tmp3Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Tmp2Reg);</div><div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STWCX))</div><div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;    .addReg(Tmp4Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ZeroReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PtrReg);</div><div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCC))</div><div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;    .addImm(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::CR0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(loopMBB);</div><div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loopMBB);</div><div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;  BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(exitMBB);</div><div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;</div><div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;  <span class="comment">//  exitMBB:</span></div><div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;  <span class="comment">//   ...</span></div><div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;  BB = exitMBB;</div><div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::SRW), <a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a>).addReg(TmpDestReg)</div><div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ShiftReg);</div><div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;}</div><div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;</div><div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a>*</div><div class="line"><a name="l06089"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#aa16376b7fb2318ea5369305cc1defd2c"> 6089</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#aa16376b7fb2318ea5369305cc1defd2c">PPCTargetLowering::emitEHSjLjSetJmp</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB)<span class="keyword"> const </span>{</div><div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;</div><div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;</div><div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2961c31b29db17a4f2964899c8569a64">getBasicBlock</a>();</div><div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB;</div><div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;  ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;</div><div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;  <span class="comment">// Memory Reference</span></div><div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOBegin = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>();</div><div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOEnd = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">memoperands_end</a>();</div><div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;</div><div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;  <span class="keywordtype">unsigned</span> DstReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(DstReg);</div><div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;  assert(RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#afdb5953dce337bafb4df1acb1125512a">hasType</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) &amp;&amp; <span class="stringliteral">&quot;Invalid destination!&quot;</span>);</div><div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;  <span class="keywordtype">unsigned</span> mainDstReg = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;  <span class="keywordtype">unsigned</span> restoreDstReg = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;</div><div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> PVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;  assert((PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> || PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) &amp;&amp;</div><div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;         <span class="stringliteral">&quot;Invalid Pointer Size!&quot;</span>);</div><div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;  <span class="comment">// For v = setjmp(buf), we generate</span></div><div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;  <span class="comment">// thisMBB:</span></div><div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;  <span class="comment">//  SjLjSetup mainMBB</span></div><div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;  <span class="comment">//  bl mainMBB</span></div><div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;  <span class="comment">//  v_restore = 1</span></div><div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;  <span class="comment">//  b sinkMBB</span></div><div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;  <span class="comment">// mainMBB:</span></div><div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;  <span class="comment">//  buf[LabelOffset] = LR</span></div><div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;  <span class="comment">//  v_main = 0</span></div><div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;  <span class="comment">// sinkMBB:</span></div><div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;  <span class="comment">//  v = phi(main, restore)</span></div><div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;</div><div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *thisMBB = MBB;</div><div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *mainMBB = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(BB);</div><div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *sinkMBB = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(BB);</div><div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;  MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(I, mainMBB);</div><div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;  MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(I, sinkMBB);</div><div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;</div><div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB;</div><div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;</div><div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;  <span class="comment">// Transfer the remainder of BB and its successor edges to sinkMBB.</span></div><div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;  sinkMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(sinkMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), MBB,</div><div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;                  <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(MI)), MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div><div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;  sinkMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adae25a8cf267a802c72c3d6ad8c044e3">transferSuccessorsAndUpdatePHIs</a>(MBB);</div><div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;</div><div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;  <span class="comment">// Note that the structure of the jmp_buf used here is not compatible</span></div><div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;  <span class="comment">// with that used by libc, and is not designed to be. Specifically, it</span></div><div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;  <span class="comment">// stores only those &#39;reserved&#39; registers that LLVM does not otherwise</span></div><div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;  <span class="comment">// understand how to spill. Also, by convention, by the time this</span></div><div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;  <span class="comment">// intrinsic is called, Clang has already stored the frame address in the</span></div><div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;  <span class="comment">// first slot of the buffer and stack address in the third. Following the</span></div><div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;  <span class="comment">// X86 target code, we&#39;ll store the jump address in the second slot. We also</span></div><div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;  <span class="comment">// need to save the TOC pointer (R2) to handle jumps between shared</span></div><div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;  <span class="comment">// libraries, and that will be stored in the fourth slot. The thread</span></div><div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;  <span class="comment">// identifier (R13) is not affected.</span></div><div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;</div><div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;  <span class="comment">// thisMBB:</span></div><div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;  <span class="keyword">const</span> int64_t LabelOffset = 1 * PVT.<a class="code" href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">getStoreSize</a>();</div><div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;  <span class="keyword">const</span> int64_t TOCOffset   = 3 * PVT.<a class="code" href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">getStoreSize</a>();</div><div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;  <span class="keyword">const</span> int64_t BPOffset    = 4 * PVT.<a class="code" href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">getStoreSize</a>();</div><div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;</div><div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;  <span class="comment">// Prepare IP either in reg.</span></div><div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *PtrRC = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a71b07ff24aaa94d58e0e7c35551728d5">getRegClassFor</a>(PVT);</div><div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;  <span class="keywordtype">unsigned</span> LabelReg = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(PtrRC);</div><div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;  <span class="keywordtype">unsigned</span> BufReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;</div><div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.isPPC64() &amp;&amp; PPCSubTarget.isSVR4ABI()) {</div><div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*thisMBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STD))</div><div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;            .addReg(PPC::X2)</div><div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(TOCOffset)</div><div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;  }</div><div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;</div><div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;  <span class="comment">// Naked functions never have a base pointer, and so we use r1. For all</span></div><div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;  <span class="comment">// other functions, this decision must be delayed until during PEI.</span></div><div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;  <span class="keywordtype">unsigned</span> BaseReg;</div><div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;  <span class="keywordflow">if</span> (MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(</div><div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;          AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055">Attribute::Naked</a>))</div><div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;    BaseReg = PPCSubTarget.isPPC64() ? PPC::X1 : PPC::R1;</div><div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    BaseReg = PPCSubTarget.isPPC64() ? PPC::BP8 : PPC::BP;</div><div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;</div><div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*thisMBB, MI, DL,</div><div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;                TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPCSubTarget.isPPC64() ? PPC::STD : PPC::STW))</div><div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BaseReg)</div><div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(BPOffset)</div><div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;</div><div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;  <span class="comment">// Setup</span></div><div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;  MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*thisMBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCLalways)).addMBB(mainMBB);</div><div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html">PPCRegisterInfo</a> *TRI =</div><div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1PPCRegisterInfo.html">PPCRegisterInfo</a>*<span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>());</div><div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9b6c252221bd964b77e852b3c7ea31e2">addRegMask</a>(TRI-&gt;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a9ee6e585cddd343ffca371e763dc8965">getNoPreservedMask</a>());</div><div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;</div><div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*thisMBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI), restoreDstReg).addImm(1);</div><div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;</div><div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;  MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*thisMBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::EH_SjLj_Setup))</div><div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;          .addMBB(mainMBB);</div><div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;  MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*thisMBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">PPC::B</a>)).addMBB(sinkMBB);</div><div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;</div><div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;  thisMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(mainMBB, <span class="comment">/* weight */</span> 0);</div><div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;  thisMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(sinkMBB, <span class="comment">/* weight */</span> 1);</div><div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;</div><div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;  <span class="comment">// mainMBB:</span></div><div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;  <span class="comment">//  mainDstReg = 0</span></div><div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;  MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(mainMBB, DL,</div><div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPCSubTarget.isPPC64() ? PPC::MFLR8 : PPC::MFLR), LabelReg);</div><div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;</div><div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;  <span class="comment">// Store IP</span></div><div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.isPPC64()) {</div><div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(mainMBB, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STD))</div><div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;            .addReg(LabelReg)</div><div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(LabelOffset)</div><div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(mainMBB, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STW))</div><div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;            .addReg(LabelReg)</div><div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(LabelOffset)</div><div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;  }</div><div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;</div><div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;</div><div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(mainMBB, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI), mainDstReg).addImm(0);</div><div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;  mainMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(sinkMBB);</div><div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;</div><div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;  <span class="comment">// sinkMBB:</span></div><div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*sinkMBB, sinkMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), DL,</div><div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;          TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PPC::PHI</a>), DstReg)</div><div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;    .addReg(mainDstReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(mainMBB)</div><div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(restoreDstReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(thisMBB);</div><div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;</div><div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;  <span class="keywordflow">return</span> sinkMBB;</div><div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;}</div><div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;</div><div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *</div><div class="line"><a name="l06237"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a97bf9e73e3051c15442feeba88bb0e1d"> 6237</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a97bf9e73e3051c15442feeba88bb0e1d">PPCTargetLowering::emitEHSjLjLongJmp</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;                                     <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB)<span class="keyword"> const </span>{</div><div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;</div><div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;</div><div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;  <span class="comment">// Memory Reference</span></div><div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOBegin = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>();</div><div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOEnd = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">memoperands_end</a>();</div><div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;</div><div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> PVT = <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;  assert((PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> || PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) &amp;&amp;</div><div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;         <span class="stringliteral">&quot;Invalid Pointer Size!&quot;</span>);</div><div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;</div><div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;    (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? &amp;PPC::G8RCRegClass : &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;  <span class="keywordtype">unsigned</span> Tmp = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;  <span class="comment">// Since FP is only updated here but NOT referenced, it&#39;s treated as GPR.</span></div><div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;  <span class="keywordtype">unsigned</span> FP  = (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? PPC::X31 : PPC::R31;</div><div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;  <span class="keywordtype">unsigned</span> SP  = (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? PPC::X1 : PPC::R1;</div><div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;  <span class="keywordtype">unsigned</span> BP  = (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? PPC::X30 : PPC::R30;</div><div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;</div><div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB;</div><div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;</div><div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;  <span class="keyword">const</span> int64_t LabelOffset = 1 * PVT.<a class="code" href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">getStoreSize</a>();</div><div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;  <span class="keyword">const</span> int64_t SPOffset    = 2 * PVT.<a class="code" href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">getStoreSize</a>();</div><div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;  <span class="keyword">const</span> int64_t TOCOffset   = 3 * PVT.<a class="code" href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">getStoreSize</a>();</div><div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;  <span class="keyword">const</span> int64_t BPOffset    = 4 * PVT.<a class="code" href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">getStoreSize</a>();</div><div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;</div><div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;  <span class="keywordtype">unsigned</span> BufReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;</div><div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;  <span class="comment">// Reload FP (the jumped-to function may not have had a</span></div><div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;  <span class="comment">// frame pointer, and if so, then its r31 will be restored</span></div><div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;  <span class="comment">// as necessary).</span></div><div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;  <span class="keywordflow">if</span> (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>), FP)</div><div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;            .addImm(0)</div><div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWZ), FP)</div><div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;            .addImm(0)</div><div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;  }</div><div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;</div><div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;  <span class="comment">// Reload IP</span></div><div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;  <span class="keywordflow">if</span> (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>), Tmp)</div><div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;            .addImm(LabelOffset)</div><div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWZ), Tmp)</div><div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;            .addImm(LabelOffset)</div><div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;  }</div><div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;</div><div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;  <span class="comment">// Reload SP</span></div><div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;  <span class="keywordflow">if</span> (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>), SP)</div><div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;            .addImm(SPOffset)</div><div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWZ), SP)</div><div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;            .addImm(SPOffset)</div><div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;  }</div><div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;</div><div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;  <span class="comment">// Reload BP</span></div><div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;  <span class="keywordflow">if</span> (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>), BP)</div><div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;            .addImm(BPOffset)</div><div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWZ), BP)</div><div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;            .addImm(BPOffset)</div><div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;  }</div><div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;</div><div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;  <span class="comment">// Reload TOC</span></div><div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;  <span class="keywordflow">if</span> (PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; PPCSubTarget.isSVR4ABI()) {</div><div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>), PPC::X2)</div><div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;            .addImm(TOCOffset)</div><div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;            .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BufReg);</div><div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;</div><div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">setMemRefs</a>(MMOBegin, MMOEnd);</div><div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;  }</div><div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;</div><div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;  <span class="comment">// Jump</span></div><div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL,</div><div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;          TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> ? PPC::MTCTR8 : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa48a0d892596a0da3cf4a82c6ff5a91f">PPC::MTCTR</a>)).addReg(Tmp);</div><div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> ? PPC::BCTR8 : PPC::BCTR));</div><div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;</div><div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;  <span class="keywordflow">return</span> MBB;</div><div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;}</div><div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;</div><div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *</div><div class="line"><a name="l06339"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#af330d61b0d53df1eb27d7ef2c5d113e0"> 6339</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#af330d61b0d53df1eb27d7ef2c5d113e0">PPCTargetLowering::EmitInstrWithCustomInserter</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;                                               <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::EH_SjLj_SetJmp32 ||</div><div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::EH_SjLj_SetJmp64) {</div><div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#aa16376b7fb2318ea5369305cc1defd2c">emitEHSjLjSetJmp</a>(MI, BB);</div><div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::EH_SjLj_LongJmp32 ||</div><div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;             MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::EH_SjLj_LongJmp64) {</div><div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a97bf9e73e3051c15442feeba88bb0e1d">emitEHSjLjLongJmp</a>(MI, BB);</div><div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;  }</div><div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;</div><div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;</div><div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;  <span class="comment">// To &quot;insert&quot; these instructions we actually have to insert their</span></div><div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;  <span class="comment">// control-flow patterns.</span></div><div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LLVM_BB = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a2961c31b29db17a4f2964899c8569a64">getBasicBlock</a>();</div><div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> It = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;  ++It;</div><div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;</div><div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;</div><div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;  <span class="keywordflow">if</span> (PPCSubTarget.hasISEL() &amp;&amp; (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::SELECT_CC_I4 ||</div><div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;                                 MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::SELECT_CC_I8)) {</div><div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 2&gt;</a> Cond;</div><div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4));</div><div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;    Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1));</div><div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;</div><div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *TII = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;    TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a575dbec1cd0f3548f6f462d41ecf6cb9">insertSelect</a>(*BB, MI, dl, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(),</div><div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;                      Cond, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(),</div><div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;                      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>());</div><div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::SELECT_CC_I4 ||</div><div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;             MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::SELECT_CC_I8 ||</div><div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;             MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::SELECT_CC_F4 ||</div><div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;             MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::SELECT_CC_F8 ||</div><div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;             MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::SELECT_CC_VRRC) {</div><div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;</div><div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;</div><div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;    <span class="comment">// The incoming instruction knows the destination vreg to set, the</span></div><div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;    <span class="comment">// condition code register to branch on, the true/false values to</span></div><div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;    <span class="comment">// select between, and a branch opcode to use.</span></div><div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;</div><div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;    <span class="comment">//  thisMBB:</span></div><div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;    <span class="comment">//  ...</span></div><div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;    <span class="comment">//   TrueVal = ...</span></div><div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    <span class="comment">//   cmpTY ccX, r1, r2</span></div><div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;    <span class="comment">//   bCC copy1MBB</span></div><div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    <span class="comment">//   fallthrough --&gt; copy0MBB</span></div><div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *thisMBB = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *copy0MBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *sinkMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <span class="keywordtype">unsigned</span> SelectPred = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, copy0MBB);</div><div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, sinkMBB);</div><div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;</div><div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;    <span class="comment">// Transfer the remainder of BB and its successor edges to sinkMBB.</span></div><div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    sinkMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(sinkMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;                    <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(MI)),</div><div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;                    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div><div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;    sinkMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adae25a8cf267a802c72c3d6ad8c044e3">transferSuccessorsAndUpdatePHIs</a>(BB);</div><div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;</div><div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;    <span class="comment">// Next, add the true and fallthrough blocks as its successors.</span></div><div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(copy0MBB);</div><div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(sinkMBB);</div><div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;</div><div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCC))</div><div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;      .addImm(SelectPred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()).addMBB(sinkMBB);</div><div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;</div><div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;    <span class="comment">//  copy0MBB:</span></div><div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;    <span class="comment">//   %FalseValue = ...</span></div><div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    <span class="comment">//   # fallthrough to sinkMBB</span></div><div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;    BB = copy0MBB;</div><div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;</div><div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;    <span class="comment">// Update machine-CFG edges</span></div><div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(sinkMBB);</div><div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;</div><div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;    <span class="comment">//  sinkMBB:</span></div><div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;    <span class="comment">//   %Result = phi [ %FalseValue, copy0MBB ], [ %TrueValue, thisMBB ]</span></div><div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    <span class="comment">//  ...</span></div><div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    BB = sinkMBB;</div><div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), dl,</div><div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;            TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PPC::PHI</a>), MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;      .addReg(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()).addMBB(copy0MBB)</div><div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()).addMBB(thisMBB);</div><div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;  }</div><div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_ADD_I8)</div><div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::ADD4);</div><div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_ADD_I16)</div><div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, PPC::ADD4);</div><div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_ADD_I32)</div><div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, PPC::ADD4);</div><div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_ADD_I64)</div><div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::ADD8);</div><div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;</div><div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_AND_I8)</div><div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>);</div><div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_AND_I16)</div><div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>);</div><div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_AND_I32)</div><div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>);</div><div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_AND_I64)</div><div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::AND8);</div><div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;</div><div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_OR_I8)</div><div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">PPC::OR</a>);</div><div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_OR_I16)</div><div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">PPC::OR</a>);</div><div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_OR_I32)</div><div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">PPC::OR</a>);</div><div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_OR_I64)</div><div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::OR8);</div><div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;</div><div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_XOR_I8)</div><div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9ac62338ffb5de22369c75caa565b5da1a">PPC::XOR</a>);</div><div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_XOR_I16)</div><div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9ac62338ffb5de22369c75caa565b5da1a">PPC::XOR</a>);</div><div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_XOR_I32)</div><div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9ac62338ffb5de22369c75caa565b5da1a">PPC::XOR</a>);</div><div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_XOR_I64)</div><div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::XOR8);</div><div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;</div><div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_NAND_I8)</div><div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::ANDC);</div><div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_NAND_I16)</div><div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, PPC::ANDC);</div><div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_NAND_I32)</div><div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, PPC::ANDC);</div><div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_NAND_I64)</div><div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::ANDC8);</div><div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;</div><div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_SUB_I8)</div><div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::SUBF);</div><div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_SUB_I16)</div><div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, PPC::SUBF);</div><div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_SUB_I32)</div><div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, PPC::SUBF);</div><div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_LOAD_SUB_I64)</div><div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, PPC::SUBF8);</div><div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;</div><div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_SWAP_I8)</div><div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, 0);</div><div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_SWAP_I16)</div><div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">EmitPartwordAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_SWAP_I32)</div><div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_SWAP_I64)</div><div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;    BB = <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">EmitAtomicBinary</a>(MI, BB, <span class="keyword">true</span>, 0);</div><div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;</div><div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_CMP_SWAP_I32 ||</div><div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;           MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_CMP_SWAP_I64) {</div><div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;    <span class="keywordtype">bool</span> is64bit = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_CMP_SWAP_I64;</div><div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;</div><div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a>   = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;    <span class="keywordtype">unsigned</span> ptrA   = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;    <span class="keywordtype">unsigned</span> ptrB   = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;    <span class="keywordtype">unsigned</span> oldval = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;    <span class="keywordtype">unsigned</span> newval = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl     = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;</div><div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *loop1MBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *loop2MBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *midMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *exitMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, loop1MBB);</div><div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, loop2MBB);</div><div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, midMBB);</div><div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, exitMBB);</div><div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;    exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;                    <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(MI)),</div><div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;                    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div><div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adae25a8cf267a802c72c3d6ad8c044e3">transferSuccessorsAndUpdatePHIs</a>(BB);</div><div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;</div><div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;    <span class="comment">//  thisMBB:</span></div><div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    <span class="comment">//   ...</span></div><div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <span class="comment">//   fallthrough --&gt; loopMBB</span></div><div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loop1MBB);</div><div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;</div><div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    <span class="comment">// loop1MBB:</span></div><div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    <span class="comment">//   l[wd]arx dest, ptr</span></div><div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    <span class="comment">//   cmp[wd] dest, oldval</span></div><div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;    <span class="comment">//   bne- midMBB</span></div><div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;    <span class="comment">// loop2MBB:</span></div><div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;    <span class="comment">//   st[wd]cx. newval, ptr</span></div><div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    <span class="comment">//   bne- loopMBB</span></div><div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;    <span class="comment">//   b exitBB</span></div><div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;    <span class="comment">// midMBB:</span></div><div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;    <span class="comment">//   st[wd]cx. dest, ptr</span></div><div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;    <span class="comment">// exitBB:</span></div><div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    BB = loop1MBB;</div><div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::LDARX : PPC::LWARX), <a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a>)</div><div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;      .addReg(ptrA).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrB);</div><div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::CMPD : PPC::CMPW), PPC::CR0)</div><div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;      .addReg(oldval).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(dest);</div><div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCC))</div><div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;      .addImm(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::CR0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(midMBB);</div><div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loop2MBB);</div><div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(midMBB);</div><div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;</div><div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;    BB = loop2MBB;</div><div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::STDCX : PPC::STWCX))</div><div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;      .addReg(newval).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrA).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrB);</div><div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCC))</div><div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;      .addImm(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::CR0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(loop1MBB);</div><div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">PPC::B</a>)).addMBB(exitMBB);</div><div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loop1MBB);</div><div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(exitMBB);</div><div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;</div><div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    BB = midMBB;</div><div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::STDCX : PPC::STWCX))</div><div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;      .addReg(dest).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrA).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrB);</div><div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(exitMBB);</div><div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;</div><div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    <span class="comment">//  exitMBB:</span></div><div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;    <span class="comment">//   ...</span></div><div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    BB = exitMBB;</div><div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_CMP_SWAP_I8 ||</div><div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;             MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_CMP_SWAP_I16) {</div><div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;    <span class="comment">// We must use 64-bit registers for addresses when targeting 64-bit,</span></div><div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;    <span class="comment">// since we&#39;re actually doing arithmetic on them.  Other registers</span></div><div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    <span class="comment">// can be 32-bit.</span></div><div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    <span class="keywordtype">bool</span> is64bit = PPCSubTarget.isPPC64();</div><div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;    <span class="keywordtype">bool</span> is8bit = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::ATOMIC_CMP_SWAP_I8;</div><div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;</div><div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a>   = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;    <span class="keywordtype">unsigned</span> ptrA   = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;    <span class="keywordtype">unsigned</span> ptrB   = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;    <span class="keywordtype">unsigned</span> oldval = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;    <span class="keywordtype">unsigned</span> newval = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl     = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;</div><div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *loop1MBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *loop2MBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *midMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *exitMBB = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">CreateMachineBasicBlock</a>(LLVM_BB);</div><div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, loop1MBB);</div><div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, loop2MBB);</div><div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, midMBB);</div><div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">insert</a>(It, exitMBB);</div><div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">splice</a>(exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;                    <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(MI)),</div><div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;                    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>());</div><div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    exitMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#adae25a8cf267a802c72c3d6ad8c044e3">transferSuccessorsAndUpdatePHIs</a>(BB);</div><div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;</div><div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;      is64bit ? (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *) &amp;PPC::G8RCRegClass :</div><div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;                (<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *) &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;    <span class="keywordtype">unsigned</span> PtrReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;    <span class="keywordtype">unsigned</span> Shift1Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;    <span class="keywordtype">unsigned</span> ShiftReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;    <span class="keywordtype">unsigned</span> NewVal2Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    <span class="keywordtype">unsigned</span> NewVal3Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    <span class="keywordtype">unsigned</span> OldVal2Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;    <span class="keywordtype">unsigned</span> OldVal3Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;    <span class="keywordtype">unsigned</span> MaskReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;    <span class="keywordtype">unsigned</span> Mask2Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    <span class="keywordtype">unsigned</span> Mask3Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    <span class="keywordtype">unsigned</span> Tmp2Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    <span class="keywordtype">unsigned</span> Tmp4Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;    <span class="keywordtype">unsigned</span> TmpDestReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    <span class="keywordtype">unsigned</span> Ptr1Reg;</div><div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;    <span class="keywordtype">unsigned</span> TmpReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;    <span class="keywordtype">unsigned</span> ZeroReg = is64bit ? PPC::ZERO8 : PPC::ZERO;</div><div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;    <span class="comment">//  thisMBB:</span></div><div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;    <span class="comment">//   ...</span></div><div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;    <span class="comment">//   fallthrough --&gt; loopMBB</span></div><div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loop1MBB);</div><div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;</div><div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;    <span class="comment">// The 4-byte load must be aligned, while a char or short may be</span></div><div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;    <span class="comment">// anywhere in the word.  Hence all this nasty bookkeeping code.</span></div><div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;    <span class="comment">//   add ptr1, ptrA, ptrB [copy if ptrA==0]</span></div><div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;    <span class="comment">//   rlwinm shift1, ptr1, 3, 27, 28 [3, 27, 27]</span></div><div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;    <span class="comment">//   xori shift, shift1, 24 [16]</span></div><div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;    <span class="comment">//   rlwinm ptr, ptr1, 0, 0, 29</span></div><div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;    <span class="comment">//   slw newval2, newval, shift</span></div><div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    <span class="comment">//   slw oldval2, oldval,shift</span></div><div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;    <span class="comment">//   li mask2, 255 [li mask3, 0; ori mask2, mask3, 65535]</span></div><div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;    <span class="comment">//   slw mask, mask2, shift</span></div><div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;    <span class="comment">//   and newval3, newval2, mask</span></div><div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    <span class="comment">//   and oldval3, oldval2, mask</span></div><div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;    <span class="comment">// loop1MBB:</span></div><div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;    <span class="comment">//   lwarx tmpDest, ptr</span></div><div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;    <span class="comment">//   and tmp, tmpDest, mask</span></div><div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;    <span class="comment">//   cmpw tmp, oldval3</span></div><div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;    <span class="comment">//   bne- midMBB</span></div><div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;    <span class="comment">// loop2MBB:</span></div><div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;    <span class="comment">//   andc tmp2, tmpDest, mask</span></div><div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    <span class="comment">//   or tmp4, tmp2, newval3</span></div><div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;    <span class="comment">//   stwcx. tmp4, ptr</span></div><div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    <span class="comment">//   bne- loop1MBB</span></div><div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;    <span class="comment">//   b exitBB</span></div><div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;    <span class="comment">// midMBB:</span></div><div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;    <span class="comment">//   stwcx. tmpDest, ptr</span></div><div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    <span class="comment">// exitBB:</span></div><div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;    <span class="comment">//   srw dest, tmpDest, shift</span></div><div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    <span class="keywordflow">if</span> (ptrA != ZeroReg) {</div><div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;      Ptr1Reg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::ADD8 : PPC::ADD4), Ptr1Reg)</div><div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;        .addReg(ptrA).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ptrB);</div><div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;      Ptr1Reg = ptrB;</div><div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;    }</div><div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::RLWINM), Shift1Reg).addReg(Ptr1Reg)</div><div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(3).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(27).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(is8bit ? 28 : 27);</div><div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64bit ? PPC::XORI8 : PPC::XORI), ShiftReg)</div><div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;        .addReg(Shift1Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(is8bit ? 24 : 16);</div><div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;    <span class="keywordflow">if</span> (is64bit)</div><div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::RLDICR), PtrReg)</div><div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;        .addReg(Ptr1Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(61);</div><div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::RLWINM), PtrReg)</div><div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;        .addReg(Ptr1Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(29);</div><div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::SLW), NewVal2Reg)</div><div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;        .addReg(newval).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ShiftReg);</div><div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::SLW), OldVal2Reg)</div><div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;        .addReg(oldval).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ShiftReg);</div><div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;    <span class="keywordflow">if</span> (is8bit)</div><div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI), Mask2Reg).addImm(255);</div><div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI), Mask3Reg).addImm(0);</div><div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::ORI), Mask2Reg)</div><div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;        .addReg(Mask3Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(65535);</div><div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;    }</div><div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::SLW), MaskReg)</div><div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;        .addReg(Mask2Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ShiftReg);</div><div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>), NewVal3Reg)</div><div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;        .addReg(NewVal2Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MaskReg);</div><div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>), OldVal3Reg)</div><div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;        .addReg(OldVal2Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MaskReg);</div><div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;</div><div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;    BB = loop1MBB;</div><div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWARX), TmpDestReg)</div><div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;        .addReg(ZeroReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PtrReg);</div><div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>),TmpReg)</div><div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;        .addReg(TmpDestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MaskReg);</div><div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::CMPW), PPC::CR0)</div><div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;        .addReg(TmpReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(OldVal3Reg);</div><div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCC))</div><div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;        .addImm(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::CR0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(midMBB);</div><div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loop2MBB);</div><div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(midMBB);</div><div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;</div><div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;    BB = loop2MBB;</div><div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::ANDC),Tmp2Reg)</div><div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;        .addReg(TmpDestReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MaskReg);</div><div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">PPC::OR</a>),Tmp4Reg)</div><div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;        .addReg(Tmp2Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(NewVal3Reg);</div><div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STWCX)).addReg(Tmp4Reg)</div><div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ZeroReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PtrReg);</div><div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::BCC))</div><div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;      .addImm(<a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::CR0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(loop1MBB);</div><div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">PPC::B</a>)).addMBB(exitMBB);</div><div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(loop1MBB);</div><div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(exitMBB);</div><div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;</div><div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;    BB = midMBB;</div><div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(BB, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STWCX)).addReg(TmpDestReg)</div><div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ZeroReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PtrReg);</div><div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">addSuccessor</a>(exitMBB);</div><div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;</div><div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;    <span class="comment">//  exitMBB:</span></div><div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;    <span class="comment">//   ...</span></div><div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;    BB = exitMBB;</div><div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, BB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::SRW),<a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a>).addReg(TmpReg)</div><div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(ShiftReg);</div><div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == PPC::FADDrtz) {</div><div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;    <span class="comment">// This pseudo performs an FADD with rounding mode temporarily forced</span></div><div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;    <span class="comment">// to round-to-zero.  We emit this via custom inserter since the FPSCR</span></div><div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;    <span class="comment">// is not modeled at the SelectionDAG level.</span></div><div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;    <span class="keywordtype">unsigned</span> Dest = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;    <span class="keywordtype">unsigned</span> Src1 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;    <span class="keywordtype">unsigned</span> Src2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl   = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;</div><div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RegInfo = F-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    <span class="keywordtype">unsigned</span> MFFSReg = RegInfo.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(&amp;PPC::F8RCRegClass);</div><div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;</div><div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    <span class="comment">// Save FPSCR value.</span></div><div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, MI, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aab6a046c536c71121190fefd548d6b25">PPC::MFFS</a>), MFFSReg);</div><div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;</div><div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;    <span class="comment">// Set rounding mode to round-to-zero.</span></div><div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, MI, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::MTFSB1)).addImm(31);</div><div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, MI, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::MTFSB0)).addImm(30);</div><div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;</div><div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;    <span class="comment">// Perform addition.</span></div><div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, MI, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">PPC::FADD</a>), Dest).addReg(Src1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Src2);</div><div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;</div><div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;    <span class="comment">// Restore FPSCR value.</span></div><div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BB, MI, dl, TII-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::MTFSF)).addImm(1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MFFSReg);</div><div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected instr type to insert&quot;</span>);</div><div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;  }</div><div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;</div><div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();   <span class="comment">// The pseudo instruction is gone now.</span></div><div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;}</div><div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;</div><div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;<span class="comment">// Target Optimization Hooks</span></div><div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;</div><div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::DAGCombineFastRecip(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;                                               <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI)<span class="keyword"> const </span>{</div><div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;  <span class="keywordflow">if</span> (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a0575b3ebf8a0f44316d540c366cdcedd">isAfterLegalizeVectorOps</a>())</div><div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;</div><div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;</div><div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;  <span class="keywordflow">if</span> ((VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; PPCSubTarget.hasFRES()) ||</div><div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;      (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> &amp;&amp; PPCSubTarget.hasFRE())  ||</div><div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;      (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a> &amp;&amp; PPCSubTarget.hasAltivec())) {</div><div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;</div><div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;    <span class="comment">// Newton iteration for a function: F(X) is X_{i+1} = X_i - F(X_i)/F&#39;(X_i)</span></div><div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;    <span class="comment">// For the reciprocal, we need to find the zero of the function:</span></div><div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;    <span class="comment">//   F(X) = A X - 1 [which has a zero at X = 1/A]</span></div><div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;    <span class="comment">//     =&gt;</span></div><div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;    <span class="comment">//   X_{i+1} = X_i (2 - A X_i) = X_i + X_i (1 - A X_i) [this second form</span></div><div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;    <span class="comment">//     does not require additional intermediate precision]</span></div><div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;</div><div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;    <span class="comment">// Convergence is quadratic, so we essentially double the number of digits</span></div><div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;    <span class="comment">// correct after every iteration. The minimum architected relative</span></div><div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;    <span class="comment">// accuracy is 2^-5. When hasRecipPrec(), this is 2^-14. IEEE float has</span></div><div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;    <span class="comment">// 23 digits and double has 52 digits.</span></div><div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;    <span class="keywordtype">int</span> Iterations = PPCSubTarget.hasRecipPrec() ? 1 : 3;</div><div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div><div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;      ++Iterations;</div><div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;</div><div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">DAG</a>;</div><div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;</div><div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FPOne =</div><div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a268e5bc7dd40a28712a33ca6c9c91c6f">getConstantFP</a>(1.0, VT.<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>());</div><div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;      assert(VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() == 4 &amp;&amp;</div><div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;             <span class="stringliteral">&quot;Unknown vector type&quot;</span>);</div><div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;      FPOne = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, VT,</div><div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;                          FPOne, FPOne, FPOne, FPOne);</div><div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;    }</div><div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;</div><div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Est = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a3475aac39d7d3909ef94c56fbdfbe7a9">PPCISD::FRE</a>, dl, VT, Op);</div><div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Est.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;</div><div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;    <span class="comment">// Newton iterations: Est = Est + Est (1 - Arg * Est)</span></div><div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Iterations; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewEst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, VT, Op, Est);</div><div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(NewEst.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;</div><div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;      NewEst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, VT, FPOne, NewEst);</div><div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(NewEst.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;</div><div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;      NewEst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, VT, Est, NewEst);</div><div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(NewEst.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;</div><div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;      Est = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>, dl, VT, Est, NewEst);</div><div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Est.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;    }</div><div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;</div><div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;    <span class="keywordflow">return</span> Est;</div><div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;  }</div><div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;</div><div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;}</div><div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;</div><div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::DAGCombineFastRecipFSQRT(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;                                             <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI)<span class="keyword"> const </span>{</div><div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;  <span class="keywordflow">if</span> (DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a0575b3ebf8a0f44316d540c366cdcedd">isAfterLegalizeVectorOps</a>())</div><div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;</div><div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;</div><div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;  <span class="keywordflow">if</span> ((VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; PPCSubTarget.hasFRSQRTES()) ||</div><div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;      (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> &amp;&amp; PPCSubTarget.hasFRSQRTE())  ||</div><div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;      (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a> &amp;&amp; PPCSubTarget.hasAltivec())) {</div><div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;</div><div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    <span class="comment">// Newton iteration for a function: F(X) is X_{i+1} = X_i - F(X_i)/F&#39;(X_i)</span></div><div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    <span class="comment">// For the reciprocal sqrt, we need to find the zero of the function:</span></div><div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;    <span class="comment">//   F(X) = 1/X^2 - A [which has a zero at X = 1/sqrt(A)]</span></div><div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;    <span class="comment">//     =&gt;</span></div><div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;    <span class="comment">//   X_{i+1} = X_i (1.5 - A X_i^2 / 2)</span></div><div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;    <span class="comment">// As a result, we precompute A/2 prior to the iteration loop.</span></div><div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;</div><div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;    <span class="comment">// Convergence is quadratic, so we essentially double the number of digits</span></div><div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;    <span class="comment">// correct after every iteration. The minimum architected relative</span></div><div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    <span class="comment">// accuracy is 2^-5. When hasRecipPrec(), this is 2^-14. IEEE float has</span></div><div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;    <span class="comment">// 23 digits and double has 52 digits.</span></div><div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;    <span class="keywordtype">int</span> Iterations = PPCSubTarget.hasRecipPrec() ? 1 : 3;</div><div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div><div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;      ++Iterations;</div><div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;</div><div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;    <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">DAG</a>;</div><div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;    <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;</div><div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FPThreeHalves =</div><div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a268e5bc7dd40a28712a33ca6c9c91c6f">getConstantFP</a>(1.5, VT.<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>());</div><div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;    <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;      assert(VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() == 4 &amp;&amp;</div><div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;             <span class="stringliteral">&quot;Unknown vector type&quot;</span>);</div><div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;      FPThreeHalves = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, VT,</div><div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;                                  FPThreeHalves, FPThreeHalves,</div><div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;                                  FPThreeHalves, FPThreeHalves);</div><div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;    }</div><div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;</div><div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Est = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abe7e3f85845897ad4b6270b32f8c7030">PPCISD::FRSQRTE</a>, dl, VT, Op);</div><div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Est.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;</div><div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;    <span class="comment">// We now need 0.5*Arg which we can write as (1.5*Arg - Arg) so that</span></div><div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;    <span class="comment">// this entire sequence requires only one FP constant.</span></div><div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HalfArg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, VT, FPThreeHalves, Op);</div><div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(HalfArg.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;</div><div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;    HalfArg = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, VT, HalfArg, Op);</div><div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;    DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(HalfArg.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;</div><div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;    <span class="comment">// Newton iterations: Est = Est * (1.5 - HalfArg * Est * Est)</span></div><div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Iterations; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewEst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, VT, Est, Est);</div><div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(NewEst.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;</div><div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;      NewEst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, VT, HalfArg, NewEst);</div><div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(NewEst.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;</div><div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;      NewEst = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>, dl, VT, FPThreeHalves, NewEst);</div><div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(NewEst.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;</div><div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;      Est = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, VT, Est, NewEst);</div><div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Est.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;    }</div><div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;</div><div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;    <span class="keywordflow">return</span> Est;</div><div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;  }</div><div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;</div><div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;}</div><div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;</div><div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;<span class="comment">// Like SelectionDAG::isConsecutiveLoad, but also works for stores, and does</span></div><div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;<span class="comment">// not enforce equality of the chain operands.</span></div><div class="line"><a name="l06876"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#ac4592c8a858a8aca23fc2e2d7670c900"> 6876</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#ac4592c8a858a8aca23fc2e2d7670c900">isConsecutiveLS</a>(<a class="code" href="classllvm_1_1LSBaseSDNode.html">LSBaseSDNode</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca">LS</a>, <a class="code" href="classllvm_1_1LSBaseSDNode.html">LSBaseSDNode</a> *Base,</div><div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;                            <span class="keywordtype">unsigned</span> Bytes, <span class="keywordtype">int</span> Dist,</div><div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;                            <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div><div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = LS-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() / 8 != Bytes)</div><div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;</div><div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Loc = LS-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a9330f807294a868461af12a3ed56a269">getBasePtr</a>();</div><div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BaseLoc = Base-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a9330f807294a868461af12a3ed56a269">getBasePtr</a>();</div><div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;  <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">ISD::FrameIndex</a>) {</div><div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;    <span class="keywordflow">if</span> (BaseLoc.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">ISD::FrameIndex</a>)</div><div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>().<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;    <span class="keywordtype">int</span> FI  = cast&lt;FrameIndexSDNode&gt;(Loc)-&gt;getIndex();</div><div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdcacead4ecf18faa375dce15425aa269b79">BFI</a> = cast&lt;FrameIndexSDNode&gt;(BaseLoc)-&gt;getIndex();</div><div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da50aa2061845b3ff4e6e2242d762c6a80">FS</a>  = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(FI);</div><div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;    <span class="keywordtype">int</span> BFS = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(BFI);</div><div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;    <span class="keywordflow">if</span> (FS != BFS || FS != (<span class="keywordtype">int</span>)Bytes) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;    <span class="keywordflow">return</span> MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">getObjectOffset</a>(FI) == (MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">getObjectOffset</a>(BFI) + Dist*Bytes);</div><div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;  }</div><div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;</div><div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;  <span class="comment">// Handle X+C</span></div><div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;  <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8c176b391d738c5667eafd17e784f556">isBaseWithConstantOffset</a>(Loc) &amp;&amp; Loc.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0) == BaseLoc &amp;&amp;</div><div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;      cast&lt;ConstantSDNode&gt;(Loc.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))-&gt;getSExtValue() == Dist*Bytes)</div><div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;</div><div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>();</div><div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV1 = NULL;</div><div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV2 = NULL;</div><div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;  int64_t Offset1 = 0;</div><div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;  int64_t Offset2 = 0;</div><div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;  <span class="keywordtype">bool</span> isGA1 = TLI.<a class="code" href="classllvm_1_1TargetLowering.html#a420dad7978ef954f8d674eba24eb840e">isGAPlusOffset</a>(Loc.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(), GV1, Offset1);</div><div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;  <span class="keywordtype">bool</span> isGA2 = TLI.<a class="code" href="classllvm_1_1TargetLowering.html#a420dad7978ef954f8d674eba24eb840e">isGAPlusOffset</a>(BaseLoc.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(), GV2, Offset2);</div><div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;  <span class="keywordflow">if</span> (isGA1 &amp;&amp; isGA2 &amp;&amp; GV1 == GV2)</div><div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;    <span class="keywordflow">return</span> Offset1 == (Offset2 + Dist*Bytes);</div><div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;}</div><div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;</div><div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;<span class="comment">// Return true is there is a nearyby consecutive load to the one provided</span></div><div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;<span class="comment">// (regardless of alignment). We search up and down the chain, looking though</span></div><div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;<span class="comment">// token factors and other loads (but nothing else). As a result, a true</span></div><div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;<span class="comment">// results indicates that it is safe to create a new consecutive load adjacent</span></div><div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;<span class="comment">// to the load provided.</span></div><div class="line"><a name="l06919"></a><span class="lineno"><a class="line" href="PPCISelLowering_8cpp.html#a1e2f76e32afeff50a4cae3055b365099"> 6919</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCISelLowering_8cpp.html#a1e2f76e32afeff50a4cae3055b365099">findConsecutiveLoad</a>(<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>, <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG) {</div><div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;</div><div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;SDNode *, 16&gt;</a> LoadRoots;</div><div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDNode *, 8&gt;</a> Queue(1, Chain.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;SDNode *, 16&gt;</a> Visited;</div><div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;</div><div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;  <span class="comment">// First, search up the chain, branching to follow all token-factor operands.</span></div><div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;  <span class="comment">// If we find a consecutive load, then we&#39;re done, otherwise, record all</span></div><div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;  <span class="comment">// nodes just above the top-level loads and token factors.</span></div><div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;  <span class="keywordflow">while</span> (!Queue.empty()) {</div><div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *ChainNext = Queue.pop_back_val();</div><div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallVectorImpl.html#af622128e353515efebccad40eae495cb">insert</a>(ChainNext))</div><div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;</div><div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *ChainLD = dyn_cast&lt;LoadSDNode&gt;(ChainNext)) {</div><div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#ac4592c8a858a8aca23fc2e2d7670c900">isConsecutiveLS</a>(ChainLD, LD, VT.<a class="code" href="structllvm_1_1EVT.html#a451be47fed950157cb4c327bc9f91c2d">getStoreSize</a>(), 1, DAG))</div><div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;</div><div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;      <span class="keywordflow">if</span> (!Visited.count(ChainLD-&gt;getChain().getNode()))</div><div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;        Queue.push_back(ChainLD-&gt;getChain().getNode());</div><div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ChainNext-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>) {</div><div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDUse.html">SDNode::op_iterator</a> O = ChainNext-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>(),</div><div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;           OE = ChainNext-&gt;<a class="code" href="classllvm_1_1SDNode.html#a992906781101abb22f6e4d16622bbe24">op_end</a>(); O != OE; ++O)</div><div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;        <span class="keywordflow">if</span> (!Visited.count(O-&gt;getNode()))</div><div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;          Queue.push_back(O-&gt;getNode());</div><div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;      LoadRoots.<a class="code" href="classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(ChainNext);</div><div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;  }</div><div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;</div><div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;  <span class="comment">// Second, search down the chain, starting from the top-level nodes recorded</span></div><div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;  <span class="comment">// in the first phase. These top-level nodes are the nodes just above all</span></div><div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;  <span class="comment">// loads and token factors. Starting with their uses, recursively look though</span></div><div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;  <span class="comment">// all loads (just the chain uses) and token factors to find a consecutive</span></div><div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;  <span class="comment">// load.</span></div><div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;  Queue.clear();</div><div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;</div><div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;SDNode *, 16&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LoadRoots.begin(),</div><div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;       <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = LoadRoots.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;    Queue.push_back(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;       </div><div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;    <span class="keywordflow">while</span> (!Queue.empty()) {</div><div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *LoadRoot = Queue.pop_back_val();</div><div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;      <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallVectorImpl.html#af622128e353515efebccad40eae495cb">insert</a>(LoadRoot))</div><div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;</div><div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *ChainLD = dyn_cast&lt;LoadSDNode&gt;(LoadRoot))</div><div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#ac4592c8a858a8aca23fc2e2d7670c900">isConsecutiveLS</a>(ChainLD, LD, VT.<a class="code" href="structllvm_1_1EVT.html#a451be47fed950157cb4c327bc9f91c2d">getStoreSize</a>(), 1, DAG))</div><div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;</div><div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html">SDNode::use_iterator</a> UI = LoadRoot-&gt;<a class="code" href="classllvm_1_1SDNode.html#a8810bf428dcf84d48f39c8f5ba9a8c94">use_begin</a>(),</div><div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;           UE = LoadRoot-&gt;<a class="code" href="classllvm_1_1SDNode.html#aef02f2c1bd12936a80611b134b24a47d">use_end</a>(); UI != UE; ++UI)</div><div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;        <span class="keywordflow">if</span> (((isa&lt;LoadSDNode&gt;(*UI) &amp;&amp;</div><div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;            cast&lt;LoadSDNode&gt;(*UI)-&gt;getChain().getNode() == LoadRoot) ||</div><div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;            UI-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>) &amp;&amp; !Visited.count(*UI))</div><div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;          Queue.push_back(*UI);</div><div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;    }</div><div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;  }</div><div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;</div><div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;}</div><div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;</div><div class="line"><a name="l06983"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a7f7d41861f9e62b2b70c5587dc250422"> 6983</a></span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a7f7d41861f9e62b2b70c5587dc250422">PPCTargetLowering::PerformDAGCombine</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>,</div><div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;                                             <a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">DAGCombinerInfo</a> &amp;DCI)<span class="keyword"> const </span>{</div><div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;TM = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>();</div><div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;  <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG = DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">DAG</a>;</div><div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;  <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">PPCISD::SHL</a>:</div><div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0))) {</div><div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue())   <span class="comment">// 0 &lt;&lt; V -&gt; 0.</span></div><div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;        <span class="keywordflow">return</span> N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;    }</div><div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">PPCISD::SRL</a>:</div><div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0))) {</div><div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue())   <span class="comment">// 0 &gt;&gt;u V -&gt; 0.</span></div><div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;        <span class="keywordflow">return</span> N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;    }</div><div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aad0d80bf5cf5a07b271e4357ed436f62">PPCISD::SRA</a>:</div><div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0))) {</div><div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue() ||   <span class="comment">//  0 &gt;&gt;s V -&gt; 0.</span></div><div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isAllOnesValue())    <span class="comment">// -1 &gt;&gt;s V -&gt; -1.</span></div><div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;        <span class="keywordflow">return</span> N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;    }</div><div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>: {</div><div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;    assert(TM.<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a> &amp;&amp;</div><div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;           <span class="stringliteral">&quot;Reciprocal estimates require UnsafeFPMath&quot;</span>);</div><div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;</div><div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;    <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>) {</div><div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RV =</div><div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;        DAGCombineFastRecipFSQRT(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0), DCI);</div><div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;      <span class="keywordflow">if</span> (RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() != 0) {</div><div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;                           N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), RV);</div><div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;      }</div><div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a> &amp;&amp;</div><div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;               N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>) {</div><div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RV =</div><div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;        DAGCombineFastRecipFSQRT(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0),</div><div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;                                 DCI);</div><div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;      <span class="keywordflow">if</span> (RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() != 0) {</div><div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;        RV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)),</div><div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;                         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0), RV);</div><div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;                           N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), RV);</div><div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;      }</div><div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a> &amp;&amp;</div><div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;               N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>) {</div><div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RV =</div><div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;        DAGCombineFastRecipFSQRT(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0),</div><div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;                                 DCI);</div><div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;      <span class="keywordflow">if</span> (RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() != 0) {</div><div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;        RV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)),</div><div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;                         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0), RV,</div><div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;                         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1));</div><div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;                           N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), RV);</div><div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;      }</div><div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;    }</div><div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;</div><div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RV = DAGCombineFastRecip(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), DCI);</div><div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;    <span class="keywordflow">if</span> (RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() != 0) {</div><div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>, dl, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;                         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), RV);</div><div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;    }</div><div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;</div><div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;    }</div><div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>: {</div><div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;    assert(TM.<a class="code" href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">Options</a>.<a class="code" href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">UnsafeFPMath</a> &amp;&amp;</div><div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;           <span class="stringliteral">&quot;Reciprocal estimates require UnsafeFPMath&quot;</span>);</div><div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;</div><div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;    <span class="comment">// Compute this as 1/(1/sqrt(X)), which is the reciprocal of the</span></div><div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;    <span class="comment">// reciprocal sqrt.</span></div><div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RV = DAGCombineFastRecipFSQRT(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), DCI);</div><div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;    <span class="keywordflow">if</span> (RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() != 0) {</div><div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;      RV = DAGCombineFastRecip(RV, DCI);</div><div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;      <span class="keywordflow">if</span> (RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() != 0) {</div><div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;  <span class="comment">// Unfortunately, RV is now NaN if the input was exactly 0. Select out</span></div><div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;  <span class="comment">// this case and force the answer to 0.</span></div><div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;</div><div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = RV.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;</div><div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a268e5bc7dd40a28712a33ca6c9c91c6f">getConstantFP</a>(0.0, VT.<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>());</div><div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;        <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;          assert(VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() == 4 &amp;&amp; <span class="stringliteral">&quot;Unknown vector type&quot;</span>);</div><div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;          Zero = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, VT, Zero, Zero, Zero, Zero);</div><div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;        }</div><div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;</div><div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ZeroCmp =</div><div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2650d530046f9ddfc602dc7383ba0730">getSetCC</a>(dl, <a class="code" href="classllvm_1_1PPCTargetLowering.html#aa25300b78bcf37a1c6fcce44912d0ff9">getSetCCResultType</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), VT),</div><div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;                       N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), Zero, <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>);</div><div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(ZeroCmp.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(RV.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;</div><div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;        RV = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() ? <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a> : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>, dl, VT,</div><div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;                         ZeroCmp, Zero, RV);</div><div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;        <span class="keywordflow">return</span> RV;</div><div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;      }</div><div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;    }</div><div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;</div><div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;    }</div><div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:</div><div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().<a class="code" href="classllvm_1_1PPCSubtarget.html#a011454ea07a73444b499f0b8bb35fa37">has64BitSupport</a>()) {</div><div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;      <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>) {</div><div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;        <span class="comment">// Turn (sint_to_fp (fp_to_sint X)) -&gt; fctidz/fcfid without load/stores.</span></div><div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;        <span class="comment">// We allow the src/dst to be either f32/f64, but the intermediate</span></div><div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;        <span class="comment">// type must be i64.</span></div><div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;        <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp;</div><div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;            N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>) {</div><div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;          <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;          <span class="keywordflow">if</span> (Val.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) {</div><div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;            Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Val);</div><div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;            DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;          }</div><div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;</div><div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;          Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">PPCISD::FCTIDZ</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Val);</div><div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;          DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;          Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892">PPCISD::FCFID</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Val);</div><div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;          DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;          <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) {</div><div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;            Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>, Val,</div><div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">getIntPtrConstant</a>(0));</div><div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;            DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;          }</div><div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;          <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;          <span class="comment">// If the intermediate type is i32, we can avoid the load/store here</span></div><div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;          <span class="comment">// too.</span></div><div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;        }</div><div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;      }</div><div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;    }</div><div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>:</div><div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;    <span class="comment">// Turn STORE (FP_TO_SINT F) -&gt; STFIWX(FCTIWZ(F)).</span></div><div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;    <span class="keywordflow">if</span> (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().<a class="code" href="classllvm_1_1PPCSubtarget.html#aec35acbef0963620ec348c5bb8f60d08">hasSTFIWX</a>() &amp;&amp;</div><div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;        !cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;isTruncatingStore() &amp;&amp;</div><div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a> &amp;&amp;</div><div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp;</div><div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>) {</div><div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;      <span class="keywordflow">if</span> (Val.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) {</div><div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;        Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Val);</div><div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;        DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;      }</div><div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;      Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec">PPCISD::FCTIWZ</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, Val);</div><div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;</div><div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div><div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), Val, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2),</div><div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>())</div><div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;      };</div><div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;</div><div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;      Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af9feec7e8533ed4f31520496c458c1d0">getMemIntrinsicNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa71de12afd261e0b3f2e040ce1c10315">PPCISD::STFIWX</a>, dl,</div><div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>), Ops, <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(Ops),</div><div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;              cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getMemoryVT(),</div><div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;              cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getMemOperand());</div><div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">AddToWorklist</a>(Val.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>());</div><div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;      <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;    }</div><div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;</div><div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;    <span class="comment">// Turn STORE (BSWAP) -&gt; sthbrx/stwbrx.</span></div><div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;    <span class="keywordflow">if</span> (cast&lt;StoreSDNode&gt;(N)-&gt;isUnindexed() &amp;&amp;</div><div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a> &amp;&amp;</div><div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a52753947fce3a01b1c18dd4713c587e8">hasOneUse</a>() &amp;&amp;</div><div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;        (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> ||</div><div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> ||</div><div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;         (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().hasLDBRX() &amp;&amp;</div><div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;          TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().isPPC64() &amp;&amp;</div><div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;          N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>))) {</div><div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BSwapOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;      <span class="comment">// Do an any-extend to 32-bits if this is a half-word input.</span></div><div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;      <span class="keywordflow">if</span> (BSwapOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div><div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;        BSwapOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, BSwapOp);</div><div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;</div><div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div><div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), BSwapOp, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2),</div><div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>())</div><div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;      };</div><div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;      <span class="keywordflow">return</span></div><div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af9feec7e8533ed4f31520496c458c1d0">getMemIntrinsicNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af2142b68a3cab0d2f680eecbb31c76e0">PPCISD::STBRX</a>, dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>),</div><div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;                                Ops, <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(Ops),</div><div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;                                cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getMemoryVT(),</div><div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;                                cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getMemOperand());</div><div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;    }</div><div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>: {</div><div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;    <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a> = cast&lt;LoadSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div><div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = LD-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>().<a class="code" href="structllvm_1_1EVT.html#a226345d0c8262e9469d30a993d1656ff">getTypeForEVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;    <span class="keywordtype">unsigned</span> ABIAlignment = <a class="code" href="classllvm_1_1TargetLoweringBase.html#adc25bcc279ccfb5b867c2b7b8eedaa9b">getDataLayout</a>()-&gt;<a class="code" href="classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">getABITypeAlignment</a>(Ty);</div><div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a15623094a1ed0cd7163dc786e44c87c9">ISD::isNON_EXTLoad</a>(N) &amp;&amp; VT.isVector() &amp;&amp;</div><div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;        TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().hasAltivec() &amp;&amp;</div><div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;        (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a> || VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">MVT::v8i16</a> ||</div><div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;         VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a> || VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">MVT::v4f32</a>) &amp;&amp;</div><div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;        LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">getAlignment</a>() &lt; ABIAlignment) {</div><div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;      <span class="comment">// This is a type-legal unaligned Altivec load.</span></div><div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ptr = LD-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">getBasePtr</a>();</div><div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;</div><div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;      <span class="comment">// This implements the loading of unaligned vectors as described in</span></div><div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;      <span class="comment">// the venerable Apple Velocity Engine overview. Specifically:</span></div><div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;      <span class="comment">// https://developer.apple.com/hardwaredrivers/ve/alignment.html</span></div><div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;      <span class="comment">// https://developer.apple.com/hardwaredrivers/ve/code_optimization.html</span></div><div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;      <span class="comment">// The general idea is to expand a sequence of one or more unaligned</span></div><div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;      <span class="comment">// loads into a alignment-based permutation-control instruction (lvsl),</span></div><div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;      <span class="comment">// a series of regular vector loads (which always truncate their</span></div><div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;      <span class="comment">// input address to an aligned address), and a series of permutations.</span></div><div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;      <span class="comment">// The results of these permutations are the requested loaded values.</span></div><div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;      <span class="comment">// The trick is that the last &quot;extra&quot; load is not taken from the address</span></div><div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;      <span class="comment">// you might suspect (sizeof(vector) bytes after the last requested</span></div><div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;      <span class="comment">// load), but rather sizeof(vector) - 1 bytes after the last</span></div><div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;      <span class="comment">// requested vector. The point of this is to avoid a page fault if the</span></div><div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;      <span class="comment">// base address happend to be aligned. This works because if the base</span></div><div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;      <span class="comment">// address is aligned, then adding less than a full vector length will</span></div><div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;      <span class="comment">// cause the last vector in the sequence to be (re)loaded. Otherwise,</span></div><div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;      <span class="comment">// the next vector will be fetched as you might suspect was necessary.</span></div><div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;</div><div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;      <span class="comment">// We might be able to reuse the permutation generation from</span></div><div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;      <span class="comment">// a different base address offset from this one by an aligned amount.</span></div><div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;      <span class="comment">// The INTRINSIC_WO_CHAIN DAG combine will attempt to perform this</span></div><div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;      <span class="comment">// optimization later.</span></div><div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PermCntl = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2314919ee7fd5e7122f5870a9105b4f6">Intrinsic::ppc_altivec_lvsl</a>, Ptr,</div><div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;                                          DAG, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">MVT::v16i8</a>);</div><div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;</div><div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;      <span class="comment">// Refine the alignment of the original load (a &quot;new&quot; load created here</span></div><div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;      <span class="comment">// which was identical to the first except for the alignment would be</span></div><div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;      <span class="comment">// merged with the existing node regardless).</span></div><div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;      <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;      <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;        MF.<a class="code" href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">getMachineMemOperand</a>(LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;                                LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a89e2b5e3fb867b4040f893c6ae3d2132">getMemOperand</a>()-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#ad7b6159b5ef6b5b1de4b40b5173569d8">getFlags</a>(),</div><div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;                                LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>().<a class="code" href="structllvm_1_1EVT.html#a451be47fed950157cb4c327bc9f91c2d">getStoreSize</a>(),</div><div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;                                ABIAlignment);</div><div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;      LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#aaf86ebe900295d7c59ea024fc19d0154">refineAlignment</a>(MMO);</div><div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BaseLoad = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(LD, 0);</div><div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;</div><div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;      <span class="comment">// Note that the value of IncOffset (which is provided to the next</span></div><div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;      <span class="comment">// load&#39;s pointer info offset value, and thus used to calculate the</span></div><div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;      <span class="comment">// alignment), and the value of IncValue (which is actually used to</span></div><div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;      <span class="comment">// increment the pointer value) are different! This is because we</span></div><div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;      <span class="comment">// require the next load to appear to be aligned, even though it</span></div><div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;      <span class="comment">// is actually offset from the base pointer by a lesser amount.</span></div><div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;      <span class="keywordtype">int</span> IncOffset = VT.getSizeInBits() / 8;</div><div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;      <span class="keywordtype">int</span> IncValue = IncOffset;</div><div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;</div><div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;      <span class="comment">// Walk (both up and down) the chain looking for another load at the real</span></div><div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;      <span class="comment">// (aligned) offset (the alignment of the other load does not matter in</span></div><div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;      <span class="comment">// this case). If found, then do not use the offset reduction trick, as</span></div><div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;      <span class="comment">// that will prevent the loads from being later combined (as they would</span></div><div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;      <span class="comment">// otherwise be duplicates).</span></div><div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="PPCISelLowering_8cpp.html#a1e2f76e32afeff50a4cae3055b365099">findConsecutiveLoad</a>(LD, DAG))</div><div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;        --IncValue;</div><div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;</div><div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Increment = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IncValue, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>());</div><div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;      Ptr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, Ptr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Ptr, Increment);</div><div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;</div><div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExtraLoad =</div><div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(VT, dl, Chain, Ptr,</div><div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;                    LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(IncOffset),</div><div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;                    LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>(), LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>(),</div><div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;                    LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ad8e64770a04af6b3da2099477e7c28de">isInvariant</a>(), ABIAlignment);</div><div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;</div><div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;        BaseLoad.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), ExtraLoad.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;</div><div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;      <span class="keywordflow">if</span> (BaseLoad.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>)</div><div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;        BaseLoad = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, BaseLoad);</div><div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;</div><div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;      <span class="keywordflow">if</span> (ExtraLoad.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>)</div><div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;        ExtraLoad = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>, ExtraLoad);</div><div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;</div><div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Perm = <a class="code" href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4f96a16af672b17616a85c675ea87e7c">Intrinsic::ppc_altivec_vperm</a>,</div><div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;                                      BaseLoad, ExtraLoad, PermCntl, DAG, dl);</div><div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;</div><div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;      <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">MVT::v4i32</a>)</div><div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;        Perm = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, VT, Perm);</div><div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;</div><div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;      <span class="comment">// Now we need to be really careful about how we update the users of the</span></div><div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;      <span class="comment">// original load. We cannot just call DCI.CombineTo (or</span></div><div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;      <span class="comment">// DAG.ReplaceAllUsesWith for that matter), because the load still has</span></div><div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;      <span class="comment">// uses created here (the permutation for example) that need to stay.</span></div><div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;      <a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html">SDNode::use_iterator</a> UI = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a8810bf428dcf84d48f39c8f5ba9a8c94">use_begin</a>(), UE = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aef02f2c1bd12936a80611b134b24a47d">use_end</a>();</div><div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;      <span class="keywordflow">while</span> (UI != UE) {</div><div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;        <a class="code" href="classllvm_1_1SDUse.html">SDUse</a> &amp;<a class="code" href="classllvm_1_1Use.html">Use</a> = UI.<a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html#ac715ec6ef67e4a6454b3b40b4c89ed2d">getUse</a>();</div><div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="classllvm_1_1User.html">User</a> = *UI;</div><div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;        <span class="comment">// Note: BaseLoad is checked here because it might not be N, but a</span></div><div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;        <span class="comment">// bitcast of N.</span></div><div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;        <span class="keywordflow">if</span> (User == Perm.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() || User == BaseLoad.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() ||</div><div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;            User == TF.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>() || Use.<a class="code" href="classllvm_1_1SDUse.html#a837a4522010445da3f5161dcd2b95880">getResNo</a>() &gt; 1) {</div><div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;          ++UI;</div><div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;        }</div><div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;</div><div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> To = Use.<a class="code" href="classllvm_1_1SDUse.html#a837a4522010445da3f5161dcd2b95880">getResNo</a>() ? TF : Perm;</div><div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;        ++UI;</div><div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;</div><div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div><div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDUse.html">SDNode::op_iterator</a> O = User-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>(),</div><div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;             OE = User-&gt;<a class="code" href="classllvm_1_1SDNode.html#a992906781101abb22f6e4d16622bbe24">op_end</a>(); O != OE; ++O) {</div><div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;          <span class="keywordflow">if</span> (*O == Use)</div><div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(To);</div><div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*O);</div><div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;        }</div><div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;</div><div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae8c041f67463ea67d6c43867729b82cb">UpdateNodeOperands</a>(User, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">data</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;      }</div><div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;</div><div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 0);</div><div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;    }</div><div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;    }</div><div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>:</div><div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;    <span class="keywordflow">if</span> (cast&lt;ConstantSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0))-&gt;getZExtValue() ==</div><div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2314919ee7fd5e7122f5870a9105b4f6">Intrinsic::ppc_altivec_lvsl</a> &amp;&amp;</div><div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>) {</div><div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Add = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;</div><div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;      <span class="keywordflow">if</span> (DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af99f246db9e144fefd7a73b54ef0bbf7">MaskedValueIsZero</a>(Add-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1),</div><div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;            <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(4 <span class="comment">/* 16 byte alignment */</span>).<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(</div><div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;              Add.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>().<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()))) {</div><div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *BasePtr = Add-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>();</div><div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html">SDNode::use_iterator</a> UI = BasePtr-&gt;<a class="code" href="classllvm_1_1SDNode.html#a8810bf428dcf84d48f39c8f5ba9a8c94">use_begin</a>(),</div><div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;             UE = BasePtr-&gt;<a class="code" href="classllvm_1_1SDNode.html#aef02f2c1bd12936a80611b134b24a47d">use_end</a>(); UI != UE; ++UI) {</div><div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;          <span class="keywordflow">if</span> (UI-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> &amp;&amp;</div><div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;              cast&lt;ConstantSDNode&gt;(UI-&gt;getOperand(0))-&gt;getZExtValue() ==</div><div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;                <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2314919ee7fd5e7122f5870a9105b4f6">Intrinsic::ppc_altivec_lvsl</a>) {</div><div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;            <span class="comment">// We&#39;ve found another LVSL, and this address if an aligned</span></div><div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;            <span class="comment">// multiple of that one. The results will be the same, so use the</span></div><div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;            <span class="comment">// one we&#39;ve just found instead.</span></div><div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;</div><div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(*UI, 0);</div><div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;          }</div><div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;        }</div><div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;      }</div><div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;    }</div><div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;</div><div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>:</div><div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;    <span class="comment">// Turn BSWAP (LOAD) -&gt; lhbrx/lwbrx.</span></div><div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ISD.html#a15623094a1ed0cd7163dc786e44c87c9">ISD::isNON_EXTLoad</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()) &amp;&amp;</div><div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a97b0f24f3e52f030830fca6fbfcbd37d">hasOneUse</a>() &amp;&amp;</div><div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;        (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> || N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> ||</div><div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;         (TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().hasLDBRX() &amp;&amp;</div><div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;          TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;().isPPC64() &amp;&amp;</div><div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;          N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>))) {</div><div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a> = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;      <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a> = cast&lt;LoadSDNode&gt;(<a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Load</a>);</div><div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;      <span class="comment">// Create the byte-swapping load.</span></div><div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div><div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;        LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>(),    <span class="comment">// Chain</span></div><div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;        LD-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">getBasePtr</a>(),  <span class="comment">// Ptr</span></div><div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0)) <span class="comment">// VT</span></div><div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;      };</div><div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BSLoad =</div><div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af9feec7e8533ed4f31520496c458c1d0">getMemIntrinsicNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a8032251e5c6dfb52579250ef6373d599">PPCISD::LBRX</a>, dl,</div><div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;                                DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">getVTList</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> ?</div><div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;                                              <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>),</div><div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;                                Ops, 3, LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>(), LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a89e2b5e3fb867b4040f893c6ae3d2132">getMemOperand</a>());</div><div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;</div><div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;      <span class="comment">// If this is an i16 load, insert the truncate.</span></div><div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ResVal = BSLoad;</div><div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;      <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div><div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;        ResVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, BSLoad);</div><div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;</div><div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;      <span class="comment">// First, combine the bswap away.  This makes the value produced by the</span></div><div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;      <span class="comment">// load dead.</span></div><div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a00151b714ce26a44b0c8288bf93696cf">CombineTo</a>(N, ResVal);</div><div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;</div><div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;      <span class="comment">// Next, combine the load away, we give it a bogus result value but a real</span></div><div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;      <span class="comment">// chain result.  The result value is dead because the bswap is dead.</span></div><div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;      DCI.<a class="code" href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a00151b714ce26a44b0c8288bf93696cf">CombineTo</a>(Load.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>(), ResVal, BSLoad.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;</div><div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;      <span class="comment">// Return N so it doesn&#39;t get rechecked!</span></div><div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 0);</div><div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;    }</div><div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;</div><div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a43a3ad5a512466965973ac46c8239c60">PPCISD::VCMP</a>: {</div><div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;    <span class="comment">// If a VCMPo node already exists with exactly the same operands as this</span></div><div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;    <span class="comment">// node, use its result instead of this node (VCMPo computes both a CR6 and</span></div><div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;    <span class="comment">// a normal output).</span></div><div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;    <span class="keywordflow">if</span> (!N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a97b0f24f3e52f030830fca6fbfcbd37d">hasOneUse</a>() &amp;&amp;</div><div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;        !N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1).<a class="code" href="classllvm_1_1SDValue.html#a97b0f24f3e52f030830fca6fbfcbd37d">hasOneUse</a>() &amp;&amp;</div><div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;        !N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2).<a class="code" href="classllvm_1_1SDValue.html#a97b0f24f3e52f030830fca6fbfcbd37d">hasOneUse</a>()) {</div><div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;</div><div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;      <span class="comment">// Scan all of the users of the LHS, looking for VCMPo&#39;s that match.</span></div><div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *VCMPoNode = 0;</div><div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;</div><div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *LHSN = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>();</div><div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html">SDNode::use_iterator</a> UI = LHSN-&gt;<a class="code" href="classllvm_1_1SDNode.html#a8810bf428dcf84d48f39c8f5ba9a8c94">use_begin</a>(), E = LHSN-&gt;<a class="code" href="classllvm_1_1SDNode.html#aef02f2c1bd12936a80611b134b24a47d">use_end</a>();</div><div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;           UI != E; ++UI)</div><div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;        <span class="keywordflow">if</span> (UI-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2739f8327120cab9e21846dee3a5366b">PPCISD::VCMPo</a> &amp;&amp;</div><div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;            UI-&gt;getOperand(1) == N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1) &amp;&amp;</div><div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;            UI-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2) == N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2) &amp;&amp;</div><div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;            UI-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0) == N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0)) {</div><div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;          VCMPoNode = *UI;</div><div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;        }</div><div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;</div><div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;      <span class="comment">// If there is no VCMPo node, or if the flag value has a single use, don&#39;t</span></div><div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;      <span class="comment">// transform this.</span></div><div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;      <span class="keywordflow">if</span> (!VCMPoNode || VCMPoNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#a51dcb6414be6f4b441df7152e05de8f5">hasNUsesOfValue</a>(0, 1))</div><div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;</div><div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;      <span class="comment">// Look at the (necessarily single) use of the flag value.  If it has a</span></div><div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;      <span class="comment">// chain, this transformation is more complex.  Note that multiple things</span></div><div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;      <span class="comment">// could use the value result, which we should ignore.</span></div><div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *FlagUser = 0;</div><div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SDNode_1_1use__iterator.html">SDNode::use_iterator</a> UI = VCMPoNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#a8810bf428dcf84d48f39c8f5ba9a8c94">use_begin</a>();</div><div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;           FlagUser == 0; ++UI) {</div><div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;        assert(UI != VCMPoNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#aef02f2c1bd12936a80611b134b24a47d">use_end</a>() &amp;&amp; <span class="stringliteral">&quot;Didn&#39;t find user!&quot;</span>);</div><div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;        <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="classllvm_1_1User.html">User</a> = *UI;</div><div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = User-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;          <span class="keywordflow">if</span> (User-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(VCMPoNode, 1)) {</div><div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;            FlagUser = User;</div><div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;          }</div><div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;        }</div><div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;      }</div><div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;</div><div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;      <span class="comment">// If the user is a MFOCRF instruction, we know this is safe.</span></div><div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;      <span class="comment">// Otherwise we give up for right now.</span></div><div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;      <span class="keywordflow">if</span> (FlagUser-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>() == <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f">PPCISD::MFOCRF</a>)</div><div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(VCMPoNode, 0);</div><div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;    }</div><div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;  }</div><div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d5e322b263f0d5ea4204efafc1d78bb">ISD::BR_CC</a>: {</div><div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;    <span class="comment">// If this is a branch on an altivec predicate comparison, lower this so</span></div><div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;    <span class="comment">// that we don&#39;t have to do a MFOCRF: instead, branch directly on CR6.  This</span></div><div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;    <span class="comment">// lowering is done pre-legalize, because the legalizer lowers the predicate</span></div><div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;    <span class="comment">// compare down to code that is difficult to reassemble.</span></div><div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">ISD::CondCode</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = cast&lt;CondCodeSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;<span class="keyword">get</span>();</div><div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2), RHS = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3);</div><div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;</div><div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;    <span class="comment">// Sometimes the promoted value of the intrinsic is ANDed by some non-zero</span></div><div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;    <span class="comment">// value. If so, pass-through the AND to get to the intrinsic.</span></div><div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;    <span class="keywordflow">if</span> (LHS.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a> &amp;&amp;</div><div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;        LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> &amp;&amp;</div><div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;        cast&lt;ConstantSDNode&gt;(LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))-&gt;getZExtValue() ==</div><div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1420b00acc303559771c7d9c17c636ce">Intrinsic::ppc_is_decremented_ctr_nonzero</a> &amp;&amp;</div><div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;        isa&lt;ConstantSDNode&gt;(LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1)) &amp;&amp;</div><div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;        !cast&lt;ConstantSDNode&gt;(LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))-&gt;getConstantIntValue()-&gt;</div><div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;          <a class="code" href="Lint_8cpp.html#a6cd8c36c54045fd5897b54d4c30e0044">isZero</a>())</div><div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;      LHS = LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;</div><div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;    <span class="keywordflow">if</span> (LHS.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">ISD::INTRINSIC_W_CHAIN</a> &amp;&amp;</div><div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;        cast&lt;ConstantSDNode&gt;(LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))-&gt;getZExtValue() ==</div><div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;          <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1420b00acc303559771c7d9c17c636ce">Intrinsic::ppc_is_decremented_ctr_nonzero</a> &amp;&amp;</div><div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;        isa&lt;ConstantSDNode&gt;(RHS)) {</div><div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;      assert((CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div><div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;             <span class="stringliteral">&quot;Counter decrement comparison is not EQ or NE&quot;</span>);</div><div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;</div><div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;      <span class="keywordtype">unsigned</span> Val = cast&lt;ConstantSDNode&gt;(RHS)-&gt;getZExtValue();</div><div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;      <span class="keywordtype">bool</span> isBDNZ = (CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> &amp;&amp; Val) ||</div><div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;                    (CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a> &amp;&amp; !Val);</div><div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;</div><div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;      <span class="comment">// We now need to make the intrinsic dead (it cannot be instruction</span></div><div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;      <span class="comment">// selected).</span></div><div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">ReplaceAllUsesOfValueWith</a>(LHS.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1), LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0));</div><div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;      assert(LHS.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()-&gt;<a class="code" href="classllvm_1_1SDNode.html#a52753947fce3a01b1c18dd4713c587e8">hasOneUse</a>() &amp;&amp;</div><div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;             <span class="stringliteral">&quot;Counter decrement has more than one use&quot;</span>);</div><div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;</div><div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(isBDNZ ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a160ec67350dc5e964fc0a12a9cde1df8">PPCISD::BDNZ</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66addb9d78754c1f2e6d765a0da913f0800">PPCISD::BDZ</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;                         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4));</div><div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;    }</div><div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;</div><div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;    <span class="keywordtype">int</span> CompareOpc;</div><div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;    <span class="keywordtype">bool</span> isDot;</div><div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;</div><div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;    <span class="keywordflow">if</span> (LHS.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a> &amp;&amp;</div><div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;        isa&lt;ConstantSDNode&gt;(RHS) &amp;&amp; (CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a> || CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">ISD::SETNE</a>) &amp;&amp;</div><div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;        <a class="code" href="PPCISelLowering_8cpp.html#a35053bb3e328d74ce342c149dde6ead8">getAltivecCompareInfo</a>(LHS, CompareOpc, isDot)) {</div><div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;      assert(isDot &amp;&amp; <span class="stringliteral">&quot;Can&#39;t compare against a vector result!&quot;</span>);</div><div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;</div><div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;      <span class="comment">// If this is a comparison against something other than 0/1, then we know</span></div><div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;      <span class="comment">// that the condition is never/always true.</span></div><div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;      <span class="keywordtype">unsigned</span> Val = cast&lt;ConstantSDNode&gt;(RHS)-&gt;getZExtValue();</div><div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;      <span class="keywordflow">if</span> (Val != 0 &amp;&amp; Val != 1) {</div><div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;        <span class="keywordflow">if</span> (CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>)      <span class="comment">// Cond never true, remove branch.</span></div><div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;          <span class="keywordflow">return</span> N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;        <span class="comment">// Always !=, turn it into an unconditional branch.</span></div><div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">ISD::BR</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;                           N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4));</div><div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;      }</div><div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;</div><div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;      <span class="keywordtype">bool</span> BranchOnWhenPredTrue = (CC == <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">ISD::SETEQ</a>) ^ (Val == 0);</div><div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;</div><div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;      <span class="comment">// Create the PPCISD altivec &#39;dot&#39; comparison node.</span></div><div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {</div><div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;        LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2),  <span class="comment">// LHS of compare</span></div><div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;        LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(3),  <span class="comment">// RHS of compare</span></div><div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(CompareOpc, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;      };</div><div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> VTs[] = { LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a> };</div><div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CompNode = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2739f8327120cab9e21846dee3a5366b">PPCISD::VCMPo</a>, dl, VTs, Ops, 3);</div><div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;</div><div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;      <span class="comment">// Unpack the result based on how the target uses it.</span></div><div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;      <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a> CompOpc;</div><div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;      <span class="keywordflow">switch</span> (cast&lt;ConstantSDNode&gt;(LHS.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(1))-&gt;getZExtValue()) {</div><div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;      <span class="keywordflow">default</span>:  <span class="comment">// Can&#39;t happen, don&#39;t crash on invalid number though.</span></div><div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;      <span class="keywordflow">case</span> 0:   <span class="comment">// Branch on the value of the EQ bit of CR6.</span></div><div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;        CompOpc = BranchOnWhenPredTrue ? <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a> : <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>;</div><div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;      <span class="keywordflow">case</span> 1:   <span class="comment">// Branch on the inverted value of the EQ bit of CR6.</span></div><div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;        CompOpc = BranchOnWhenPredTrue ? <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a> : <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a>;</div><div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;      <span class="keywordflow">case</span> 2:   <span class="comment">// Branch on the value of the LT bit of CR6.</span></div><div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;        CompOpc = BranchOnWhenPredTrue ? <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">PPC::PRED_LT</a> : <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">PPC::PRED_GE</a>;</div><div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;      <span class="keywordflow">case</span> 3:   <span class="comment">// Branch on the inverted value of the LT bit of CR6.</span></div><div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;        CompOpc = BranchOnWhenPredTrue ? <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">PPC::PRED_GE</a> : <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">PPC::PRED_LT</a>;</div><div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;      }</div><div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;</div><div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0992940624286ed6bc85cd7163501613">PPCISD::COND_BRANCH</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0),</div><div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(CompOpc, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>),</div><div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">getRegister</a>(PPC::CR6, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>),</div><div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;                         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4), CompNode.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;    }</div><div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;  }</div><div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;  }</div><div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;</div><div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;}</div><div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;</div><div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;<span class="comment">// Inline Assembly Support</span></div><div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;</div><div class="line"><a name="l07528"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a70f8c42ee595d1c978cf073a1b5e9050"> 7528</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a70f8c42ee595d1c978cf073a1b5e9050">PPCTargetLowering::computeMaskedBitsForTargetNode</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;                                                       <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero,</div><div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;                                                       <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownOne,</div><div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;                                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG,</div><div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;                                                       <span class="keywordtype">unsigned</span> Depth)<span class="keyword"> const </span>{</div><div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;  KnownZero = KnownOne = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), 0);</div><div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;  <span class="keywordflow">switch</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>()) {</div><div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a8032251e5c6dfb52579250ef6373d599">PPCISD::LBRX</a>: {</div><div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;    <span class="comment">// lhbrx is known to have the top bits cleared out.</span></div><div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;    <span class="keywordflow">if</span> (cast&lt;VTSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(2))-&gt;getVT() == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div><div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;      KnownZero = 0xFFFF0000;</div><div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;  }</div><div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">ISD::INTRINSIC_WO_CHAIN</a>: {</div><div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;    <span class="keywordflow">switch</span> (cast&lt;ConstantSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0))-&gt;getZExtValue()) {</div><div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a89a21084d4470f93ac146c8e477b288d">Intrinsic::ppc_altivec_vcmpbfp_p</a>:</div><div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3d3a309f761dbae24b488412f6550fc2">Intrinsic::ppc_altivec_vcmpeqfp_p</a>:</div><div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a6526d0d368789849e3a217ea986e22d9">Intrinsic::ppc_altivec_vcmpequb_p</a>:</div><div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2fc833fc1234ba27e00e934ba536b538">Intrinsic::ppc_altivec_vcmpequh_p</a>:</div><div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab45a2d5cdc5e1d5b22e6ba30f26ccb8a">Intrinsic::ppc_altivec_vcmpequw_p</a>:</div><div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a302bc8325092bbb02d6fb40f24086cfe">Intrinsic::ppc_altivec_vcmpgefp_p</a>:</div><div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aea36803fe51b4ef3e51f9ea59f3cdc49">Intrinsic::ppc_altivec_vcmpgtfp_p</a>:</div><div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a796c035d1b69a9cf3fb794bd65ebc584">Intrinsic::ppc_altivec_vcmpgtsb_p</a>:</div><div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a48341f6d21bbbdcfab4afe09e4f35e28">Intrinsic::ppc_altivec_vcmpgtsh_p</a>:</div><div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a81c99091724ec1863e2a50d96de97d11">Intrinsic::ppc_altivec_vcmpgtsw_p</a>:</div><div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4dd98345aafbd799c1a2777fe287c5dc">Intrinsic::ppc_altivec_vcmpgtub_p</a>:</div><div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3ed00c2124f22e1c624b4816f9347d14">Intrinsic::ppc_altivec_vcmpgtuh_p</a>:</div><div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa31902bbec3616dc9a8abc5d9e437338">Intrinsic::ppc_altivec_vcmpgtuw_p</a>:</div><div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;      KnownZero = ~1U;  <span class="comment">// All bits but the low one are known to be zero.</span></div><div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;    }</div><div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;  }</div><div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;  }</div><div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;}</div><div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;</div><div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;<span class="comment">/// getConstraintType - Given a constraint, return the type of</span></div><div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;<span class="comment">/// constraint it is for this target.</span></div><div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116">PPCTargetLowering::ConstraintType</a></div><div class="line"><a name="l07569"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a75b241235813d3dfe627371cdaa8d4cb"> 7569</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a75b241235813d3dfe627371cdaa8d4cb">PPCTargetLowering::getConstraintType</a>(<span class="keyword">const</span> std::string &amp;Constraint)<span class="keyword"> const </span>{</div><div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;  <span class="keywordflow">if</span> (Constraint.size() == 1) {</div><div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;    <span class="keywordflow">switch</span> (Constraint[0]) {</div><div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div><div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div><div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div><div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>:</div><div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:</div><div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">C_RegisterClass</a>;</div><div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;Z&#39;</span>:</div><div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;      <span class="comment">// FIXME: While Z does indicate a memory constraint, it specifically</span></div><div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;      <span class="comment">// indicates an r+r address (used in conjunction with the &#39;y&#39; modifier</span></div><div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;      <span class="comment">// in the replacement string). Currently, we&#39;re forcing the base</span></div><div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;      <span class="comment">// register to be r0 in the asm printer (which is interpreted as zero)</span></div><div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;      <span class="comment">// and forming the complete address in the second register. This is</span></div><div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;      <span class="comment">// suboptimal.</span></div><div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">C_Memory</a>;</div><div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;    }</div><div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;  }</div><div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetLowering.html#a31d6dacf27b7608783e33351e082bbba">TargetLowering::getConstraintType</a>(Constraint);</div><div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;}</div><div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;<span class="comment">/// Examine constraint type and operand type and determine a weight value.</span></div><div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;<span class="comment">/// This object must already have been set up with the operand type</span></div><div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;<span class="comment">/// and the current alternative constraint selected.</span></div><div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">TargetLowering::ConstraintWeight</a></div><div class="line"><a name="l07596"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a60320a9925b38321ae24d740357f2053"> 7596</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a60320a9925b38321ae24d740357f2053">PPCTargetLowering::getSingleConstraintMatchWeight</a>(</div><div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;    <a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">AsmOperandInfo</a> &amp;<a class="code" href="LazyValueInfo_8cpp.html#ad7f64bcc544dcefb2e068282af1c549d">info</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *constraint)<span class="keyword"> const </span>{</div><div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">ConstraintWeight</a> weight = <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abca2a03cc05a305d0cd861ff2d070da40ca">CW_Invalid</a>;</div><div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CallOperandVal = info.<a class="code" href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">CallOperandVal</a>;</div><div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;    <span class="comment">// If we don&#39;t have a value, we can&#39;t do a match,</span></div><div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;    <span class="comment">// but allow it at the lowest weight.</span></div><div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;  <span class="keywordflow">if</span> (CallOperandVal == NULL)</div><div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcad4df0dd48c58dea43776a5a77e74ba76">CW_Default</a>;</div><div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="Target_2LLVMBuild_8txt.html#ac6653103ff5a7ab01c54613c5a0e5b2d">type</a> = CallOperandVal-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;  <span class="comment">// Look at the constraint type.</span></div><div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;  <span class="keywordflow">switch</span> (*constraint) {</div><div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;    weight = <a class="code" href="classllvm_1_1TargetLowering.html#a04dfb06ba2391546356e8245899ae8cf">TargetLowering::getSingleConstraintMatchWeight</a>(info, constraint);</div><div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div><div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;    <span class="keywordflow">if</span> (type-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;      weight = <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcaa36ab38b266c612487d9ff61df7475af">CW_Register</a>;</div><div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div><div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;    <span class="keywordflow">if</span> (type-&gt;<a class="code" href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">isFloatTy</a>())</div><div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;      weight = <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcaa36ab38b266c612487d9ff61df7475af">CW_Register</a>;</div><div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;    <span class="keywordflow">if</span> (type-&gt;<a class="code" href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">isDoubleTy</a>())</div><div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;      weight = <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcaa36ab38b266c612487d9ff61df7475af">CW_Register</a>;</div><div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>:</div><div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;    <span class="keywordflow">if</span> (type-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>())</div><div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;      weight = <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcaa36ab38b266c612487d9ff61df7475af">CW_Register</a>;</div><div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:</div><div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;    weight = <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcaa36ab38b266c612487d9ff61df7475af">CW_Register</a>;</div><div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;Z&#39;</span>:</div><div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;    weight = <a class="code" href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abca5b8290e7824d2be12d9886e17c7aedd6">CW_Memory</a>;</div><div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;  }</div><div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;  <span class="keywordflow">return</span> weight;</div><div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;}</div><div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;</div><div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;std::pair&lt;unsigned, const TargetRegisterClass*&gt;</div><div class="line"><a name="l07637"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a3e17070dc2b7b5703059045c4384c2a3"> 7637</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a3e17070dc2b7b5703059045c4384c2a3">PPCTargetLowering::getRegForInlineAsmConstraint</a>(<span class="keyword">const</span> std::string &amp;Constraint,</div><div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;                                                <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT)<span class="keyword"> const </span>{</div><div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;  <span class="keywordflow">if</span> (Constraint.size() == 1) {</div><div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;    <span class="comment">// GCC RS6000 Constraint Letters</span></div><div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;    <span class="keywordflow">switch</span> (Constraint[0]) {</div><div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:   <span class="comment">// R1-R31</span></div><div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;      <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; PPCSubTarget.isPPC64())</div><div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;        <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::G8RC_NOX0RegClass);</div><div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;      <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::GPRC_NOR0RegClass);</div><div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:   <span class="comment">// R0-R31</span></div><div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;      <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; PPCSubTarget.isPPC64())</div><div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;        <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;      <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div><div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;      <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> || VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;        <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::F4RCRegClass);</div><div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;      <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> || VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;        <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::F8RCRegClass);</div><div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>:</div><div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;      <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::VRRCRegClass);</div><div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:   <span class="comment">// crrc</span></div><div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;      <span class="keywordflow">return</span> std::make_pair(0U, &amp;PPC::CRRCRegClass);</div><div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;    }</div><div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;  }</div><div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;</div><div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;  std::pair&lt;unsigned, const TargetRegisterClass*&gt; R =</div><div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;    <a class="code" href="classllvm_1_1TargetLowering.html#a89e556de7967c08e4850a8a84dc4b2dd">TargetLowering::getRegForInlineAsmConstraint</a>(Constraint, VT);</div><div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;</div><div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;  <span class="comment">// r[0-9]+ are used, on PPC64, to refer to the corresponding 64-bit registers</span></div><div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;  <span class="comment">// (which we call X[0-9]+). If a 64-bit value has been requested, and a</span></div><div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;  <span class="comment">// 32-bit GPR has been selected, then &#39;upgrade&#39; it to the 64-bit parent</span></div><div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;  <span class="comment">// register.</span></div><div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;  <span class="comment">// FIXME: If TargetLowering::getRegForInlineAsmConstraint could somehow use</span></div><div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;  <span class="comment">// the AsmName field from *RegisterInfo.td, then this would not be necessary.</span></div><div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;  <span class="keywordflow">if</span> (R.first &amp;&amp; VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; PPCSubTarget.isPPC64() &amp;&amp;</div><div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;      PPC::GPRCRegClass.contains(R.first)) {</div><div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = <a class="code" href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">getTargetMachine</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>();</div><div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;    <span class="keywordflow">return</span> std::make_pair(TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(R.first,</div><div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;                            PPC::sub_32, &amp;PPC::G8RCRegClass),</div><div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;                          &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;  }</div><div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;</div><div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;  <span class="keywordflow">return</span> R;</div><div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;}</div><div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;</div><div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;<span class="comment">/// LowerAsmOperandForConstraint - Lower the specified operand into the Ops</span></div><div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;<span class="comment">/// vector.  If it is invalid, don&#39;t add anything to Ops.</span></div><div class="line"><a name="l07686"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a3742837ae6849c4196356fe9eb25e4e4"> 7686</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a3742837ae6849c4196356fe9eb25e4e4">PPCTargetLowering::LowerAsmOperandForConstraint</a>(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;                                                     std::string &amp;Constraint,</div><div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;                                                     std::vector&lt;SDValue&gt;&amp;Ops,</div><div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;                                                     <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result(0,0);</div><div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;</div><div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;  <span class="comment">// Only support length 1 constraints.</span></div><div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;  <span class="keywordflow">if</span> (Constraint.length() &gt; 1) <span class="keywordflow">return</span>;</div><div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;</div><div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;  <span class="keywordtype">char</span> Letter = Constraint[0];</div><div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;  <span class="keywordflow">switch</span> (Letter) {</div><div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:</div><div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;J&#39;</span>:</div><div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:</div><div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:</div><div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:</div><div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:</div><div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:</div><div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>: {</div><div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CST = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a>&gt;(Op);</div><div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;    <span class="keywordflow">if</span> (!CST) <span class="keywordflow">return</span>; <span class="comment">// Must be an immediate to match.</span></div><div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Value.html">Value</a> = CST-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a1e9365c991dd55e65e9d5ab5653812e4">getZExtValue</a>();</div><div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;    <span class="keywordflow">switch</span> (Letter) {</div><div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown constraint letter!&quot;</span>);</div><div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:  <span class="comment">// &quot;I&quot; is a signed 16-bit constant.</span></div><div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">short</span>)Value == (<span class="keywordtype">int</span>)Value)</div><div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Value, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;J&#39;</span>:  <span class="comment">// &quot;J&quot; is a constant with only the high-order 16 bits nonzero.</span></div><div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:  <span class="comment">// &quot;L&quot; is a signed 16-bit constant shifted left 16 bits.</span></div><div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">short</span>)Value == 0)</div><div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Value, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:  <span class="comment">// &quot;K&quot; is a constant with only the low-order 16 bits nonzero.</span></div><div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;      <span class="keywordflow">if</span> ((Value &gt;&gt; 16) == 0)</div><div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Value, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:  <span class="comment">// &quot;M&quot; is a constant that is greater than 31.</span></div><div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;      <span class="keywordflow">if</span> (Value &gt; 31)</div><div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Value, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:  <span class="comment">// &quot;N&quot; is a positive constant that is an exact power of two.</span></div><div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)Value &gt; 0 &amp;&amp; <a class="code" href="namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">isPowerOf2_32</a>(Value))</div><div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Value, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:  <span class="comment">// &quot;O&quot; is the constant zero.</span></div><div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;      <span class="keywordflow">if</span> (Value == 0)</div><div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Value, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:  <span class="comment">// &quot;P&quot; is a constant whose negation is a signed 16-bit constant.</span></div><div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">short</span>)-Value == (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)-Value)</div><div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;        Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">getTargetConstant</a>(Value, Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;    }</div><div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;  }</div><div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;  }</div><div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;</div><div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;  <span class="keywordflow">if</span> (Result.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>()) {</div><div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;    Ops.push_back(Result);</div><div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;  }</div><div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;</div><div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;  <span class="comment">// Handle standard constraint letters.</span></div><div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;  <a class="code" href="classllvm_1_1TargetLowering.html#af6ec97cdccccd552fe3234d495b95c70">TargetLowering::LowerAsmOperandForConstraint</a>(Op, Constraint, Ops, DAG);</div><div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;}</div><div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;</div><div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;<span class="comment">// isLegalAddressingMode - Return true if the addressing mode represented</span></div><div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;<span class="comment">// by AM is legal for this target, for a load/store of the specified type.</span></div><div class="line"><a name="l07756"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a197423f62c8dad7446288e62b6c44dbf"> 7756</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a197423f62c8dad7446288e62b6c44dbf">PPCTargetLowering::isLegalAddressingMode</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html">AddrMode</a> &amp;AM,</div><div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;                                              <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty)<span class="keyword"> const </span>{</div><div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;  <span class="comment">// FIXME: PPC does not allow r+i addressing modes for vectors!</span></div><div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;</div><div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;  <span class="comment">// PPC allows a sign-extended 16-bit immediate field.</span></div><div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;  <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a115ffe6d615735fbe8b1bf31877565ba">BaseOffs</a> &lt;= -(1LL &lt;&lt; 16) || AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a115ffe6d615735fbe8b1bf31877565ba">BaseOffs</a> &gt;= (1LL &lt;&lt; 16)-1)</div><div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;</div><div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;  <span class="comment">// No global is ever allowed as a base.</span></div><div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;  <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a2d775e3fd8ebcd0941d1e12cbfccda3d">BaseGV</a>)</div><div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;</div><div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;  <span class="comment">// PPC only support r+r,</span></div><div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;  <span class="keywordflow">switch</span> (AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a8ea7d02f0e4b0c1d37d6986ec9f7f5c0">Scale</a>) {</div><div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;  <span class="keywordflow">case</span> 0:  <span class="comment">// &quot;r+i&quot; or just &quot;i&quot;, depending on HasBaseReg.</span></div><div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;  <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;    <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a8868c35de6c36dc0d57e84f256c4ffde">HasBaseReg</a> &amp;&amp; AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a115ffe6d615735fbe8b1bf31877565ba">BaseOffs</a>)  <span class="comment">// &quot;r+r+i&quot; is not allowed.</span></div><div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;    <span class="comment">// Otherwise we have r+r or r+i.</span></div><div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;  <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;    <span class="keywordflow">if</span> (AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a8868c35de6c36dc0d57e84f256c4ffde">HasBaseReg</a> || AM.<a class="code" href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a115ffe6d615735fbe8b1bf31877565ba">BaseOffs</a>)  <span class="comment">// 2*r+r  or  2*r+i is not allowed.</span></div><div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;    <span class="comment">// Allow 2*r as r+r.</span></div><div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;    <span class="comment">// No other scales are supported.</span></div><div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;  }</div><div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;</div><div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;}</div><div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;</div><div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerRETURNADDR(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;                                           <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;  MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a81b01652144140bfb79c6ffdaff923f9">setReturnAddressIsTaken</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;</div><div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;  <span class="keywordtype">unsigned</span> Depth = cast&lt;ConstantSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0))-&gt;getZExtValue();</div><div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;</div><div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;  <span class="comment">// Make sure the function does not optimize away the store of the RA to</span></div><div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;  <span class="comment">// the stack.</span></div><div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FuncInfo = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;  FuncInfo-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a5f99b3c1dc503cd4fdd6516ec5ccf2ee">setLRStoreRequired</a>();</div><div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = PPCSubTarget.isPPC64();</div><div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;  <span class="keywordtype">bool</span> isDarwinABI = PPCSubTarget.isDarwinABI();</div><div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;</div><div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;  <span class="keywordflow">if</span> (Depth &gt; 0) {</div><div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FrameAddr = LowerFRAMEADDR(Op, DAG);</div><div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Offset =</div><div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;</div><div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="classllvm_1_1PPCFrameLowering.html#a4d69526bf0c3ba246820af1cbc25effe">PPCFrameLowering::getReturnSaveOffset</a>(isPPC64, isDarwinABI),</div><div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;                      isPPC64? <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> : <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>);</div><div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>(), dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(),</div><div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, <a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>(),</div><div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;                                   FrameAddr, Offset),</div><div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;                       <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;  }</div><div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;</div><div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;  <span class="comment">// Just load the return address off the stack.</span></div><div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RetAddrFI = getReturnAddrFrameIndex(DAG);</div><div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>(), dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(),</div><div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;                     RetAddrFI, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;}</div><div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;</div><div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> PPCTargetLowering::LowerFRAMEADDR(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op,</div><div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;                                          <a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a> &amp;DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(Op);</div><div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;  <span class="keywordtype">unsigned</span> Depth = cast&lt;ConstantSDNode&gt;(Op.<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0))-&gt;getZExtValue();</div><div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;</div><div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PtrVT = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>().<a class="code" href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">getPointerTy</a>();</div><div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;  <span class="keywordtype">bool</span> isPPC64 = PtrVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div><div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;</div><div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">getMachineFunction</a>();</div><div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;  MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a4b9a38005d95189db3246e0e4ec6088d">setFrameAddressIsTaken</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;</div><div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;  <span class="comment">// Naked functions never have a frame pointer, and so we use r1. For all</span></div><div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;  <span class="comment">// other functions, this decision must be delayed until during PEI.</span></div><div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;  <span class="keywordtype">unsigned</span> FrameReg;</div><div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(</div><div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;        AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055">Attribute::Naked</a>))</div><div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;    FrameReg = isPPC64 ? PPC::X1 : PPC::R1;</div><div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;    FrameReg = isPPC64 ? PPC::FP8 : PPC::FP;</div><div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;</div><div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> FrameAddr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">getCopyFromReg</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl, FrameReg,</div><div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;                                         PtrVT);</div><div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;  <span class="keywordflow">while</span> (Depth--)</div><div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;    FrameAddr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), dl, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(),</div><div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;                            FrameAddr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;                            <span class="keyword">false</span>, 0);</div><div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;  <span class="keywordflow">return</span> FrameAddr;</div><div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;}</div><div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;</div><div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l07855"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a0b00c3684cfd114128feeb01079bd264"> 7855</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a0b00c3684cfd114128feeb01079bd264">PPCTargetLowering::isOffsetFoldingLegal</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAddressSDNode.html">GlobalAddressSDNode</a> *GA)<span class="keyword"> const </span>{</div><div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;  <span class="comment">// The PowerPC target isn&#39;t yet aware of offsets.</span></div><div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;}</div><div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;<span class="comment">/// getOptimalMemOpType - Returns the target specific optimal type for load</span></div><div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;<span class="comment">/// and store operations as a result of memset, memcpy, and memmove</span></div><div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;<span class="comment">/// lowering. If DstAlign is zero that means it&#39;s safe to destination</span></div><div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;<span class="comment">/// alignment can satisfy any constraint. Similarly if SrcAlign is zero it</span></div><div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;<span class="comment">/// means there isn&#39;t a need to check it against alignment requirement,</span></div><div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;<span class="comment">/// probably because the source does not need to be loaded. If &#39;IsMemset&#39; is</span></div><div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;<span class="comment">/// true, that means it&#39;s expanding a memset. If &#39;ZeroMemset&#39; is true, that</span></div><div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;<span class="comment">/// means it&#39;s a memset of zero. &#39;MemcpyStrSrc&#39; indicates whether the memcpy</span></div><div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;<span class="comment">/// source is constant so it does not need to be loaded.</span></div><div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;<span class="comment">/// It returns EVT::Other if the type should be determined using generic</span></div><div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;<span class="comment">/// target-independent logic.</span></div><div class="line"><a name="l07871"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a6b021b1199c0258a2faf1cfffe3bf892"> 7871</a></span>&#160;<span class="comment"></span><a class="code" href="structllvm_1_1EVT.html">EVT</a> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a6b021b1199c0258a2faf1cfffe3bf892">PPCTargetLowering::getOptimalMemOpType</a>(uint64_t Size,</div><div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;                                           <span class="keywordtype">unsigned</span> DstAlign, <span class="keywordtype">unsigned</span> SrcAlign,</div><div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;                                           <span class="keywordtype">bool</span> IsMemset, <span class="keywordtype">bool</span> ZeroMemset,</div><div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;                                           <span class="keywordtype">bool</span> MemcpyStrSrc,</div><div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;                                           <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;  <span class="keywordflow">if</span> (this-&gt;PPCSubTarget.isPPC64()) {</div><div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div><div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>;</div><div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;  }</div><div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;}</div><div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;</div><div class="line"><a name="l07883"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a29906259f41513b57db716dbe74ae134"> 7883</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a29906259f41513b57db716dbe74ae134">PPCTargetLowering::allowsUnalignedMemoryAccesses</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT,</div><div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;                                                      <span class="keywordtype">bool</span> *<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">Fast</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#aae5a5f1af1abef57233d0e17e18f1c47">DisablePPCUnaligned</a>)</div><div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;</div><div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;  <span class="comment">// PowerPC supports unaligned memory access for simple non-vector types.</span></div><div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;  <span class="comment">// Although accessing unaligned addresses is not as efficient as accessing</span></div><div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;  <span class="comment">// aligned addresses, it is generally more efficient than manual expansion,</span></div><div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;  <span class="comment">// and generally only traps for software emulation when crossing page</span></div><div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;  <span class="comment">// boundaries.</span></div><div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;</div><div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;</div><div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">isVector</a>())</div><div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;</div><div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">MVT::ppcf128</a>)</div><div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;</div><div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;  <span class="keywordflow">if</span> (Fast)</div><div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;    *Fast = <span class="keyword">true</span>;</div><div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;</div><div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;}</div><div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;</div><div class="line"><a name="l07909"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a52b2d68984578f2b134b760a59dc00f9"> 7909</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCTargetLowering.html#a52b2d68984578f2b134b760a59dc00f9">PPCTargetLowering::isFMAFasterThanFMulAndFAdd</a>(<a class="code" href="structllvm_1_1EVT.html">EVT</a> VT)<span class="keyword"> const </span>{</div><div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;  VT = VT.<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>();</div><div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;</div><div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;  <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;</div><div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>().<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;  }</div><div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;</div><div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;}</div><div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;</div><div class="line"><a name="l07926"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#ab2716f7ed3dff70f4308b3d9cc3c4e5c"> 7926</a></span>&#160;<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309e">Sched::Preference</a> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a4f38ed3108a79a3a939a93391130d105">PPCTargetLowering::getSchedulingPreference</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCISelLowering_8cpp.html#ae8df7699f069ce76cf9c5d988b4319d3">DisableILPPref</a> || PPCSubTarget.enableMachineScheduler())</div><div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a4f38ed3108a79a3a939a93391130d105">TargetLowering::getSchedulingPreference</a>(N);</div><div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;</div><div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac4801b47c85ae3044251c5ca7443b1df">Sched::ILP</a>;</div><div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;}</div><div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;</div><div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;<span class="comment">// Create a fast isel object.</span></div><div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;<a class="code" href="classllvm_1_1FastISel.html">FastISel</a> *</div><div class="line"><a name="l07935"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCTargetLowering.html#a789139fb9ebc6a460ca18f795476a7b3"> 7935</a></span>&#160;<a class="code" href="classllvm_1_1PPCTargetLowering.html#a789139fb9ebc6a460ca18f795476a7b3">PPCTargetLowering::createFastISel</a>(<a class="code" href="classllvm_1_1FunctionLoweringInfo.html">FunctionLoweringInfo</a> &amp;FuncInfo,</div><div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *LibInfo)<span class="keyword"> const </span>{</div><div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a2cd7fb94f62f409bc4faf2a20e0904eb">PPC::createFastISel</a>(FuncInfo, LibInfo);</div><div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;}</div><div class="ttc" id="classllvm_1_1SDValue_html_a8bc8606044f2c3cdb6271c0378e0f9cf"><div class="ttname"><a href="classllvm_1_1SDValue.html#a8bc8606044f2c3cdb6271c0378e0f9cf">llvm::SDValue::getSimpleValueType</a></div><div class="ttdeci">MVT getSimpleValueType() const </div><div class="ttdoc">Return the simple ValueType of the referenced return value. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00134">SelectionDAGNodes.h:134</a></div></div>
<div class="ttc" id="X86ISelDAGToDAG_8cpp_html_afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f"><div class="ttname"><a href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">AND</a></div><div class="ttdef"><b>Definition:</b> <a href="X86ISelDAGToDAG_8cpp_source.html#l01588">X86ISelDAGToDAG.cpp:1588</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af7bfad446dfd85837fe7ff904ebb1aff"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af7bfad446dfd85837fe7ff904ebb1aff">llvm::ISD::ADJUST_TRAMPOLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00583">ISDOpcodes.h:583</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa8cad208c3cb96b33b5d8544590325b1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa8cad208c3cb96b33b5d8544590325b1">llvm::ISD::ConstantPool</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00063">ISDOpcodes.h:63</a></div></div>
<div class="ttc" id="namespaceSIInstrFlags_html_a607b4b0952924970b77a9c6b42898b54"><div class="ttname"><a href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">SIInstrFlags::Flags</a></div><div class="ttdeci">Flags</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00140">SIInstrInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a4b9a38005d95189db3246e0e4ec6088d"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a4b9a38005d95189db3246e0e4ec6088d">llvm::MachineFrameInfo::setFrameAddressIsTaken</a></div><div class="ttdeci">void setFrameAddressIsTaken(bool T)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00271">MachineFrameInfo.h:271</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cae95173386f40dde17d7ae56a7bdd416e"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae95173386f40dde17d7ae56a7bdd416e">llvm::MVT::FIRST_VECTOR_VALUETYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00113">ValueTypes.h:113</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_aa4872f31b8be67e8a1998454db0766bd"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#aa4872f31b8be67e8a1998454db0766bd">llvm::TargetLowering::CallLoweringInfo::Chain</a></div><div class="ttdeci">SDValue Chain</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01950">TargetLowering.h:1950</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">llvm::ISD::BITCAST</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00420">ISDOpcodes.h:420</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">llvm::ISD::FP_ROUND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00393">ISDOpcodes.h:393</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ad2b0da006c4560646ac3eb561a8b73b2"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ad2b0da006c4560646ac3eb561a8b73b2">llvm::PPCISD::FADDRTZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00156">PPCISelLowering.h:156</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aed93fe593cbca270b48f14bc00c5d73a">llvm::PPCISD::FSEL</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00034">PPCISelLowering.h:34</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90"><div class="ttname"><a href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ab5bb854fadd42503c849c4a48d7f3d90">llvm::ISD::PRE_INC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00680">ISDOpcodes.h:680</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a34218a663a02de9dc2d26a5639f58ebe"><div class="ttname"><a href="classllvm_1_1CCState.html#a34218a663a02de9dc2d26a5639f58ebe">llvm::CCState::AnalyzeCallResult</a></div><div class="ttdeci">void AnalyzeCallResult(const SmallVectorImpl&lt; ISD::InputArg &gt; &amp;Ins, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00155">CallingConvLower.cpp:155</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdoc">The memory access reads data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00093">MachineMemOperand.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a13ad902229b8b6b3a7a1d29dedac01e0"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">llvm::SelectionDAG::getConstant</a></div><div class="ttdeci">SDValue getConstant(uint64_t Val, EVT VT, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00959">SelectionDAG.cpp:959</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a732481d062147ffe21fbc2f1b216b6cb"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a732481d062147ffe21fbc2f1b216b6cb">llvm::Intrinsic::ppc_altivec_vslb</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02335">Intrinsics.h:2335</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">llvm::ISD::FSUB</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a040481b9bda32faa6b1435532405d88f"><div class="ttname"><a href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">llvm::SDValue::getValue</a></div><div class="ttdeci">SDValue getValue(unsigned R) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00122">SelectionDAGNodes.h:122</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLoweringBase_1_1AddrMode_html"><div class="ttname"><a href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html">llvm::TargetLoweringBase::AddrMode</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01127">TargetLowering.h:1127</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a2cd7fb94f62f409bc4faf2a20e0904eb"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a2cd7fb94f62f409bc4faf2a20e0904eb">llvm::PPC::createFastISel</a></div><div class="ttdeci">FastISel * createFastISel(FunctionLoweringInfo &amp;FuncInfo, const TargetLibraryInfo *LibInfo)</div><div class="ttdef"><b>Definition:</b> <a href="PPCFastISel_8cpp_source.html#l02225">PPCFastISel.cpp:2225</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a1a14301103c8d97e52ed0ca117ea6b65"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a1a14301103c8d97e52ed0ca117ea6b65">llvm::PPC::get_VSPLTI_elt</a></div><div class="ttdeci">SDValue get_VSPLTI_elt(SDNode *N, unsigned ByteSize, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00885">PPCISelLowering.cpp:885</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantPoolSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantPoolSDNode.html">llvm::ConstantPoolSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01373">SelectionDAGNodes.h:1373</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">llvm::MachineMemOperand::MOStore</a></div><div class="ttdoc">The memory access writes data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00095">MachineMemOperand.h:95</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">llvm::ISD::FCOS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_ae603fba6e8709cb50d43f38c4305e46b"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">llvm::CCValAssign::getValVT</a></div><div class="ttdeci">MVT getValVT() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00115">CallingConvLower.h:115</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a7fa84f3807a868c9e48e0928e3ac7f81"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7fa84f3807a868c9e48e0928e3ac7f81">llvm::PPCISD::CR6SET</a></div><div class="ttdoc">ch, gl = CR6[UN]SET ch, inglue - Toggle CR bit 6 for SVR4 vararg calls </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00177">PPCISelLowering.h:177</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a7f2fa72dd3c0d7d1cfc1e0a29b8c1b51"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a7f2fa72dd3c0d7d1cfc1e0a29b8c1b51">llvm::Intrinsic::ppc_altivec_vmuleub</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02309">Intrinsics.h:2309</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_aef8b8a2cddd6ae0ae42a5711d358d437"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#aef8b8a2cddd6ae0ae42a5711d358d437">llvm::PPCFunctionInfo::setHasNonRISpills</a></div><div class="ttdeci">void setHasNonRISpills()</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00140">PPCMachineFunctionInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a4555f7c774794316ae5ce15ff8cda889"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a4555f7c774794316ae5ce15ff8cda889">llvm::PPCFunctionInfo::setVarArgsNumGPR</a></div><div class="ttdeci">void setVarArgsNumGPR(unsigned Num)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00162">PPCMachineFunctionInfo.h:162</a></div></div>
<div class="ttc" id="namespacellvm_html_ab8e34eca3b0817ef7a127913fbf6d9e4"><div class="ttname"><a href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">llvm::errs</a></div><div class="ttdeci">raw_ostream &amp; errs()</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00664">raw_ostream.cpp:664</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_ac9b52e4b6f9d3dab8595d4eb36fe2b7a"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#ac9b52e4b6f9d3dab8595d4eb36fe2b7a">llvm::PPCSubtarget::use64BitRegs</a></div><div class="ttdeci">bool use64BitRegs() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00163">PPCSubtarget.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca59a1908cf136662bcfdc11ed49515ca9">llvm::MVT::Glue</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00118">ValueTypes.h:118</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a8246b2d3b4cbf4bc2643ed875544d323"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a8246b2d3b4cbf4bc2643ed875544d323">llvm::Intrinsic::ppc_altivec_vcmpgefp</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02263">Intrinsics.h:2263</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7e6dca8262a3de788d1bab4ba184d675">llvm::ISD::EXTRACT_ELEMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00160">ISDOpcodes.h:160</a></div></div>
<div class="ttc" id="MathExtras_8h_html_a166646d6a4037a236119b6e156051d90"><div class="ttname"><a href="MathExtras_8h.html#a166646d6a4037a236119b6e156051d90">R4</a></div><div class="ttdeci">#define R4(n)</div></div>
<div class="ttc" id="namespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">llvm::Sched::Source</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00063">TargetLowering.h:63</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00031">SparcInstrInfo.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a539bdb4fdbf46e0bfcefebf5ac6d21dd"><div class="ttname"><a href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">llvm::APInt::getAllOnesValue</a></div><div class="ttdeci">static APInt getAllOnesValue(unsigned numBits)</div><div class="ttdoc">Get the all-ones value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00450">APInt.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a39c6dff47b8dbd25cfaf6336c7056077"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">llvm::SelectionDAG::getContext</a></div><div class="ttdeci">LLVMContext * getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00285">SelectionDAG.h:285</a></div></div>
<div class="ttc" id="namespacellvm_1_1TLSModel_html_a8911c5bfb68fc4ed3ac824f04f150120aa530fb2056fbb72e132893eba6ff4883"><div class="ttname"><a href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120aa530fb2056fbb72e132893eba6ff4883">llvm::TLSModel::GeneralDynamic</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00036">CodeGen.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">llvm::MVT::i64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00047">ValueTypes.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a94dca2778c1acccef2f5a8a564be052d"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a94dca2778c1acccef2f5a8a564be052d">llvm::SelectionDAG::getCopyToReg</a></div><div class="ttdeci">SDValue getCopyToReg(SDValue Chain, SDLoc dl, unsigned Reg, SDValue N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00487">SelectionDAG.h:487</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7dc983ebf0eb2d255fa90a67063c72e2"><div class="ttname"><a href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Get zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01306">APInt.h:1306</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a869cff5a579577d3aed2c9490bbecf28"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a869cff5a579577d3aed2c9490bbecf28">llvm::SelectionDAG::getCALLSEQ_END</a></div><div class="ttdeci">SDValue getCALLSEQ_END(SDValue Chain, SDValue Op1, SDValue Op2, SDValue InGlue, SDLoc DL)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00572">SelectionDAG.h:572</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a575dbec1cd0f3548f6f462d41ecf6cb9"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a575dbec1cd0f3548f6f462d41ecf6cb9">llvm::TargetInstrInfo::insertSelect</a></div><div class="ttdeci">virtual void insertSelect(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, DebugLoc DL, unsigned DstReg, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, unsigned TrueReg, unsigned FalseReg) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00428">TargetInstrInfo.h:428</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a88c7793fdfe5003a35e5cac9a3527eb9"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a88c7793fdfe5003a35e5cac9a3527eb9">llvm::PPCISD::FCTIWUZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00052">PPCISelLowering.h:52</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a9e6acfbcf4b5bde3ce4f55352a82aa49"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a9e6acfbcf4b5bde3ce4f55352a82aa49">llvm::PPC::getVSPLTImmediate</a></div><div class="ttdeci">unsigned getVSPLTImmediate(SDNode *N, unsigned EltSize)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00875">PPCISelLowering.cpp:875</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_aee193ecbe5d6895930c69c545c6d913d"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#aee193ecbe5d6895930c69c545c6d913d">llvm::PPCSubtarget::hasPOPCNTD</a></div><div class="ttdeci">bool hasPOPCNTD() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00193">PPCSubtarget.h:193</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a1cbd108eaf5aca7619ff85c02489c3a1"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a1cbd108eaf5aca7619ff85c02489c3a1">GetFPR</a></div><div class="ttdeci">static const uint16_t * GetFPR()</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01912">PPCISelLowering.cpp:1912</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_aae5a5f1af1abef57233d0e17e18f1c47"><div class="ttname"><a href="PPCISelLowering_8cpp.html#aae5a5f1af1abef57233d0e17e18f1c47">DisablePPCUnaligned</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisablePPCUnaligned(&quot;disable-ppc-unaligned&quot;, cl::desc(&quot;disable unaligned load/store generation on PPC&quot;), cl::Hidden)</div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a21a28a4fd508bbb42150bd0a22bfa6a6"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a21a28a4fd508bbb42150bd0a22bfa6a6">llvm::PPCISD::LARX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00163">PPCISelLowering.h:163</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a81c99091724ec1863e2a50d96de97d11"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a81c99091724ec1863e2a50d96de97d11">llvm::Intrinsic::ppc_altivec_vcmpgtsw_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02272">Intrinsics.h:2272</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_ab5d4759731e493988eda569efb67233f"><div class="ttname"><a href="PPCISelLowering_8cpp.html#ab5d4759731e493988eda569efb67233f">LowerLabelRef</a></div><div class="ttdeci">static SDValue LowerLabelRef(SDValue HiPart, SDValue LoPart, bool isPIC, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01334">PPCISelLowering.cpp:1334</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a9fdffa1326c897a221fdba3dc82f0ec4"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a9fdffa1326c897a221fdba3dc82f0ec4">llvm::PPC::isVSLDOIShuffleMask</a></div><div class="ttdeci">int isVSLDOIShuffleMask(SDNode *N, bool isUnary)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00794">PPCISelLowering.cpp:794</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a87f1815c4b56735aaadbbcdfdf32cf4f"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a87f1815c4b56735aaadbbcdfdf32cf4f">llvm::TargetMachine::getRelocationModel</a></div><div class="ttdeci">Reloc::Model getRelocationModel() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00091">TargetMachine.cpp:91</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6d5e322b263f0d5ea4204efafc1d78bb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d5e322b263f0d5ea4204efafc1d78bb">llvm::ISD::BR_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00496">ISDOpcodes.h:496</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a16f390005ac008f017658dfcb7fe9950"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a16f390005ac008f017658dfcb7fe9950">PrepareTailCall</a></div><div class="ttdeci">static void PrepareTailCall(SelectionDAG &amp;DAG, SDValue &amp;InFlag, SDValue &amp;Chain, SDLoc dl, bool isPPC64, int SPDiff, unsigned NumBytes, SDValue LROp, SDValue FPOp, bool isDarwinABI, SmallVectorImpl&lt; TailCallArgumentInfo &gt; &amp;TailCallArguments)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03162">PPCISelLowering.cpp:3162</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aca057f3b5880594ff9a4ef1750a61924"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aca057f3b5880594ff9a4ef1750a61924">llvm::PPCISD::RET_FLAG</a></div><div class="ttdoc">Return with a flag operand, matched by &amp;#39;blr&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00117">PPCISelLowering.h:117</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447a27c3c049787afb74d9c7ebeed3119060"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a27c3c049787afb74d9c7ebeed3119060">llvm::RTLIB::POW_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00170">RuntimeLibcalls.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a8c820cdb37337e8b0bd55e0fcd39dd18"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">llvm::CCValAssign::getLocInfo</a></div><div class="ttdeci">LocInfo getLocInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00126">CallingConvLower.h:126</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_ad70403ea15e3b94887d77a3bf17b1085"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ad70403ea15e3b94887d77a3bf17b1085">llvm::TargetLoweringBase::setSupportJumpTables</a></div><div class="ttdeci">void setSupportJumpTables(bool Val)</div><div class="ttdoc">Indicate whether the target can generate code for jump tables. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00895">TargetLowering.h:895</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a5fdb4eb697cc8fb8a8aa8fa53effac34"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5fdb4eb697cc8fb8a8aa8fa53effac34">llvm::PPCISD::ADDIS_DTPREL_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00232">PPCISelLowering.h:232</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a52753947fce3a01b1c18dd4713c587e8"><div class="ttname"><a href="classllvm_1_1SDNode.html#a52753947fce3a01b1c18dd4713c587e8">llvm::SDNode::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00406">SelectionDAGNodes.h:406</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a51dcb6414be6f4b441df7152e05de8f5"><div class="ttname"><a href="classllvm_1_1SDNode.html#a51dcb6414be6f4b441df7152e05de8f5">llvm::SDNode::hasNUsesOfValue</a></div><div class="ttdeci">bool hasNUsesOfValue(unsigned NUses, unsigned Value) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l06119">SelectionDAG.cpp:6119</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">llvm::ISD::VECTOR_SHUFFLE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00279">ISDOpcodes.h:279</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ac3043814fcbe457dc6a768c714864692"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac3043814fcbe457dc6a768c714864692">llvm::PPCISD::ADDI_TLSGD_L</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00207">PPCISelLowering.h:207</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a29906259f41513b57db716dbe74ae134"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a29906259f41513b57db716dbe74ae134">llvm::PPCTargetLowering::allowsUnalignedMemoryAccesses</a></div><div class="ttdeci">virtual bool allowsUnalignedMemoryAccesses(EVT VT, bool *Fast=0) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07883">PPCISelLowering.cpp:7883</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66afaa3b6d013f5589d52186fb31c1507de"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66afaa3b6d013f5589d52186fb31c1507de">llvm::PPCISD::Hi</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00070">PPCISelLowering.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">llvm::TargetLoweringBase::ZeroOrNegativeOneBooleanContent</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00108">TargetLowering.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a97b0f24f3e52f030830fca6fbfcbd37d"><div class="ttname"><a href="classllvm_1_1SDValue.html#a97b0f24f3e52f030830fca6fbfcbd37d">llvm::SDValue::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00870">SelectionDAGNodes.h:870</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a8032251e5c6dfb52579250ef6373d599"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a8032251e5c6dfb52579250ef6373d599">llvm::PPCISD::LBRX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00259">PPCISelLowering.h:259</a></div></div>
<div class="ttc" id="namespacellvm_html_aa7c7c20cf17776614af286c301cb0d92"><div class="ttname"><a href="namespacellvm.html#aa7c7c20cf17776614af286c301cb0d92">llvm::CC_PPC32_SVR4_Custom_AlignFPArgRegs</a></div><div class="ttdeci">bool CC_PPC32_SVR4_Custom_AlignFPArgRegs(unsigned &amp;ValNo, MVT &amp;ValVT, MVT &amp;LocVT, CCValAssign::LocInfo &amp;LocInfo, ISD::ArgFlagsTy &amp;ArgFlags, CCState &amp;State)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01883">PPCISelLowering.cpp:1883</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a143d6f7b5867578ea676ecdf2f9ff9ac"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a143d6f7b5867578ea676ecdf2f9ff9ac">llvm::PPCTargetLowering::EmitPartwordAtomicBinary</a></div><div class="ttdeci">MachineBasicBlock * EmitPartwordAtomicBinary(MachineInstr *MI, MachineBasicBlock *MBB, bool is8bit, unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05958">PPCISelLowering.cpp:5958</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_ada5f4a5dd489c777870538cdbb6da228"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ada5f4a5dd489c777870538cdbb6da228">llvm::TargetLoweringBase::getTargetMachine</a></div><div class="ttdeci">const TargetMachine &amp; getTargetMachine() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00145">TargetLowering.h:145</a></div></div>
<div class="ttc" id="CallingConv_8h_html"><div class="ttname"><a href="CallingConv_8h.html">CallingConv.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">llvm::ISD::UMUL_LOHI</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00181">ISDOpcodes.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a27ef3d0113fbcca318c3ed2a86116932"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a27ef3d0113fbcca318c3ed2a86116932">llvm::PPCSubtarget::isDarwinABI</a></div><div class="ttdeci">bool isDarwinABI() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00208">PPCSubtarget.h:208</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02da50aa2061845b3ff4e6e2242d762c6a80"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da50aa2061845b3ff4e6e2242d762c6a80">llvm::X86II::FS</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00426">X86BaseInfo.h:426</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a76c3c7e3d4f11b4cfad37fc0449c9635"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">unsigned createVirtualRegister(const TargetRegisterClass *RegClass)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00104">MachineRegisterInfo.cpp:104</a></div></div>
<div class="ttc" id="namespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309eac4801b47c85ae3044251c5ca7443b1df"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac4801b47c85ae3044251c5ca7443b1df">llvm::Sched::ILP</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00066">TargetLowering.h:66</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">llvm::ISD::FROUND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a116289167f3d14abd6a13201cf10efbb"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a116289167f3d14abd6a13201cf10efbb">BuildIntrinsicOp</a></div><div class="ttdeci">static SDValue BuildIntrinsicOp(unsigned IID, SDValue Op, SelectionDAG &amp;DAG, SDLoc dl, EVT DestVT=MVT::Other)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05174">PPCISelLowering.cpp:5174</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a5f99b3c1dc503cd4fdd6516ec5ccf2ee"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a5f99b3c1dc503cd4fdd6516ec5ccf2ee">llvm::PPCFunctionInfo::setLRStoreRequired</a></div><div class="ttdeci">void setLRStoreRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00149">PPCMachineFunctionInfo.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a6b60694d1d9d7f634e7638856898e20d"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a6b60694d1d9d7f634e7638856898e20d">llvm::SelectionDAG::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00281">SelectionDAG.h:281</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html">llvm::PPCRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8h_source.html#l00029">PPCRegisterInfo.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_abbdc1cffc65c3d42ac4c8f5003679071"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#abbdc1cffc65c3d42ac4c8f5003679071">llvm::TargetRegisterInfo::getCallPreservedMask</a></div><div class="ttdeci">virtual const uint32_t * getCallPreservedMask(CallingConv::ID) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00444">TargetRegisterInfo.h:444</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00127">NVPTX.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a789139fb9ebc6a460ca18f795476a7b3"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a789139fb9ebc6a460ca18f795476a7b3">llvm::PPCTargetLowering::createFastISel</a></div><div class="ttdeci">virtual FastISel * createFastISel(FunctionLoweringInfo &amp;FuncInfo, const TargetLibraryInfo *LibInfo) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07935">PPCISelLowering.cpp:7935</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a819ce93b1bf9e907128d4a48ce356a21"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a819ce93b1bf9e907128d4a48ce356a21">llvm::PPCISD::EH_SJLJ_SETJMP</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00125">PPCISelLowering.h:125</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_aac36edc9860bf2e7660f86928836fc63"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">llvm::MachineFunction::getMachineMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMachineMemOperand(MachinePointerInfo PtrInfo, unsigned f, uint64_t s, unsigned base_alignment, const MDNode *TBAAInfo=0, const MDNode *Ranges=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00224">MachineFunction.cpp:224</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_aef2c847a530f7f7f5aaaeac74ba7e385"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aef2c847a530f7f7f5aaaeac74ba7e385">llvm::MachineFunction::addLiveIn</a></div><div class="ttdeci">unsigned addLiveIn(unsigned PReg, const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00423">MachineFunction.cpp:423</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaa7929b1029f09db9b9b538e0d200fdd8"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaa7929b1029f09db9b9b538e0d200fdd8">llvm::PPCII::MO_TPREL_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00082">PPC.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a31d6dacf27b7608783e33351e082bbba"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a31d6dacf27b7608783e33351e082bbba">llvm::TargetLowering::getConstraintType</a></div><div class="ttdeci">virtual ConstraintType getConstraintType(const std::string &amp;Constraint) const </div><div class="ttdoc">Given a constraint, return the type of constraint it is for this target. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l01943">TargetLowering.cpp:1943</a></div></div>
<div class="ttc" id="namespacellvm_1_1Reloc_html_af59f6dc86e80aaf56f1afd155eebf568"><div class="ttname"><a href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">llvm::Reloc::Model</a></div><div class="ttdeci">Model</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00025">CodeGen.h:25</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a6db5de5092ad3319d9fb9f059b9594ee"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a6db5de5092ad3319d9fb9f059b9594ee">EmitTailCallStoreFPAndRetAddr</a></div><div class="ttdeci">static SDValue EmitTailCallStoreFPAndRetAddr(SelectionDAG &amp;DAG, MachineFunction &amp;MF, SDValue Chain, SDValue OldRetAddr, SDValue OldFP, int SPDiff, bool isPPC64, bool isDarwinABI, SDLoc dl)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03032">PPCISelLowering.cpp:3032</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66abcb9c462158b362a5edc6a1d754c9edb"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abcb9c462158b362a5edc6a1d754c9edb">llvm::PPCISD::Lo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00070">PPCISelLowering.h:70</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">llvm::ISD::FMUL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aea36803fe51b4ef3e51f9ea59f3cdc49"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aea36803fe51b4ef3e51f9ea59f3cdc49">llvm::Intrinsic::ppc_altivec_vcmpgtfp_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02266">Intrinsics.h:2266</a></div></div>
<div class="ttc" id="namespacellvm_1_1TLSModel_html_a8911c5bfb68fc4ed3ac824f04f150120"><div class="ttname"><a href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120">llvm::TLSModel::Model</a></div><div class="ttdeci">Model</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00035">CodeGen.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00031">CallingConv.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffacfbc322d45d593103140a6a0dd75e9cd"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffacfbc322d45d593103140a6a0dd75e9cd">llvm::PPCII::MO_LO</a></div><div class="ttdoc">MO_LO, MO_HA - lo16(symbol) and ha16(symbol) </div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00078">PPC.h:78</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a023a9de787026fe61b024476bf9c32cb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a023a9de787026fe61b024476bf9c32cb">llvm::ISD::STACKRESTORE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00527">ISDOpcodes.h:527</a></div></div>
<div class="ttc" id="PPCTargetObjectFile_8h_html"><div class="ttname"><a href="PPCTargetObjectFile_8h.html">PPCTargetObjectFile.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aa31902bbec3616dc9a8abc5d9e437338"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa31902bbec3616dc9a8abc5d9e437338">llvm::Intrinsic::ppc_altivec_vcmpgtuw_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02278">Intrinsics.h:2278</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a1e2f76e32afeff50a4cae3055b365099"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a1e2f76e32afeff50a4cae3055b365099">findConsecutiveLoad</a></div><div class="ttdeci">static bool findConsecutiveLoad(LoadSDNode *LD, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l06919">PPCISelLowering.cpp:6919</a></div></div>
<div class="ttc" id="namespacellvm_1_1MipsISD_html_a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363">llvm::MipsISD::Ins</a></div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00105">MipsISelLowering.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45">llvm::CCValAssign::LocInfo</a></div><div class="ttdeci">LocInfo</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00033">CallingConvLower.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAddressSDNode_html_ae4b1a0675562cdfa6c89c3f96989117b"><div class="ttname"><a href="classllvm_1_1GlobalAddressSDNode.html#ae4b1a0675562cdfa6c89c3f96989117b">llvm::GlobalAddressSDNode::getGlobal</a></div><div class="ttdeci">const GlobalValue * getGlobal() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01323">SelectionDAGNodes.h:1323</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_ab332e87ff489d198d51648a3a41f57b9"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#ab332e87ff489d198d51648a3a41f57b9">llvm::PPCSubtarget::enableMachineScheduler</a></div><div class="ttdeci">bool enableMachineScheduler() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8cpp_source.html#l00194">PPCSubtarget.cpp:194</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a59b314018a929255951f01f8daaae72f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a59b314018a929255951f01f8daaae72f">llvm::ISD::TargetExternalSymbol</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00114">ISDOpcodes.h:114</a></div></div>
<div class="ttc" id="namespacellvm_html_aa555cd3eb8141809d16bcfc45ccc3715"><div class="ttname"><a href="namespacellvm.html#aa555cd3eb8141809d16bcfc45ccc3715">llvm::CCAssignFn</a></div><div class="ttdeci">bool CCAssignFn(unsigned ValNo, MVT ValVT, MVT LocVT, CCValAssign::LocInfo LocInfo, ISD::ArgFlagsTy ArgFlags, CCState &amp;State)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00135">CallingConvLower.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_af0d328f3f61168f4ea7d6e4044af4f97"><div class="ttname"><a href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">llvm::SDNode::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00369">SelectionDAGNodes.h:369</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">llvm::ISD::UINT_TO_FP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00368">ISDOpcodes.h:368</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ac5049f4bc4c1d0322abab27481d30c37"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac5049f4bc4c1d0322abab27481d30c37">llvm::SelectionDAG::getSelectCC</a></div><div class="ttdeci">SDValue getSelectCC(SDLoc DL, SDValue LHS, SDValue RHS, SDValue True, SDValue False, ISD::CondCode Cond)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00679">SelectionDAG.h:679</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_afd615e1f3b75dc847e26ce6bd4932a56"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#afd615e1f3b75dc847e26ce6bd4932a56">llvm::PPCFunctionInfo::setFramePointerSaveIndex</a></div><div class="ttdeci">void setFramePointerSaveIndex(int Idx)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00115">PPCMachineFunctionInfo.h:115</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a226345d0c8262e9469d30a993d1656ff"><div class="ttname"><a href="structllvm_1_1EVT.html#a226345d0c8262e9469d30a993d1656ff">llvm::EVT::getTypeForEVT</a></div><div class="ttdeci">Type * getTypeForEVT(LLVMContext &amp;Context) const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8cpp_source.html#l00180">ValueTypes.cpp:180</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a423166b2b5d1010162dde0003e5ad09c"><div class="ttname"><a href="classllvm_1_1MVT.html#a423166b2b5d1010162dde0003e5ad09c">llvm::MVT::getSizeInBits</a></div><div class="ttdeci">unsigned getSizeInBits() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00359">ValueTypes.h:359</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97a9e92da302a5dd0ff02cf2587d7db3">llvm::MVT::v8i16</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00080">ValueTypes.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_af622128e353515efebccad40eae495cb"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#af622128e353515efebccad40eae495cb">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00537">SmallVector.h:537</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ac67ad08d36c989a872a887caa72803c6"><div class="ttname"><a href="classllvm_1_1Type.html#ac67ad08d36c989a872a887caa72803c6">llvm::Type::isDoubleTy</a></div><div class="ttdeci">bool isDoubleTy() const </div><div class="ttdoc">isDoubleTy - Return true if this is &amp;#39;double&amp;#39;, a 64-bit IEEE fp type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00149">Type.h:149</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a87b8176af163ee944af127081d24f4a2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b8176af163ee944af127081d24f4a2">llvm::ISD::TargetGlobalAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00109">ISDOpcodes.h:109</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a20485215f1c6f05a5c5209725c93de2f"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a20485215f1c6f05a5c5209725c93de2f">llvm::ISD::ArgFlagsTy::getByValSize</a></div><div class="ttdeci">unsigned getByValSize() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00098">TargetCallingConv.h:98</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_ae47a430364102f6e179d49cb3411b955"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ae47a430364102f6e179d49cb3411b955">llvm::TargetLowering::CallLoweringInfo::CallConv</a></div><div class="ttdeci">CallingConv::ID CallConv</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01964">TargetLowering.h:1964</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_acf37bd7e831bdb2a5c9da8d63f843101"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#acf37bd7e831bdb2a5c9da8d63f843101">llvm::TargetLowering::DAGCombinerInfo::DAG</a></div><div class="ttdeci">SelectionDAG &amp; DAG</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01833">TargetLowering.h:1833</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">llvm::ISD::FABS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_abc5c2f1d47a517373030133c6a102106"><div class="ttname"><a href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">llvm::SDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00548">SelectionDAGNodes.h:548</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_abf861b7eababe28400eb7d5b3519f18f"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#abf861b7eababe28400eb7d5b3519f18f">llvm::PPCSubtarget::isDarwin</a></div><div class="ttdeci">bool isDarwin() const </div><div class="ttdoc">isDarwin - True if this is any darwin platform. </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00202">PPCSubtarget.h:202</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a0662d63e058816bf77a5b8f35331bd9d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a0662d63e058816bf77a5b8f35331bd9d">llvm::TargetLoweringBase::setBooleanVectorContents</a></div><div class="ttdeci">void setBooleanVectorContents(BooleanContent Ty)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00873">TargetLowering.h:873</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a5f0447ef8ec128563ad131b76e5062bd"><div class="ttname"><a href="classllvm_1_1SDValue.html#a5f0447ef8ec128563ad131b76e5062bd">llvm::SDValue::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00846">SelectionDAGNodes.h:846</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a968bba2363b57ced282bda51b19c8162"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a968bba2363b57ced282bda51b19c8162">llvm::PPCISD::ADDIS_TLSGD_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00202">PPCISelLowering.h:202</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_adae25a8cf267a802c72c3d6ad8c044e3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#adae25a8cf267a802c72c3d6ad8c044e3">llvm::MachineBasicBlock::transferSuccessorsAndUpdatePHIs</a></div><div class="ttdeci">void transferSuccessorsAndUpdatePHIs(MachineBasicBlock *fromMBB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00592">MachineBasicBlock.cpp:592</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a836c27481205f56e708fe0c15538d5ff"><div class="ttname"><a href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00554">SelectionDAGNodes.h:554</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a2314919ee7fd5e7122f5870a9105b4f6"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2314919ee7fd5e7122f5870a9105b4f6">llvm::Intrinsic::ppc_altivec_lvsl</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02227">Intrinsics.h:2227</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ad784a6594990530bffb2018aeeed56f3"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">const Function * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00151">MachineFunction.h:151</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a3aa70a123e676b63f9de9f668997f7e3"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a3aa70a123e676b63f9de9f668997f7e3">llvm::PPCFunctionInfo::getVarArgsNumGPR</a></div><div class="ttdeci">unsigned getVarArgsNumGPR() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00161">PPCMachineFunctionInfo.h:161</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac538f0b432df970cbaaf6b81d777c6a7">llvm::ISD::SETULE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00734">ISDOpcodes.h:734</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a1420b00acc303559771c7d9c17c636ce"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1420b00acc303559771c7d9c17c636ce">llvm::Intrinsic::ppc_is_decremented_ctr_nonzero</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02373">Intrinsics.h:2373</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_af8f1aa9eaa10954ed0f91b56e372edd9"><div class="ttname"><a href="PPCISelLowering_8cpp.html#af8f1aa9eaa10954ed0f91b56e372edd9">isLocalCall</a></div><div class="ttdeci">static bool isLocalCall(const SDValue &amp;Callee)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03365">PPCISelLowering.cpp:3365</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ae2e6a5e32087b9f65bd51585a6a5afb4">llvm::ISD::SETEQ</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00739">ISDOpcodes.h:739</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a3e17070dc2b7b5703059045c4384c2a3"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a3e17070dc2b7b5703059045c4384c2a3">llvm::PPCTargetLowering::getRegForInlineAsmConstraint</a></div><div class="ttdeci">std::pair&lt; unsigned, const TargetRegisterClass * &gt; getRegForInlineAsmConstraint(const std::string &amp;Constraint, MVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07637">PPCISelLowering.cpp:7637</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringObjectFileMachO_html"><div class="ttname"><a href="classllvm_1_1TargetLoweringObjectFileMachO.html">llvm::TargetLoweringObjectFileMachO</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringObjectFileImpl_8h_source.html#l00079">TargetLoweringObjectFileImpl.h:79</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">llvm::ISD::SUB</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00033">User.h:33</a></div></div>
<div class="ttc" id="MathExtras_8h_html_a9211f62d8e1e6de999eaa63ec0f6ae02"><div class="ttname"><a href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a></div><div class="ttdeci">#define R2(n)</div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ab5254dc94639bcdd77bf933ad2fe9ac3"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab5254dc94639bcdd77bf933ad2fe9ac3">llvm::SelectionDAG::getTargetExternalSymbol</a></div><div class="ttdeci">SDValue getTargetExternalSymbol(const char *Sym, EVT VT, unsigned char TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01313">SelectionDAG.cpp:1313</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ad06ca140783fd9f03eed498e8485fc3d"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad06ca140783fd9f03eed498e8485fc3d">llvm::SelectionDAG::ComputeMaskedBits</a></div><div class="ttdeci">void ComputeMaskedBits(SDValue Op, APInt &amp;KnownZero, APInt &amp;KnownOne, unsigned Depth=0) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01759">SelectionDAG.cpp:1759</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a52de1f014060e25bfe7c6b824404a617"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a52de1f014060e25bfe7c6b824404a617">llvm::Intrinsic::ppc_altivec_vcmpgtuw</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02277">Intrinsics.h:2277</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a39b4b8d9063fc65669cad74610f8c011"><div class="ttname"><a href="classllvm_1_1CCState.html#a39b4b8d9063fc65669cad74610f8c011">llvm::CCState::CheckReturn</a></div><div class="ttdeci">bool CheckReturn(const SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;ArgsFlags, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00086">CallingConvLower.cpp:86</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae3d1acb736016d92ec470470f1c26065">llvm::MVT::v16i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00074">ValueTypes.h:74</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1AsmOperandInfo_html_aeea750ec380d5c1514f57df90dbd6c3d"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html#aeea750ec380d5c1514f57df90dbd6c3d">llvm::TargetLowering::AsmOperandInfo::CallOperandVal</a></div><div class="ttdeci">Value * CallOperandVal</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02180">TargetLowering.h:2180</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_adcdf9d77556f670b0d782d93355595f8a00d4f7d7f8d110db90749f417fceff3a"><div class="ttname"><a href="namespacellvm_1_1PPC.html#adcdf9d77556f670b0d782d93355595f8a00d4f7d7f8d110db90749f417fceff3a">llvm::PPC::DIR_E500mc</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00044">PPCSubtarget.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">llvm::ISD::FSIN</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html_a54abbe67d4a53c92652f1666dc19281f"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">llvm::AttributeSet::hasAttribute</a></div><div class="ttdeci">bool hasAttribute(unsigned Index, Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the attribute exists at the given index. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00818">Attributes.cpp:818</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aab6a046c536c71121190fefd548d6b25"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aab6a046c536c71121190fefd548d6b25">llvm::PPCISD::MFFS</a></div><div class="ttdoc">F8RC = MFFS - This moves the FPSCR (not modeled) into the register. </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00159">PPCISelLowering.h:159</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a96511fb80d3f05f6f95530002bd4b6a8"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">llvm::CCValAssign::getValNo</a></div><div class="ttdeci">unsigned getValNo() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00114">CallingConvLower.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1LoadSDNode_html_a3ded48ce66b58b7e7e143991df5dbfae"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">llvm::LoadSDNode::getBasePtr</a></div><div class="ttdeci">const SDValue &amp; getBasePtr() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01739">SelectionDAGNodes.h:1739</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a0d10581957463a46f2142a8e5efbd1f8"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a0d10581957463a46f2142a8e5efbd1f8">llvm::PPCFunctionInfo::setVarArgsNumFPR</a></div><div class="ttdeci">void setVarArgsNumFPR(unsigned Num)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00165">PPCMachineFunctionInfo.h:165</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a48acc37c623a6d5e12a3a262077ffe35"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">llvm::PPCSubtarget::hasAltivec</a></div><div class="ttdeci">bool hasAltivec() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00189">PPCSubtarget.h:189</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">llvm::ISD::FLOG10</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055">llvm::Attribute::Naked</a></div><div class="ttdoc">Naked function. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00078">Attributes.h:78</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a1d7718fd43ac0a5c715686a76f9cfd89">llvm::TargetLowering::C_RegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02144">TargetLowering.h:2144</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447ad7837284a4b9dcc4c8139a6468b49d80"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447ad7837284a4b9dcc4c8139a6468b49d80">llvm::RTLIB::LOG2_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00135">RuntimeLibcalls.h:135</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">llvm::ISD::SELECT_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00331">ISDOpcodes.h:331</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a5466153a2e22cd8f1cfcf2dd77d1b3d7"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a5466153a2e22cd8f1cfcf2dd77d1b3d7">llvm::PPCFunctionInfo::getReturnAddrSaveIndex</a></div><div class="ttdeci">int getReturnAddrSaveIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00117">PPCMachineFunctionInfo.h:117</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5ebe5227fe53e0dcf4102a6ebf1594a2"><div class="ttname"><a href="structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">llvm::EVT::bitsLT</a></div><div class="ttdeci">bool bitsLT(EVT VT) const </div><div class="ttdoc">bitsLT - Return true if this has less bits than VT. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00735">ValueTypes.h:735</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00091">ARMBaseInfo.h:91</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_a0575b3ebf8a0f44316d540c366cdcedd"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a0575b3ebf8a0f44316d540c366cdcedd">llvm::TargetLowering::DAGCombinerInfo::isAfterLegalizeVectorOps</a></div><div class="ttdeci">bool isAfterLegalizeVectorOps() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01840">TargetLowering.h:1840</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAddressSDNode_html"><div class="ttname"><a href="classllvm_1_1GlobalAddressSDNode.html">llvm::GlobalAddressSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01313">SelectionDAGNodes.h:1313</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a48a334bbe606d5e82c9cd84eaa127b50">llvm::ISD::SETUO</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00729">ISDOpcodes.h:729</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">llvm::ISD::FP_TO_UINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00380">ISDOpcodes.h:380</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_afcfd7d2322b397d0d55a4595dea52e3c"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">llvm::CCValAssign::isRegLoc</a></div><div class="ttdeci">bool isRegLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00117">CallingConvLower.h:117</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">llvm::ISD::CTLZ</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a0b00c3684cfd114128feeb01079bd264"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a0b00c3684cfd114128feeb01079bd264">llvm::PPCTargetLowering::isOffsetFoldingLegal</a></div><div class="ttdeci">virtual bool isOffsetFoldingLegal(const GlobalAddressSDNode *GA) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07855">PPCISelLowering.cpp:7855</a></div></div>
<div class="ttc" id="classllvm_1_1ShuffleVectorSDNode_html"><div class="ttname"><a href="classllvm_1_1ShuffleVectorSDNode.html">llvm::ShuffleVectorSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01205">SelectionDAGNodes.h:1205</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_aa8f1c26a4e070ead6c67b4e9a5d93124"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#aa8f1c26a4e070ead6c67b4e9a5d93124">llvm::SelectionDAG::getExternalSymbol</a></div><div class="ttdeci">SDValue getExternalSymbol(const char *Sym, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01305">SelectionDAG.cpp:1305</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_af42f28ba1587a941df383166cbe7ee35"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#af42f28ba1587a941df383166cbe7ee35">llvm::PPCSubtarget::hasQPX</a></div><div class="ttdeci">bool hasQPX() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00190">PPCSubtarget.h:190</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a887a8b2b7f050e0aec4004e6bc7daaf8"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a887a8b2b7f050e0aec4004e6bc7daaf8">llvm::PPCISD::ADDIS_TOC_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00278">PPCISelLowering.h:278</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66abdad0d05f0b11932ef877b95832e31ea"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abdad0d05f0b11932ef877b95832e31ea">llvm::PPCISD::ADDIS_TLSLD_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00216">PPCISelLowering.h:216</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_af4d5ada526cdf057f5f29047e058187d"><div class="ttname"><a href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00161">Function.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a7f5cab5437026605269663cda7389abc"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abc">llvm::TargetLowering::ConstraintWeight</a></div><div class="ttdeci">ConstraintWeight</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02150">TargetLowering.h:2150</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_aaeb48b6b184c2e314a9451904c7cf606"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a></div><div class="ttdeci">rlwinm add r4 but are still a codesize win With preinc long * dest</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00071">Target/PowerPC/README.txt:71</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa243085e56636cc454143f916686c190"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa243085e56636cc454143f916686c190">llvm::TargetLoweringBase::setTruncStoreAction</a></div><div class="ttdeci">void setTruncStoreAction(MVT ValVT, MVT MemVT, LegalizeAction Action)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00997">TargetLowering.h:997</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html_acb492206d94d8f8179f797d4c7966ba9"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(int FI, int64_t offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00404">MachineInstr.cpp:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a0861273f8b50e76256e91802d767a8e0"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0861273f8b50e76256e91802d767a8e0">llvm::PPCISD::LD_TOC_L</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00283">PPCISelLowering.h:283</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a453b3ee2482b8a61bbcf5ce1cd6e395e"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a453b3ee2482b8a61bbcf5ce1cd6e395e">llvm::PPCISD::BCTRL</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00114">PPCISelLowering.h:114</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc09e0bddd693dcf9923e4df42473bd9">llvm::ISD::INTRINSIC_W_CHAIN</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00135">ISDOpcodes.h:135</a></div></div>
<div class="ttc" id="namespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309ea6530ebdb4e713581540e6ceb88897acb"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309ea6530ebdb4e713581540e6ceb88897acb">llvm::Sched::Hybrid</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00065">TargetLowering.h:65</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a94b8b75b7e75b19670b209830d2befab"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a94b8b75b7e75b19670b209830d2befab">llvm::PPCSubtarget::hasLazyResolverStub</a></div><div class="ttdeci">bool hasLazyResolverStub(const GlobalValue *GV, const TargetMachine &amp;TM) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8cpp_source.html#l00152">PPCSubtarget.cpp:152</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">llvm::ISD::EXTLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00699">ISDOpcodes.h:699</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_ad29bfd78dd46028de88d10314613fcbd"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#ad29bfd78dd46028de88d10314613fcbd">llvm::PPCTargetLowering::getPreIndexedAddressParts</a></div><div class="ttdeci">virtual bool getPreIndexedAddressParts(SDNode *N, SDValue &amp;Base, SDValue &amp;Offset, ISD::MemIndexedMode &amp;AM, SelectionDAG &amp;DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01224">PPCISelLowering.cpp:1224</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1ArgListEntry_html_a7d3f92aa62dcbaa4321822b441e384e6"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1ArgListEntry.html#a7d3f92aa62dcbaa4321822b441e384e6">llvm::TargetLowering::ArgListEntry::Node</a></div><div class="ttdeci">SDValue Node</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01926">TargetLowering.h:1926</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a122a450e069003dc86859ef47ab6e278"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a122a450e069003dc86859ef47ab6e278">llvm::ISD::EH_SJLJ_LONGJMP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00096">ISDOpcodes.h:96</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a874f66e1efe5be79552bbe7ee3121a">llvm::ISD::SDIVREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00185">ISDOpcodes.h:185</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a8ddfb467153e079ac0e9c4951b948887"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a8ddfb467153e079ac0e9c4951b948887">llvm::PPC::isVMRGHShuffleMask</a></div><div class="ttdeci">bool isVMRGHShuffleMask(ShuffleVectorSDNode *N, unsigned UnitSize, bool isUnary)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00784">PPCISelLowering.cpp:784</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ab8395be5698f080c0036d866e121a478"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">llvm::SelectionDAG::getLoad</a></div><div class="ttdeci">SDValue getLoad(EVT VT, SDLoc dl, SDValue Chain, SDValue Ptr, MachinePointerInfo PtrInfo, bool isVolatile, bool isNonTemporal, bool isInvariant, unsigned Alignment, const MDNode *TBAAInfo=0, const MDNode *Ranges=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04565">SelectionDAG.cpp:4565</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66abd37e9e242507f9bcda602075a67c9dd"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abd37e9e242507f9bcda602075a67c9dd">llvm::PPCISD::VPERM</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00063">PPCISelLowering.h:63</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeb80f9832dad739ee9c6deaa3110d98f">llvm::ISD::SHL_PARTS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00345">ISDOpcodes.h:345</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a73f7c824cad61a47c21bf6d652ae2fd7"><div class="ttname"><a href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">llvm::EVT::isVector</a></div><div class="ttdeci">bool isVector() const </div><div class="ttdoc">isVector - Return true if this is a vector value type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00661">ValueTypes.h:661</a></div></div>
<div class="ttc" id="classllvm_1_1Triple_html_a046b1c05ec2d492f6572840cf8bac653"><div class="ttname"><a href="classllvm_1_1Triple.html#a046b1c05ec2d492f6572840cf8bac653">llvm::Triple::isMacOSX</a></div><div class="ttdeci">bool isMacOSX() const </div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00303">Triple.h:303</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447a1a9189900ae5c91cdf8f0c712fdce22f"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a1a9189900ae5c91cdf8f0c712fdce22f">llvm::RTLIB::SIN_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00155">RuntimeLibcalls.h:155</a></div></div>
<div class="ttc" id="LazyValueInfo_8cpp_html_ad7f64bcc544dcefb2e068282af1c549d"><div class="ttname"><a href="LazyValueInfo_8cpp.html#ad7f64bcc544dcefb2e068282af1c549d">info</a></div><div class="ttdeci">lazy value info</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l00041">LazyValueInfo.cpp:41</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a57c68bf7ef20bd558854a24d5b0c1e72">llvm::ISD::SETONE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00727">ISDOpcodes.h:727</a></div></div>
<div class="ttc" id="classllvm_1_1BlockAddress_html"><div class="ttname"><a href="classllvm_1_1BlockAddress.html">llvm::BlockAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00748">Constants.h:748</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab569f10cf55ef082c4aac1c3113af587"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab569f10cf55ef082c4aac1c3113af587">llvm::Intrinsic::ppc_altivec_vcmpgtsb</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02267">Intrinsics.h:2267</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_ac48baf3479d85046d9613e91423bb05b"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#ac48baf3479d85046d9613e91423bb05b">llvm::PPCFunctionInfo::setVarArgsStackOffset</a></div><div class="ttdeci">void setVarArgsStackOffset(int Offset)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00159">PPCMachineFunctionInfo.h:159</a></div></div>
<div class="ttc" id="namespacellvm_1_1object_html_a63a8f680ecd1aa68ae0efdd3b5c4f4a7"><div class="ttname"><a href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">llvm::object::advance</a></div><div class="ttdeci">static error_code advance(T &amp;it, size_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjectFile_8cpp_source.html#l00278">MachOObjectFile.cpp:278</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a2887cc8b39915a25180f4bca0026a15e">llvm::ISD::SETNE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00744">ISDOpcodes.h:744</a></div></div>
<div class="ttc" id="MachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00082">MachineMemOperand.h:82</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447a2cddfd7ba21b019af1a85476bc2f41a0"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a2cddfd7ba21b019af1a85476bc2f41a0">llvm::RTLIB::EXP_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00145">RuntimeLibcalls.h:145</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">llvm::PPC::PRED_GE</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00031">PPCPredicates.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">llvm::MVT::i1</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00043">ValueTypes.h:43</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a840a2d72e6d1e7ec1c938ffd9f023c68"><div class="ttname"><a href="structllvm_1_1EVT.html#a840a2d72e6d1e7ec1c938ffd9f023c68">llvm::EVT::getEVTString</a></div><div class="ttdeci">std::string getEVTString() const </div><div class="ttdoc">getEVTString - This function returns value type as a string, e.g. &quot;i32&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8cpp_source.html#l00106">ValueTypes.cpp:106</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a2bdce1dfec3bab37c9a38e516eba42e7"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">llvm::SelectionDAG::getStore</a></div><div class="ttdeci">SDValue getStore(SDValue Chain, SDLoc dl, SDValue Val, SDValue Ptr, MachinePointerInfo PtrInfo, bool isVolatile, bool isNonTemporal, unsigned Alignment, const MDNode *TBAAInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04618">SelectionDAG.cpp:4618</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_1_1use__iterator_html_ac715ec6ef67e4a6454b3b40b4c89ed2d"><div class="ttname"><a href="classllvm_1_1SDNode_1_1use__iterator.html#ac715ec6ef67e4a6454b3b40b4c89ed2d">llvm::SDNode::use_iterator::getUse</a></div><div class="ttdeci">SDUse &amp; getUse() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00483">SelectionDAGNodes.h:483</a></div></div>
<div class="ttc" id="PPCMachineFunctionInfo_8h_html"><div class="ttname"><a href="PPCMachineFunctionInfo_8h.html">PPCMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html">llvm::PPCFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00023">PPCMachineFunctionInfo.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAddressSDNode_html_a6671fb68d5def7aa31d7eb4c1898d80a"><div class="ttname"><a href="classllvm_1_1GlobalAddressSDNode.html#a6671fb68d5def7aa31d7eb4c1898d80a">llvm::GlobalAddressSDNode::getOffset</a></div><div class="ttdeci">int64_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01324">SelectionDAGNodes.h:1324</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">llvm::CCValAssign::Full</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00034">CallingConvLower.h:34</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a97bf9e73e3051c15442feeba88bb0e1d"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a97bf9e73e3051c15442feeba88bb0e1d">llvm::PPCTargetLowering::emitEHSjLjLongJmp</a></div><div class="ttdeci">MachineBasicBlock * emitEHSjLjLongJmp(MachineInstr *MI, MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l06237">PPCISelLowering.cpp:6237</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a180bcb0b3f2fd7a940a0328e928190ce"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a180bcb0b3f2fd7a940a0328e928190ce">llvm::PPCSubtarget::hasFPRND</a></div><div class="ttdeci">bool hasFPRND() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00187">PPCSubtarget.h:187</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a39032b11b8339a15cd3c828db23000fb"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a39032b11b8339a15cd3c828db23000fb">DisablePPCPreinc</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisablePPCPreinc(&quot;disable-ppc-preinc&quot;, cl::desc(&quot;disable preincrement load/store generation on PPC&quot;), cl::Hidden)</div></div>
<div class="ttc" id="classllvm_1_1LSBaseSDNode_html"><div class="ttname"><a href="classllvm_1_1LSBaseSDNode.html">llvm::LSBaseSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01675">SelectionDAGNodes.h:1675</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_aed0958deb6d25f9fdccd7518e26b50f8"><div class="ttname"><a href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">llvm::SDNode::getValueType</a></div><div class="ttdeci">EVT getValueType(unsigned ResNo) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00609">SelectionDAGNodes.h:609</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00060">Use.h:60</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a3ed00c2124f22e1c624b4816f9347d14"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3ed00c2124f22e1c624b4816f9347d14">llvm::Intrinsic::ppc_altivec_vcmpgtuh_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02276">Intrinsics.h:2276</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_ada85f9f6560452c65383aa851be6e9b9"><div class="ttname"><a href="PPCISelLowering_8cpp.html#ada85f9f6560452c65383aa851be6e9b9">BuildVSLDOI</a></div><div class="ttdeci">static SDValue BuildVSLDOI(SDValue LHS, SDValue RHS, unsigned Amt, EVT VT, SelectionDAG &amp;DAG, SDLoc dl)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05205">PPCISelLowering.cpp:5205</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447a87c0a85f979b7e95a254b0972c051635"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a87c0a85f979b7e95a254b0972c051635">llvm::RTLIB::LOG_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00130">RuntimeLibcalls.h:130</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a95d3f899fd68931ed5fa42e012468bdb"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a95d3f899fd68931ed5fa42e012468bdb">llvm::SelectionDAG::getMachineFunction</a></div><div class="ttdeci">MachineFunction &amp; getMachineFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00280">SelectionDAG.h:280</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3a257ffa49107e2db978e8a6e2688ada">llvm::ISD::UDIVREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00185">ISDOpcodes.h:185</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a52b2d68984578f2b134b760a59dc00f9"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a52b2d68984578f2b134b760a59dc00f9">llvm::PPCTargetLowering::isFMAFasterThanFMulAndFAdd</a></div><div class="ttdeci">virtual bool isFMAFasterThanFMulAndFAdd(EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07909">PPCISelLowering.cpp:7909</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_ac3642c7af6c2fd311f64b648c72057b5"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#ac3642c7af6c2fd311f64b648c72057b5">llvm::PPCFunctionInfo::getMinReservedArea</a></div><div class="ttdeci">unsigned getMinReservedArea() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00123">PPCMachineFunctionInfo.h:123</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_acd3d31aaede666dfef430c287c242f43"><div class="ttname"><a href="PPCISelLowering_8cpp.html#acd3d31aaede666dfef430c287c242f43">getMaxByValAlign</a></div><div class="ttdeci">static void getMaxByValAlign(Type *Ty, unsigned &amp;MaxAlign, unsigned MaxMaxAlign)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00583">PPCISelLowering.cpp:583</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a41bd84b853e2c03fb1af1f4ca9ebdcaf">llvm::ISD::BUILD_PAIR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00166">ISDOpcodes.h:166</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; ISD::InputArg &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00846">MachineInstr.cpp:846</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ab42cd23d886d1dce2bf63aaba04114e1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab42cd23d886d1dce2bf63aaba04114e1">llvm::SelectionDAG::getTargetGlobalAddress</a></div><div class="ttdeci">SDValue getTargetGlobalAddress(const GlobalValue *GV, SDLoc DL, EVT VT, int64_t offset=0, unsigned char TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00434">SelectionDAG.h:434</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a681a429eed034e724db0e5059726dad8"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a681a429eed034e724db0e5059726dad8">llvm::PPCSubtarget::isJITCodeModel</a></div><div class="ttdeci">bool isJITCodeModel() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00172">PPCSubtarget.h:172</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_ab3904d3601dbe52865d5f2e33a06d80d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00342">MachineRegisterInfo.h:342</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a06a1a0916d630a342fc3c355b0de8eab"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a06a1a0916d630a342fc3c355b0de8eab">llvm::ISD::FLT_ROUNDS_</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00401">ISDOpcodes.h:401</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a0a78984133f621514980f087442645b4"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a0a78984133f621514980f087442645b4">llvm::PPCFunctionInfo::getVarArgsFrameIndex</a></div><div class="ttdeci">int getVarArgsFrameIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00155">PPCMachineFunctionInfo.h:155</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_ae3d1eab6cbe1d4d2bd95ac0844bdee8f"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ae3d1eab6cbe1d4d2bd95ac0844bdee8f">llvm::ISD::ArgFlagsTy::isSExt</a></div><div class="ttdeci">bool isSExt() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00059">TargetCallingConv.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a465f75c78f1dc551152248c9f203b88d"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a465f75c78f1dc551152248c9f203b88d">llvm::SmallVectorImpl::assign</a></div><div class="ttdeci">void assign(unsigned NumElts, const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00470">SmallVector.h:470</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a66b5dc9e9679a48aa49902e47d6c0770"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a66b5dc9e9679a48aa49902e47d6c0770">llvm::TargetLoweringBase::setCondCodeAction</a></div><div class="ttdeci">void setCondCodeAction(ISD::CondCode CC, MVT VT, LegalizeAction Action)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01034">TargetLowering.h:1034</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html_aa7b903b38006dd4cb8fcf8854af5b6b9"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">llvm::MachinePointerInfo::getWithOffset</a></div><div class="ttdeci">MachinePointerInfo getWithOffset(int64_t O) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00044">MachineMemOperand.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a27bda7d8e8e4f0337650a892f3c9b46a"><div class="ttname"><a href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">llvm::MVT::SimpleTy</a></div><div class="ttdeci">SimpleValueType SimpleTy</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00161">ValueTypes.h:161</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a15be9767d0aad93fe5dcb60b7b7a78da"><div class="ttname"><a href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">llvm::EVT::getScalarType</a></div><div class="ttdeci">EVT getScalarType() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00756">ValueTypes.h:756</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447a5f72128817687b0322d639af385b8929"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a5f72128817687b0322d639af385b8929">llvm::RTLIB::LOG10_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00140">RuntimeLibcalls.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a07c0c67913bb543fc45ce9ef65ef260a"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a07c0c67913bb543fc45ce9ef65ef260a">llvm::TargetLoweringBase::setOperationAction</a></div><div class="ttdeci">void setOperationAction(unsigned Op, MVT VT, LegalizeAction Action)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00980">TargetLowering.h:980</a></div></div>
<div class="ttc" id="classllvm_1_1ShuffleVectorSDNode_html_aae5468704c119f87dceb6728814b5502"><div class="ttname"><a href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">llvm::ShuffleVectorSDNode::getMaskElt</a></div><div class="ttdeci">int getMaskElt(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01224">SelectionDAGNodes.h:1224</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a196c23d6cb4d768d037970f1f35bbf66"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a196c23d6cb4d768d037970f1f35bbf66">llvm::SelectionDAG::getVTList</a></div><div class="ttdeci">SDVTList getVTList(EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04977">SelectionDAG.cpp:4977</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_aa85c8281ebfa4f0c2558a831eaf13a5d"><div class="ttname"><a href="classllvm_1_1MVT.html#aa85c8281ebfa4f0c2558a831eaf13a5d">llvm::MVT::getStoreSize</a></div><div class="ttdeci">unsigned getStoreSize() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00433">ValueTypes.h:433</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a2824c264a25f2f03586588c7020b7a5d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a2824c264a25f2f03586588c7020b7a5d">llvm::TargetLoweringBase::getPointerTy</a></div><div class="ttdeci">virtual MVT getPointerTy(uint32_t=0) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l00797">TargetLoweringBase.cpp:797</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a160ec67350dc5e964fc0a12a9cde1df8"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a160ec67350dc5e964fc0a12a9cde1df8">llvm::PPCISD::BDNZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00151">PPCISelLowering.h:151</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLoweringBase_1_1AddrMode_html_a8868c35de6c36dc0d57e84f256c4ffde"><div class="ttname"><a href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a8868c35de6c36dc0d57e84f256c4ffde">llvm::TargetLoweringBase::AddrMode::HasBaseReg</a></div><div class="ttdeci">bool HasBaseReg</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01130">TargetLowering.h:1130</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abdb38c8daa8c1ab881007062d113cef3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdb38c8daa8c1ab881007062d113cef3">llvm::ISD::FRAMEADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00073">ISDOpcodes.h:73</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a4546a80a0dc0cca8a263b80cc86122b0"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a4546a80a0dc0cca8a263b80cc86122b0">llvm::PPC::isVPKUHUMShuffleMask</a></div><div class="ttdeci">bool isVPKUHUMShuffleMask(ShuffleVectorSDNode *N, bool isUnary)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00720">PPCISelLowering.cpp:720</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a283b7df55a414e3185b56aeea1ec7ee7"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a283b7df55a414e3185b56aeea1ec7ee7">llvm::TargetLowering::CallLoweringInfo::IsTailCall</a></div><div class="ttdeci">bool IsTailCall</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01961">TargetLowering.h:1961</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01695">TargetLowering.h:1695</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a4f38ed3108a79a3a939a93391130d105"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a4f38ed3108a79a3a939a93391130d105">llvm::TargetLoweringBase::getSchedulingPreference</a></div><div class="ttdeci">Sched::Preference getSchedulingPreference() const </div><div class="ttdoc">Return target scheduling preference. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00245">TargetLowering.h:245</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ad96b7cf3182ce2ba85e5a7a93b12c441"><div class="ttname"><a href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a></div><div class="ttdeci">#define G(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00052">MD5.cpp:52</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a8cc407ac00df4edd4ec4d5168d6ecb26"><div class="ttname"><a href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">llvm::EVT::isInteger</a></div><div class="ttdeci">bool isInteger() const </div><div class="ttdoc">isInteger - Return true if this is an integer, or a vector integer type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00656">ValueTypes.h:656</a></div></div>
<div class="ttc" id="structllvm_1_1SDVTList_html"><div class="ttname"><a href="structllvm_1_1SDVTList.html">llvm::SDVTList</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00057">SelectionDAGNodes.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ac8be1ee0c47d9e47e567fa353f987ed5"><div class="ttname"><a href="classllvm_1_1APInt.html#ac8be1ee0c47d9e47e567fa353f987ed5">llvm::APInt::getBoolValue</a></div><div class="ttdeci">bool getBoolValue() const </div><div class="ttdoc">Convert APInt to a boolean value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00404">APInt.h:404</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a268e5bc7dd40a28712a33ca6c9c91c6f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a268e5bc7dd40a28712a33ca6c9c91c6f">llvm::SelectionDAG::getConstantFP</a></div><div class="ttdeci">SDValue getConstantFP(double Val, EVT VT, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01108">SelectionDAG.cpp:1108</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a423dda4ff918d4145ccc1861f059f940"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a423dda4ff918d4145ccc1861f059f940">llvm::TargetLowering::CallLoweringInfo::Ins</a></div><div class="ttdeci">SmallVector&lt; ISD::InputArg, 32 &gt; Ins</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01972">TargetLowering.h:1972</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a031ce694e40832d40a163d7254a8df14"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a031ce694e40832d40a163d7254a8df14">llvm::ISD::STACKSAVE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00523">ISDOpcodes.h:523</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_aa45779e6cfae9dac4c65a6aa4bbdab74"><div class="ttname"><a href="PPCISelLowering_8cpp.html#aa45779e6cfae9dac4c65a6aa4bbdab74">fixupFuncForFI</a></div><div class="ttdeci">static void fixupFuncForFI(SelectionDAG &amp;DAG, int FrameIdx, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01068">PPCISelLowering.cpp:1068</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a3f5d885e224a662b768922cae5006577"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a3f5d885e224a662b768922cae5006577">llvm::PPCTargetLowering::EmitAtomicBinary</a></div><div class="ttdeci">MachineBasicBlock * EmitAtomicBinary(MachineInstr *MI, MachineBasicBlock *MBB, bool is64Bit, unsigned BinOpcode) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05897">PPCISelLowering.cpp:5897</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a3a07c062cc9330acd8e8c4e3930cbb25"><div class="ttname"><a href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">llvm::EVT::getVectorElementType</a></div><div class="ttdeci">EVT getVectorElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00762">ValueTypes.h:762</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFPSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantFPSDNode.html">llvm::ConstantFPSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01270">SelectionDAGNodes.h:1270</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a5ac8e8dafc2dd10379a59ceff7b237d6"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a5ac8e8dafc2dd10379a59ceff7b237d6">llvm::PPCISD::TOC_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00072">PPCISelLowering.h:72</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">llvm::ISD::FDIV</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba4b85349547c5b6126817e10152007931">llvm::TargetLoweringBase::Expand</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00083">TargetLowering.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1PPC64LinuxTargetObjectFile_html"><div class="ttname"><a href="classllvm_1_1PPC64LinuxTargetObjectFile.html">llvm::PPC64LinuxTargetObjectFile</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCTargetObjectFile_8h_source.html#l00021">PPCTargetObjectFile.h:21</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ae7819ab19d78a7d3729165fcbe95891d"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ae7819ab19d78a7d3729165fcbe95891d">llvm::SelectionDAG::getCALLSEQ_START</a></div><div class="ttdeci">SDValue getCALLSEQ_START(SDValue Chain, SDValue Op, SDLoc DL)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00563">SelectionDAG.h:563</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">llvm::CCValAssign::AExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00037">CallingConvLower.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a49f1172c7014cc4fa3570792e6834e2c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a49f1172c7014cc4fa3570792e6834e2c">llvm::ISD::GlobalTLSAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1Triple_html_af2ee35261532b22de8929f4d7c86e6ac"><div class="ttname"><a href="classllvm_1_1Triple.html#af2ee35261532b22de8929f4d7c86e6ac">llvm::Triple::isMacOSXVersionLT</a></div><div class="ttdeci">unsigned isMacOSXVersionLT(unsigned Major, unsigned Minor=0, unsigned Micro=0) const </div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00288">Triple.h:288</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_adf912033ee385662cb4e40bd06206b67"><div class="ttname"><a href="namespacellvm_1_1PPC.html#adf912033ee385662cb4e40bd06206b67">llvm::PPC::isSplatShuffleMask</a></div><div class="ttdeci">bool isSplatShuffleMask(ShuffleVectorSDNode *N, unsigned EltSize)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00830">PPCISelLowering.cpp:830</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a5cb182c203efa2f1fc4797fb76b15daf"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">llvm::CCValAssign::getLocReg</a></div><div class="ttdeci">unsigned getLocReg() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00122">CallingConvLower.h:122</a></div></div>
<div class="ttc" id="classllvm_1_1FastISel_html"><div class="ttname"><a href="classllvm_1_1FastISel.html">llvm::FastISel</a></div><div class="ttdef"><b>Definition:</b> <a href="FastISel_8h_source.html#l00047">FastISel.h:47</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2dfacb29792dd59f2cfbe529206265bc"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dfacb29792dd59f2cfbe529206265bc">llvm::ISD::RETURNADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00073">ISDOpcodes.h:73</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a4b38992540d8d149e91a73cc7122a2d5"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4b38992540d8d149e91a73cc7122a2d5">llvm::Intrinsic::ppc_altivec_vrlb</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02329">Intrinsics.h:2329</a></div></div>
<div class="ttc" id="classllvm_1_1TargetOptions_html_aaf9cc05758a26e784f7cfa554e76f175"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#aaf9cc05758a26e784f7cfa554e76f175">llvm::TargetOptions::NoNaNsFPMath</a></div><div class="ttdeci">unsigned NoNaNsFPMath</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00097">TargetOptions.h:97</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ac7dcbb4c22c1613325814e5d3550cc59"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac7dcbb4c22c1613325814e5d3550cc59">llvm::PPCISD::STCX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00167">PPCISelLowering.h:167</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a941eb33c376cb0192d0d7e52e21c0c11"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a941eb33c376cb0192d0d7e52e21c0c11">isVMerge</a></div><div class="ttdeci">static bool isVMerge(ShuffleVectorSDNode *N, unsigned UnitSize, unsigned LHSStart, unsigned RHSStart)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00755">PPCISelLowering.cpp:755</a></div></div>
<div class="ttc" id="namespacellvm_1_1Reloc_html_af59f6dc86e80aaf56f1afd155eebf568a2102fa713297236bf4339c5f0bf0f39d"><div class="ttname"><a href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568a2102fa713297236bf4339c5f0bf0f39d">llvm::Reloc::Static</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00025">CodeGen.h:25</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a043df81d8fc961c94e42fc8fa2c71331"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a043df81d8fc961c94e42fc8fa2c71331">llvm::PPCISD::FCTIDUZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00052">PPCISelLowering.h:52</a></div></div>
<div class="ttc" id="CallingConvLower_8h_html"><div class="ttname"><a href="CallingConvLower_8h.html">CallingConvLower.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">llvm::ISD::SINT_TO_FP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00367">ISDOpcodes.h:367</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a395ec1cfea698db112b7e8709dca547d"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a395ec1cfea698db112b7e8709dca547d">llvm::TargetLowering::LowerCallTo</a></div><div class="ttdeci">std::pair&lt; SDValue, SDValue &gt; LowerCallTo(CallLoweringInfo &amp;CLI) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGBuilder_8cpp_source.html#l06991">SelectionDAGBuilder.cpp:6991</a></div></div>
<div class="ttc" id="namespacellvm_html_a370ed0e0f2bb66d17cd13f84be54e867"><div class="ttname"><a href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">llvm::array_lengthof</a></div><div class="ttdeci">size_t array_lengthof(T(&amp;)[N])</div><div class="ttdoc">Find the length of an array. </div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00250">STLExtras.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_acfe1250a2214797a59c6457dd2180df9"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acfe1250a2214797a59c6457dd2180df9">llvm::SelectionDAG::getRegisterMask</a></div><div class="ttdeci">SDValue getRegisterMask(const uint32_t *RegMask)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01475">SelectionDAG.cpp:1475</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFrameLowering_html_ab90d8608756fd53ed946d0eab8ad6cb7"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html#ab90d8608756fd53ed946d0eab8ad6cb7">llvm::PPCFrameLowering::getLinkageSize</a></div><div class="ttdeci">static unsigned getLinkageSize(bool isPPC64, bool isDarwinABI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8h_source.html#l00109">PPCFrameLowering.h:109</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892">llvm::PPCISD::FCFID</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00039">PPCISelLowering.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a6ececde40ed933c2dfb5af16cb002529"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a6ececde40ed933c2dfb5af16cb002529">llvm::SelectionDAG::getTargetFrameIndex</a></div><div class="ttdeci">SDValue getTargetFrameIndex(int FI, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00440">SelectionDAG.h:440</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a796c035d1b69a9cf3fb794bd65ebc584"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a796c035d1b69a9cf3fb794bd65ebc584">llvm::Intrinsic::ppc_altivec_vcmpgtsb_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02268">Intrinsics.h:2268</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a3b6fcbb7bdd8ae29e8af4cd38bce7a40"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a3b6fcbb7bdd8ae29e8af4cd38bce7a40">llvm::TargetLowering::CallLoweringInfo::DL</a></div><div class="ttdeci">SDLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01968">TargetLowering.h:1968</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">llvm::ISD::VSELECT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00325">ISDOpcodes.h:325</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_a00151b714ce26a44b0c8288bf93696cf"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a00151b714ce26a44b0c8288bf93696cf">llvm::TargetLowering::DAGCombinerInfo::CombineTo</a></div><div class="ttdeci">SDValue CombineTo(SDNode *N, const std::vector&lt; SDValue &gt; &amp;To, bool AddTo=true)</div><div class="ttdef"><b>Definition:</b> <a href="DAGCombiner_8cpp_source.html#l00400">DAGCombiner.cpp:400</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00332">DerivedTypes.h:332</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1AsmOperandInfo_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1AsmOperandInfo.html">llvm::TargetLowering::AsmOperandInfo</a></div><div class="ttdoc">This contains information for each constraint that we are lowering. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02167">TargetLowering.h:2167</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">llvm::ISD::ADD</a></div><div class="ttdoc">Simple integer binary arithmetic operators. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a71f916390487bb109d9968c72553eaf4">llvm::ISD::SETO</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00728">ISDOpcodes.h:728</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ac2112296600ed4c01c2554d6dfb79f4c"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">llvm::TargetRegisterInfo::getMatchingSuperReg</a></div><div class="ttdeci">unsigned getMatchingSuperReg(unsigned Reg, unsigned SubIdx, const TargetRegisterClass *RC) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00457">TargetRegisterInfo.h:457</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a819041d6f932a577122acfff723fe4af"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">llvm::SelectionDAG::getVectorShuffle</a></div><div class="ttdeci">SDValue getVectorShuffle(EVT VT, SDLoc dl, SDValue N1, SDValue N2, const int *MaskElts)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01351">SelectionDAG.cpp:1351</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa6ce0aaff74c60178c0210f31002c7f59"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa6ce0aaff74c60178c0210f31002c7f59">llvm::PPCII::MO_NLP_HIDDEN_FLAG</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00072">PPC.h:72</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">llvm::ISD::FSQRT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_ad07ce660c9cb208ae98a53ad8b3ce1de"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ad07ce660c9cb208ae98a53ad8b3ce1de">llvm::TargetLowering::CallLoweringInfo::Outs</a></div><div class="ttdeci">SmallVector&lt; ISD::OutputArg, 32 &gt; Outs</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01970">TargetLowering.h:1970</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a1368bce74d94da9e2a658ed834f806c4"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1368bce74d94da9e2a658ed834f806c4">llvm::PPCISD::ADDI_TOC_L</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00288">PPCISelLowering.h:288</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a7d2d261f151994af1acad3619dfc1d1d"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a7d2d261f151994af1acad3619dfc1d1d">llvm::Intrinsic::ppc_altivec_vcmpeqfp</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02255">Intrinsics.h:2255</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a473200f06bdd611fdbed43d908b84305">llvm::ISD::SETULT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00733">ISDOpcodes.h:733</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ab791c435016d75f72e1e95c54f3d42d9"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ab791c435016d75f72e1e95c54f3d42d9">llvm::PPCISD::TOC_RESTORE</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00080">PPCISelLowering.h:80</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a6f05a09edb671910f85f8665981cbde9">llvm::ISD::SETLT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00742">ISDOpcodes.h:742</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">llvm::MVT::i32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00046">ValueTypes.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">llvm::ISD::UDIV</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">llvm::PPC::PRED_NE</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00033">PPCPredicates.h:33</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">llvm::PPC::PRED_EQ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00030">PPCPredicates.h:30</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a0992940624286ed6bc85cd7163501613"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0992940624286ed6bc85cd7163501613">llvm::PPCISD::COND_BRANCH</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00147">PPCISelLowering.h:147</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html_a8d8348060ccdeeba13fb8bc651dfbf82"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">llvm::SmallSet::insert</a></div><div class="ttdeci">bool insert(const T &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00059">SmallSet.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a89e556de7967c08e4850a8a84dc4b2dd"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a89e556de7967c08e4850a8a84dc4b2dd">llvm::TargetLowering::getRegForInlineAsmConstraint</a></div><div class="ttdeci">virtual std::pair&lt; unsigned, const TargetRegisterClass * &gt; getRegForInlineAsmConstraint(const std::string &amp;Constraint, MVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l02062">TargetLowering.cpp:2062</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">llvm::ISD::CondCode</a></div><div class="ttdeci">CondCode</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00719">ISDOpcodes.h:719</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a6f48c93bc2c3495090cdad2d375290dc"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a6f48c93bc2c3495090cdad2d375290dc">llvm::PPCISD::ADDI_DTPREL_L</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00237">PPCISelLowering.h:237</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a3475aac39d7d3909ef94c56fbdfbe7a9"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a3475aac39d7d3909ef94c56fbdfbe7a9">llvm::PPCISD::FRE</a></div><div class="ttdoc">Reciprocal estimate instructions (unary FP ops). </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00055">PPCISelLowering.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a7cead3a2a7771e61083bcc6959915a13"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">llvm::MemSDNode::getMemoryVT</a></div><div class="ttdeci">EVT getMemoryVT() const </div><div class="ttdoc">getMemoryVT - Return the type of the in-memory value. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01030">SelectionDAGNodes.h:1030</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00402">MachineOperand.h:402</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac43f9bea13e29622bbf18c861b52144d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac43f9bea13e29622bbf18c861b52144d">llvm::ISD::READCYCLECOUNTER</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00566">ISDOpcodes.h:566</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a0071b1186435b05bd312b95e5d09a50b"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a0071b1186435b05bd312b95e5d09a50b">llvm::PPCFunctionInfo::getFramePointerSaveIndex</a></div><div class="ttdeci">int getFramePointerSaveIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00114">PPCMachineFunctionInfo.h:114</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab45a2d5cdc5e1d5b22e6ba30f26ccb8a"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab45a2d5cdc5e1d5b22e6ba30f26ccb8a">llvm::Intrinsic::ppc_altivec_vcmpequw_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02262">Intrinsics.h:2262</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_af4674b301fdc98e0a729a8d4690e45f2"><div class="ttname"><a href="PPCISelLowering_8cpp.html#af4674b301fdc98e0a729a8d4690e45f2">isFloatingPointZero</a></div><div class="ttdeci">static bool isFloatingPointZero(SDValue Op)</div><div class="ttdoc">isFloatingPointZero - Return true if this is 0.0 or -0.0. </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00700">PPCISelLowering.cpp:700</a></div></div>
<div class="ttc" id="MathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a8c45daace9a43c45f6de8ce703142dc0"><div class="ttname"><a href="namespacellvm.html#a8c45daace9a43c45f6de8ce703142dc0">llvm::CC_PPC32_SVR4_Custom_AlignArgRegs</a></div><div class="ttdeci">bool CC_PPC32_SVR4_Custom_AlignArgRegs(unsigned &amp;ValNo, MVT &amp;ValVT, MVT &amp;LocVT, CCValAssign::LocInfo &amp;LocInfo, ISD::ArgFlagsTy &amp;ArgFlags, CCState &amp;State)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01856">PPCISelLowering.cpp:1856</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a35053bb3e328d74ce342c149dde6ead8"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a35053bb3e328d74ce342c149dde6ead8">getAltivecCompareInfo</a></div><div class="ttdeci">static bool getAltivecCompareInfo(SDValue Intrin, int &amp;CompareOpc, bool &amp;isDot)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05580">PPCISelLowering.cpp:5580</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aad0d80bf5cf5a07b271e4357ed436f62"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aad0d80bf5cf5a07b271e4357ed436f62">llvm::PPCISD::SRA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00101">PPCISelLowering.h:101</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac771b9cda3b889242d457cc4d9b2159c">llvm::ISD::INTRINSIC_WO_CHAIN</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00127">ISDOpcodes.h:127</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a480a6977d64df14b9af6821de3f520b9"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a480a6977d64df14b9af6821de3f520b9">llvm::PPCISD::LFIWZX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00273">PPCISelLowering.h:273</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a606fcb46940146f9bb7ee312d6a4835f"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a606fcb46940146f9bb7ee312d6a4835f">llvm::PPCISD::ADD_TLS</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00197">PPCISelLowering.h:197</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLoweringBase_1_1AddrMode_html_a8ea7d02f0e4b0c1d37d6986ec9f7f5c0"><div class="ttname"><a href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a8ea7d02f0e4b0c1d37d6986ec9f7f5c0">llvm::TargetLoweringBase::AddrMode::Scale</a></div><div class="ttdeci">int64_t Scale</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01131">TargetLowering.h:1131</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a2961c31b29db17a4f2964899c8569a64"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a2961c31b29db17a4f2964899c8569a64">llvm::MachineBasicBlock::getBasicBlock</a></div><div class="ttdeci">const BasicBlock * getBasicBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00117">MachineBasicBlock.h:117</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">llvm::ISD::UNDEF</a></div><div class="ttdoc">UNDEF - An undefined node. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00154">ISDOpcodes.h:154</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">llvm::ISD::FEXP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aa52f8d0b1001830d27a193285d4a7090"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa52f8d0b1001830d27a193285d4a7090">llvm::PPCISD::FCFIDUS</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00043">PPCISelLowering.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50c"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">llvm::MVT::SimpleValueType</a></div><div class="ttdeci">SimpleValueType</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00035">ValueTypes.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1StoreSDNode_html"><div class="ttname"><a href="classllvm_1_1StoreSDNode.html">llvm::StoreSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01749">SelectionDAGNodes.h:1749</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">llvm::ISD::FPOWI</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">llvm::ISD::FP_TO_SINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00379">ISDOpcodes.h:379</a></div></div>
<div class="ttc" id="namespacellvm_html_a5537d2c18e3c7cf4e9b70986bb7c90db"><div class="ttname"><a href="namespacellvm.html#a5537d2c18e3c7cf4e9b70986bb7c90db">llvm::FloatToBits</a></div><div class="ttdeci">uint32_t FloatToBits(float Float)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00516">MathExtras.h:516</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a9dff1dcbac65852b71473818c11869b1">llvm::ISD::SETUGE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00732">ISDOpcodes.h:732</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">llvm::ISD::BUILD_VECTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00240">ISDOpcodes.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1BuildVectorSDNode_html_a0d1aedc8b57ec58e82db037ccb38c2a2"><div class="ttname"><a href="classllvm_1_1BuildVectorSDNode.html#a0d1aedc8b57ec58e82db037ccb38c2a2">llvm::BuildVectorSDNode::isConstantSplat</a></div><div class="ttdeci">bool isConstantSplat(APInt &amp;SplatValue, APInt &amp;SplatUndef, unsigned &amp;SplatBitSize, bool &amp;HasAnyUndefs, unsigned MinSplatBits=0, bool isBigEndian=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l06455">SelectionDAG.cpp:6455</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ac7bb30d4918c1ee9dd208083154e109f">llvm::ISD::SETOGE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00724">ISDOpcodes.h:724</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a7780eaaa923683ff9eac5b49916136bc"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a7780eaaa923683ff9eac5b49916136bc">llvm::PPCFunctionInfo::setTailCallSPDelta</a></div><div class="ttdeci">void setTailCallSPDelta(int size)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00127">PPCMachineFunctionInfo.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8d6268ac5d00f510ade10bd1865d9829"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">llvm::MachineInstr::memoperands_end</a></div><div class="ttdeci">mmo_iterator memoperands_end() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00292">MachineInstr.h:292</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a3fad042e27ba626acf5366c845b352d3"><div class="ttname"><a href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">llvm::SDValue::getNode</a></div><div class="ttdeci">SDNode * getNode() const </div><div class="ttdoc">get the SDNode which holds the desired result </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00105">SelectionDAGNodes.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a840de59c43fdd3160c0811cea581814e"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a840de59c43fdd3160c0811cea581814e">llvm::PPCTargetLowering::PPCTargetLowering</a></div><div class="ttdeci">PPCTargetLowering(PPCTargetMachine &amp;TM)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00059">PPCISelLowering.cpp:59</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">llvm::A64DB::ST</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00178">AArch64BaseInfo.h:178</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a451be47fed950157cb4c327bc9f91c2d"><div class="ttname"><a href="structllvm_1_1EVT.html#a451be47fed950157cb4c327bc9f91c2d">llvm::EVT::getStoreSize</a></div><div class="ttdeci">unsigned getStoreSize() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00787">ValueTypes.h:787</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">llvm::ISD::CTPOP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66af54af574e0a93231dd275e38ed4cf026"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af54af574e0a93231dd275e38ed4cf026">llvm::PPCISD::LD_GOT_TPREL_L</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00189">PPCISelLowering.h:189</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_ad7b6159b5ef6b5b1de4b40b5173569d8"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#ad7b6159b5ef6b5b1de4b40b5173569d8">llvm::MachineMemOperand::getFlags</a></div><div class="ttdeci">unsigned int getFlags() const </div><div class="ttdoc">getFlags - Return the raw flags of the source value, </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00127">MachineMemOperand.h:127</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLoweringBase_1_1AddrMode_html_a2d775e3fd8ebcd0941d1e12cbfccda3d"><div class="ttname"><a href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a2d775e3fd8ebcd0941d1e12cbfccda3d">llvm::TargetLoweringBase::AddrMode::BaseGV</a></div><div class="ttdeci">GlobalValue * BaseGV</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01128">TargetLowering.h:1128</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a4a85184d12ba5cd1f4cd690fd225e9e4"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a4a85184d12ba5cd1f4cd690fd225e9e4">llvm::MachineInstrBuilder::setMemRefs</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMemRefs(MachineInstr::mmo_iterator b, MachineInstr::mmo_iterator e) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00159">MachineInstrBuilder.h:159</a></div></div>
<div class="ttc" id="classllvm_1_1TargetOptions_html_a0544e2966374684ff74255e5a4290fa7"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#a0544e2966374684ff74255e5a4290fa7">llvm::TargetOptions::UnsafeFPMath</a></div><div class="ttdeci">unsigned UnsafeFPMath</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00085">TargetOptions.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00042">ValueTypes.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a70f8c42ee595d1c978cf073a1b5e9050"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a70f8c42ee595d1c978cf073a1b5e9050">llvm::PPCTargetLowering::computeMaskedBitsForTargetNode</a></div><div class="ttdeci">virtual void computeMaskedBitsForTargetNode(const SDValue Op, APInt &amp;KnownZero, APInt &amp;KnownOne, const SelectionDAG &amp;DAG, unsigned Depth=0) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07528">PPCISelLowering.cpp:7528</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html">llvm::ConstantSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01246">SelectionDAGNodes.h:1246</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5be7fb35e0f523af6c939fba303403df">llvm::ISD::BR</a></div><div class="ttdoc">Control flow instructions. These all have token chains. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00475">ISDOpcodes.h:475</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a2f17cb683c028f84276cade7e9f8fa0c"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a2f17cb683c028f84276cade7e9f8fa0c">LowerMemOpCallTo</a></div><div class="ttdeci">static void LowerMemOpCallTo(SelectionDAG &amp;DAG, MachineFunction &amp;MF, SDValue Chain, SDValue Arg, SDValue PtrOff, int SPDiff, unsigned ArgOffset, bool isPPC64, bool isTailCall, bool isVector, SmallVectorImpl&lt; SDValue &gt; &amp;MemOpChains, SmallVectorImpl&lt; TailCallArgumentInfo &gt; &amp;TailCallArguments, SDLoc dl)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03137">PPCISelLowering.cpp:3137</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_ac5d667b47894c7546da2e58080fe2144"><div class="ttname"><a href="namespacellvm_1_1PPC.html#ac5d667b47894c7546da2e58080fe2144">llvm::PPC::isVMRGLShuffleMask</a></div><div class="ttdeci">bool isVMRGLShuffleMask(ShuffleVectorSDNode *N, unsigned UnitSize, bool isUnary)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00775">PPCISelLowering.cpp:775</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a9330f807294a868461af12a3ed56a269"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a9330f807294a868461af12a3ed56a269">llvm::MemSDNode::getBasePtr</a></div><div class="ttdeci">const SDValue &amp; getBasePtr() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01054">SelectionDAGNodes.h:1054</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab2a56feb4fe943ae2362d61f3a43acca"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab2a56feb4fe943ae2362d61f3a43acca">llvm::MachineFunction::CreateMachineBasicBlock</a></div><div class="ttdeci">MachineBasicBlock * CreateMachineBasicBlock(const BasicBlock *bb=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00209">MachineFunction.cpp:209</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a379fbc8b02bed2a8cf517415cdc251c8"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a379fbc8b02bed2a8cf517415cdc251c8">GeneratePerfectShuffle</a></div><div class="ttdeci">static SDValue GeneratePerfectShuffle(unsigned PFEntry, SDValue LHS, SDValue RHS, SelectionDAG &amp;DAG, SDLoc dl)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05379">PPCISelLowering.cpp:5379</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexagonISD_html_aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">llvm::HexagonISD::Lo</a></div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00043">HexagonISelLowering.h:43</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">llvm::ISD::STORE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00460">ISDOpcodes.h:460</a></div></div>
<div class="ttc" id="classllvm_1_1JumpTableSDNode_html"><div class="ttname"><a href="classllvm_1_1JumpTableSDNode.html">llvm::JumpTableSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01354">SelectionDAGNodes.h:1354</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a3d3a309f761dbae24b488412f6550fc2"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3d3a309f761dbae24b488412f6550fc2">llvm::Intrinsic::ppc_altivec_vcmpeqfp_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02256">Intrinsics.h:2256</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">llvm::ISD::FCEIL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">llvm::ISD::SRL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00306">ISDOpcodes.h:306</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html"><div class="ttname"><a href="classllvm_1_1MVT.html">llvm::MVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00033">ValueTypes.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a3934c03d7d0973a65fa524182810ec34"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a3934c03d7d0973a65fa524182810ec34">llvm::PPCSubtarget::getTargetTriple</a></div><div class="ttdeci">const Triple &amp; getTargetTriple() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00199">PPCSubtarget.h:199</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a5891be2cd50b5b7f01eb7c1cb0e7a682"><div class="ttname"><a href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">llvm::SDValue::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00849">SelectionDAGNodes.h:849</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">llvm::ISD::CTTZ</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">llvm::CCValAssign::SExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00035">CallingConvLower.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00037">LLVMContext.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a7c45a718f16057459d95d09d42ec6902"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a7c45a718f16057459d95d09d42ec6902">llvm::TargetLoweringBase::addRegisterClass</a></div><div class="ttdeci">void addRegisterClass(MVT VT, const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00952">TargetLowering.h:952</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">llvm::ISD::FADD</a></div><div class="ttdoc">Simple binary floating point operators. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a07debef9c174231d513e1966ef50cd0a"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a07debef9c174231d513e1966ef50cd0a">llvm::TargetLoweringBase::setTargetDAGCombine</a></div><div class="ttdeci">void setTargetDAGCombine(ISD::NodeType NT)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01058">TargetLowering.h:1058</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1ba3441acf8576e4bbf48e9bd73ca3c0d8c">llvm::TargetLoweringBase::Custom</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00084">TargetLowering.h:84</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a19957a6465c3a7a64ada8dfdec4d5aba"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a19957a6465c3a7a64ada8dfdec4d5aba">llvm::PPCFunctionInfo::setReturnAddrSaveIndex</a></div><div class="ttdeci">void setReturnAddrSaveIndex(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00118">PPCMachineFunctionInfo.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a967ffaf77f64a5deb1e96951e4224112"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">llvm::MemSDNode::isNonTemporal</a></div><div class="ttdeci">bool isNonTemporal() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01009">SelectionDAGNodes.h:1009</a></div></div>
<div class="ttc" id="namespacellvm_1_1TLSModel_html_a8911c5bfb68fc4ed3ac824f04f150120a110e377ad85dc311cb9bce1e32bea8aa"><div class="ttname"><a href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120a110e377ad85dc311cb9bce1e32bea8aa">llvm::TLSModel::LocalDynamic</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00037">CodeGen.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6f725580f7834e2ca90762965866dad4"><div class="ttname"><a href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00229">Type.h:229</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2a34a5ed2588ccc989de4882384c296b"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a34a5ed2588ccc989de4882384c296b">llvm::PPCISD::VNMSUBFP</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00059">PPCISelLowering.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_ae59804b87136d0ddf452a25b025b768c"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">llvm::CCValAssign::getLocVT</a></div><div class="ttdeci">MVT getLocVT() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00124">CallingConvLower.h:124</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">llvm::ISD::FTRUNC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_afcf8b8a06b0dba7e061a154072543bdd"><div class="ttname"><a href="PPCISelLowering_8cpp.html#afcf8b8a06b0dba7e061a154072543bdd">CreateCopyOfByValArgument</a></div><div class="ttdeci">static SDValue CreateCopyOfByValArgument(SDValue Src, SDValue Dst, SDValue Chain, ISD::ArgFlagsTy Flags, SelectionDAG &amp;DAG, SDLoc dl)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03125">PPCISelLowering.cpp:3125</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffa4c9eaf71e784335fbfdd96354cf46235"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffa4c9eaf71e784335fbfdd96354cf46235">llvm::PPCII::MO_NLP_FLAG</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00067">PPC.h:67</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1aadbb14ab26b74d841ac003363e3a5d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1aadbb14ab26b74d841ac003363e3a5d">llvm::ISD::VAEND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00549">ISDOpcodes.h:549</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afa328609e9c6183e2bc34afe59b84d1d"><div class="ttname"><a href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">llvm::MVT::isVector</a></div><div class="ttdeci">bool isVector() const </div><div class="ttdoc">isVector - Return true if this is a vector value type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00190">ValueTypes.h:190</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90afc1dee59b7dffa14ad2f3c2819d16dc8"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afc1dee59b7dffa14ad2f3c2819d16dc8">llvm::Intrinsic::ppc_altivec_vsrb</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02343">Intrinsics.h:2343</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a83cd5e15e6aa20b6646dbcd619a20120"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a83cd5e15e6aa20b6646dbcd619a20120">llvm::PPCTargetLowering::ReplaceNodeResults</a></div><div class="ttdeci">virtual void ReplaceNodeResults(SDNode *N, SmallVectorImpl&lt; SDValue &gt; &amp;Results, SelectionDAG &amp;DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05824">PPCISelLowering.cpp:5824</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_adeb13b67584232ee5ddade3d82a0b23a"><div class="ttname"><a href="PPCISelLowering_8cpp.html#adeb13b67584232ee5ddade3d82a0b23a">GetLabelAccessInfo</a></div><div class="ttdeci">static bool GetLabelAccessInfo(const TargetMachine &amp;TM, unsigned &amp;HiOpFlags, unsigned &amp;LoOpFlags, const GlobalValue *GV=0)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01305">PPCISelLowering.cpp:1305</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca49615145fd6c985a530ec3743d053475">llvm::MVT::v4f32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00102">ValueTypes.h:102</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">llvm::ISD::INSERT_VECTOR_ELT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00245">ISDOpcodes.h:245</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantPoolSDNode_html_aab74b88c9e364929ff1dd529ed24904b"><div class="ttname"><a href="classllvm_1_1ConstantPoolSDNode.html#aab74b88c9e364929ff1dd529ed24904b">llvm::ConstantPoolSDNode::getConstVal</a></div><div class="ttdeci">const Constant * getConstVal() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01405">SelectionDAGNodes.h:1405</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00031">SmallSet.h:31</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_ab1311d6d51755d404adc348ad4aeaaad"><div class="ttname"><a href="classllvm_1_1MVT.html#ab1311d6d51755d404adc348ad4aeaaad">llvm::MVT::isFloatingPoint</a></div><div class="ttdeci">bool isFloatingPoint() const </div><div class="ttdoc">isFloatingPoint - Return true if this is a FP, or a vector FP type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00174">ValueTypes.h:174</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a43a3ad5a512466965973ac46c8239c60"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a43a3ad5a512466965973ac46c8239c60">llvm::PPCISD::VCMP</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00134">PPCISelLowering.h:134</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a17b7b34ee0847ecc91dfe8f655282ee7"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a17b7b34ee0847ecc91dfe8f655282ee7">llvm::Intrinsic::ppc_altivec_vslw</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02338">Intrinsics.h:2338</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a2178fdaddb3a80610707339be13fa6e0"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a2178fdaddb3a80610707339be13fa6e0">llvm::PPCFunctionInfo::getVarArgsNumFPR</a></div><div class="ttdeci">unsigned getVarArgsNumFPR() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00164">PPCMachineFunctionInfo.h:164</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_aaf0bcfcb9ee7e078bec6074304e31cb0"><div class="ttname"><a href="PPCISelLowering_8cpp.html#aaf0bcfcb9ee7e078bec6074304e31cb0">CalculateTailCallSPDiff</a></div><div class="ttdeci">static int CalculateTailCallSPDiff(SelectionDAG &amp;DAG, bool isTailCall, unsigned ParamSize)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l02931">PPCISelLowering.cpp:2931</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aeb06cf0f813f643b62d8dd98db0bc249"><div class="ttname"><a href="classllvm_1_1Type.html#aeb06cf0f813f643b62d8dd98db0bc249">llvm::Type::isFloatTy</a></div><div class="ttdeci">bool isFloatTy() const </div><div class="ttdoc">isFloatTy - Return true if this is &amp;#39;float&amp;#39;, a 32-bit IEEE fp type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00146">Type.h:146</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a957027d4e9d0442f3bf1a0d7db0ba253"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a957027d4e9d0442f3bf1a0d7db0ba253">llvm::MachineRegisterInfo::getLiveInVirtReg</a></div><div class="ttdeci">unsigned getLiveInVirtReg(unsigned PReg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00361">MachineRegisterInfo.cpp:361</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66af2142b68a3cab0d2f680eecbb31c76e0"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af2142b68a3cab0d2f680eecbb31c76e0">llvm::PPCISD::STBRX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00253">PPCISelLowering.h:253</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexagonISD_html_aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">llvm::HexagonISD::Hi</a></div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00043">HexagonISelLowering.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html"><div class="ttname"><a href="classllvm_1_1ConstantFP.html">llvm::ConstantFP</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00232">Constants.h:232</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html">llvm::ISD::ArgFlagsTy</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00024">TargetCallingConv.h:24</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a63d10572d28760b1a149732cc760628a"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a63d10572d28760b1a149732cc760628a">llvm::PPCISD::VADD_SPLAT</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00243">PPCISelLowering.h:243</a></div></div>
<div class="ttc" id="namespacellvm_1_1Reloc_html_af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320"><div class="ttname"><a href="namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568adc2075e13a68142b26e05ac08bbfc320">llvm::Reloc::PIC_</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00025">CodeGen.h:25</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66abe7e3f85845897ad4b6270b32f8c7030"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66abe7e3f85845897ad4b6270b32f8c7030">llvm::PPCISD::FRSQRTE</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00055">PPCISelLowering.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a6b928e5a6718acab4fa0030ce9198e8a"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a6b928e5a6718acab4fa0030ce9198e8a">llvm::TargetLoweringBase::setBooleanContents</a></div><div class="ttdeci">void setBooleanContents(BooleanContent Ty)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00869">TargetLowering.h:869</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a9e4500d93af7f70fdff992d9d748559d">llvm::PPCISD::GlobalBaseReg</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00096">PPCISelLowering.h:96</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_adcdf9d77556f670b0d782d93355595f8ac4e6bb06de05f2620850b3fc53a0433e"><div class="ttname"><a href="namespacellvm_1_1PPC.html#adcdf9d77556f670b0d782d93355595f8ac4e6bb06de05f2620850b3fc53a0433e">llvm::PPC::DIR_E5500</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00045">PPCSubtarget.h:45</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1DAGCombinerInfo_html_a9e3e1453357b1b1cd870a4ac3528f918"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html#a9e3e1453357b1b1cd870a4ac3528f918">llvm::TargetLowering::DAGCombinerInfo::AddToWorklist</a></div><div class="ttdeci">void AddToWorklist(SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="DAGCombiner_8cpp_source.html#l00391">DAGCombiner.cpp:391</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ada865a374b524adeca1892f0eed6eb0e"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ada865a374b524adeca1892f0eed6eb0e">llvm::PPCISD::CALL_NOP</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00106">PPCISelLowering.h:106</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00227">Type.cpp:227</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_1_1use__iterator_html"><div class="ttname"><a href="classllvm_1_1SDNode_1_1use__iterator.html">llvm::SDNode::use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00439">SelectionDAGNodes.h:439</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a426e30bfd2fb5f211f8e72d9d4374ac2"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a426e30bfd2fb5f211f8e72d9d4374ac2">CalculateTailCallArgDest</a></div><div class="ttdeci">static void CalculateTailCallArgDest(SelectionDAG &amp;DAG, MachineFunction &amp;MF, bool isPPC64, SDValue Arg, int SPDiff, unsigned ArgOffset, SmallVectorImpl&lt; TailCallArgumentInfo &gt; &amp;TailCallArguments)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03073">PPCISelLowering.cpp:3073</a></div></div>
<div class="ttc" id="namespacellvm_html_aa1704159f75e6eacd595962ea6d93ffe"><div class="ttname"><a href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a></div><div class="ttdeci">ItTy next(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00154">STLExtras.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a3b8647e2be300dfc2b71376131201319"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a3b8647e2be300dfc2b71376131201319">llvm::SelectionDAG::getCopyFromReg</a></div><div class="ttdeci">SDValue getCopyFromReg(SDValue Chain, SDLoc dl, unsigned Reg, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00510">SelectionDAG.h:510</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4534a6db2862a28324932a8ea1cb54d6"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4534a6db2862a28324932a8ea1cb54d6">llvm::ISD::INIT_TRAMPOLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00577">ISDOpcodes.h:577</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_aab0e46096b7ef57095fb1746f0c6e4af"><div class="ttname"><a href="PPCISelLowering_8cpp.html#aab0e46096b7ef57095fb1746f0c6e4af">isIntS16Immediate</a></div><div class="ttdeci">static bool isIntS16Immediate(SDNode *N, short &amp;Imm)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01001">PPCISelLowering.cpp:1001</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_adc25bcc279ccfb5b867c2b7b8eedaa9b"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#adc25bcc279ccfb5b867c2b7b8eedaa9b">llvm::TargetLoweringBase::getDataLayout</a></div><div class="ttdeci">const DataLayout * getDataLayout() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00146">TargetLowering.h:146</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a2fd670826fb13b0b347c7ff356849720"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2fd670826fb13b0b347c7ff356849720">llvm::Intrinsic::ppc_altivec_vmsumuhm</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02305">Intrinsics.h:2305</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a5ad12b466e3a5900d0c307b301465d25">llvm::ISD::SETGT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00740">ISDOpcodes.h:740</a></div></div>
<div class="ttc" id="PPCPerfectShuffle_8h_html"><div class="ttname"><a href="PPCPerfectShuffle_8h.html">PPCPerfectShuffle.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">llvm::ISD::FREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="PPCTargetMachine_8h_html"><div class="ttname"><a href="PPCTargetMachine_8h.html">PPCTargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01252">APInt.h:1252</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90af20f75a68b34dfc915011734f3d708e8"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90af20f75a68b34dfc915011734f3d708e8">llvm::Intrinsic::ppc_altivec_vcmpgtfp</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02265">Intrinsics.h:2265</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00236">MachineFunction.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_ada6f0ce61d2e0bfaef869dffc2d643ed"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#ada6f0ce61d2e0bfaef869dffc2d643ed">llvm::PPCFunctionInfo::setVarArgsFrameIndex</a></div><div class="ttdeci">void setVarArgsFrameIndex(int Index)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00156">PPCMachineFunctionInfo.h:156</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a0caf6a31d8034336a9ba7791a5f583f1"><div class="ttname"><a href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">llvm::SDValue::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00840">SelectionDAGNodes.h:840</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6c61b6125c7901c549f90ee0e443a770">llvm::ISD::SEXTLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00700">ISDOpcodes.h:700</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac5fb8808f3dcb9f0a83f1fc2e7747485"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac5fb8808f3dcb9f0a83f1fc2e7747485">llvm::ISD::TRAP</a></div><div class="ttdoc">TRAP - Trapping instruction. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00586">ISDOpcodes.h:586</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_ac4592c8a858a8aca23fc2e2d7670c900"><div class="ttname"><a href="PPCISelLowering_8cpp.html#ac4592c8a858a8aca23fc2e2d7670c900">isConsecutiveLS</a></div><div class="ttdeci">static bool isConsecutiveLS(LSBaseSDNode *LS, LSBaseSDNode *Base, unsigned Bytes, int Dist, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l06876">PPCISelLowering.cpp:6876</a></div></div>
<div class="ttc" id="classllvm_1_1TargetOptions_html_ad54fc81a4ef7ab96137a9b6e78fdf838"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#ad54fc81a4ef7ab96137a9b6e78fdf838">llvm::TargetOptions::GuaranteedTailCallOpt</a></div><div class="ttdeci">unsigned GuaranteedTailCallOpt</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00135">TargetOptions.h:135</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a4641b97d96da9f08b2609132342ca65b"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a4641b97d96da9f08b2609132342ca65b">llvm::PPCISD::VMADDFP</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00059">PPCISelLowering.h:59</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aee4f13218bdbb5c5697f7e786618ecb2">llvm::ISD::AssertSext</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00057">ISDOpcodes.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a7229ed27a1fc24323231cd279cacee13"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a7229ed27a1fc24323231cd279cacee13">llvm::TargetLoweringBase::setPrefFunctionAlignment</a></div><div class="ttdeci">void setPrefFunctionAlignment(unsigned Align)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01082">TargetLowering.h:1082</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca4b321667ee9d821362ffabd3c24d17b1">llvm::MVT::v4i32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00085">ValueTypes.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a1fcd7b93a56527b2e92a8fadd753ad2a"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a1fcd7b93a56527b2e92a8fadd753ad2a">llvm::PPCSubtarget::hasFSQRT</a></div><div class="ttdeci">bool hasFSQRT() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00179">PPCSubtarget.h:179</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a011454ea07a73444b499f0b8bb35fa37"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a011454ea07a73444b499f0b8bb35fa37">llvm::PPCSubtarget::has64BitSupport</a></div><div class="ttdeci">bool has64BitSupport() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00158">PPCSubtarget.h:158</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cac70c1ab4641d55854fdc2d7b7d40350f"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac70c1ab4641d55854fdc2d7b7d40350f">llvm::MVT::LAST_VECTOR_VALUETYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00114">ValueTypes.h:114</a></div></div>
<div class="ttc" id="AArch64ISelLowering_8cpp_html_a3ef2f286698b5a56193e290b89b76636"><div class="ttname"><a href="AArch64ISelLowering_8cpp.html#a3ef2f286698b5a56193e290b89b76636">NumArgRegs</a></div><div class="ttdeci">static const unsigned NumArgRegs</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8cpp_source.html#l01034">AArch64ISelLowering.cpp:1034</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8bf193a781a92cae52d7f9216d0824f8"><div class="ttname"><a href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">llvm::Function::arg_begin</a></div><div class="ttdeci">arg_iterator arg_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00410">Function.h:410</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">llvm::ISD::CTLZ_ZERO_UNDEF</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00312">ISDOpcodes.h:312</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a89570eaab013dc406a4419f2ee05c227"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a89570eaab013dc406a4419f2ee05c227">StoreTailCallArgumentsToStackSlot</a></div><div class="ttdeci">static void StoreTailCallArgumentsToStackSlot(SelectionDAG &amp;DAG, SDValue Chain, const SmallVectorImpl&lt; TailCallArgumentInfo &gt; &amp;TailCallArgs, SmallVectorImpl&lt; SDValue &gt; &amp;MemOpChains, SDLoc dl)</div><div class="ttdoc">StoreTailCallArgumentsToStackSlot - Stores arguments to their stack slot. </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03014">PPCISelLowering.cpp:3014</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aa48a0d892596a0da3cf4a82c6ff5a91f"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa48a0d892596a0da3cf4a82c6ff5a91f">llvm::PPCISD::MTCTR</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00110">PPCISelLowering.h:110</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae77d03846b31c41c4860bcd96d780a78">llvm::ISD::VAARG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00540">ISDOpcodes.h:540</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a96b493b8aa609c1c5c83e21dde6bf3d0"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a96b493b8aa609c1c5c83e21dde6bf3d0">llvm::PPC::isAllNegativeZeroVector</a></div><div class="ttdeci">bool isAllNegativeZeroVector(SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00859">PPCISelLowering.cpp:859</a></div></div>
<div class="ttc" id="TargetLoweringObjectFileImpl_8h_html"><div class="ttname"><a href="TargetLoweringObjectFileImpl_8h.html">TargetLoweringObjectFileImpl.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116">llvm::TargetLowering::ConstraintType</a></div><div class="ttdeci">ConstraintType</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02142">TargetLowering.h:2142</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a8810bf428dcf84d48f39c8f5ba9a8c94"><div class="ttname"><a href="classllvm_1_1SDNode.html#a8810bf428dcf84d48f39c8f5ba9a8c94">llvm::SDNode::use_begin</a></div><div class="ttdeci">use_iterator use_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00496">SelectionDAGNodes.h:496</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_acd3bb9ee2ec53fa4be1fdf155b0b5a17"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">llvm::MemSDNode::isVolatile</a></div><div class="ttdeci">bool isVolatile() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01008">SelectionDAGNodes.h:1008</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_ab8c490e0623b6a0e2c12c12e0d924abe"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#ab8c490e0623b6a0e2c12c12e0d924abe">llvm::TargetLoweringBase::AddPromotedToType</a></div><div class="ttdeci">void AddPromotedToType(unsigned Opc, MVT OrigVT, MVT DestVT)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01051">TargetLowering.h:1051</a></div></div>
<div class="ttc" id="classllvm_1_1TargetOptions_html_a4d277b3eb8ea035973291fe90d27d280"><div class="ttname"><a href="classllvm_1_1TargetOptions.html#a4d277b3eb8ea035973291fe90d27d280">llvm::TargetOptions::NoInfsFPMath</a></div><div class="ttdeci">unsigned NoInfsFPMath</div><div class="ttdef"><b>Definition:</b> <a href="TargetOptions_8h_source.html#l00091">TargetOptions.h:91</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ad6cead31da9e6b4f016627a6727b6d66"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ad6cead31da9e6b4f016627a6727b6d66">llvm::Intrinsic::ppc_altivec_vsrab</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02340">Intrinsics.h:2340</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetMachine_html"><div class="ttname"><a href="classllvm_1_1PPCTargetMachine.html">llvm::PPCTargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCTargetMachine_8h_source.html#l00030">PPCTargetMachine.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a6d0f43699563375800a45f45bc11ff49"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a6d0f43699563375800a45f45bc11ff49">llvm::TargetLoweringBase::MaxStoresPerMemmove</a></div><div class="ttdeci">unsigned MaxStoresPerMemmove</div><div class="ttdoc">Specify maximum bytes of store instructions per memmove call. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01674">TargetLowering.h:1674</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">llvm::ISD::CTTZ_ZERO_UNDEF</a></div><div class="ttdoc">Bit counting operators with an undefined result for zero inputs. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00312">ISDOpcodes.h:312</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_ae2a0b9bd4deed69296ac2aaf273e0ada"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#ae2a0b9bd4deed69296ac2aaf273e0ada">llvm::PPCTargetLowering::LowerOperation</a></div><div class="ttdeci">virtual SDValue LowerOperation(SDValue Op, SelectionDAG &amp;DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05768">PPCISelLowering.cpp:5768</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_af99f246db9e144fefd7a73b54ef0bbf7"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af99f246db9e144fefd7a73b54ef0bbf7">llvm::SelectionDAG::MaskedValueIsZero</a></div><div class="ttdeci">bool MaskedValueIsZero(SDValue Op, const APInt &amp;Mask, unsigned Depth=0) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01747">SelectionDAG.cpp:1747</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a35d9b393639fbc9a4e639ce81c704d17"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a35d9b393639fbc9a4e639ce81c704d17">llvm::PPCISD::LOAD</a></div><div class="ttdoc">Like a regular LOAD but additionally taking/producing a flag. </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00083">PPCISelLowering.h:83</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">llvm::ISD::FP_EXTEND</a></div><div class="ttdoc">X = FP_EXTEND(Y) - Extend a smaller FP type into a larger FP type. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00411">ISDOpcodes.h:411</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a34ee642bf0fb623f775e04e0e60d9b26"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a34ee642bf0fb623f775e04e0e60d9b26">llvm::ISD::ArgFlagsTy::isByVal</a></div><div class="ttdeci">bool isByVal() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00068">TargetCallingConv.h:68</a></div></div>
<div class="ttc" id="Target_2LLVMBuild_8txt_html_ac6653103ff5a7ab01c54613c5a0e5b2d"><div class="ttname"><a href="Target_2LLVMBuild_8txt.html#ac6653103ff5a7ab01c54613c5a0e5b2d">type</a></div><div class="ttdeci">with the configured native if any[component_1] type</div><div class="ttdef"><b>Definition:</b> <a href="Target_2LLVMBuild_8txt_source.html#l00032">Target/LLVMBuild.txt:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">llvm::tgtok::Bits</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a02aa9d4cbd6ffcc70dfe1143ec0995ef"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">llvm::TargetMachine::getFrameLowering</a></div><div class="ttdeci">virtual const TargetFrameLowering * getFrameLowering() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00120">Target/TargetMachine.h:120</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00576">ValueTypes.h:576</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFrameLowering_html_ad6cf9c804045cfe1b414dd12b18e86ca"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html#ad6cf9c804045cfe1b414dd12b18e86ca">llvm::PPCFrameLowering::getMinCallFrameSize</a></div><div class="ttdeci">static unsigned getMinCallFrameSize(bool isPPC64, bool isDarwinABI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8h_source.html#l00136">PPCFrameLowering.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_ab6132d2ff56c64c551cf71e714dbb5c2"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#ab6132d2ff56c64c551cf71e714dbb5c2">llvm::TargetLowering::ArgListTy</a></div><div class="ttdeci">std::vector&lt; ArgListEntry &gt; ArgListTy</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01943">TargetLowering.h:1943</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a8e0b7625b4133471e51249e77ef84c81"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a8e0b7625b4133471e51249e77ef84c81">llvm::PPCFunctionInfo::setMinReservedArea</a></div><div class="ttdeci">void setMinReservedArea(unsigned size)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00124">PPCMachineFunctionInfo.h:124</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a28bd1b4009552d838533244a6b2745a8"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a28bd1b4009552d838533244a6b2745a8">BuildSplatI</a></div><div class="ttdeci">static SDValue BuildSplatI(int Val, unsigned SplatSize, EVT VT, SelectionDAG &amp;DAG, SDLoc dl)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l05147">PPCISelLowering.cpp:5147</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetMachine_html_a19468aad6e69c24f158cadf2e3ac95d3"><div class="ttname"><a href="classllvm_1_1PPCTargetMachine.html#a19468aad6e69c24f158cadf2e3ac95d3">llvm::PPCTargetMachine::getSubtargetImpl</a></div><div class="ttdeci">virtual const PPCSubtarget * getSubtargetImpl() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCTargetMachine_8h_source.html#l00062">PPCTargetMachine.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_aea636e30afd00adc2d5df11e73fb205c"><div class="ttname"><a href="classllvm_1_1CCState.html#aea636e30afd00adc2d5df11e73fb205c">llvm::CCState::getFirstUnallocated</a></div><div class="ttdeci">unsigned getFirstUnallocated(const uint16_t *Regs, unsigned NumRegs) const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00281">CallingConvLower.h:281</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_ace45270eb91bcdccca02cb134e594007"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#ace45270eb91bcdccca02cb134e594007">llvm::PPCSubtarget::hasFPCVT</a></div><div class="ttdeci">bool hasFPCVT() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00188">PPCSubtarget.h:188</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html">llvm::TargetLowering::CallLoweringInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01949">TargetLowering.h:1949</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">llvm::PPC::PRED_LT</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00028">PPCPredicates.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_ad3563d2997bf4ab88c11c3ba13dc4a3e"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">llvm::PPCSubtarget::isSVR4ABI</a></div><div class="ttdeci">bool isSVR4ABI() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00209">PPCSubtarget.h:209</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">llvm::ISD::MUL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a7f47862de23f7210f88ccf98ae1efbe4">llvm::ISD::SETGE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00741">ISDOpcodes.h:741</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html">llvm::MachinePointerInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00032">MachineMemOperand.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a4f96a16af672b17616a85c675ea87e7c"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4f96a16af672b17616a85c675ea87e7c">llvm::Intrinsic::ppc_altivec_vperm</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02316">Intrinsics.h:2316</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a63ac79658a3e958b69781a8bcfa65639"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a63ac79658a3e958b69781a8bcfa65639">llvm::TargetLoweringBase::setUseUnderscoreLongJmp</a></div><div class="ttdeci">void setUseUnderscoreLongJmp(bool Val)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00890">TargetLowering.h:890</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a038a7f124b4118456a27a739c03650bf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a038a7f124b4118456a27a739c03650bf">llvm::ISD::TargetConstantPool</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00113">ISDOpcodes.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1JumpTableSDNode_html_a4de66dbb2dcc5ec355a196270aad93f6"><div class="ttname"><a href="classllvm_1_1JumpTableSDNode.html#a4de66dbb2dcc5ec355a196270aad93f6">llvm::JumpTableSDNode::getIndex</a></div><div class="ttdeci">int getIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01364">SelectionDAGNodes.h:1364</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrInfo_html_ab16f5a81fccfe4b7f645ba5a74ffad02"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00048">MCInstrInfo.h:48</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">llvm::ISD::FEXP2</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a3de9644ea2dd81453acf760bd2c1f921"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a3de9644ea2dd81453acf760bd2c1f921">llvm::SelectionDAG::CreateStackTemporary</a></div><div class="ttdeci">SDValue CreateStackTemporary(EVT VT, unsigned minAlign=1)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01596">SelectionDAG.cpp:1596</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">llvm::ISD::UREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19cd524269b035941434cce28b585715">llvm::ISD::ROTR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00306">ISDOpcodes.h:306</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a910795e8d77c1545da0683c0e1cb81ee"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a910795e8d77c1545da0683c0e1cb81ee">llvm::ISD::isEXTLoad</a></div><div class="ttdeci">bool isEXTLoad(const SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01901">SelectionDAGNodes.h:1901</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a2fa8491ab36125d7f5dd38d3a4868934"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">llvm::MemSDNode::getPointerInfo</a></div><div class="ttdeci">const MachinePointerInfo &amp; getPointerInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01036">SelectionDAGNodes.h:1036</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_aefac52e417d31959e35868879aba672b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">llvm::MachineFrameInfo::getObjectOffset</a></div><div class="ttdeci">int64_t getObjectOffset(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00394">MachineFrameInfo.h:394</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66af19177e57893484cb79f34527b5cd7f8"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af19177e57893484cb79f34527b5cd7f8">llvm::PPCISD::LFIWAX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00268">PPCISelLowering.h:268</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_af6bf10019c0fa74fe3234178bd0a2c52"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af6bf10019c0fa74fe3234178bd0a2c52">llvm::SelectionDAG::getMemcpy</a></div><div class="ttdeci">SDValue getMemcpy(SDValue Chain, SDLoc dl, SDValue Dst, SDValue Src, SDValue Size, unsigned Align, bool isVol, bool AlwaysInline, MachinePointerInfo DstPtrInfo, MachinePointerInfo SrcPtrInfo)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l03991">SelectionDAG.cpp:3991</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a08f1316c1b491ceb3c25e28f70ea4b01"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a08f1316c1b491ceb3c25e28f70ea4b01">llvm::PPCSubtarget::hasLFIWAX</a></div><div class="ttdeci">bool hasLFIWAX() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00186">PPCSubtarget.h:186</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a24db357868a02447db2862c8b5cef52f"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a24db357868a02447db2862c8b5cef52f">llvm::ISD::ArgFlagsTy::getByValAlign</a></div><div class="ttdeci">unsigned getByValAlign() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00077">TargetCallingConv.h:77</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a0deb50cd2f3f8e4a94eef4cdf769b848">llvm::ISD::SETUEQ</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00730">ISDOpcodes.h:730</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a6b977e11e50382ce694e876961c4d272"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a6b977e11e50382ce694e876961c4d272">llvm::TargetLoweringBase::setLoadExtAction</a></div><div class="ttdeci">void setLoadExtAction(unsigned ExtType, MVT VT, LegalizeAction Action)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00988">TargetLowering.h:988</a></div></div>
<div class="ttc" id="classllvm_1_1ShuffleVectorSDNode_html_a6fe922cdd5bea1aee12d8719bac484d3"><div class="ttname"><a href="classllvm_1_1ShuffleVectorSDNode.html#a6fe922cdd5bea1aee12d8719bac484d3">llvm::ShuffleVectorSDNode::getMask</a></div><div class="ttdeci">ArrayRef&lt; int &gt; getMask() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01220">SelectionDAGNodes.h:1220</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a03990abcceb35d31126b0080dbb8d7bd"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a03990abcceb35d31126b0080dbb8d7bd">llvm::Intrinsic::ppc_altivec_vcmpequh</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02259">Intrinsics.h:2259</a></div></div>
<div class="ttc" id="Lint_8cpp_html_a6cd8c36c54045fd5897b54d4c30e0044"><div class="ttname"><a href="Lint_8cpp.html#a6cd8c36c54045fd5897b54d4c30e0044">isZero</a></div><div class="ttdeci">static bool isZero(Value *V, DataLayout *DL)</div><div class="ttdef"><b>Definition:</b> <a href="Lint_8cpp_source.html#l00507">Lint.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_ae84bb2408dfffa4e8b5fe2ce0714a3bd"><div class="ttname"><a href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">llvm::DataLayout::getIntPtrType</a></div><div class="ttdeci">IntegerType * getIntPtrType(LLVMContext &amp;C, unsigned AddressSpace=0) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00610">DataLayout.cpp:610</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a4a5973fcd1193bfff9158d5a83aebd1b"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a4a5973fcd1193bfff9158d5a83aebd1b">llvm::SelectionDAG::getTargetConstantPool</a></div><div class="ttdeci">SDValue getTargetConstantPool(const Constant *C, EVT VT, unsigned Align=0, int Offset=0, unsigned char TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00451">SelectionDAG.h:451</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a780c45d85d7380e1e8a85c1e1d192e85"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a780c45d85d7380e1e8a85c1e1d192e85">llvm::SelectionDAG::getTargetJumpTable</a></div><div class="ttdeci">SDValue getTargetJumpTable(int JTI, EVT VT, unsigned char TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00445">SelectionDAG.h:445</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a2474ba98067cac511db469757356afc0"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a2474ba98067cac511db469757356afc0">llvm::PPCTargetLowering::getTargetNodeName</a></div><div class="ttdeci">virtual const char * getTargetNodeName(unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00624">PPCISelLowering.cpp:624</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ac13d0f6f2c915757013b101ef6e8afbc"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">llvm::TargetMachine::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">Target/TargetMachine.h:119</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">llvm::ISD::TokenFactor</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00050">ISDOpcodes.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a2c04006f5187665a2b06483b76c1917a"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a2c04006f5187665a2b06483b76c1917a">llvm::PPCFunctionInfo::getVarArgsStackOffset</a></div><div class="ttdeci">int getVarArgsStackOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00158">PPCMachineFunctionInfo.h:158</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78139be59781ad05e1698eb95c58e0b1">llvm::ISD::SRA_PARTS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00345">ISDOpcodes.h:345</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a9ee6e585cddd343ffca371e763dc8965"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a9ee6e585cddd343ffca371e763dc8965">llvm::PPCRegisterInfo::getNoPreservedMask</a></div><div class="ttdeci">const uint32_t * getNoPreservedMask() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00137">PPCRegisterInfo.cpp:137</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_abb381519d34dcb9ccf673bf7689d0721"><div class="ttname"><a href="classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">llvm::DataLayout::getABITypeAlignment</a></div><div class="ttdeci">unsigned getABITypeAlignment(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00582">DataLayout.cpp:582</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a1b1a9079068d388738ecda3d19ed7b81"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1b1a9079068d388738ecda3d19ed7b81">llvm::Intrinsic::ppc_altivec_vcmpgtsh</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02269">Intrinsics.h:2269</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">llvm::ISD::SRA</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00306">ISDOpcodes.h:306</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_ac08dd0e631069166e1c864b2bfbc05fe"><div class="ttname"><a href="namespacellvm_1_1PPC.html#ac08dd0e631069166e1c864b2bfbc05fe">llvm::PPC::isVPKUWUMShuffleMask</a></div><div class="ttdeci">bool isVPKUWUMShuffleMask(ShuffleVectorSDNode *N, bool isUnary)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00736">PPCISelLowering.cpp:736</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00029">GlobalValue.h:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">llvm::PPCISD::SC</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00247">PPCISelLowering.h:247</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html"><div class="ttname"><a href="classllvm_1_1CCState.html">llvm::CCState</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00154">CallingConvLower.h:154</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a8d89c7da4444d9ec11667aa369abc5f7">llvm::ISD::ZEXTLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00701">ISDOpcodes.h:701</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a5af2fed99951774b6a14d30ec6e73792"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">llvm::TargetMachine::getSubtarget</a></div><div class="ttdeci">const STC &amp; getSubtarget() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00132">Target/TargetMachine.h:132</a></div></div>
<div class="ttc" id="MathExtras_8h_html_ace331bebb5bd2780b8dfb7e6e97db7dd"><div class="ttname"><a href="MathExtras_8h.html#ace331bebb5bd2780b8dfb7e6e97db7dd">R6</a></div><div class="ttdeci">#define R6(n)</div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_ad575e4867727668f7d50952bc9e1a1cd"><div class="ttname"><a href="classllvm_1_1SDValue.html#ad575e4867727668f7d50952bc9e1a1cd">llvm::SDValue::setNode</a></div><div class="ttdeci">void setNode(SDNode *N)</div><div class="ttdoc">set the SDNode </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00108">SelectionDAGNodes.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFrameLowering_html_a97db50b03c1daa960e8d2e0fcb9e9f8b"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html#a97db50b03c1daa960e8d2e0fcb9e9f8b">llvm::PPCFrameLowering::getFramePointerSaveOffset</a></div><div class="ttdeci">static unsigned getFramePointerSaveOffset(bool isPPC64, bool isDarwinABI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8h_source.html#l00084">PPCFrameLowering.h:84</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a8c176b391d738c5667eafd17e784f556"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8c176b391d738c5667eafd17e784f556">llvm::SelectionDAG::isBaseWithConstantOffset</a></div><div class="ttdeci">bool isBaseWithConstantOffset(SDValue Op) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02425">SelectionDAG.cpp:2425</a></div></div>
<div class="ttc" id="TargetOptions_8h_html"><div class="ttname"><a href="TargetOptions_8h.html">TargetOptions.h</a></div></div>
<div class="ttc" id="classllvm_1_1ExternalSymbolSDNode_html"><div class="ttname"><a href="classllvm_1_1ExternalSymbolSDNode.html">llvm::ExternalSymbolSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01599">SelectionDAGNodes.h:1599</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">llvm::ISD::EXTRACT_VECTOR_ELT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00251">ISDOpcodes.h:251</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a900b4d73a7171f9329453e0aba673f73"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a900b4d73a7171f9329453e0aba673f73">llvm::TargetLoweringBase::setExceptionPointerRegister</a></div><div class="ttdeci">void setExceptionPointerRegister(unsigned R)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00913">TargetLowering.h:913</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_ad8e64770a04af6b3da2099477e7c28de"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#ad8e64770a04af6b3da2099477e7c28de">llvm::MemSDNode::isInvariant</a></div><div class="ttdeci">bool isInvariant() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01010">SelectionDAGNodes.h:1010</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="namespacellvm_html_a97e7c61d62ac4a08e5bf6a5e132d5369"><div class="ttname"><a href="namespacellvm.html#a97e7c61d62ac4a08e5bf6a5e132d5369">llvm::CC_PPC32_SVR4_Custom_Dummy</a></div><div class="ttdeci">bool CC_PPC32_SVR4_Custom_Dummy(unsigned &amp;ValNo, MVT &amp;ValVT, MVT &amp;LocVT, CCValAssign::LocInfo &amp;LocInfo, ISD::ArgFlagsTy &amp;ArgFlags, CCState &amp;State)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01849">PPCISelLowering.cpp:1849</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ae8c041f67463ea67d6c43867729b82cb"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ae8c041f67463ea67d6c43867729b82cb">llvm::SelectionDAG::UpdateNodeOperands</a></div><div class="ttdeci">SDNode * UpdateNodeOperands(SDNode *N, SDValue Op)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l05066">SelectionDAG.cpp:5066</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ae1846075ba0055d16c23e95fb9069efd"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ae1846075ba0055d16c23e95fb9069efd">llvm::PPCISD::EH_SJLJ_LONGJMP</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00128">PPCISelLowering.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a7f5cab5437026605269663cda7389abcaa36ab38b266c612487d9ff61df7475af"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcaa36ab38b266c612487d9ff61df7475af">llvm::TargetLowering::CW_Register</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02160">TargetLowering.h:2160</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html">llvm::SelectionDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00169">SelectionDAG.h:169</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4">llvm::ISD::FP_ROUND_INREG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00408">ISDOpcodes.h:408</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a7ee80bb807d0f88ecbfbc44607228ef6"><div class="ttname"><a href="classllvm_1_1SDNode.html#a7ee80bb807d0f88ecbfbc44607228ef6">llvm::SDNode::isPredecessorOf</a></div><div class="ttdeci">bool isPredecessorOf(const SDNode *N) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00523">SelectionDAGNodes.h:523</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html">llvm::PPCSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00060">PPCSubtarget.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_ae146d6827dae2ff77fc65b7fd319dbb8"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">llvm::MachineFrameInfo::getObjectAlignment</a></div><div class="ttdeci">unsigned getObjectAlignment(int ObjectIdx) const </div><div class="ttdoc">getObjectAlignment - Return the alignment of the specified stack object. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00361">MachineFrameInfo.h:361</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_aee1e7fbaa86db98a24b2971b90ec06bb"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#aee1e7fbaa86db98a24b2971b90ec06bb">llvm::PPCTargetLowering::SelectAddressRegRegOnly</a></div><div class="ttdeci">bool SelectAddressRegRegOnly(SDValue N, SDValue &amp;Base, SDValue &amp;Index, SelectionDAG &amp;DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01196">PPCISelLowering.cpp:1196</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ad6ff413bea6f8195d8e6f29f4fc519c4"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">llvm::SelectionDAG::getExtLoad</a></div><div class="ttdeci">SDValue getExtLoad(ISD::LoadExtType ExtType, SDLoc dl, EVT VT, SDValue Chain, SDValue Ptr, MachinePointerInfo PtrInfo, EVT MemVT, bool isVolatile, bool isNonTemporal, unsigned Alignment, const MDNode *TBAAInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04586">SelectionDAG.cpp:4586</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">llvm::MVT::f32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00054">ValueTypes.h:54</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab4e56b2b48b90a855003286833c45010"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab4e56b2b48b90a855003286833c45010">llvm::Intrinsic::ppc_altivec_vsraw</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02342">Intrinsics.h:2342</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html"><div class="ttname"><a href="classllvm_1_1CCValAssign.html">llvm::CCValAssign</a></div><div class="ttdoc">CCValAssign - Represent assignment of one arg/retval to a location. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00031">CallingConvLower.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffab99c6c8402edd4e84a137d89ad71169c"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffab99c6c8402edd4e84a137d89ad71169c">llvm::PPCII::MO_TLS</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00091">PPC.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a3742837ae6849c4196356fe9eb25e4e4"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a3742837ae6849c4196356fe9eb25e4e4">llvm::PPCTargetLowering::LowerAsmOperandForConstraint</a></div><div class="ttdeci">virtual void LowerAsmOperandForConstraint(SDValue Op, std::string &amp;Constraint, std::vector&lt; SDValue &gt; &amp;Ops, SelectionDAG &amp;DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07686">PPCISelLowering.cpp:7686</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates. </div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00027">PPCPredicates.h:27</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae8167e4f6fa1bfb30f074ba620b81782"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae8167e4f6fa1bfb30f074ba620b81782">llvm::ISD::BRCOND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00490">ISDOpcodes.h:490</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_aacd7e508c9e6dd17afc738da27b87bc2"><div class="ttname"><a href="PPCISelLowering_8cpp.html#aacd7e508c9e6dd17afc738da27b87bc2">CalculateStackSlotSize</a></div><div class="ttdeci">static unsigned CalculateStackSlotSize(EVT ArgVT, ISD::ArgFlagsTy Flags, unsigned PtrByteSize)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01923">PPCISelLowering.cpp:1923</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a7f5cab5437026605269663cda7389abca2a03cc05a305d0cd861ff2d070da40ca"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abca2a03cc05a305d0cd861ff2d070da40ca">llvm::TargetLowering::CW_Invalid</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02152">TargetLowering.h:2152</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a9a66b00ea9db7d80bf1bcbbcaa108239"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a9a66b00ea9db7d80bf1bcbbcaa108239">llvm::SelectionDAG::getIntPtrConstant</a></div><div class="ttdeci">SDValue getIntPtrConstant(uint64_t Val, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01065">SelectionDAG.cpp:1065</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_ae3cb6fbf8c8cb79e10ac61bd98c85211"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">llvm::MemSDNode::getChain</a></div><div class="ttdeci">const SDValue &amp; getChain() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01053">SelectionDAGNodes.h:1053</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_aa25300b78bcf37a1c6fcce44912d0ff9"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#aa25300b78bcf37a1c6fcce44912d0ff9">llvm::PPCTargetLowering::getSetCCResultType</a></div><div class="ttdeci">virtual EVT getSetCCResultType(LLVMContext &amp;Context, EVT VT) const </div><div class="ttdoc">getSetCCResultType - Return the ISD::SETCC ValueType </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00689">PPCISelLowering.cpp:689</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a56a6aa00c6f25ef2c1f51277099a78a4">llvm::PPCISD::SHL</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00101">PPCISelLowering.h:101</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a6b021b1199c0258a2faf1cfffe3bf892"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a6b021b1199c0258a2faf1cfffe3bf892">llvm::PPCTargetLowering::getOptimalMemOpType</a></div><div class="ttdeci">virtual EVT getOptimalMemOpType(uint64_t Size, unsigned DstAlign, unsigned SrcAlign, bool IsMemset, bool ZeroMemset, bool MemcpyStrSrc, MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07871">PPCISelLowering.cpp:7871</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">llvm::ISD::BSWAP</a></div><div class="ttdoc">Byte Swap and Counting operators. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a89e2b5e3fb867b4040f893c6ae3d2132"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a89e2b5e3fb867b4040f893c6ae3d2132">llvm::MemSDNode::getMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMemOperand() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01034">SelectionDAGNodes.h:1034</a></div></div>
<div class="ttc" id="classllvm_1_1SDLoc_html"><div class="ttname"><a href="classllvm_1_1SDLoc.html">llvm::SDLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00799">SelectionDAGNodes.h:799</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_aca2e60fc82a1bde79b2afe10ef5c520d"><div class="ttname"><a href="PPCISelLowering_8cpp.html#aca2e60fc82a1bde79b2afe10ef5c520d">isBLACompatibleAddress</a></div><div class="ttdeci">static SDNode * isBLACompatibleAddress(SDValue Op, SelectionDAG &amp;DAG)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l02987">PPCISelLowering.cpp:2987</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a420dad7978ef954f8d674eba24eb840e"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a420dad7978ef954f8d674eba24eb840e">llvm::TargetLowering::isGAPlusOffset</a></div><div class="ttdeci">virtual bool isGAPlusOffset(SDNode *N, const GlobalValue *&amp;GA, int64_t &amp;Offset) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l01900">TargetLowering.cpp:1900</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a4ad4295a88187ea1ae12ecfcfa18a70f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo * getFrameInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00174">MachineFunction.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1baba91ac521e4f01f57413216273fd7b7f">llvm::TargetLoweringBase::Promote</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00082">TargetLowering.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">llvm::MVT::i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00044">ValueTypes.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00306">SelectionDAGNodes.h:306</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a3c31aec5751525d6fd2c9a3c7916b637"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a3c31aec5751525d6fd2c9a3c7916b637">CalculateParameterAndLinkageAreaSize</a></div><div class="ttdeci">static unsigned CalculateParameterAndLinkageAreaSize(SelectionDAG &amp;DAG, bool isPPC64, bool isVarArg, unsigned CC, const SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;Outs, const SmallVectorImpl&lt; SDValue &gt; &amp;OutVals, unsigned &amp;nAltivecParamsAtEnd)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l02864">PPCISelLowering.cpp:2864</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a4a73d0b02b92ec58d7f38d00ad50f289"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a4a73d0b02b92ec58d7f38d00ad50f289">llvm::PPCISD::LOAD_TOC</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00087">PPCISelLowering.h:87</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_aa16376b7fb2318ea5369305cc1defd2c"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#aa16376b7fb2318ea5369305cc1defd2c">llvm::PPCTargetLowering::emitEHSjLjSetJmp</a></div><div class="ttdeci">MachineBasicBlock * emitEHSjLjSetJmp(MachineInstr *MI, MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l06089">PPCISelLowering.cpp:6089</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">llvm::CCValAssign::ZExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00036">CallingConvLower.h:36</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">llvm::A64DB::LD</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00177">AArch64BaseInfo.h:177</a></div></div>
<div class="ttc" id="X86ISelDAGToDAG_8cpp_html_afc4e10b4f2ab2d548ab80b30f3b712e9ac62338ffb5de22369c75caa565b5da1a"><div class="ttname"><a href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9ac62338ffb5de22369c75caa565b5da1a">XOR</a></div><div class="ttdef"><b>Definition:</b> <a href="X86ISelDAGToDAG_8cpp_source.html#l01589">X86ISelDAGToDAG.cpp:1589</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a31d22846923e4cf12e8c73ee80bf6cc8"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a31d22846923e4cf12e8c73ee80bf6cc8">llvm::Intrinsic::ppc_altivec_vcmpequb</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02257">Intrinsics.h:2257</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a7f7d41861f9e62b2b70c5587dc250422"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a7f7d41861f9e62b2b70c5587dc250422">llvm::PPCTargetLowering::PerformDAGCombine</a></div><div class="ttdeci">virtual SDValue PerformDAGCombine(SDNode *N, DAGCombinerInfo &amp;DCI) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l06983">PPCISelLowering.cpp:6983</a></div></div>
<div class="ttc" id="namespacellvm_html_a646986783f35e0fef8988f0f28d2589f"><div class="ttname"><a href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a></div><div class="ttdeci">unsigned Log2_32(uint32_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00443">MathExtras.h:443</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringObjectFile_html"><div class="ttname"><a href="classllvm_1_1TargetLoweringObjectFile.html">llvm::TargetLoweringObjectFile</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringObjectFile_8h_source.html#l00035">TargetLoweringObjectFile.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447a523c09ebf4484c38d3bb066447d26b8e"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a523c09ebf4484c38d3bb066447d26b8e">llvm::RTLIB::SQRT_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00125">RuntimeLibcalls.h:125</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00358">DerivedTypes.h:358</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0c70100db6ddc0b37b56feb242145cf4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0c70100db6ddc0b37b56feb242145cf4">llvm::ISD::JumpTable</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00063">ISDOpcodes.h:63</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_abe67953ec410f1bbfe499c7a50b2dc8b"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">llvm::PPCSubtarget::isPPC64</a></div><div class="ttdeci">bool isPPC64() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00154">PPCSubtarget.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_afc21cf92ad41b655d26be24173440b0d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#afc21cf92ad41b655d26be24173440b0d">llvm::TargetLoweringBase::setIndexedLoadAction</a></div><div class="ttdeci">void setIndexedLoadAction(unsigned IdxMode, MVT VT, LegalizeAction Action)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01009">TargetLowering.h:1009</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_af9feec7e8533ed4f31520496c458c1d0"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af9feec7e8533ed4f31520496c458c1d0">llvm::SelectionDAG::getMemIntrinsicNode</a></div><div class="ttdeci">SDValue getMemIntrinsicNode(unsigned Opcode, SDLoc dl, const EVT *VTs, unsigned NumVTs, const SDValue *Ops, unsigned NumOps, EVT MemVT, MachinePointerInfo PtrInfo, unsigned Align=0, bool Vol=false, bool ReadMem=true, bool WriteMem=true)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04377">SelectionDAG.cpp:4377</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a6526d0d368789849e3a217ea986e22d9"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a6526d0d368789849e3a217ea986e22d9">llvm::Intrinsic::ppc_altivec_vcmpequb_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02258">Intrinsics.h:2258</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffac1c555a378ab914a0dcae6234359aa73"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffac1c555a378ab914a0dcae6234359aa73">llvm::PPCII::MO_TPREL_LO</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00081">PPC.h:81</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">llvm::ISD::SREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a753a20275871056d766d24354dfbc058"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a753a20275871056d766d24354dfbc058">llvm::TargetLoweringBase::computeRegisterProperties</a></div><div class="ttdeci">void computeRegisterProperties()</div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l00927">TargetLoweringBase.cpp:927</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ac0753db07d6a64f1ee53f3d31dbac379"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ac0753db07d6a64f1ee53f3d31dbac379">llvm::PPCISD::GET_TLSLD_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00225">PPCISelLowering.h:225</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a7f928acc831c560457efb338d07df503"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a7f928acc831c560457efb338d07df503">llvm::TargetLoweringBase::setExceptionSelectorRegister</a></div><div class="ttdeci">void setExceptionSelectorRegister(unsigned R)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00919">TargetLowering.h:919</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a75b241235813d3dfe627371cdaa8d4cb"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a75b241235813d3dfe627371cdaa8d4cb">llvm::PPCTargetLowering::getConstraintType</a></div><div class="ttdeci">ConstraintType getConstraintType(const std::string &amp;Constraint) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07569">PPCISelLowering.cpp:7569</a></div></div>
<div class="ttc" id="classllvm_1_1BuildVectorSDNode_html"><div class="ttname"><a href="classllvm_1_1BuildVectorSDNode.html">llvm::BuildVectorSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01474">SelectionDAGNodes.h:1474</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">llvm::ISD::SELECT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00316">ISDOpcodes.h:316</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a6742d41c6eee508ab6e885183f382ba7"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a6742d41c6eee508ab6e885183f382ba7">llvm::TargetLoweringBase::setMinFunctionAlignment</a></div><div class="ttdeci">void setMinFunctionAlignment(unsigned Align)</div><div class="ttdoc">Set the target&amp;#39;s minimum function alignment (in log2(bytes)) </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01075">TargetLowering.h:1075</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a20f382e841761654032bf8b4712e805f"><div class="ttname"><a href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">llvm::SDNode::op_begin</a></div><div class="ttdeci">op_iterator op_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00560">SelectionDAGNodes.h:560</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a71b07ff24aaa94d58e0e7c35551728d5"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a71b07ff24aaa94d58e0e7c35551728d5">llvm::TargetLoweringBase::getRegClassFor</a></div><div class="ttdeci">virtual const TargetRegisterClass * getRegClassFor(MVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00258">TargetLowering.h:258</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_aef02f2c1bd12936a80611b134b24a47d"><div class="ttname"><a href="classllvm_1_1SDNode.html#aef02f2c1bd12936a80611b134b24a47d">llvm::SDNode::use_end</a></div><div class="ttdeci">static use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00500">SelectionDAGNodes.h:500</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a5ca7a24d8b2e27299b008c03adda33c2"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a5ca7a24d8b2e27299b008c03adda33c2">llvm::Intrinsic::ppc_altivec_vmulouh</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02314">Intrinsics.h:2314</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447a33b67cea917a9560371f62c847c81d36"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447a33b67cea917a9560371f62c847c81d36">llvm::RTLIB::REM_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00110">RuntimeLibcalls.h:110</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">llvm::ISD::ZERO_EXTEND</a></div><div class="ttdoc">ZERO_EXTEND - Used for integer types, zeroing the new bits. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00357">ISDOpcodes.h:357</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a5b5b7a20dd6b367935d4f44744ab6e08"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a5b5b7a20dd6b367935d4f44744ab6e08">llvm::CCValAssign::isMemLoc</a></div><div class="ttdeci">bool isMemLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00118">CallingConvLower.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_af5d5ed0a2c2186ec77b8dd9c38474d3e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">llvm::SelectionDAG::getNode</a></div><div class="ttdeci">SDValue getNode(unsigned Opcode, SDLoc DL, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02485">SelectionDAG.cpp:2485</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">llvm::ISD::ANY_EXTEND</a></div><div class="ttdoc">ANY_EXTEND - Used for integer types. The high bits are undefined. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00360">ISDOpcodes.h:360</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f">llvm::PPCISD::MFOCRF</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00122">PPCISelLowering.h:122</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a89a21084d4470f93ac146c8e477b288d"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a89a21084d4470f93ac146c8e477b288d">llvm::Intrinsic::ppc_altivec_vcmpbfp_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02254">Intrinsics.h:2254</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a82ce354ab2e296919fb5052cb69191ff"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a82ce354ab2e296919fb5052cb69191ff">llvm::PPCTargetLowering::SelectAddressRegReg</a></div><div class="ttdeci">bool SelectAddressRegReg(SDValue N, SDValue &amp;Base, SDValue &amp;Index, SelectionDAG &amp;DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01019">PPCISelLowering.cpp:1019</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a1b0abca17bd696928f9399acfd3d1522">llvm::PPCISD::SRL</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00101">PPCISelLowering.h:101</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_aec35acbef0963620ec348c5bb8f60d08"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#aec35acbef0963620ec348c5bb8f60d08">llvm::PPCSubtarget::hasSTFIWX</a></div><div class="ttdeci">bool hasSTFIWX() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00185">PPCSubtarget.h:185</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">llvm::ISD::FCOPYSIGN</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00228">ISDOpcodes.h:228</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">llvm::ISD::SDIV</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a4dd98345aafbd799c1a2777fe287c5dc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4dd98345aafbd799c1a2777fe287c5dc">llvm::Intrinsic::ppc_altivec_vcmpgtub_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02274">Intrinsics.h:2274</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a6b0472389ca4b4ab52e69f94653442a7"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a6b0472389ca4b4ab52e69f94653442a7">PrepareCall</a></div><div class="ttdeci">static unsigned PrepareCall(SelectionDAG &amp;DAG, SDValue &amp;Callee, SDValue &amp;InFlag, SDValue &amp;Chain, SDLoc dl, int SPDiff, bool isTailCall, SmallVectorImpl&lt; std::pair&lt; unsigned, SDValue &gt; &gt; &amp;RegsToPass, SmallVectorImpl&lt; SDValue &gt; &amp;Ops, std::vector&lt; EVT &gt; &amp;NodeTys, const PPCSubtarget &amp;PPCSubTarget)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l03190">PPCISelLowering.cpp:3190</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLoweringBase_1_1AddrMode_html_a115ffe6d615735fbe8b1bf31877565ba"><div class="ttname"><a href="structllvm_1_1TargetLoweringBase_1_1AddrMode.html#a115ffe6d615735fbe8b1bf31877565ba">llvm::TargetLoweringBase::AddrMode::BaseOffs</a></div><div class="ttdeci">int64_t BaseOffs</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01129">TargetLowering.h:1129</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae98378a8672947382d343d75a5df3003"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae98378a8672947382d343d75a5df3003">llvm::ISD::BlockAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00063">ISDOpcodes.h:63</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a60320a9925b38321ae24d740357f2053"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a60320a9925b38321ae24d740357f2053">llvm::PPCTargetLowering::getSingleConstraintMatchWeight</a></div><div class="ttdeci">ConstraintWeight getSingleConstraintMatchWeight(AsmOperandInfo &amp;info, const char *constraint) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07596">PPCISelLowering.cpp:7596</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a1febf3bac2f3d7d98ec19f1ff5c385ea">llvm::ISD::SETOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00726">ISDOpcodes.h:726</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a716d19ebad1927a2e8dd5fe3f951f882"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a716d19ebad1927a2e8dd5fe3f951f882">llvm::ISD::BR_JT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00484">ISDOpcodes.h:484</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">llvm::MVT::f64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00055">ValueTypes.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a804c1960ac64628cdd1f74d7de885284"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a804c1960ac64628cdd1f74d7de885284">llvm::ISD::VACOPY</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00545">ISDOpcodes.h:545</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aa71de12afd261e0b3f2e040ce1c10315"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa71de12afd261e0b3f2e040ce1c10315">llvm::PPCISD::STFIWX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00263">PPCISelLowering.h:263</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a40416676e8af628d284ab2061a75ef19"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a40416676e8af628d284ab2061a75ef19">llvm::MachineFrameInfo::CreateStackObject</a></div><div class="ttdeci">int CreateStackObject(uint64_t Size, unsigned Alignment, bool isSS, bool MayNeedSP=false, const AllocaInst *Alloca=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00492">MachineFunction.cpp:492</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a419e8283a58d2b1b86591fa7f18ccfd9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a419e8283a58d2b1b86591fa7f18ccfd9">llvm::ISD::Register</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00060">ISDOpcodes.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a1487d4dfd14eebe24447f52b04bb8f6f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a1487d4dfd14eebe24447f52b04bb8f6f">llvm::SelectionDAG::getStackArgumentTokenFactor</a></div><div class="ttdeci">SDValue getStackArgumentTokenFactor(SDValue Chain)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l03467">SelectionDAG.cpp:3467</a></div></div>
<div class="ttc" id="classllvm_1_1SDUse_html"><div class="ttname"><a href="classllvm_1_1SDUse.html">llvm::SDUse</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00215">SelectionDAGNodes.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a296c3fa055022ec4c28b5745df7efdda"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a296c3fa055022ec4c28b5745df7efdda">llvm::SelectionDAG::getTargetBlockAddress</a></div><div class="ttdeci">SDValue getTargetBlockAddress(const BlockAddress *BA, EVT VT, int64_t Offset=0, unsigned char TargetFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00481">SelectionDAG.h:481</a></div></div>
<div class="ttc" id="ARMPerfectShuffle_8h_html_a461cf57a94707854fa27b598c2e7826b"><div class="ttname"><a href="ARMPerfectShuffle_8h.html#a461cf57a94707854fa27b598c2e7826b">PerfectShuffleTable</a></div><div class="ttdeci">static const unsigned PerfectShuffleTable[6561+1]</div><div class="ttdef"><b>Definition:</b> <a href="ARMPerfectShuffle_8h_source.html#l00023">ARMPerfectShuffle.h:23</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_adba9c4dde08bb0a9de1c99e7e039d8a0"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#adba9c4dde08bb0a9de1c99e7e039d8a0">llvm::TargetLowering::CallLoweringInfo::OutVals</a></div><div class="ttdeci">SmallVector&lt; SDValue, 32 &gt; OutVals</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01971">TargetLowering.h:1971</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">llvm::ISD::AND</a></div><div class="ttdoc">Bitwise operators - logical and, logical or, logical xor. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="namespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309e"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309e">llvm::Sched::Preference</a></div><div class="ttdeci">Preference</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00061">TargetLowering.h:61</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffae388379ce6a1637e40bc3e1320a414cd"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffae388379ce6a1637e40bc3e1320a414cd">llvm::PPCII::MO_DARWIN_STUB</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00059">PPC.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a7b68be12c974b6b70bc86062f221a344"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">llvm::SmallVectorTemplateCommon&lt; T &gt;::data</a></div><div class="ttdeci">pointer data()</div><div class="ttdoc">data - Return a pointer to the vector&amp;#39;s buffer, even if empty(). </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00135">SmallVector.h:135</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a631c3222757cd088edf4ba738fdf908c"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a631c3222757cd088edf4ba738fdf908c">CreateTLOF</a></div><div class="ttdeci">static TargetLoweringObjectFile * CreateTLOF(const PPCTargetMachine &amp;TM)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00049">PPCISelLowering.cpp:49</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_adf0023bdc4f05a7849c35b1c859580d8"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#adf0023bdc4f05a7849c35b1c859580d8">llvm::MachineBasicBlock::splice</a></div><div class="ttdeci">void splice(iterator Where, MachineBasicBlock *Other, iterator From)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00539">MachineBasicBlock.h:539</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00167">MachineFunction.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_af6ec97cdccccd552fe3234d495b95c70"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#af6ec97cdccccd552fe3234d495b95c70">llvm::TargetLowering::LowerAsmOperandForConstraint</a></div><div class="ttdeci">virtual void LowerAsmOperandForConstraint(SDValue Op, std::string &amp;Constraint, std::vector&lt; SDValue &gt; &amp;Ops, SelectionDAG &amp;DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l01996">TargetLowering.cpp:1996</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">llvm::ISD::SMUL_LOHI</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00181">ISDOpcodes.h:181</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a846ed4e0a8555e2eb870e039aed8e4b2"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a846ed4e0a8555e2eb870e039aed8e4b2">llvm::Intrinsic::ppc_altivec_vsrah</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02341">Intrinsics.h:2341</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a1b1a3d2e67ae3a7930cbaa4b58e726d8"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1b1a3d2e67ae3a7930cbaa4b58e726d8">llvm::Intrinsic::ppc_altivec_vcmpgtsw</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02271">Intrinsics.h:2271</a></div></div>
<div class="ttc" id="Intrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1ArgListEntry_html_a5d2b21233cb3005cfa01f9cfb260f094"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1ArgListEntry.html#a5d2b21233cb3005cfa01f9cfb260f094">llvm::TargetLowering::ArgListEntry::Ty</a></div><div class="ttdeci">Type * Ty</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01927">TargetLowering.h:1927</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">llvm::ISD::FPOW</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">llvm::ISD::SIGN_EXTEND_INREG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00375">ISDOpcodes.h:375</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ad690f1d0ad125514035c39d88452d3c8"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ad690f1d0ad125514035c39d88452d3c8">llvm::Intrinsic::ppc_altivec_vslh</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02336">Intrinsics.h:2336</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02dad11797b0ad89e5eb13f16d7a2ba9741e"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02dad11797b0ad89e5eb13f16d7a2ba9741e">llvm::X86II::OpSize</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00303">X86BaseInfo.h:303</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">llvm::ISD::LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00460">ISDOpcodes.h:460</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ab1fb67187fc37e569cc5171cbebba873"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ab1fb67187fc37e569cc5171cbebba873">llvm::TargetMachine::Options</a></div><div class="ttdeci">TargetOptions Options</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00105">Target/TargetMachine.h:105</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a8cca25ddb3be86ad23567dc8d36dacd3"><div class="ttname"><a href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">llvm::EVT::getSizeInBits</a></div><div class="ttdeci">unsigned getSizeInBits() const </div><div class="ttdoc">getSizeInBits - Return the size of the specified value type in bits. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00779">ValueTypes.h:779</a></div></div>
<div class="ttc" id="classllvm_1_1FrameIndexSDNode_html"><div class="ttname"><a href="classllvm_1_1FrameIndexSDNode.html">llvm::FrameIndexSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01337">SelectionDAGNodes.h:1337</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="namespacellvm_html_a79155cfcf20c6572900a4c43f127bf00"><div class="ttname"><a href="namespacellvm.html#a79155cfcf20c6572900a4c43f127bf00">llvm::SignExtend32</a></div><div class="ttdeci">int32_t SignExtend32(uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00585">MathExtras.h:585</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a73b07a938dd8182363ba52719d38bf53"><div class="ttname"><a href="classllvm_1_1CCState.html#a73b07a938dd8182363ba52719d38bf53">llvm::CCState::AnalyzeReturn</a></div><div class="ttdeci">void AnalyzeReturn(const SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;Outs, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00100">CallingConvLower.cpp:100</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionLoweringInfo_html"><div class="ttname"><a href="classllvm_1_1FunctionLoweringInfo.html">llvm::FunctionLoweringInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="FunctionLoweringInfo_8h_source.html#l00051">FunctionLoweringInfo.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a7800cede44a09d00fcc61b9087c20d85"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a7800cede44a09d00fcc61b9087c20d85">llvm::TargetLoweringBase::MaxStoresPerMemmoveOptSize</a></div><div class="ttdeci">unsigned MaxStoresPerMemmoveOptSize</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01678">TargetLowering.h:1678</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a1695feb44cd6dd30c64697360f1e76d3"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a1695feb44cd6dd30c64697360f1e76d3">llvm::TargetLoweringBase::MaxStoresPerMemcpyOptSize</a></div><div class="ttdeci">unsigned MaxStoresPerMemcpyOptSize</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01662">TargetLowering.h:1662</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa978d53d0e324539ecc141fb0d84954b"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa978d53d0e324539ecc141fb0d84954b">llvm::TargetLoweringBase::setStackPointerRegisterToSaveRestore</a></div><div class="ttdeci">void setStackPointerRegisterToSaveRestore(unsigned R)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00907">TargetLowering.h:907</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">llvm::TargetLoweringBase::ZeroOrOneBooleanContent</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00107">TargetLowering.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a76ccaa8c8885072ba11aee5133865e36"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">llvm::SelectionDAG::getTruncStore</a></div><div class="ttdeci">SDValue getTruncStore(SDValue Chain, SDLoc dl, SDValue Val, SDValue Ptr, MachinePointerInfo PtrInfo, EVT TVT, bool isNonTemporal, bool isVolatile, unsigned Alignment, const MDNode *TBAAInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04672">SelectionDAG.cpp:4672</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a0414ddd7827c97349dd4d7ffe34d0798"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a0414ddd7827c97349dd4d7ffe34d0798">llvm::ISD::ArgFlagsTy::isZExt</a></div><div class="ttdeci">bool isZExt() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00056">TargetCallingConv.h:56</a></div></div>
<div class="ttc" id="AArch64Disassembler_8cpp_html_a30bccd0ebacd9892c243f7bd520e4aa0"><div class="ttname"><a href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a></div><div class="ttdeci">static unsigned getReg(const void *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Disassembler_8cpp_source.html#l00299">AArch64Disassembler.cpp:299</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a992906781101abb22f6e4d16622bbe24"><div class="ttname"><a href="classllvm_1_1SDNode.html#a992906781101abb22f6e4d16622bbe24">llvm::SDNode::op_end</a></div><div class="ttdeci">op_iterator op_end() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00561">SelectionDAGNodes.h:561</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447acd1ac5bde6e8130cdf274cd80150a6fe"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447acd1ac5bde6e8130cdf274cd80150a6fe">llvm::RTLIB::COS_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00160">RuntimeLibcalls.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">llvm::PPCISD::FCTIDZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00048">PPCISelLowering.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a8b36797b46a42e7b489e47c2d009bc1d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a8b36797b46a42e7b489e47c2d009bc1d">llvm::TargetLoweringBase::setLibcallName</a></div><div class="ttdeci">void setLibcallName(RTLIB::Libcall Call, const char *Name)</div><div class="ttdoc">Rename the default libcall routine name for the specified libcall. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01281">TargetLowering.h:1281</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1TLSModel_html_a8911c5bfb68fc4ed3ac824f04f150120ae13ef3bbe423ce80086f0a684fd25753"><div class="ttname"><a href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120ae13ef3bbe423ce80086f0a684fd25753">llvm::TLSModel::LocalExec</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00039">CodeGen.h:39</a></div></div>
<div class="ttc" id="PPCPredicates_8h_html"><div class="ttname"><a href="PPCPredicates_8h.html">PPCPredicates.h</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_afe8c553ab3418eec718860c098c6e080"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#afe8c553ab3418eec718860c098c6e080">llvm::SelectionDAG::getMachineNode</a></div><div class="ttdeci">MachineSDNode * getMachineNode(unsigned Opcode, SDLoc dl, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l05411">SelectionDAG.cpp:5411</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a70b47eca6a99c87b81f4c1b1455dc090"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">llvm::TargetMachine::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00140">Target/TargetMachine.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a0b0176781cd4fd9f45cc739f1d007116a420d729d2e7d056ec884c094ccdc4467">llvm::TargetLowering::C_Memory</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02145">TargetLowering.h:2145</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a15623094a1ed0cd7163dc786e44c87c9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a15623094a1ed0cd7163dc786e44c87c9">llvm::ISD::isNON_EXTLoad</a></div><div class="ttdeci">bool isNON_EXTLoad(const SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01894">SelectionDAGNodes.h:1894</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca72ebe5e08d40fbab96c046e017576a32"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca72ebe5e08d40fbab96c046e017576a32">llvm::NVPTX::PTXLdStInstCode::V4</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00128">NVPTX.h:128</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6ba8fc92ee5081d3e533cb5322f74f29"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6ba8fc92ee5081d3e533cb5322f74f29">llvm::ISD::FSINCOS</a></div><div class="ttdoc">FSINCOS - Compute both fsin and fcos as a single operation. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00454">ISDOpcodes.h:454</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_afdb5953dce337bafb4df1acb1125512a"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#afdb5953dce337bafb4df1acb1125512a">llvm::TargetRegisterClass::hasType</a></div><div class="ttdeci">bool hasType(EVT vt) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00104">TargetRegisterInfo.h:104</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a2fc833fc1234ba27e00e934ba536b538"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2fc833fc1234ba27e00e934ba536b538">llvm::Intrinsic::ppc_altivec_vcmpequh_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02260">Intrinsics.h:2260</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aefbee33131c130f8f691c9a482f5fc40"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aefbee33131c130f8f691c9a482f5fc40">llvm::TargetLoweringBase::MaxStoresPerMemcpy</a></div><div class="ttdeci">unsigned MaxStoresPerMemcpy</div><div class="ttdoc">Specify maximum bytes of store instructions per memcpy call. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01658">TargetLowering.h:1658</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af23301e60475124fd80a2cb51f6ba863">llvm::ISD::AssertZext</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00057">ISDOpcodes.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00045">MachineInstrBuilder.h:45</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec">llvm::PPCISD::FCTIWZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00048">PPCISelLowering.h:48</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae5a57fe9fd413df909ab121ca1a813c7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae5a57fe9fd413df909ab121ca1a813c7">llvm::ISD::EH_SJLJ_SETJMP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00090">ISDOpcodes.h:90</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_a0aa657a6a85ab82917c254bc085416bd"><div class="ttname"><a href="PPCISelLowering_8cpp.html#a0aa657a6a85ab82917c254bc085416bd">isConstantOrUndef</a></div><div class="ttdeci">static bool isConstantOrUndef(int Op, int Val)</div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00714">PPCISelLowering.cpp:714</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_ae76ac9826f02f95aae34e845ac110244"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#ae76ac9826f02f95aae34e845ac110244">llvm::TargetLowering::CallLoweringInfo::DAG</a></div><div class="ttdeci">SelectionDAG &amp; DAG</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01967">TargetLowering.h:1967</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a7d2ad4aa4277eb4e1138ff9791c8fbb7"><div class="ttname"><a href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">llvm::SDValue::getValueType</a></div><div class="ttdeci">EVT getValueType() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00843">SelectionDAGNodes.h:843</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aa09dfd0e28e0ffea73ccfc88fb2fd95c"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa09dfd0e28e0ffea73ccfc88fb2fd95c">llvm::PPCISD::CALL</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00106">PPCISelLowering.h:106</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a098fa0d2b0ca58b9d504edb6a164ee54"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a098fa0d2b0ca58b9d504edb6a164ee54">llvm::PPCISD::DYNALLOC</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00092">PPCISelLowering.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringObjectFileELF_html"><div class="ttname"><a href="classllvm_1_1TargetLoweringObjectFileELF.html">llvm::TargetLoweringObjectFileELF</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringObjectFileImpl_8h_source.html#l00035">TargetLoweringObjectFileImpl.h:35</a></div></div>
<div class="ttc" id="SelectionDAG_8h_html"><div class="ttname"><a href="SelectionDAG_8h.html">SelectionDAG.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2739f8327120cab9e21846dee3a5366b"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2739f8327120cab9e21846dee3a5366b">llvm::PPCISD::VCMPo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00140">PPCISelLowering.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a21ff907aa3b0ada12ff6031429d4dec6"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a21ff907aa3b0ada12ff6031429d4dec6">llvm::TargetMachine::getTLSModel</a></div><div class="ttdeci">TLSModel::Model getTLSModel(const GlobalValue *GV) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetMachine_8cpp_source.html#l00123">TargetMachine.cpp:123</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a0a616f27a6f2de704ab3ed849b50b181"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a0a616f27a6f2de704ab3ed849b50b181">llvm::PPCISD::CR6UNSET</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00178">PPCISelLowering.h:178</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">llvm::ISD::FRINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1ArgListEntry_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1ArgListEntry.html">llvm::TargetLowering::ArgListEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01925">TargetLowering.h:1925</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_afc4147764cdb5599c67f747813ef9bdc"><div class="ttname"><a href="structllvm_1_1EVT.html#afc4147764cdb5599c67f747813ef9bdc">llvm::EVT::isFloatingPoint</a></div><div class="ttdeci">bool isFloatingPoint() const </div><div class="ttdoc">isFloatingPoint - Return true if this is a FP, or a vector FP type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00651">ValueTypes.h:651</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1DAGCombinerInfo_html"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1DAGCombinerInfo.html">llvm::TargetLowering::DAGCombinerInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01828">TargetLowering.h:1828</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">llvm::ISD::FFLOOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2c181ed9e9ec3fb57f7e8542df22f422"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2c181ed9e9ec3fb57f7e8542df22f422">llvm::PPCISD::GET_TLS_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00211">PPCISelLowering.h:211</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca">llvm::A64CC::LS</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00040">AArch64BaseInfo.h:40</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9ed8e1dc0db59ab2a071da53ee794759"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ed8e1dc0db59ab2a071da53ee794759">llvm::ISD::SRL_PARTS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00345">ISDOpcodes.h:345</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_af4c0db6d503e0ba3b8e44067023ffbba"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#af4c0db6d503e0ba3b8e44067023ffbba">llvm::MachineFunction::insert</a></div><div class="ttdeci">void insert(iterator MBBI, MachineBasicBlock *MBB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00334">MachineFunction.h:334</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_acb59cbd8f4a8c1cf820b2b540aebdac1"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#acb59cbd8f4a8c1cf820b2b540aebdac1">llvm::SelectionDAG::getFrameIndex</a></div><div class="ttdeci">SDValue getFrameIndex(int FI, EVT VT, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01169">SelectionDAG.cpp:1169</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a81b01652144140bfb79c6ffdaff923f9"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a81b01652144140bfb79c6ffdaff923f9">llvm::MachineFrameInfo::setReturnAddressIsTaken</a></div><div class="ttdeci">void setReturnAddressIsTaken(bool s)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00277">MachineFrameInfo.h:277</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a48341f6d21bbbdcfab4afe09e4f35e28"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a48341f6d21bbbdcfab4afe09e4f35e28">llvm::Intrinsic::ppc_altivec_vcmpgtsh_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02270">Intrinsics.h:2270</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_ac6f053514ba29bdf3b7f051f643dabe5"><div class="ttname"><a href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">llvm::EVT::isSimple</a></div><div class="ttdeci">bool isSimple() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00640">ValueTypes.h:640</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a31faa4803c937d756c28947a070c6c2e"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a31faa4803c937d756c28947a070c6c2e">llvm::TargetLowering::CallLoweringInfo::Callee</a></div><div class="ttdeci">SDValue Callee</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01965">TargetLowering.h:1965</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantPoolSDNode_html_a130b74d7047dd920dfaea193ac8b0a3d"><div class="ttname"><a href="classllvm_1_1ConstantPoolSDNode.html#a130b74d7047dd920dfaea193ac8b0a3d">llvm::ConstantPoolSDNode::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01421">SelectionDAGNodes.h:1421</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ad6b80d1c6463cfcc0470a3d914d2fced"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ad6b80d1c6463cfcc0470a3d914d2fced">llvm::Intrinsic::ppc_altivec_vrlh</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02330">Intrinsics.h:2330</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_abb99ee84c5bf07a45b913793848a3d50"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#abb99ee84c5bf07a45b913793848a3d50">llvm::TargetLoweringBase::setMinStackArgumentAlignment</a></div><div class="ttdeci">void setMinStackArgumentAlignment(unsigned Align)</div><div class="ttdoc">Set the minimum stack alignment of an argument (in log2(bytes)). </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01094">TargetLowering.h:1094</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_af2a24aed2ba5d4f9c8db9904df6fa635"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#af2a24aed2ba5d4f9c8db9904df6fa635">llvm::TargetLoweringBase::setSchedulingPreference</a></div><div class="ttdeci">void setSchedulingPreference(Sched::Preference Pref)</div><div class="ttdoc">Specify the target scheduling preference. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00878">TargetLowering.h:878</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">llvm::MVT::i16</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00045">ValueTypes.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a27a0a04d07a0d178bdbc7fa1b4c5b373"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a27a0a04d07a0d178bdbc7fa1b4c5b373">llvm::PPCTargetLowering::SelectAddressRegImm</a></div><div class="ttdeci">bool SelectAddressRegImm(SDValue N, SDValue &amp;Disp, SDValue &amp;Base, SelectionDAG &amp;DAG, bool Aligned) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l01104">PPCISelLowering.cpp:1104</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">llvm::ISD::FMA</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a9268086dd9d1ba4e60cfe872dde5c173"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a9268086dd9d1ba4e60cfe872dde5c173">llvm::SelectionDAG::getRegister</a></div><div class="ttdeci">SDValue getRegister(unsigned Reg, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01461">SelectionDAG.cpp:1461</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">llvm::ISD::XOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a3e43a72fb7a3e254f4cb150c3fd68dba"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a3e43a72fb7a3e254f4cb150c3fd68dba">llvm::TargetLoweringBase::setUseUnderscoreSetJmp</a></div><div class="ttdeci">void setUseUnderscoreSetJmp(bool Val)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00884">TargetLowering.h:884</a></div></div>
<div class="ttc" id="structllvm_1_1TargetLowering_1_1CallLoweringInfo_html_a3eb6e80dc80f35553ccc33a89d691df8"><div class="ttname"><a href="structllvm_1_1TargetLowering_1_1CallLoweringInfo.html#a3eb6e80dc80f35553ccc33a89d691df8">llvm::TargetLowering::CallLoweringInfo::IsVarArg</a></div><div class="ttdeci">bool IsVarArg</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01954">TargetLowering.h:1954</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_a197423f62c8dad7446288e62b6c44dbf"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#a197423f62c8dad7446288e62b6c44dbf">llvm::PPCTargetLowering::isLegalAddressingMode</a></div><div class="ttdeci">virtual bool isLegalAddressingMode(const AddrMode &amp;AM, Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l07756">PPCISelLowering.cpp:7756</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aa1ec82398ade62414be35d8431c0a33b"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">llvm::MachineInstrBuilder::addMBB</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMBB(MachineBasicBlock *MBB, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00098">MachineInstrBuilder.h:98</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a390f7ff6ebc81e2540d946d8d1061f29"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a390f7ff6ebc81e2540d946d8d1061f29">llvm::PPCISD::ADDIS_GOT_TPREL_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00183">PPCISelLowering.h:183</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a085e7ff99e231b703ab24b58bb3cb5a9"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a085e7ff99e231b703ab24b58bb3cb5a9">llvm::TargetLoweringBase::setInsertFencesForAtomic</a></div><div class="ttdeci">void setInsertFencesForAtomic(bool fence)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01100">TargetLowering.h:1100</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ab8ba6b05ad4fa7517f2e23b26f84ae1b"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">llvm::SelectionDAG::getValueType</a></div><div class="ttdeci">SDValue getValueType(EVT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01291">SelectionDAG.cpp:1291</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974abc8e2ee40a84687a9e12fd08784b87ba">llvm::CallingConv::Fast</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00039">CallingConv.h:39</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">llvm::ISD::FLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110adfe32beaa596a1512b17e66b46e773ed"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adfe32beaa596a1512b17e66b46e773ed">llvm::ISD::VASTART</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00549">ISDOpcodes.h:549</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a691a4c9004e9bd04d1c0bebc5df57443"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a691a4c9004e9bd04d1c0bebc5df57443">llvm::ISD::PREFETCH</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00595">ISDOpcodes.h:595</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aef6032224b5bc6fac721c6095de2ab6c"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aef6032224b5bc6fac721c6095de2ab6c">llvm::Intrinsic::ppc_altivec_vmuloub</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02313">Intrinsics.h:2313</a></div></div>
<div class="ttc" id="PPCISelLowering_8cpp_html_ae8df7699f069ce76cf9c5d988b4319d3"><div class="ttname"><a href="PPCISelLowering_8cpp.html#ae8df7699f069ce76cf9c5d988b4319d3">DisableILPPref</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableILPPref(&quot;disable-ppc-ilp-pref&quot;, cl::desc(&quot;disable setting the node scheduling preference to ILP on PPC&quot;), cl::Hidden)</div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_acc246ab25df99943c39246a7485f6f83"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#acc246ab25df99943c39246a7485f6f83">llvm::PPCSubtarget::getDarwinDirective</a></div><div class="ttdeci">unsigned getDarwinDirective() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00123">PPCSubtarget.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a340712de3e78fec11c338735cab17df7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">llvm::MachineFunction::iterator</a></div><div class="ttdeci">BasicBlockListType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00303">MachineFunction.h:303</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a7e06dc9bf94c1b690b4379bec9d64962"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7e06dc9bf94c1b690b4379bec9d64962">llvm::PPCISD::FCFIDS</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00043">PPCISelLowering.h:43</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07a292be4a9782030bfad637581d25a5897">llvm::ISD::SETUGT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00731">ISDOpcodes.h:731</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a848b46af8fabd1ab34b28adbc3665609"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">llvm::SelectionDAG::getTargetLoweringInfo</a></div><div class="ttdeci">const TargetLowering &amp; getTargetLoweringInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00282">SelectionDAG.h:282</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ac630ccda26fea2f45afa3fb89bc1a8f4"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ac630ccda26fea2f45afa3fb89bc1a8f4">llvm::SelectionDAG::ReplaceAllUsesOfValueWith</a></div><div class="ttdeci">void ReplaceAllUsesOfValueWith(SDValue From, SDValue To)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l05788">SelectionDAG.cpp:5788</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca497ebfc1d05b772bf14cd530c950cf80">llvm::MVT::ppcf128</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00058">ValueTypes.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00061">Target/TargetMachine.h:61</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">llvm::ISD::FLOG2</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="namespacellvm_html_af4d1a918800291e75b01ce1447be0e83"><div class="ttname"><a href="namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">llvm::isPowerOf2_32</a></div><div class="ttdeci">bool isPowerOf2_32(uint32_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00354">MathExtras.h:354</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110afc9ad7857b7faf49dcde3dcf434e22a6"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110afc9ad7857b7faf49dcde3dcf434e22a6">llvm::ISD::TargetGlobalTLSAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00110">ISDOpcodes.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_aa87b843c7c3755ced0d9dd687735ce7e"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#aa87b843c7c3755ced0d9dd687735ce7e">llvm::PPCSubtarget::hasFRSQRTE</a></div><div class="ttdeci">bool hasFRSQRTE() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00182">PPCSubtarget.h:182</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a302bc8325092bbb02d6fb40f24086cfe"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a302bc8325092bbb02d6fb40f24086cfe">llvm::Intrinsic::ppc_altivec_vcmpgefp_p</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02264">Intrinsics.h:2264</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a6142fc5662411269a7ca0217f49f338c"><div class="ttname"><a href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">llvm::APInt::zext</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT zext(unsigned width) const </div><div class="ttdoc">Zero extend to a new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00983">APInt.cpp:983</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">llvm::ISD::SETCC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00339">ISDOpcodes.h:339</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_afbcff1a0f1925de427ae0e585068eda8"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#afbcff1a0f1925de427ae0e585068eda8">llvm::PPCSubtarget::hasFRES</a></div><div class="ttdeci">bool hasFRES() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00181">PPCSubtarget.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a5a041e40641fea3eb15756197eeaa226"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5a041e40641fea3eb15756197eeaa226">llvm::SelectionDAG::getMergeValues</a></div><div class="ttdeci">SDValue getMergeValues(const SDValue *Ops, unsigned NumOps, SDLoc dl)</div><div class="ttdoc">getMergeValues - Create a MERGE_VALUES node from the given operands. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04363">SelectionDAG.cpp:4363</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a9830bda9bf50bfdab4c10954cc6fb1ac"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a9830bda9bf50bfdab4c10954cc6fb1ac">llvm::TargetLoweringBase::MaxStoresPerMemset</a></div><div class="ttdeci">unsigned MaxStoresPerMemset</div><div class="ttdoc">Specify maximum number of store instructions per memset call. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01641">TargetLowering.h:1641</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a67f472063b7db365d0b5da597871e03d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a67f472063b7db365d0b5da597871e03d">llvm::TargetLoweringBase::MaxStoresPerMemsetOptSize</a></div><div class="ttdeci">unsigned MaxStoresPerMemsetOptSize</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01645">TargetLowering.h:1645</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07ab49f81c2ecbbff3d0fbe55dd46353774">llvm::ISD::SETLE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00743">ISDOpcodes.h:743</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_ae75bb52a96ce18e0c29dd0885954430b"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#ae75bb52a96ce18e0c29dd0885954430b">llvm::PPCSubtarget::hasFCPSGN</a></div><div class="ttdeci">bool hasFCPSGN() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00178">PPCSubtarget.h:178</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aea46f7cc94ac666cf413d686484ce45d"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aea46f7cc94ac666cf413d686484ce45d">llvm::PPCISD::FCFIDU</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00043">PPCISelLowering.h:43</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a603c0651ff8c3a929c5e1d8b9a8f14cb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a603c0651ff8c3a929c5e1d8b9a8f14cb">llvm::ISD::TargetJumpTable</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00112">ISDOpcodes.h:112</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66ad1e4cb7a1fc0c9ea50baef6974f21431"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66ad1e4cb7a1fc0c9ea50baef6974f21431">llvm::PPCISD::ADDI_TLSLD_L</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00221">PPCISelLowering.h:221</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ace5bddfde14abf966790e8438e88d6d2"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ace5bddfde14abf966790e8438e88d6d2">llvm::SelectionDAG::getTargetConstant</a></div><div class="ttdeci">SDValue getTargetConstant(uint64_t Val, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00408">SelectionDAG.h:408</a></div></div>
<div class="ttc" id="PPCISelLowering_8h_html"><div class="ttname"><a href="PPCISelLowering_8h.html">PPCISelLowering.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a0257802813bb37239972e20d931d0798"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a0257802813bb37239972e20d931d0798">llvm::PPCSubtarget::hasFRE</a></div><div class="ttdeci">bool hasFRE() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00180">PPCSubtarget.h:180</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a2650d530046f9ddfc602dc7383ba0730"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a2650d530046f9ddfc602dc7383ba0730">llvm::SelectionDAG::getSetCC</a></div><div class="ttdeci">SDValue getSetCC(SDLoc DL, EVT VT, SDValue LHS, SDValue RHS, ISD::CondCode Cond)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00653">SelectionDAG.h:653</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a7b19fa41486ca39142442dd962c8d3b6"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a7b19fa41486ca39142442dd962c8d3b6">llvm::CCValAssign::getLocMemOffset</a></div><div class="ttdeci">unsigned getLocMemOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00123">CallingConvLower.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a7f5cab5437026605269663cda7389abca5b8290e7824d2be12d9886e17c7aedd6"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abca5b8290e7824d2be12d9886e17c7aedd6">llvm::TargetLowering::CW_Memory</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02161">TargetLowering.h:2161</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">llvm::ISD::SIGN_EXTEND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00354">ISDOpcodes.h:354</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a4fd41c1ed2bcbe32f131759c1e271490"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4fd41c1ed2bcbe32f131759c1e271490">llvm::Intrinsic::ppc_altivec_vsrw</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02346">Intrinsics.h:2346</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ad755b1a25cf0c4507d5f615f64471ae9"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">llvm::SelectionDAG::getEntryNode</a></div><div class="ttdeci">SDValue getEntryNode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00332">SelectionDAG.h:332</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1db943abc1bf78a911daeb7b03d81de8">llvm::ISD::ATOMIC_STORE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00608">ISDOpcodes.h:608</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aafd8a231fedaa84f51066a4dfb719407"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aafd8a231fedaa84f51066a4dfb719407">llvm::TargetLoweringBase::setPow2DivIsCheap</a></div><div class="ttdeci">void setPow2DivIsCheap(bool isCheap=true)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00947">TargetLowering.h:947</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a511de1ba76de77289749f82883fada4b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a511de1ba76de77289749f82883fada4b">llvm::MachineFrameInfo::CreateFixedObject</a></div><div class="ttdeci">int CreateFixedObject(uint64_t Size, int64_t SPOffset, bool Immutable)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00544">MachineFunction.cpp:544</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">llvm::ISD::TRUNCATE</a></div><div class="ttdoc">TRUNCATE - Completely drop the high bits. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00363">ISDOpcodes.h:363</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66addb9d78754c1f2e6d765a0da913f0800"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66addb9d78754c1f2e6d765a0da913f0800">llvm::PPCISD::BDZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00151">PPCISelLowering.h:151</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a4f68cd016138440f215ad80c1d6c1e04"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">llvm::MemSDNode::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00995">SelectionDAGNodes.h:995</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a5a67878322183059c969a26b2f232031"><div class="ttname"><a href="classllvm_1_1CCState.html#a5a67878322183059c969a26b2f232031">llvm::CCState::AllocateReg</a></div><div class="ttdeci">unsigned AllocateReg(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00291">CallingConvLower.h:291</a></div></div>
<div class="ttc" id="X86ISelDAGToDAG_8cpp_html_afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074"><div class="ttname"><a href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">OR</a></div><div class="ttdef"><b>Definition:</b> <a href="X86ISelDAGToDAG_8cpp_source.html#l01587">X86ISelDAGToDAG.cpp:1587</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a0160348e78e21e0529bb412ac4a4d58d"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a0160348e78e21e0529bb412ac4a4d58d">llvm::Intrinsic::ppc_altivec_vcmpgtub</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02273">Intrinsics.h:2273</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9b6c252221bd964b77e852b3c7ea31e2"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9b6c252221bd964b77e852b3c7ea31e2">llvm::MachineInstrBuilder::addRegMask</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addRegMask(const uint32_t *Mask) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00149">MachineInstrBuilder.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a04dfb06ba2391546356e8245899ae8cf"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a04dfb06ba2391546356e8245899ae8cf">llvm::TargetLowering::getSingleConstraintMatchWeight</a></div><div class="ttdeci">virtual ConstraintWeight getSingleConstraintMatchWeight(AsmOperandInfo &amp;info, const char *constraint) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8cpp_source.html#l02361">TargetLowering.cpp:2361</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00094">SelectionDAGNodes.h:94</a></div></div>
<div class="ttc" id="namespacellvm_1_1RTLIB_html_a50a0bab21f1d14a86a1483ec283e4447abaf4745416240994a8338fb833f5c435"><div class="ttname"><a href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447abaf4745416240994a8338fb833f5c435">llvm::RTLIB::EXP2_PPCF128</a></div><div class="ttdef"><b>Definition:</b> <a href="RuntimeLibcalls_8h_source.html#l00150">RuntimeLibcalls.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_aeda072b47ee5dccf983504e29ec5fe2e"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#aeda072b47ee5dccf983504e29ec5fe2e">llvm::PPCTargetLowering::getByValTypeAlignment</a></div><div class="ttdeci">unsigned getByValTypeAlignment(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l00611">PPCISelLowering.cpp:611</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ac47b0dfeac5eae1fa556b3a91eb68ff5"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ac47b0dfeac5eae1fa556b3a91eb68ff5">llvm::Intrinsic::ppc_altivec_vcmpequw</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02261">Intrinsics.h:2261</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">llvm::ISD::FNEG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a2856b7fb24e0784cfc29ddfd5be74d1bad7ff2d7a7c03a214dda559fac717cd99">llvm::TargetLoweringBase::Legal</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00081">TargetLowering.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html_a7f5cab5437026605269663cda7389abcad4df0dd48c58dea43776a5a77e74ba76"><div class="ttname"><a href="classllvm_1_1TargetLowering.html#a7f5cab5437026605269663cda7389abcad4df0dd48c58dea43776a5a77e74ba76">llvm::TargetLowering::CW_Default</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l02163">TargetLowering.h:2163</a></div></div>
<div class="ttc" id="classllvm_1_1PPCTargetLowering_html_af330d61b0d53df1eb27d7ef2c5d113e0"><div class="ttname"><a href="classllvm_1_1PPCTargetLowering.html#af330d61b0d53df1eb27d7ef2c5d113e0">llvm::PPCTargetLowering::EmitInstrWithCustomInserter</a></div><div class="ttdeci">virtual MachineBasicBlock * EmitInstrWithCustomInserter(MachineInstr *MI, MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8cpp_source.html#l06339">PPCISelLowering.cpp:6339</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_accd683afb417ec1f0f44c62c8b5a8fc4"><div class="ttname"><a href="classllvm_1_1CCState.html#accd683afb417ec1f0f44c62c8b5a8fc4">llvm::CCState::AllocateStack</a></div><div class="ttdeci">unsigned AllocateStack(unsigned Size, unsigned Align)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00335">CallingConvLower.h:335</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a3fcc360e6de146a370e8b0deecfa877f"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3fcc360e6de146a370e8b0deecfa877f">llvm::MachineBasicBlock::addSuccessor</a></div><div class="ttdeci">void addSuccessor(MachineBasicBlock *succ, uint32_t weight=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00482">MachineBasicBlock.cpp:482</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a789f8b53bcfe59b855f9d89b25bd0ed6"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a789f8b53bcfe59b855f9d89b25bd0ed6">llvm::PPCSubtarget::hasFRSQRTES</a></div><div class="ttdeci">bool hasFRSQRTES() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00183">PPCSubtarget.h:183</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7c47226f266248f4b8c155b83601b109"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c47226f266248f4b8c155b83601b109">llvm::ISD::ATOMIC_LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00604">ISDOpcodes.h:604</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aa4dc9f480c199614ca9475c7969ead06"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa4dc9f480c199614ca9475c7969ead06">llvm::PPCISD::TC_RETURN</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00174">PPCISelLowering.h:174</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a1676dc438d3c8d2516bf81770e42759f"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1676dc438d3c8d2516bf81770e42759f">llvm::Intrinsic::ppc_altivec_vcmpgtuh</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02275">Intrinsics.h:2275</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a43386af65581b8de506f3b57ba6c05b0"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">llvm::MachineFrameInfo::getObjectSize</a></div><div class="ttdeci">int64_t getObjectSize(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00347">MachineFrameInfo.h:347</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a5f31b58fc7485a2453acd1ce570cb173"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a5f31b58fc7485a2453acd1ce570cb173">llvm::Intrinsic::ppc_altivec_vsrh</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02344">Intrinsics.h:2344</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">llvm::ISD::SCALAR_TO_VECTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00287">ISDOpcodes.h:287</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a2eed75ff7477295264c8320af1630bbb"><div class="ttname"><a href="structllvm_1_1EVT.html#a2eed75ff7477295264c8320af1630bbb">llvm::EVT::changeVectorElementTypeToInteger</a></div><div class="ttdeci">EVT changeVectorElementTypeToInteger() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00626">ValueTypes.h:626</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaf464d229c08e6d5eb945d7b905a7c9fd"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf464d229c08e6d5eb945d7b905a7c9fd">llvm::PPCII::MO_PIC_FLAG</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00063">PPC.h:63</a></div></div>
<div class="ttc" id="classllvm_1_1SDUse_html_a837a4522010445da3f5161dcd2b95880"><div class="ttname"><a href="classllvm_1_1SDUse.html#a837a4522010445da3f5161dcd2b95880">llvm::SDUse::getResNo</a></div><div class="ttdeci">unsigned getResNo() const </div><div class="ttdoc">getResNo - Convenience function for get().getResNo(). </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00246">SelectionDAGNodes.h:246</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFrameLowering_html_a4d69526bf0c3ba246820af1cbc25effe"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html#a4d69526bf0c3ba246820af1cbc25effe">llvm::PPCFrameLowering::getReturnSaveOffset</a></div><div class="ttdeci">static unsigned getReturnSaveOffset(bool isPPC64, bool isDarwinABI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8h_source.html#l00075">PPCFrameLowering.h:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab48827e94d600a54d3f5d151c8070370"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab48827e94d600a54d3f5d151c8070370">llvm::Intrinsic::ppc_altivec_vmladduhm</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02300">Intrinsics.h:2300</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5b45953b758fdfe88452530f7d8371bc"><div class="ttname"><a href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">llvm::EVT::getSimpleVT</a></div><div class="ttdeci">MVT getSimpleVT() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00749">ValueTypes.h:749</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4af2a257043145ad650eafb4402f9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">DebugLoc getDebugLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00244">MachineInstr.h:244</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64ISD_html_a246d89cb58f606179b1435937830bbdcacead4ecf18faa375dce15425aa269b79"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdcacead4ecf18faa375dce15425aa269b79">llvm::AArch64ISD::BFI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00056">AArch64ISelLowering.h:56</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a248f93f61208480b5efb4e1e09539529"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a248f93f61208480b5efb4e1e09539529">llvm::Intrinsic::ppc_altivec_vrlw</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02331">Intrinsics.h:2331</a></div></div>
<div class="ttc" id="namespacellvm_1_1TLSModel_html_a8911c5bfb68fc4ed3ac824f04f150120a3cae4242c478d473bfa1af350f126545"><div class="ttname"><a href="namespacellvm_1_1TLSModel.html#a8911c5bfb68fc4ed3ac824f04f150120a3cae4242c478d473bfa1af350f126545">llvm::TLSModel::InitialExec</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00038">CodeGen.h:38</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">llvm::ISD::Constant</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00061">ISDOpcodes.h:61</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffaf3ceb6d8d3d044088a869d52777a6ed6"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffaf3ceb6d8d3d044088a869d52777a6ed6">llvm::PPCII::MO_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00079">PPC.h:79</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">llvm::ISD::FNEARBYINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a30316f8f9985260c49d7c26bc70a6cad"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a30316f8f9985260c49d7c26bc70a6cad">llvm::ISD::GlobalAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a2435670de567f1a77c9981c1737f5bee"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a2435670de567f1a77c9981c1737f5bee">llvm::TargetLoweringBase::setIndexedStoreAction</a></div><div class="ttdeci">void setIndexedStoreAction(unsigned IdxMode, MVT VT, LegalizeAction Action)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01023">TargetLowering.h:1023</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_aaf86ebe900295d7c59ea024fc19d0154"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#aaf86ebe900295d7c59ea024fc19d0154">llvm::MemSDNode::refineAlignment</a></div><div class="ttdeci">void refineAlignment(const MachineMemOperand *NewMMO)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01049">SelectionDAGNodes.h:1049</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantSDNode_html_a1e9365c991dd55e65e9d5ab5653812e4"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a1e9365c991dd55e65e9d5ab5653812e4">llvm::ConstantSDNode::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01257">SelectionDAGNodes.h:1257</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a84a927aebe57c20229f4906013fe3d86"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a84a927aebe57c20229f4906013fe3d86">llvm::Intrinsic::ppc_altivec_vcmpbfp</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02253">Intrinsics.h:2253</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_abee7ecb577fcade34eb16ccb7f503e31"><div class="ttname"><a href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31">llvm::ISD::MemIndexedMode</a></div><div class="ttdeci">MemIndexedMode</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00678">ISDOpcodes.h:678</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_abb87c1c9d9046e29211e9875e27ceef9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const </div><div class="ttdoc">Access to memory operands of the instruction. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00291">MachineInstr.h:291</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a42bca41d2438197c12b6db2c710a959c"><div class="ttname"><a href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">llvm::EVT::getVectorNumElements</a></div><div class="ttdeci">unsigned getVectorNumElements() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00771">ValueTypes.h:771</a></div></div>
<div class="ttc" id="classllvm_1_1LoadSDNode_html"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html">llvm::LoadSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01720">SelectionDAGNodes.h:1720</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa71ac22470bf853868fe6b39a25bac72"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa71ac22470bf853868fe6b39a25bac72">llvm::ISD::DYNAMIC_STACKALLOC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00469">ISDOpcodes.h:469</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:50 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
