<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: IVUsers.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('IVUsers_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">IVUsers.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="IVUsers_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- IVUsers.cpp - Induction Variable Users -------------------*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements bookkeeping for &quot;interesting&quot; users of expressions</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// computed from induction variables.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="IVUsers_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   15</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;iv-users&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IVUsers_8h.html">llvm/Analysis/IVUsers.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/Analysis/Dominators.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopPass_8h.html">llvm/Analysis/LoopPass.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolutionExpressions_8h.html">llvm/Analysis/ScalarEvolutionExpressions.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Writer_8h.html">llvm/Assembly/Writer.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1IVUsers.html#a7264b7331250c95ef8d341e79d3a9b46">IVUsers::ID</a> = 0;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<a class="code" href="IVUsers_8cpp.html#a3f4a9cfe2ad34fcaf57da1ef3c8632bd">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1IVUsers.html">IVUsers</a>, <span class="stringliteral">&quot;iv-users&quot;</span>,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                      <span class="stringliteral">&quot;Induction Variable Users&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a>)</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a>)</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a>)</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">   39</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1IVUsers.html">IVUsers</a>, &quot;iv-<a class="code" href="IVUsers_8cpp.html#ac2f338c3f467b3d09613e190d73044a5">users</a>&quot;,</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                      &quot;Induction Variable <a class="code" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacetrue.html">true</a>)</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="namespacellvm.html#aba7432bec56ee0ff2dcbc2548bac0291">   42</a></span>&#160;<a class="code" href="classllvm_1_1Pass.html">Pass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#aba7432bec56ee0ff2dcbc2548bac0291">createIVUsersPass</a>() {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> IVUsers();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// isInteresting - Test whether the given expression is &quot;interesting&quot; when</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/// used by the given expression, within the context of analyzing the</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/// given loop.</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="IVUsers_8cpp.html#a5a81ec50ef587462736e1ba010fab186">   49</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="IVUsers_8cpp.html#a5a81ec50ef587462736e1ba010fab186">isInteresting</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                          <a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="comment">// An addrec is interesting if it&#39;s affine or if it has an interesting start.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(S)) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// Keep things simple. Don&#39;t touch loop-variant strides unless they&#39;re</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// only used outside the loop and we can simplify them.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;getLoop() == L)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">return</span> AR-&gt;isAffine() ||</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;             (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(I) &amp;&amp;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;              SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(AR, LI-&gt;<a class="code" href="classllvm_1_1LoopInfo.html#a4abca289c73cd09487e05d11d9f7d877">getLoopFor</a>(I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>())) != AR);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// Otherwise recurse to see if the start value is interesting, and that</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// the step value is not interesting, since we don&#39;t yet know how to</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// do effective SCEV expansions for addrecs with interesting steps.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IVUsers_8cpp.html#a5a81ec50ef587462736e1ba010fab186">isInteresting</a>(AR-&gt;getStart(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L, SE, LI) &amp;&amp;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;          !<a class="code" href="IVUsers_8cpp.html#a5a81ec50ef587462736e1ba010fab186">isInteresting</a>(AR-&gt;getStepRecurrence(*SE), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L, SE, LI);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// An add is interesting if exactly one of its operands is interesting.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(S)) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">bool</span> AnyInterestingYet = <span class="keyword">false</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVAddExpr::op_iterator</a> OI = Add-&gt;op_begin(), OE = Add-&gt;op_end();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;         OI != OE; ++OI)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IVUsers_8cpp.html#a5a81ec50ef587462736e1ba010fab186">isInteresting</a>(*OI, I, L, SE, LI)) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> (AnyInterestingYet)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        AnyInterestingYet = <span class="keyword">true</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> AnyInterestingYet;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// Nothing else is interesting here.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/// Return true if all loop headers that dominate this block are in simplified</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/// form.</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="IVUsers_8cpp.html#a08e99e40b4961069afce2cb8be503261">   85</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="IVUsers_8cpp.html#a08e99e40b4961069afce2cb8be503261">isSimplifiedLoopNest</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                 <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Loop*,16&gt;</a> &amp;SimpleLoopNests) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a> *NearestLoop = 0;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *Rung = DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a307665a69dff132a967d4f0d2acd3791">getNode</a>(BB);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;       Rung; Rung = Rung-&gt;<a class="code" href="classllvm_1_1DomTreeNodeBase.html#a7519f9ffdda3ef1147e2563200587193">getIDom</a>()) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *DomBB = Rung-&gt;getBlock();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classllvm_1_1Loop.html">Loop</a> *DomLoop = LI-&gt;<a class="code" href="classllvm_1_1LoopInfo.html#a4abca289c73cd09487e05d11d9f7d877">getLoopFor</a>(DomBB);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (DomLoop &amp;&amp; DomLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>() == DomBB) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="comment">// If the domtree walk reaches a loop with no preheader, return false.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">if</span> (!DomLoop-&gt;<a class="code" href="classllvm_1_1Loop.html#a1d4445ebce66137e57fbaa967a19d7e9">isLoopSimplifyForm</a>())</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="comment">// If we have already checked this loop nest, stop checking.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="keywordflow">if</span> (SimpleLoopNests.<a class="code" href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">count</a>(DomLoop))</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">// If we have not already checked this loop nest, remember the loop</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="comment">// header nearest to BB. The nearest loop may not contain BB.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">if</span> (!NearestLoop)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        NearestLoop = DomLoop;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> (NearestLoop)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    SimpleLoopNests.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(NearestLoop);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">/// AddUsersImpl - Inspect the specified instruction.  If it is a</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/// reducible SCEV, recursively add its users to the IVUsesByStride set and</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/// return true.  Otherwise, return false.</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#a02eb2f83661d0fb47986630e2d09adbf">  114</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IVUsers.html#a02eb2f83661d0fb47986630e2d09adbf">IVUsers::AddUsersImpl</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                           <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Loop*,16&gt;</a> &amp;SimpleLoopNests) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// Add this IV user to the Processed set before returning false to ensure that</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// all IV users are members of the set. See IVUsers::isIVUserOrOperand.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">if</span> (!Processed.insert(I))</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;    <span class="comment">// Instruction already handled.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> (!SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd">isSCEVable</a>(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// Void and FP expressions cannot be reduced.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// IVUsers is used by LSR which assumes that all SCEV expressions are safe to</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// pass to SCEVExpander. Expressions are not safe to expand if they represent</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// operations that are not safe to speculate, namely integer division.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(I) &amp;&amp; !<a class="code" href="namespacellvm.html#acb7a7f0df849c2c44503352493524895">isSafeToSpeculativelyExecute</a>(I, TD))</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// LSR is not APInt clean, do not touch integers bigger than 64-bits.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Also avoid creating IVs of non-native types. For example, we don&#39;t want a</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// 64-bit IV in 32-bit code just because the loop has one 64-bit cast.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  uint64_t Width = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (Width &gt; 64 || (TD &amp;&amp; !TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#a96f1e9abd65fef355bd8f15f9360c871">isLegalInteger</a>(Width)))</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// Get the symbolic expression for this instruction.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ISE = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(I);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// If we&#39;ve come to an uninteresting expression, stop the traversal and</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// call this a user.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IVUsers_8cpp.html#a5a81ec50ef587462736e1ba010fab186">isInteresting</a>(ISE, I, L, SE, LI))</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 4&gt;</a> UniqueUsers;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = I-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E = I-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;       UI != E; ++UI) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1User.html">User</a> = cast&lt;Instruction&gt;(*UI);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (!UniqueUsers.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(User))</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// Do not infinitely recurse on PHI nodes.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(User) &amp;&amp; Processed.count(User))</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// Only consider IVUsers that are dominated by simplified loop</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// headers. Otherwise, SCEVExpander will crash.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UseBB = User-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// A phi&#39;s use is live out of its predecessor block.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> = dyn_cast&lt;PHINode&gt;(User)) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordtype">unsigned</span> OperandNo = UI.getOperandNo();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordtype">unsigned</span> ValNo = <a class="code" href="classllvm_1_1PHINode.html#aca414c43a6d42c13998208463637a20d">PHINode::getIncomingValueNumForOperand</a>(OperandNo);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      UseBB = <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>-&gt;getIncomingBlock(ValNo);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IVUsers_8cpp.html#a08e99e40b4961069afce2cb8be503261">isSimplifiedLoopNest</a>(UseBB, DT, LI, SimpleLoopNests))</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// Descend recursively, but not into PHI nodes outside the current loop.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// It&#39;s important to see the entire expression outside the loop to get</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// choices that depend on addressing mode use right, although we won&#39;t</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// consider references outside the loop in all cases.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// If User is already in Processed, we don&#39;t want to recurse into it again,</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// but do want to record a second reference in the same instruction.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">bool</span> AddUserToIVUsers = <span class="keyword">false</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (LI-&gt;<a class="code" href="classllvm_1_1LoopInfo.html#a4abca289c73cd09487e05d11d9f7d877">getLoopFor</a>(User-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()) != L) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(User) || Processed.count(User) ||</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;          !<a class="code" href="classllvm_1_1IVUsers.html#a02eb2f83661d0fb47986630e2d09adbf">AddUsersImpl</a>(User, SimpleLoopNests)) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;FOUND USER in other loop: &quot;</span> &lt;&lt; *User &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;   OF SCEV: &quot;</span> &lt;&lt; *ISE &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        AddUserToIVUsers = <span class="keyword">true</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Processed.count(User) || !<a class="code" href="classllvm_1_1IVUsers.html#a02eb2f83661d0fb47986630e2d09adbf">AddUsersImpl</a>(User, SimpleLoopNests)) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;FOUND USER: &quot;</span> &lt;&lt; *User &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;   OF SCEV: &quot;</span> &lt;&lt; *ISE &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      AddUserToIVUsers = <span class="keyword">true</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (AddUserToIVUsers) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="comment">// Okay, we found a user that we cannot reduce.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      IVUses.push_back(<span class="keyword">new</span> <a class="code" href="classllvm_1_1IVUsers.html#aade51f7d2ade94165429460adda9e063">IVStrideUse</a>(<span class="keyword">this</span>, User, I));</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="classllvm_1_1IVStrideUse.html">IVStrideUse</a> &amp;NewUse = IVUses.back();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="comment">// Autodetect the post-inc loop set, populating NewUse.PostIncLoops.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="comment">// The regular return value here is discarded; instead of recording</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="comment">// it, we just recompute it when we need it.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      ISE = <a class="code" href="namespacellvm.html#adfac6898b7e6f186616ff5c337670296">TransformForPostIncUse</a>(<a class="code" href="namespacellvm.html#a72e1beba38b6627c9307ab8b5141ac64a95a812e0cc74d25095baf41c758404cc">NormalizeAutodetect</a>,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                   ISE, User, I,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                   NewUse.PostIncLoops,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                   *SE, *DT);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(I) != ISE)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;              <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   NORMALIZED TO: &quot;</span> &lt;&lt; *ISE &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#aaae0691d9859142f6bcfb992862e44a9">  206</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IVUsers.html#aaae0691d9859142f6bcfb992862e44a9">IVUsers::AddUsersIfInteresting</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// SCEVExpander can only handle users that are dominated by simplified loop</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// entries. Keep track of all loops that are only dominated by other simple</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// loops so we don&#39;t traverse the domtree for each user.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Loop*,16&gt;</a> SimpleLoopNests;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1IVUsers.html#a02eb2f83661d0fb47986630e2d09adbf">AddUsersImpl</a>(I, SimpleLoopNests);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#a2c38dcaaa58a80d2005b912b1273a872">  215</a></span>&#160;<a class="code" href="classllvm_1_1IVStrideUse.html">IVStrideUse</a> &amp;<a class="code" href="classllvm_1_1IVUsers.html#a2c38dcaaa58a80d2005b912b1273a872">IVUsers::AddUser</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1User.html">User</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Operand) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  IVUses.push_back(<span class="keyword">new</span> <a class="code" href="classllvm_1_1IVUsers.html#aade51f7d2ade94165429460adda9e063">IVStrideUse</a>(<span class="keyword">this</span>, User, Operand));</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">return</span> IVUses.back();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#afb4d622c763afc0ba3206adca9e2bf52">  220</a></span>&#160;<a class="code" href="classllvm_1_1IVUsers.html#afb4d622c763afc0ba3206adca9e2bf52">IVUsers::IVUsers</a>()</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    : <a class="code" href="classllvm_1_1LoopPass.html">LoopPass</a>(<a class="code" href="classllvm_1_1IVUsers.html#a7264b7331250c95ef8d341e79d3a9b46">ID</a>) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="namespacellvm.html#a131d0edca800c2706fb0809db24ead33">initializeIVUsersPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keywordtype">void</span> IVUsers::getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a>&gt;();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a>&gt;();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a>&gt;();</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keywordtype">bool</span> IVUsers::runOnLoop(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *<a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a>, <a class="code" href="classllvm_1_1LPPassManager.html">LPPassManager</a> &amp;LPM) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  L = <a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  LI = &amp;getAnalysis&lt;LoopInfo&gt;();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  DT = &amp;getAnalysis&lt;DominatorTree&gt;();</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  SE = &amp;getAnalysis&lt;ScalarEvolution&gt;();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  TD = getAnalysisIfAvailable&lt;DataLayout&gt;();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// Find all uses of induction variables in this loop, and categorize</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// them by stride.  Start by finding all of the PHI nodes in the header for</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// this loop.  If they are induction variables, inspect their uses.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(); isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    (<span class="keywordtype">void</span>)<a class="code" href="classllvm_1_1IVUsers.html#aaae0691d9859142f6bcfb992862e44a9">AddUsersIfInteresting</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#a2b7da1ac13b362d5f73e449657075f7f">  249</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IVUsers.html#a2b7da1ac13b362d5f73e449657075f7f">IVUsers::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;IV Users for loop &quot;</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>(), <span class="keyword">false</span>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">hasLoopInvariantBackedgeTakenCount</a>(L)) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot; with backedge-taken count &quot;</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;       &lt;&lt; *SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">getBackedgeTakenCount</a>(L);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">ilist&lt;IVStrideUse&gt;::const_iterator</a> UI = IVUses.begin(),</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;       E = IVUses.end(); UI != E; ++UI) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;  &quot;</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, UI-&gt;getOperandValToReplace(), <span class="keyword">false</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; *<a class="code" href="classllvm_1_1IVUsers.html#a1dccba4e09e307a2b842ab8ecfe9cb13">getReplacementExpr</a>(*UI);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSetIterator.html">PostIncLoopSet::const_iterator</a></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = UI-&gt;PostIncLoops.begin(),</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;         E = UI-&gt;PostIncLoops.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot; (post-inc with loop &quot;</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, (*I)-&gt;getHeader(), <span class="keyword">false</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot; in  &quot;</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    UI-&gt;getUser()-&gt;print(OS);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    OS &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#a9522776ace2cf4142dd9f2c6521d7442">  277</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IVUsers.html#a9522776ace2cf4142dd9f2c6521d7442">IVUsers::dump</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="classllvm_1_1IVUsers.html#a2b7da1ac13b362d5f73e449657075f7f">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keywordtype">void</span> IVUsers::releaseMemory() {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  Processed.clear();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  IVUses.clear();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">/// getReplacementExpr - Return a SCEV expression which computes the</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/// value of the OperandValToReplace.</span></div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#a1dccba4e09e307a2b842ab8ecfe9cb13">  289</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1IVUsers.html#a1dccba4e09e307a2b842ab8ecfe9cb13">IVUsers::getReplacementExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IVStrideUse.html">IVStrideUse</a> &amp;IU)<span class="keyword"> const </span>{</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(IU.<a class="code" href="classllvm_1_1IVStrideUse.html#aa6188247cf9c5836de214f8bdddd8a9e">getOperandValToReplace</a>());</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">/// getExpr - Return the expression for the use.</span></div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#ad3b58aa79ba7670c4878f5086aff4e72">  294</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1IVUsers.html#ad3b58aa79ba7670c4878f5086aff4e72">IVUsers::getExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IVStrideUse.html">IVStrideUse</a> &amp;IU)<span class="keyword"> const </span>{</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">return</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="namespacellvm.html#adfac6898b7e6f186616ff5c337670296">TransformForPostIncUse</a>(<a class="code" href="namespacellvm.html#a72e1beba38b6627c9307ab8b5141ac64aeb131ce4dfb8eeef7197e6b0afd145d4">Normalize</a>, <a class="code" href="classllvm_1_1IVUsers.html#a1dccba4e09e307a2b842ab8ecfe9cb13">getReplacementExpr</a>(IU),</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                           IU.<a class="code" href="classllvm_1_1IVStrideUse.html#ae2e1a69a1862b858dc428c2e54263370">getUser</a>(), IU.<a class="code" href="classllvm_1_1IVStrideUse.html#aa6188247cf9c5836de214f8bdddd8a9e">getOperandValToReplace</a>(),</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                           <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SmallPtrSet.html">PostIncLoopSet</a> &amp;<span class="keyword">&gt;</span>(IU.<a class="code" href="classllvm_1_1IVStrideUse.html#a1d29fc21e8671a6603ea5c51ee42f424">getPostIncLoops</a>()),</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                           *SE, *DT);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="IVUsers_8cpp.html#a445b53fbbade6c92e683328f6bb1548d">  302</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="IVUsers_8cpp.html#a445b53fbbade6c92e683328f6bb1548d">findAddRecForLoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(S)) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;getLoop() == L)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">return</span> AR;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="IVUsers_8cpp.html#a445b53fbbade6c92e683328f6bb1548d">findAddRecForLoop</a>(AR-&gt;getStart(), L);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(S)) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVAddExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Add-&gt;op_begin(), E = Add-&gt;op_end();</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = <a class="code" href="IVUsers_8cpp.html#a445b53fbbade6c92e683328f6bb1548d">findAddRecForLoop</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L))</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">return</span> AR;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classllvm_1_1IVUsers.html#a04fc48b4f511b0f6bc7baac752c22f37">  320</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1IVUsers.html#a04fc48b4f511b0f6bc7baac752c22f37">IVUsers::getStride</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IVStrideUse.html">IVStrideUse</a> &amp;IU, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L)<span class="keyword"> const </span>{</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = <a class="code" href="IVUsers_8cpp.html#a445b53fbbade6c92e683328f6bb1548d">findAddRecForLoop</a>(<a class="code" href="classllvm_1_1IVUsers.html#ad3b58aa79ba7670c4878f5086aff4e72">getExpr</a>(IU), L))</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> AR-&gt;getStepRecurrence(*SE);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classllvm_1_1IVStrideUse.html#a8433a09d9b66df4f5c8a4d1414dc8ec9">  326</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IVStrideUse.html#a8433a09d9b66df4f5c8a4d1414dc8ec9">IVStrideUse::transformToPostInc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  PostIncLoops.insert(L);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keywordtype">void</span> IVStrideUse::deleted() {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// Remove this user from the list.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  Parent-&gt;Processed.erase(this-&gt;getUser());</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  Parent-&gt;IVUses.erase(<span class="keyword">this</span>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// this now dangles!</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="ttc" id="classllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00082">Pass.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html_a307665a69dff132a967d4f0d2acd3791"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a307665a69dff132a967d4f0d2acd3791">llvm::DominatorTree::getNode</a></div><div class="ttdeci">DomTreeNode * getNode(BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00844">Dominators.h:844</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_ad3b58aa79ba7670c4878f5086aff4e72"><div class="ttname"><a href="classllvm_1_1IVUsers.html#ad3b58aa79ba7670c4878f5086aff4e72">llvm::IVUsers::getExpr</a></div><div class="ttdeci">const SCEV * getExpr(const IVStrideUse &amp;IU) const </div><div class="ttdoc">getExpr - Return the expression for the use. </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00294">IVUsers.cpp:294</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_aade51f7d2ade94165429460adda9e063"><div class="ttname"><a href="classllvm_1_1IVUsers.html#aade51f7d2ade94165429460adda9e063">llvm::IVUsers::IVStrideUse</a></div><div class="ttdeci">friend class IVStrideUse</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8h_source.html#l00120">IVUsers.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00035">PassRegistry.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1IVStrideUse_html_a1d29fc21e8671a6603ea5c51ee42f424"><div class="ttname"><a href="classllvm_1_1IVStrideUse.html#a1d29fc21e8671a6603ea5c51ee42f424">llvm::IVStrideUse::getPostIncLoops</a></div><div class="ttdeci">const PostIncLoopSet &amp; getPostIncLoops() const </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8h_source.html#l00067">IVUsers.h:67</a></div></div>
<div class="ttc" id="namespacellvm_html_adfac6898b7e6f186616ff5c337670296"><div class="ttname"><a href="namespacellvm.html#adfac6898b7e6f186616ff5c337670296">llvm::TransformForPostIncUse</a></div><div class="ttdeci">const SCEV * TransformForPostIncUse(TransformKind Kind, const SCEV *S, Instruction *User, Value *OperandValToReplace, PostIncLoopSet &amp;Loops, ScalarEvolution &amp;SE, DominatorTree &amp;DT)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionNormalization_8cpp_source.html#l00222">ScalarEvolutionNormalization.cpp:222</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="Type_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="namespacellvm_html_aba7432bec56ee0ff2dcbc2548bac0291"><div class="ttname"><a href="namespacellvm.html#aba7432bec56ee0ff2dcbc2548bac0291">llvm::createIVUsersPass</a></div><div class="ttdeci">Pass * createIVUsersPass()</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00042">IVUsers.cpp:42</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html">llvm::ScalarEvolution</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00172">ScalarEvolution.h:172</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="IVUsers_8h_html"><div class="ttname"><a href="IVUsers_8h.html">IVUsers.h</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_a02eb2f83661d0fb47986630e2d09adbf"><div class="ttname"><a href="classllvm_1_1IVUsers.html#a02eb2f83661d0fb47986630e2d09adbf">llvm::IVUsers::AddUsersImpl</a></div><div class="ttdeci">bool AddUsersImpl(Instruction *I, SmallPtrSet&lt; Loop *, 16 &gt; &amp;SimpleLoopNests)</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00114">IVUsers.cpp:114</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00033">User.h:33</a></div></div>
<div class="ttc" id="IVUsers_8cpp_html_a4e5b9edb51eec9dbca592075eb64dfcb"><div class="ttname"><a href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a></div><div class="ttdeci">iv Induction Variable Users</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00039">IVUsers.cpp:39</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_aaae0691d9859142f6bcfb992862e44a9"><div class="ttname"><a href="classllvm_1_1IVUsers.html#aaae0691d9859142f6bcfb992862e44a9">llvm::IVUsers::AddUsersIfInteresting</a></div><div class="ttdeci">bool AddUsersIfInteresting(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00206">IVUsers.cpp:206</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html"><div class="ttname"><a href="classllvm_1_1IVUsers.html">llvm::IVUsers</a></div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8h_source.html#l00119">IVUsers.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1DomTreeNodeBase_html_a7519f9ffdda3ef1147e2563200587193"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html#a7519f9ffdda3ef1147e2563200587193">llvm::DomTreeNodeBase::getIDom</a></div><div class="ttdeci">DomTreeNodeBase&lt; NodeT &gt; * getIDom() const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00083">Dominators.h:83</a></div></div>
<div class="ttc" id="namespacellvm_html_ae712552495c21ee77ad82ced255ad6df"><div class="ttname"><a href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">llvm::WriteAsOperand</a></div><div class="ttdeci">void WriteAsOperand(raw_ostream &amp;, const Value *, bool PrintTy=true, const Module *Context=0)</div><div class="ttdef"><b>Definition:</b> <a href="AsmWriter_8cpp_source.html#l01179">AsmWriter.cpp:1179</a></div></div>
<div class="ttc" id="namespacellvm_html_a131d0edca800c2706fb0809db24ead33"><div class="ttname"><a href="namespacellvm.html#a131d0edca800c2706fb0809db24ead33">llvm::initializeIVUsersPass</a></div><div class="ttdeci">void initializeIVUsersPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a14724f1ccf528e73bb29bc9230737967"><div class="ttname"><a href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_PASS_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00167">PassSupport.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_a04fc48b4f511b0f6bc7baac752c22f37"><div class="ttname"><a href="classllvm_1_1IVUsers.html#a04fc48b4f511b0f6bc7baac752c22f37">llvm::IVUsers::getStride</a></div><div class="ttdeci">const SCEV * getStride(const IVStrideUse &amp;IU, const Loop *L) const </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00320">IVUsers.cpp:320</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_a82ad83d40ce0e57efef84b421c7f805a"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">llvm::SCEVNAryExpr::op_iterator</a></div><div class="ttdeci">const SCEV *const * op_iterator</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00153">ScalarEvolutionExpressions.h:153</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00172">PassSupport.h:172</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="IVUsers_8cpp_html_a08e99e40b4961069afce2cb8be503261"><div class="ttname"><a href="IVUsers_8cpp.html#a08e99e40b4961069afce2cb8be503261">isSimplifiedLoopNest</a></div><div class="ttdeci">static bool isSimplifiedLoopNest(BasicBlock *BB, const DominatorTree *DT, const LoopInfo *LI, SmallPtrSet&lt; Loop *, 16 &gt; &amp;SimpleLoopNests)</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00085">IVUsers.cpp:85</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a983dbdce6af7840357ed33a20c8f30bb"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">llvm::ScalarEvolution::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02666">ScalarEvolution.cpp:2666</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html_a1d4445ebce66137e57fbaa967a19d7e9"><div class="ttname"><a href="classllvm_1_1Loop.html#a1d4445ebce66137e57fbaa967a19d7e9">llvm::Loop::isLoopSimplifyForm</a></div><div class="ttdeci">bool isLoopSimplifyForm() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8cpp_source.html#l00207">LoopInfo.cpp:207</a></div></div>
<div class="ttc" id="Dominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a2ced6343b8ad006a757059554bbf9f37"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">llvm::SmallPtrSet::count</a></div><div class="ttdeci">bool count(PtrType Ptr) const </div><div class="ttdoc">count - Return true if the specified pointer is in the set. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00264">SmallPtrSet.h:264</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html">llvm::SCEVAddRecExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00283">ScalarEvolutionExpressions.h:283</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_afb4d622c763afc0ba3206adca9e2bf52"><div class="ttname"><a href="classllvm_1_1IVUsers.html#afb4d622c763afc0ba3206adca9e2bf52">llvm::IVUsers::IVUsers</a></div><div class="ttdeci">IVUsers()</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00220">IVUsers.cpp:220</a></div></div>
<div class="ttc" id="classllvm_1_1DomTreeNodeBase_html"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html">llvm::DomTreeNodeBase</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00064">Dominators.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1IVStrideUse_html_ae2e1a69a1862b858dc428c2e54263370"><div class="ttname"><a href="classllvm_1_1IVStrideUse.html#ae2e1a69a1862b858dc428c2e54263370">llvm::IVStrideUse::getUser</a></div><div class="ttdeci">Instruction * getUser() const </div><div class="ttdoc">getUser - Return the user instruction for this use. </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8h_source.html#l00044">IVUsers.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1LoopInfo_html_a4abca289c73cd09487e05d11d9f7d877"><div class="ttname"><a href="classllvm_1_1LoopInfo.html#a4abca289c73cd09487e05d11d9f7d877">llvm::LoopInfo::getLoopFor</a></div><div class="ttdeci">Loop * getLoopFor(const BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00618">LoopInfo.h:618</a></div></div>
<div class="ttc" id="namespacellvm_html_a72e1beba38b6627c9307ab8b5141ac64a95a812e0cc74d25095baf41c758404cc"><div class="ttname"><a href="namespacellvm.html#a72e1beba38b6627c9307ab8b5141ac64a95a812e0cc74d25095baf41c758404cc">llvm::NormalizeAutodetect</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionNormalization_8h_source.html#l00057">ScalarEvolutionNormalization.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00740">Dominators.h:740</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ae9623974341419bfd1d185cfdc65bedd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd">llvm::ScalarEvolution::isSCEVable</a></div><div class="ttdeci">bool isSCEVable(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02659">ScalarEvolution.cpp:2659</a></div></div>
<div class="ttc" id="LoopPass_8h_html"><div class="ttname"><a href="LoopPass_8h.html">LoopPass.h</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="ScalarEvolutionExpressions_8h_html"><div class="ttname"><a href="ScalarEvolutionExpressions_8h.html">ScalarEvolutionExpressions.h</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a72e1beba38b6627c9307ab8b5141ac64aeb131ce4dfb8eeef7197e6b0afd145d4"><div class="ttname"><a href="namespacellvm.html#a72e1beba38b6627c9307ab8b5141ac64aeb131ce4dfb8eeef7197e6b0afd145d4">llvm::Normalize</a></div><div class="ttdoc">Normalize - Normalize according to the given loops. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionNormalization_8h_source.html#l00054">ScalarEvolutionNormalization.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_a1dccba4e09e307a2b842ab8ecfe9cb13"><div class="ttname"><a href="classllvm_1_1IVUsers.html#a1dccba4e09e307a2b842ab8ecfe9cb13">llvm::IVUsers::getReplacementExpr</a></div><div class="ttdeci">const SCEV * getReplacementExpr(const IVStrideUse &amp;IU) const </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00289">IVUsers.cpp:289</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a21d6ee82eed29080d911dbb548a8bb68"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">llvm::ScalarEvolution::getSCEVAtScope</a></div><div class="ttdeci">const SCEV * getSCEVAtScope(const SCEV *S, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05060">ScalarEvolution.cpp:5060</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac4f141a355e5898255f2cbc57c5b54c3"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00095">LoopInfo.h:95</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a92a38e2e3412bde7fd2b71db212b61aa"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">llvm::LoopBase::contains</a></div><div class="ttdeci">bool contains(const LoopT *L) const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00104">LoopInfo.h:104</a></div></div>
<div class="ttc" id="Writer_8h_html"><div class="ttname"><a href="Writer_8h.html">Writer.h</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aca414c43a6d42c13998208463637a20d"><div class="ttname"><a href="classllvm_1_1PHINode.html#aca414c43a6d42c13998208463637a20d">llvm::PHINode::getIncomingValueNumForOperand</a></div><div class="ttdeci">static unsigned getIncomingValueNumForOperand(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02068">Instructions.h:2068</a></div></div>
<div class="ttc" id="IVUsers_8cpp_html_a5a81ec50ef587462736e1ba010fab186"><div class="ttname"><a href="IVUsers_8cpp.html#a5a81ec50ef587462736e1ba010fab186">isInteresting</a></div><div class="ttdeci">static bool isInteresting(const SCEV *S, const Instruction *I, const Loop *L, ScalarEvolution *SE, LoopInfo *LI)</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00049">IVUsers.cpp:49</a></div></div>
<div class="ttc" id="namespacellvm_html_acb7a7f0df849c2c44503352493524895"><div class="ttname"><a href="namespacellvm.html#acb7a7f0df849c2c44503352493524895">llvm::isSafeToSpeculativelyExecute</a></div><div class="ttdeci">bool isSafeToSpeculativelyExecute(const Value *V, const DataLayout *TD=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01974">ValueTracking.cpp:1974</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetIterator_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetIterator.html">llvm::SmallPtrSetIterator</a></div><div class="ttdoc">SmallPtrSetIterator - This implements a const_iterator for SmallPtrSet. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00174">SmallPtrSet.h:174</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1IVStrideUse_html_aa6188247cf9c5836de214f8bdddd8a9e"><div class="ttname"><a href="classllvm_1_1IVStrideUse.html#aa6188247cf9c5836de214f8bdddd8a9e">llvm::IVStrideUse::getOperandValToReplace</a></div><div class="ttdeci">Value * getOperandValToReplace() const </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8h_source.html#l00055">IVUsers.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00589">LoopInfo.h:589</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_a7264b7331250c95ef8d341e79d3a9b46"><div class="ttname"><a href="classllvm_1_1IVUsers.html#a7264b7331250c95ef8d341e79d3a9b46">llvm::IVUsers::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8h_source.html#l00139">IVUsers.h:139</a></div></div>
<div class="ttc" id="classllvm_1_1LoopPass_html"><div class="ttname"><a href="classllvm_1_1LoopPass.html">llvm::LoopPass</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopPass_8h_source.html#l00029">LoopPass.h:29</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVAddExpr.html">llvm::SCEVAddExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00202">ScalarEvolutionExpressions.h:202</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00094">PassAnalysisSupport.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_a9522776ace2cf4142dd9f2c6521d7442"><div class="ttname"><a href="classllvm_1_1IVUsers.html#a9522776ace2cf4142dd9f2c6521d7442">llvm::IVUsers::dump</a></div><div class="ttdeci">void dump() const </div><div class="ttdoc">dump - This method is used for debugging. </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00277">IVUsers.cpp:277</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="IVUsers_8cpp_html_ac2f338c3f467b3d09613e190d73044a5"><div class="ttname"><a href="IVUsers_8cpp.html#ac2f338c3f467b3d09613e190d73044a5">users</a></div><div class="ttdeci">iv users</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00039">IVUsers.cpp:39</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html"><div class="ttname"><a href="classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00057">ScalarEvolution.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a96f1e9abd65fef355bd8f15f9360c871"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a96f1e9abd65fef355bd8f15f9360c871">llvm::DataLayout::isLegalInteger</a></div><div class="ttdeci">bool isLegalInteger(unsigned Width) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00210">DataLayout.h:210</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00338">LoopInfo.h:338</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1IVStrideUse_html_a8433a09d9b66df4f5c8a4d1414dc8ec9"><div class="ttname"><a href="classllvm_1_1IVStrideUse.html#a8433a09d9b66df4f5c8a4d1414dc8ec9">llvm::IVStrideUse::transformToPostInc</a></div><div class="ttdeci">void transformToPostInc(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00326">IVUsers.cpp:326</a></div></div>
<div class="ttc" id="IVUsers_8cpp_html_a3f4a9cfe2ad34fcaf57da1ef3c8632bd"><div class="ttname"><a href="IVUsers_8cpp.html#a3f4a9cfe2ad34fcaf57da1ef3c8632bd">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(IVUsers,&quot;iv-users&quot;,&quot;Induction Variable Users&quot;, false, true) INITIALIZE_PASS_END(IVUsers</div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aecd7aba4460358813feef37d71d5024e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">llvm::ScalarEvolution::getBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getBackedgeTakenCount(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04062">ScalarEvolution.cpp:4062</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3b42845ada2673a44442c88221edf65f"><div class="ttname"><a href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a></div><div class="ttdeci">Which allows the multiply by constant to be CSE xmm1 movapd xmm2 addsd xmm2 subsd xmm0 mulsd xmm0 ret This doesn t need ffast math support at all This is particularly bad because the llvm gcc frontend is canonicalizing the later into the but clang doesn t have this problem These two functions should generate the same code on big endian int * l</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00138">Target/README.txt:138</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="IVUsers_8cpp_html_a445b53fbbade6c92e683328f6bb1548d"><div class="ttname"><a href="IVUsers_8cpp.html#a445b53fbbade6c92e683328f6bb1548d">findAddRecForLoop</a></div><div class="ttdeci">static const SCEVAddRecExpr * findAddRecForLoop(const SCEV *S, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00302">IVUsers.cpp:302</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02742">ScalarEvolution.cpp:2742</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_a2b7da1ac13b362d5f73e449657075f7f"><div class="ttname"><a href="classllvm_1_1IVUsers.html#a2b7da1ac13b362d5f73e449657075f7f">llvm::IVUsers::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, const Module *=0) const </div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00249">IVUsers.cpp:249</a></div></div>
<div class="ttc" id="classllvm_1_1IVStrideUse_html"><div class="ttname"><a href="classllvm_1_1IVStrideUse.html">llvm::IVStrideUse</a></div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8h_source.html#l00036">IVUsers.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1IVUsers_html_a2c38dcaaa58a80d2005b912b1273a872"><div class="ttname"><a href="classllvm_1_1IVUsers.html#a2c38dcaaa58a80d2005b912b1273a872">llvm::IVUsers::AddUser</a></div><div class="ttdeci">IVStrideUse &amp; AddUser(Instruction *User, Value *Operand)</div><div class="ttdef"><b>Definition:</b> <a href="IVUsers_8cpp_source.html#l00215">IVUsers.cpp:215</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a91ac801aa45c78e0d0edbc36115ef054"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">llvm::ScalarEvolution::hasLoopInvariantBackedgeTakenCount</a></div><div class="ttdeci">bool hasLoopInvariantBackedgeTakenCount(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07313">ScalarEvolution.cpp:7313</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1LPPassManager_html"><div class="ttname"><a href="classllvm_1_1LPPassManager.html">llvm::LPPassManager</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopPass_8h_source.html#l00086">LoopPass.h:86</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:59:07 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
